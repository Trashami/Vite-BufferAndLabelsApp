{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/layers/LayerView3D.js", "../../@arcgis/core/views/3d/layers/graphics/elevationAlignPointsInFeatures.js", "../../@arcgis/core/renderers/support/renderingInfoUtils.js", "../../@arcgis/core/views/3d/layers/graphics/constants.js", "../../@arcgis/core/symbols/support/defaults3D.js", "../../@arcgis/core/views/3d/layers/graphics/ElevationQuery.js", "../../@arcgis/core/views/3d/layers/graphics/enums.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureStore.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DGraphicCreationContext.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolCreationContext.js", "../../@arcgis/core/views/3d/layers/graphics/ElevationAligners.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DObject3DGraphicLayer.js", "../../@arcgis/core/views/3d/layers/graphics/interfaces.js", "../../@arcgis/core/views/3d/layers/graphics/Loadable.js", "../../@arcgis/core/views/3d/layers/graphics/primitiveObjectSymbolUtils.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodResources.js", "../../@arcgis/core/views/3d/layers/graphics/symbolComplexity.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/pointUtils.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/LineCalloutTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/LineCalloutTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/materials/LineCalloutMaterial.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DLineCalloutSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DCalloutSymbolLayerFactory.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DGraphic.js", "../../@arcgis/core/views/3d/layers/graphics/polygonUtils.js", "../../@arcgis/core/views/3d/support/renderInfoUtils/polygon.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DExtrudeSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DDrapedGraphicLayer.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextRenderer.js", "../../@arcgis/core/views/3d/layers/graphics/placementUtils.js", "../../@arcgis/core/views/3d/layers/support/FastSymbolUpdates.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DIconSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/lineUtils.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/LineMarkerMaterial.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DLineSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DMeshFillSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DLodInstanceGraphicLayer.js", "../../@arcgis/core/views/3d/layers/graphics/lodResourceUtils.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceData.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceOctree.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LevelSelector.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodComponentData.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodLevel.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/BackedBufferObject.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/RenderInstanceData.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodRenderer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DObjectSymbolLayer.js", "../../@arcgis/core/chunks/mat2.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathGeometry.js", "../../@arcgis/core/chunks/mat2f64.js", "../../@arcgis/core/views/3d/webgl-engine/lib/pathGeometryUtils.js", "../../@arcgis/core/views/3d/webgl-engine/materials/PathTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/PathMaterial.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DPathSymbolLayer.js", "../../@arcgis/core/views/3d/layers/support/uvUtils.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/PatternTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/PatternMaterial.js", "../../@arcgis/core/views/3d/layers/support/patternUtils.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DPolygonFillSymbolLayer.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextRenderParameters.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextTextureFactory.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DTextSymbolLayer.js", "../../@arcgis/core/views/3d/webgl-engine/materials/internal/waterMaterialUtils.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DWaterSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolLayerFactory.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbol.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DPointSymbol.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolFactory.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DWebStyleSymbol.js", "../../@arcgis/core/views/3d/layers/graphics/GraphicStateTracking.js", "../../@arcgis/core/views/3d/layers/graphics/SpatialIndex2D.js", "../../@arcgis/core/views/3d/layers/support/StageLayerElevationProvider.js", "../../@arcgis/core/views/3d/support/extentUtils.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DCore.js", "../../@arcgis/core/views/3d/layers/graphics/ExtentSet.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DElevationAlignment.js", "../../@arcgis/core/views/3d/support/intersectionUtils.js", "../../@arcgis/core/views/3d/support/FrustumExtentIntersection.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DFrustumVisibility.js", "../../@arcgis/core/views/3d/webgl-engine/lib/Object3DStateSet.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStateSet.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStates.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DScaleVisibility.js", "../../@arcgis/core/views/3d/layers/graphics/GraphicsProcessor.js", "../../@arcgis/core/views/3d/layers/graphics/queryForSymbologySnapping.js", "../../@arcgis/core/views/3d/layers/support/projectExtentUtils.js", "../../@arcgis/core/views/3d/layers/GraphicsLayerView3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as t}from\"../../../core/promiseUtils.js\";import{whenOnce as r}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as a,rejectLayerError as l}from\"../../../geometry/support/heightModelInfoUtils.js\";const n=n=>{let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),a(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,o=e.signal;this.handles.add(s((()=>e.abort()))),await r((()=>this.view.defaultsFromMap?.heightModelInfoReady),o),t(o);const i=l(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e||!e.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),s=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return s&&s.minScale&&s.maxScale&&s.minScale<s.maxScale&&(e.outsideScaleRange=!0),e}};return e([o()],c.prototype,\"view\",void 0),e([o()],c.prototype,\"slicePlaneEnabled\",void 0),c=e([i(\"esri.views.3d.layers.LayerView3D\")],c),c};export{n as LayerView3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import{isNone as e}from\"../../../../core/maybe.js\";import{throwIfAborted as o}from\"../../../../core/promiseUtils.js\";import{makeDehydratedPoint as t}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{getGeometryEffectiveElevationInfo as r}from\"../../../../support/elevationInfoUtils.js\";import{evaluateElevationInfoAtPoint as s,SampleElevationInfo as n}from\"./elevationAlignmentUtils.js\";import{ElevationContext as i}from\"./ElevationContext.js\";import{extractExpressionInfo as a,createContext as p}from\"./featureExpressionInfoUtils.js\";import f from\"../../../../geometry/SpatialReference.js\";async function m(t,n,i,f,m){const{elevationProvider:j,renderCoordsHelper:u,spatialReference:y}=t,{elevationInfo:v}=n,I=a(v,!0),g=await p(I,y,m);o(m);const x=[],h=new Set,w=new Set;for(const{objectId:o,points:a}of f){const p=i(o);if(e(p)){for(const e of a)x.push(e[2]);h.add(o);continue}p.isDraped&&w.add(o);const f=p.graphic.geometry;c.setFromElevationInfo(r(f,v)),c.updateFeatureExpressionInfoContext(g,p.graphic,n),l.spatialReference=t.spatialReference;for(const{x:e,y:o,z:t}of a)l.x=e,l.y=o,l.z=t??0,s(l,j,c,u,d),x.push(d.z)}return{elevations:x,drapedObjectIds:w,failedObjectIds:h}}const c=new i,l=t(0,0,0,f.WGS84),d=new n;export{m as elevationAlignPointsInFeatures};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import{isSome as t,isNone as o}from\"../../core/maybe.js\";import{getVisualVariableValues as r}from\"../visualVariables/support/visualVariableUtils.js\";function i(e,o){if(!e||e.symbol)return null;const r=o&&o.renderer;return e&&t(r)&&r.getObservationRenderer?r.getObservationRenderer(e):r}function n(e,o){if(t(e.symbol))return e.symbol;const r=i(e,o);return t(r)&&\"dot-density\"!==r.type?r.getSymbol(e,o):null}function a(e,t){const a=i(e,t),l=n(e,t);if(o(l))return null;const s={renderer:a,symbol:l};if(o(a)||!(\"visualVariables\"in a)||!a.visualVariables)return s;const u=r(a,e,t)??[],c=[\"proportional\",\"proportional\",\"proportional\"];for(const{variable:o,value:r}of u)switch(o.type){case\"color\":s.color=r.toRgba();break;case\"size\":if(\"outline\"===o.target)s.outlineSize=r;else{const e=o.axis,t=o.useSymbolValue?\"symbol-value\":r;switch(e){case\"width\":c[0]=t;break;case\"depth\":c[1]=t;break;case\"height\":c[2]=t;break;case\"width-and-depth\":c[0]=c[1]=t;break;default:c[0]=c[1]=c[2]=t}}break;case\"opacity\":s.opacity=r;break;case\"rotation\":switch(o.axis){case\"tilt\":s.tilt=r;break;case\"roll\":s.roll=r;break;default:s.heading=r}}return\"proportional\"===c[0]&&\"proportional\"===c[1]&&\"proportional\"===c[2]||(s.size=c),s}async function l(e,o){if(t(e.symbol))return e.symbol;const r=i(e,o);return t(r)?r.getSymbolAsync(e,o):null}async function s(t,o){const n=i(t,o),a=await l(t,o);if(!a)return null;const s={renderer:n,symbol:a};if(!n||!(\"visualVariables\"in n)||!n.visualVariables)return s;const u=r(n,t,o)??[],c=[\"proportional\",\"proportional\",\"proportional\"];for(const{variable:r,value:i}of u)if(\"color\"===r.type)s.color=e.toUnitRGBA(i);else if(\"size\"===r.type)if(\"outline\"===r.target)s.outlineSize=i;else{const e=r.axis,t=r.useSymbolValue?\"symbol-value\":i;\"width\"===e?c[0]=t:\"depth\"===e?c[1]=t:\"height\"===e?c[2]=t:c[0]=c[1]=\"width-and-depth\"===e?t:c[2]=t}else\"opacity\"===r.type?s.opacity=i:\"rotation\"===r.type&&\"tilt\"===r.axis?s.tilt=i:\"rotation\"===r.type&&\"roll\"===r.axis?s.roll=i:\"rotation\"===r.type&&(s.heading=i);return(isFinite(c[0])||isFinite(c[1])||isFinite(c[2]))&&(s.size=c),s}function u(e,t=0){const o=e[t];return\"number\"==typeof o&&isFinite(o)?o:null}function c(e){for(let t=0;t<3;t++){const o=e[t];if(\"number\"==typeof o)return isFinite(o)?o:0}return 0}export{u as getDriverAxisSizeValue,c as getDriverAxisSizeValueAny,i as getRenderer,a as getRenderingInfo,s as getRenderingInfoAsync,l as getSymbolAsync};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{Z as o}from\"../../../../chunks/vec4f64.js\";const s=1.2,c=o;export{s as SUSPEND_RESUME_EXTENT_OPTIMISM,c as TRANSPARENT_UNIT};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isNone as o}from\"../../core/maybe.js\";import r from\"../FillSymbol3DLayer.js\";import e from\"../LineSymbol3D.js\";import m from\"../MeshSymbol3D.js\";import l from\"../PointSymbol3D.js\";import t from\"../PolygonSymbol3D.js\";import s from\"../edges/SolidEdges3D.js\";import{defaultPointSymbol2D as i,defaultPolylineSymbol2D as n,defaultPolygonSymbol2D as p}from\"./defaults.js\";import{defaultColor as f,defaultOutlineColor as y}from\"./defaultsJSON.js\";const a=l.fromSimpleMarkerSymbol(i),c=e.fromSimpleLineSymbol(n),S=t.fromSimpleFillSymbol(p),u=new m({symbolLayers:[new r({material:{color:f},edges:new s({size:\"1px\",color:y})})]});function b(r){if(o(r))return null;switch(r.type){case\"mesh\":return u;case\"point\":case\"multipoint\":return a;case\"polyline\":return c;case\"polygon\":case\"extent\":return S}return null}export{b as getDefaultSymbol3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import{remove as e}from\"../../../../core/arrayUtils.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{onAbort as r,createAbortError as s}from\"../../../../core/promiseUtils.js\";import{TaskPriority as i}from\"../../../support/Scheduler.js\";import o from\"../../../../geometry/Multipoint.js\";class n{constructor(e,t){this.spatialReference=e,this._view=t}getElevation(e,t,r){return this._view.elevationProvider.getElevation(e,t,0,this.spatialReference,r)}async queryElevation(e,t,r,s,i){return this._view.elevationProvider.queryElevation(e,t,0,this.spatialReference,i,r,s)}}class a{constructor(e,t,r,s){this.spatialReference=t,this._getElevationQueryProvider=r,this._queries=new Array,this._queryOptions={...s,ignoreInvisibleLayers:!0},this._frameTask=e.registerTask(i.ELEVATION_QUERY,this)}destroy(){this._frameTask.remove()}queryElevation(t,i,o,n=0){return new Promise(((a,l)=>{const u={x:t,y:i,minDemResolution:n,result:{resolve:a,reject:l},signal:o};this._queries.push(u),r(o,(()=>{e(this._queries,u),l(s())}))}))}get running(){return this._queries.length>0}runTask(){const e=this._queries;this._queries=[];const i=this._getElevationQueryProvider();if(!i)return void e.forEach((e=>e.result.reject()));const n=e.map((e=>[e.x,e.y])),a=e.reduce(((e,t)=>Math.min(e,t.minDemResolution)),1/0),l=new o({points:n,spatialReference:this.spatialReference}),u=e.length>1&&e.some((e=>!!e.signal))?new AbortController:null,c=t(u)?u.signal:e[0].signal;if(t(u)){let t=0;e.forEach((i=>r(i.signal,(()=>{t++,i.result.reject(s()),t===e.length&&u.abort()}))))}const h={...this._queryOptions,minDemResolution:a,signal:c};i.queryElevation(l,h).then((r=>{e.forEach(((e,i)=>{t(e.signal)&&e.signal.aborted?e.result.reject(s()):e.result.resolve(r.geometry.points[i][2])}))})).catch((t=>{e.forEach((e=>e.result.reject(t)))}))}get test(){const e=this;return{update:()=>e._queries.length>0&&e.runTask()}}}export{a as ElevationQuery,n as ViewElevationProvider};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nvar E,C;!function(E){E[E.GRAPHIC=0]=\"GRAPHIC\",E[E.LABEL=1]=\"LABEL\",E[E._COUNT=2]=\"_COUNT\"}(E||(E={})),function(E){E[E.USER_SETTING=0]=\"USER_SETTING\",E[E.SCALE_RANGE=1]=\"SCALE_RANGE\",E[E.FILTER=2]=\"FILTER\",E[E.DECONFLICTION=3]=\"DECONFLICTION\",E[E._COUNT=4]=\"_COUNT\"}(C||(C={}));export{C as VisibilityFlag,E as VisibilityGroup};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import{isSome as o,isNone as s}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{projectPoint as c}from\"../../../../geometry/projection.js\";import{getObjectId as p}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{OptimizedFeature as n}from\"../../../../layers/graphics/OptimizedFeature.js\";import h from\"../../../../layers/graphics/OptimizedGeometry.js\";import{optimizedFeatureQueryEngineAdapter as d}from\"../../../../layers/graphics/data/optimizedFeatureQueryEngineAdapter.js\";let l=class extends e{constructor(t){super(t),this.events=new r,this.hasZ=null,this.hasM=null,this.objectIdField=null,this.viewSpatialReference=null,this.featureAdapter={getAttribute:(t,e)=>\"graphic\"in t?t.graphic.attributes[e]:d.getAttribute(t,e),getAttributes:t=>\"graphic\"in t?t.graphic.attributes:d.getAttributes(t),getObjectId:t=>\"graphic\"in t?p(t.graphic,this.objectIdField):d.getObjectId(t),getGeometry:t=>\"graphic\"in t?t.getAsOptimizedGeometry(this.hasZ,this.hasM):d.getGeometry(t),getCentroid:(t,e)=>{if(\"graphic\"in t){let r=null;o(t.centroid)?r=t.centroid:\"point\"===t.graphic.geometry.type&&c(t.graphic.geometry,u,this.viewSpatialReference)&&(r=u);const i=new Array(2+(e.hasZ?1:0)+(e.hasM?1:0));return s(r)?(i[0]=0,i[1]=0,i[2]=0,i[3]=0):(i[0]=r.x,i[1]=r.y,e.hasZ&&(i[2]=r.hasZ?r.z:0),e.hasM&&(i[e.hasZ?3:2]=r.hasM?r.m:0)),new h([],i)}return d.getCentroid(t,e)},cloneWithGeometry:(t,e)=>\"graphic\"in t?new n(e,this.featureAdapter.getAttributes(t),null,this.featureAdapter.getObjectId(t)):d.cloneWithGeometry(t,e)}}forEachInBounds(t,e){this.getSpatialIndex().forEachInBounds(t,e)}forEachBounds(t,e,r){const s=this.getSpatialIndex();for(const i of t){const t=this.featureAdapter.getObjectId(i);o(s.getBounds(t,r))&&e(r)}}};t([i({constructOnly:!0})],l.prototype,\"getSpatialIndex\",void 0),t([i({constructOnly:!0})],l.prototype,\"toArray\",void 0),t([i({constructOnly:!0})],l.prototype,\"forEach\",void 0),t([i({constructOnly:!0})],l.prototype,\"hasZ\",void 0),t([i({constructOnly:!0})],l.prototype,\"hasM\",void 0),t([i({constructOnly:!0})],l.prototype,\"objectIdField\",void 0),t([i({constructOnly:!0})],l.prototype,\"viewSpatialReference\",void 0),t([i({constructOnly:!0})],l.prototype,\"featureSpatialReference\",void 0),l=t([a(\"esri.views.3d.layers.graphics.Graphics3DFeatureStore\")],l);const u={type:\"point\",x:0,y:0,hasZ:!1,hasM:!1,spatialReference:null};export{l as Graphics3DFeatureStore};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nclass r{constructor(r,s,t){this.graphic=r,this.renderingInfo=s,this.layer=t}}export{r as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this.schedule=e,this.sharedResources=null,this.streamDataRequester=null,this.elevationProvider=null,this.renderer=null,this.stage=null,this.clippingExtent=null,this.renderCoordsHelper=null,this.overlaySR=null,this.layer=null,this.drapeSourceRenderer=null,this.graphicsCoreOwner=null,this.localOriginFactory=null,this.featureExpressionInfoContext=null,this.screenSizePerspectiveEnabled=!0,this.slicePlaneEnabled=!1,this.physicalBasedRenderingEnabled=!1,this.skipHighSymbolLods=!1,this.isAsync=!1}}class s{}export{e as Graphics3DSymbolCreationContext,s as Graphics3DSymbolLayerCreationContext};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{c as e}from\"../../../../chunks/mat4.js\";import{c as o}from\"../../../../chunks/mat4f64.js\";import{s as a}from\"../../../../chunks/vec3.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{computeTranslationToOriginAndRotation as n,projectBuffer as s}from\"../../../../geometry/projection.js\";import{evaluateElevationInfoAtPoint as i,SampleElevationInfo as l}from\"./elevationAlignmentUtils.js\";import{updateVertexAttributeAuxpos1w as c}from\"./graphicUtils.js\";import m from\"../../support/debugFlags.js\";import{SamplePosition as f}from\"../../support/ElevationProvider.js\";import{VertexAttribute as u}from\"../../webgl-engine/lib/VertexAttribute.js\";function p(t,e,o,a){const r=t.stageObject,n=r.geometryRecords;let s=0;for(const i of n){const{update:t,averageGeometrySampledElevation:n}=O(i,e,o,a);s+=n,t&&r.geometryVertexAttrsUpdated(i)}return s/n.length}function d(t,o,r,s){const l=t.stageObject,f=o.centerPointInElevationSR;let u=0;if(l.metadata.usesVerticalDistanceToGround)i(f,r,o,s,M),c(l,M.verticalDistanceToGround),u=M.sampledElevation;else{i(f,r,o,s,M);\"absolute-height\"!==o.mode&&(u=M.sampledElevation)}const p=e(g,l.transformation),d=a(E,p[12],p[13],p[14]);m.TESTS_DISABLE_OPTIMIZATIONS?(T[0]=f.x,T[1]=f.y,T[2]=M.z,n(f.spatialReference,T,p,s.spatialReference)&&(l.transformation=p)):s.setAltitudeOfTransformation(M.z,p);const I=S/s.unitInMeters;return(Math.abs(p[12]-d[0])>=I||Math.abs(p[13]-d[1])>=I||Math.abs(p[14]-d[2])>=I)&&(l.transformation=p),u}const g=o();function I(e,o,r,s){const l=e.graphics3DSymbolLayer.lodRenderer;if(t(l))return 0;const c=o.centerPointInElevationSR;i(c,r,o,s,M);const f=\"absolute-height\"!==o.mode?M.sampledElevation:0,u=l.instanceData,p=e.instanceIndex,d=A;u.getGlobalTransform(p,d);const g=a(E,d[12],d[13],d[14]);m.TESTS_DISABLE_OPTIMIZATIONS?(T[0]=c.x,T[1]=c.y,T[2]=M.z,n(c.spatialReference,T,d,s.spatialReference)&&u.setGlobalTransform(p,d)):s.setAltitudeOfTransformation(M.z,d);const I=S/s.unitInMeters;return(m.TESTS_DISABLE_OPTIMIZATIONS||Math.abs(d[12]-g[0])>=I||Math.abs(d[13]-g[1])>=I||Math.abs(d[14]-g[2])>=I)&&u.setGlobalTransform(p,d),f}function b(t,e,o,a){const r=t.stageObject,n=r.geometryRecords;if(0===n.length)return 0;let s=0,i=null,l=0,c=!1;for(const m of n){const t=m.geometry.vertexAttributes.get(u.POSITION);if(t!==i){const{update:r,averageGeometrySampledElevation:n}=O(m,e,o,a);l=n,i=t,c=r}c&&r.geometryVertexAttrsUpdated(m),s+=l}return s/n.length}const S=.01,T=r(),h=r(),v=r(),A=o(),E=r(),M=new l;function O(t,e,o,a){let r=!1;const n=o.spatialReference,l=t.geometry,c=t.getShaderTransformation(),p=e.requiresSampledElevationInfo;h[0]=c[12],h[1]=c[13],h[2]=c[14],l.invalidateBoundingInfo();const d=l.getMutableAttribute(u.POSITION),g=d.data,I=l.vertexAttributes.get(u.MAPPOS).data,b=d.size,A=g.length/b,E=new f(I,n);let O=0,y=0;for(let f=0;f<A;f++){if(v[0]=g[O],v[1]=g[O+1],v[2]=g[O+2],i(E,o,e,a,M),p&&(y+=M.sampledElevation),m.TESTS_DISABLE_OPTIMIZATIONS)g[O]=E.array[E.offset],g[O+1]=E.array[E.offset+1],g[O+2]=M.z,s(g,n,O,g,a.spatialReference,O,1),g[O]-=h[0],g[O+1]-=h[1],g[O+2]-=h[2],r=!0;else{T[0]=g[O]+h[0],T[1]=g[O+1]+h[1],T[2]=g[O+2]+h[2],a.setAltitude(T,M.z),g[O]=T[0]-h[0],g[O+1]=T[1]-h[1],g[O+2]=T[2]-h[2];const t=S/a.unitInMeters;(Math.abs(v[0]-g[O])>=t||Math.abs(v[1]-g[O+1])>=t||Math.abs(v[2]-g[O+2])>=t)&&(r=!0)}O+=b,E.offset+=3}return y/=A,{update:r,averageGeometrySampledElevation:y}}export{I as perLodInstanceElevationAligner,d as perObjectElevationAligner,p as perVertexElevationAligner,b as sharedGeometryElevationAligner};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrapOr as s}from\"../../../../core/maybe.js\";import{c as i,m as a,a as r}from\"../../../../chunks/vec3.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import{setMin as o,setMax as c,create as h,isPoint as g,empty as d,center as l,offset as b}from\"../../../../geometry/support/aaBoundingBox.js\";import{g as u}from\"../../../../chunks/sphere.js\";import{setContextFeature as O}from\"./featureExpressionInfoUtils.js\";import{demResolutionForBoundingBox as j}from\"./graphicUtils.js\";import{Object3DState as m}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Transparency as p}from\"../../webgl-engine/lib/edgeRendering/interfaces.js\";class _{constructor(e,t,s,i,a,r,n,o=null){this.graphics3DSymbolLayer=e,this.stageObject=t,this._uniqueGeometries=s,this._uniqueMaterials=i,this._sharedResource=a,this.elevationAligner=r,this.elevationContext=n,this._edgeState=o,this.type=\"object3d\",this._stageLayer=null,this._stage=null,this._visible=!1,this._addedToStage=!1,this.alignedSampledElevation=0,this.needsElevationUpdates=!1,this.useObjectOriginAsAttachmentOrigin=!1,this.graphics3DSymbolLayer=e,this.stageObject=t}get isElevationSource(){return!(!this.stageObject.metadata||!this.stageObject.metadata.isElevationSource)}initialize(e,t){this._stageLayer=t,this._stage=e,e.addMany(this._uniqueMaterials),e.addMany(this._uniqueGeometries),e.add(this.stageObject)}destroy(){const t=this._stage;this._stageLayer&&(t.removeMany(this._uniqueMaterials),t.removeMany(this._uniqueGeometries)),t.remove(this.stageObject),this._addedToStage&&(this._stageLayer.remove(this.stageObject),this._addedToStage=!1);const s=this._stage.renderView.ensureEdgeView();s.hasObject(this.stageObject)&&s.removeObject(this.stageObject),this.stageObject.dispose(),e(this._sharedResource)&&this._sharedResource.release(),this._visible=!1,this._stageLayer=null,this._stage=null}layerOpacityChanged(e,s){if(t(this._edgeState))return;const i=v(this._edgeState.baseMaterial);let a=!1;for(const t of this._edgeState.edgeMaterials)t.objectTransparency!==i&&(t.objectTransparency=i,a=!0);a&&this._resetEdgeObject(s);this._stage.renderView.ensureEdgeView().updateAllComponentOpacities(this.stageObject,[e])}slicePlaneEnabledChanged(e,s){if(t(this._edgeState))return;this._stage.renderView.ensureEdgeView().updateAllComponentMaterials(this.stageObject,this._edgeState.edgeMaterials,{hasSlicePlane:e},!s),this._edgeState.properties.hasSlicePlane=e}setVisibility(t){if(null!=this._stage&&this._visible!==t&&(this._visible=t,this._visible?this._addedToStage?this.stageObject.setVisible(!0):(this._stageLayer.add(this.stageObject),this._addedToStage=!0):this.stageObject.setVisible(!1),e(this._edgeState))){const e=this._stage.renderView.ensureEdgeView();e.hasObject(this.stageObject)?e.updateObjectVisibility(this.stageObject,t):t&&this._addOrUpdateEdgeObject(e,!1)}}get visible(){return this._visible}alignWithElevation(t,s,i,a){null!=this.elevationAligner&&(e(i)&&O(this.elevationContext.featureExpressionInfoContext,i),this.alignedSampledElevation=this.elevationAligner(this,this.elevationContext,t,s),this._resetEdgeObject(a))}getCenterObjectSpace(e=n()){return i(e,u(this.stageObject.boundingVolumeObjectSpace.bounds))}getBoundingBoxObjectSpace(e=h()){const t=this.stageObject.boundingVolumeObjectSpace;return o(e,t.min),c(e,t.max),e}computeAttachmentOrigin(e){if(this.useObjectOriginAsAttachmentOrigin){const t=this.stageObject.transformation;e.render.origin[0]+=t[12],e.render.origin[1]+=t[13],e.render.origin[2]+=t[14],e.render.num++}else for(const t of this.stageObject.geometryRecords)t.computeAttachmentOrigin(y)&&(a(y,y,this.stageObject.transformation),r(e.render.origin,e.render.origin,y),e.render.num++)}async getProjectedBoundingBox(e,t,i,r,n){const o=this.getBoundingBoxObjectSpace(n),c=E,h=g(o)?1:c.length;for(let s=0;s<h;s++){const e=c[s];S[0]=o[e[0]],S[1]=o[e[1]],S[2]=o[e[2]],a(S,S,this.stageObject.transformation),f[3*s+0]=S[0],f[3*s+1]=S[1],f[3*s+2]=S[2]}if(!e(f,0,h))return null;d(o);let u=null;this.calculateRelativeScreenBounds&&(u=this.calculateRelativeScreenBounds());for(let s=0;s<3*h;s+=3){for(let e=0;e<3;e++)o[e]=Math.min(o[e],f[s+e]),o[e+3]=Math.max(o[e+3],f[s+e]);u&&i.push({location:f.slice(s,s+3),screenSpaceBoundingRect:u})}if(t&&t.service&&\"absolute-height\"!==this.elevationContext.mode){l(o,y);const e=\"relative-to-scene\"===this.elevationContext.mode?\"scene\":\"ground\";let i=0;if(t.useViewElevation)i=s(t.service.getElevation(y[0],y[1],e),0);else try{const a=j(o,t.service.spatialReference,t);i=s(await t.service.queryElevation(y[0],y[1],r,a,e),0)}catch(O){}b(o,0,0,-this.alignedSampledElevation+i)}return o}addObjectState(e,t){e===m.Highlight&&t.addObject(this.stageObject,this.stageObject.highlight()),e===m.MaskOccludee&&t.addObject(this.stageObject,this.stageObject.maskOccludee())}removeObjectState(e){e.removeObject(this.stageObject)}_resetEdgeObject(e){if(t(this._edgeState))return;const s=this._stage.renderView.ensureEdgeView();this._visible?this._addOrUpdateEdgeObject(s,e):s.removeObject(this.stageObject)}_addOrUpdateEdgeObject(e,s){const i=this._edgeState;if(t(i))return;const a=v(i.baseMaterial);for(const t of i.edgeMaterials)t.objectTransparency=a;e.addOrUpdateObject3D(this.stageObject,i.edgeMaterials,i.properties,!s).then((()=>this._stageLayer?.sync()))}}function v(e){return e.isVisible?e.parameters.transparent?p.TRANSPARENT:p.OPAQUE:p.INVISIBLE}const f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S=n(),y=n(),E=[[0,1,2],[3,1,2],[0,4,2],[3,4,2],[0,1,5],[3,1,5],[0,4,5],[3,4,5]];export{_ as Graphics3DObject3DGraphicLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nvar e;!function(e){e[e.Recreate_Symbol=0]=\"Recreate_Symbol\",e[e.Recreate_Graphics=1]=\"Recreate_Graphics\",e[e.Fast_Update=2]=\"Fast_Update\"}(e||(e={}));export{e as ApplyRendererDiffResult};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{unwrapOr as t,isNone as o,isSome as r,abortMaybe as l}from\"../../../../core/maybe.js\";import{isAbortError as s}from\"../../../../core/promiseUtils.js\";class a{constructor(t){this.schedule=t,this._abortController=null,this._loadStatus=e.LOADING,this._loadError=null,this._loader=null,this.logger=null}destroy(){this.abortLoad()}get loadStatus(){return this._loadStatus}load(r,l){return this._loadStatus===e.LOADED?(r&&r(),t(this._loader,Promise.resolve())):this._loadStatus===e.FAILED?(l&&l(this._loadError),t(this._loader,Promise.resolve())):(o(this._loader)&&(this._abortController=new AbortController,this._loader=this.doLoad(this._abortController.signal).then((()=>{this._abortController=null,this._loadStatus=e.LOADED}),(t=>{throw this._loadError=t,this._abortController=null,this._loadStatus=e.FAILED,!s(t)&&this.logger&&t.message&&this.logger.warn(t.message),t}))),this._loader.then(r,l).catch((()=>{})),this._loader)}abortLoad(){r(this._abortController)?this._abortController=l(this._abortController):this._loadStatus===e.LOADING&&(this._loadStatus=e.FAILED),this._loader=null}}var e;!function(t){t[t.LOADING=0]=\"LOADING\",t[t.LOADED=1]=\"LOADED\",t[t.FAILED=2]=\"FAILED\"}(e||(e={}));export{e as LoadStatus,a as Loadable};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{cgToGIS as e,createDiamondGeometry as n,createTetrahedronGeometry as s,createCylinderGeometry as a,createConeGeometry as t,createBoxGeometry as c,createPolySphereGeometry as i}from\"../../webgl-engine/lib/GeometryUtil.js\";function r(e){switch(e){case\"sphere\":case\"cube\":case\"diamond\":case\"cylinder\":case\"cone\":case\"inverted-cone\":case\"tetrahedron\":return!0}return!1}function o(r,o){const S=(n,s,a=!1)=>({levels:n.map((n=>{const t=s(n.tesselation);return a&&e(t),{components:[{geometry:t,material:o}],faceCount:t.indexCount/3,minScreenSpaceRadius:n.minScreenSpaceRadius}}))});switch(r){case\"sphere\":return S([{tesselation:0,minScreenSpaceRadius:0},{tesselation:1,minScreenSpaceRadius:8},{tesselation:2,minScreenSpaceRadius:16},{tesselation:3,minScreenSpaceRadius:50},{tesselation:4,minScreenSpaceRadius:250}],(e=>i(.5,e,!0)));case\"cube\":return S([{tesselation:0,minScreenSpaceRadius:0}],(()=>c(1)));case\"cone\":return S(u,(e=>t(1,.5,e,!1)),!0);case\"inverted-cone\":return S(u,(e=>t(1,.5,e,!0)),!0);case\"cylinder\":return S(u,(e=>a(1,.5,e,[0,0,1],[0,0,.5])));case\"tetrahedron\":return S([{tesselation:0,minScreenSpaceRadius:0}],(()=>s(1)),!0);case\"diamond\":return S([{tesselation:0,minScreenSpaceRadius:0}],(()=>n(1)),!0);default:return}}const u=[{tesselation:6,minScreenSpaceRadius:0},{tesselation:18,minScreenSpaceRadius:7},{tesselation:64,minScreenSpaceRadius:65}];export{r as isValidPrimitive,o as primitiveLodResources};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{unique as o}from\"../../../../../core/arrayUtils.js\";function r(r){const e=[];return r.levels.forEach((o=>{o.components.forEach((o=>{e.push(o.material)}))})),o(e)}function e(r){const e=new Array;return r.levels.forEach((o=>{o.components.forEach((o=>{o.textures&&e.push(...o.textures)}))})),o(e)}function n(r){const e=[];return r.components.forEach((o=>{e.push(o.geometry)})),o(e)}function t(r){const e=[];return r.levels.forEach((o=>{o.components.forEach((o=>{e.push(o.geometry)}))})),o(e)}function c(o){return n(o).reduce(((o,r)=>o+r.indexCount/3),0)}export{c as computeFaceCount,n as geometriesFromLodLevelResources,t as geometriesFromLodResources,r as materialsFromLodResources,e as texturesFromLodResources};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../core/compilerUtils.js\";import{isNone as r,isSome as t}from\"../../../../core/maybe.js\";import{defaultPrimitive as a}from\"../../../../symbols/support/ObjectSymbol3DLayerResource.js\";import{primitiveLodResources as s}from\"./primitiveObjectSymbolUtils.js\";import{hasEdges as i}from\"../support/edgeUtils.js\";import{VertexAttribute as o}from\"../../webgl-engine/lib/VertexAttribute.js\";import{geometriesFromLodLevelResources as u}from\"../../webgl-engine/lib/lodRendering/LodResources.js\";const b={primitivesPerFeature:0,primitivesPerCoordinate:0,drawCallsPerFeature:0,estimated:!0,memory:{bytesPerFeature:0,bytesPerCoordinate:0,bytesPerFeatureLabel:0,resourceBytes:0,draped:{bytesPerFeature:0,bytesPerFeatureLabel:0,bytesPerCoordinate:0}}};function y(e){if(\"web-style\"===e.type)return b;return P(e.symbolLayers.toArray().map((r=>m(e,r))))}function P(e){let t=0,a=0,s=0,i=!1,o=0;const u={bytesPerFeature:0,bytesPerFeatureLabel:0,bytesPerCoordinate:0,resourceBytes:0,draped:{bytesPerFeature:0,bytesPerFeatureLabel:0,bytesPerCoordinate:0}};for(const b of e)r(b)||(t+=b.primitivesPerFeature,a+=b.primitivesPerCoordinate,s+=b.drawCallsPerFeature,u.bytesPerFeature+=b.memory.bytesPerFeature,u.bytesPerFeatureLabel+=b.memory.bytesPerFeatureLabel,u.bytesPerCoordinate+=b.memory.bytesPerCoordinate,u.resourceBytes+=b.memory.resourceBytes,u.draped.bytesPerFeature+=b.memory.bytesPerFeature,u.draped.bytesPerFeatureLabel+=b.memory.bytesPerFeatureLabel,u.draped.bytesPerCoordinate+=b.memory.bytesPerCoordinate,i=i||b.estimated,++o);return{primitivesPerFeature:t,primitivesPerCoordinate:a,drawCallsPerFeature:s,estimated:i,memory:u,numComplexities:o}}function d(e){const r=P(e);return r.numComplexities>0&&(r.primitivesPerFeature/=r.numComplexities,r.primitivesPerCoordinate/=r.numComplexities,r.drawCallsPerFeature/=r.numComplexities,r.memory.bytesPerFeature/=r.numComplexities,r.memory.bytesPerFeatureLabel/=r.numComplexities,r.memory.bytesPerCoordinate/=r.numComplexities,r.memory.resourceBytes/=r.numComplexities,r.memory.draped.bytesPerFeature/=r.numComplexities,r.memory.draped.bytesPerFeatureLabel/=r.numComplexities,r.memory.draped.bytesPerCoordinate/=r.numComplexities),r}const n={};function m(r,s){const o=l(r,s),u=i(s)?2:0;switch(s.type){case\"extrude\":return{primitivesPerFeature:-4,primitivesPerCoordinate:4,drawCallsPerFeature:u,estimated:!1,memory:o};case\"fill\":return\"mesh-3d\"===r.type?{primitivesPerFeature:0,primitivesPerCoordinate:0,drawCallsPerFeature:u,estimated:!1,memory:o}:t(s.outline)&&s.outline.size>0?{primitivesPerFeature:-4,primitivesPerCoordinate:3,drawCallsPerFeature:0,estimated:!1,memory:o}:{primitivesPerFeature:-2,primitivesPerCoordinate:1,drawCallsPerFeature:0,estimated:!1,memory:o};case\"water\":return{primitivesPerFeature:-2,primitivesPerCoordinate:1,drawCallsPerFeature:0,estimated:!1,memory:o};case\"line\":return{primitivesPerFeature:-2,primitivesPerCoordinate:2,drawCallsPerFeature:0,estimated:!1,memory:o};case\"object\":if(s.resource&&s.resource.href)return{primitivesPerFeature:16,primitivesPerCoordinate:0,drawCallsPerFeature:0,estimated:!0,memory:o};return{...F(s.resource&&s.resource.primitive||a),memory:o};case\"path\":{const r=3,t=3,a=10;let i=0,u=0;switch(s.profile){case\"circle\":i=a;break;case\"quad\":i=4;break;default:return void e(s.profile)}switch(s.join){case\"round\":u=r;break;case\"miter\":case\"bevel\":u=1;break;default:return void e(s.join)}const b=2*i,y=i*u*2;let P=-2*y-b;switch(s.cap){case\"none\":break;case\"butt\":case\"square\":P+=2*(i-1);break;case\"round\":P+=2*(i*(t-1)*2+i);break;default:return}return{primitivesPerFeature:P,primitivesPerCoordinate:y+b,drawCallsPerFeature:0,estimated:!1,memory:o}}case\"text\":case\"icon\":return{primitivesPerFeature:2,primitivesPerCoordinate:0,drawCallsPerFeature:0,estimated:!1,memory:o};default:return}}function l(r,a){const s=\"point-3d\"===r.type;switch(a.type){case\"extrude\":return a.edges&&a.edges.size>0?c.EXTRUDE_EDGES:c.EXTRUDE;case\"fill\":return t(a.outline)&&a.outline.size>0?c.FILL_OUTLINE:c.FILL;case\"water\":return c.FILL;case\"line\":return\"round\"===a.join?c.LINE_ROUND:c.LINE_MITER;case\"path\":switch(a.join){case\"round\":switch(a.profile){case\"circle\":return c.PATH_ROUND_CIRCLE;case\"quad\":return c.PATH_ROUND_QUAD;default:return void e(a.profile)}case\"miter\":case\"bevel\":switch(a.profile){case\"circle\":return c.PATH_MITER_CIRCLE;case\"quad\":return c.PATH_MITER_QUAD;default:return void e(a.profile)}default:return void e(a.join)}case\"object\":return s?c.OBJECT_POINT:c.OBJECT_POLYGON;case\"icon\":case\"text\":return s?c.ICON_POINT:c.ICON_POLYGON;default:return}}function F(e){let r=n[e];if(r)return r;const t=s(e,null);return r={primitivesPerFeature:u(t.levels[0]).reduce(((e,r)=>e+r.indices.get(o.POSITION).length/3),0),primitivesPerCoordinate:0,drawCallsPerFeature:0,estimated:!1},n[e]=r,r}const c={ICON_POINT:{bytesPerFeature:7127.413186968842,bytesPerFeatureLabel:4826.302896296296,bytesPerCoordinate:0,resourceBytes:0,draped:{bytesPerFeature:3929.4396628895197,bytesPerFeatureLabel:3550.1332222222227,bytesPerCoordinate:0}},ICON_POLYGON:{bytesPerFeature:9329.452613976147,bytesPerFeatureLabel:3675.3372604938268,bytesPerCoordinate:60.177252982212096,resourceBytes:0,draped:{bytesPerFeature:6190.247450139383,bytesPerFeatureLabel:3744.074358024691,bytesPerCoordinate:59.488211068026104}},OBJECT_POINT:{bytesPerFeature:2350.5884192634558,bytesPerFeatureLabel:4446.651003703703,bytesPerCoordinate:0,resourceBytes:0,draped:{bytesPerFeature:2350.5884192634558,bytesPerFeatureLabel:4446.651003703703,bytesPerCoordinate:0}},OBJECT_POLYGON:{bytesPerFeature:4583.807620302299,bytesPerFeatureLabel:3665.342685185186,bytesPerCoordinate:60.11621818101506,resourceBytes:0,draped:{bytesPerFeature:4583.807620302299,bytesPerFeatureLabel:3665.342685185186,bytesPerCoordinate:60.11621818101506}},LINE_MITER:{bytesPerFeature:7321.028181375921,bytesPerFeatureLabel:4048.0226716049388,bytesPerCoordinate:186.55621386363578,resourceBytes:0,draped:{bytesPerFeature:4246.856619435009,bytesPerFeatureLabel:3852.3737679012347,bytesPerCoordinate:163.47884002621583}},LINE_ROUND:{bytesPerFeature:7482.205842738954,bytesPerFeatureLabel:4045.886987654321,bytesPerCoordinate:191.5452524171851,resourceBytes:0,draped:{bytesPerFeature:4473.481387957992,bytesPerFeatureLabel:3842.1112395061728,bytesPerCoordinate:167.27703460226945}},PATH_MITER_CIRCLE:{bytesPerFeature:9010.489006415351,bytesPerFeatureLabel:4230.9109,bytesPerCoordinate:4618.2594178027275,resourceBytes:0,draped:{bytesPerFeature:9010.489006415351,bytesPerFeatureLabel:4230.9109,bytesPerCoordinate:4618.2594178027275}},PATH_ROUND_CIRCLE:{bytesPerFeature:4104.727250200398,bytesPerFeatureLabel:4251.8525,bytesPerCoordinate:8019.043777064957,resourceBytes:0,draped:{bytesPerFeature:4104.727250200398,bytesPerFeatureLabel:4251.8525,bytesPerCoordinate:8019.043777064957}},PATH_MITER_QUAD:{bytesPerFeature:9416.372942261387,bytesPerFeatureLabel:4241.2757,bytesPerCoordinate:3176.7222742582203,resourceBytes:0,draped:{bytesPerFeature:9416.372942261387,bytesPerFeatureLabel:4241.2757,bytesPerCoordinate:3176.7222742582203}},PATH_ROUND_QUAD:{bytesPerFeature:6614.431545308682,bytesPerFeatureLabel:4206.7461,bytesPerCoordinate:5141.817789093826,resourceBytes:0,draped:{bytesPerFeature:6614.431545308682,bytesPerFeatureLabel:4206.7461,bytesPerCoordinate:5141.817789093826}},FILL:{bytesPerFeature:9478.244183633637,bytesPerFeatureLabel:3713.816824691358,bytesPerCoordinate:95.9343604185578,resourceBytes:0,draped:{bytesPerFeature:6287.911108168086,bytesPerFeatureLabel:3790.785032098766,bytesPerCoordinate:83.08783220478168}},FILL_OUTLINE:{bytesPerFeature:13085.871870349445,bytesPerFeatureLabel:3392.613241975309,bytesPerCoordinate:118.63968023169875,resourceBytes:0,draped:{bytesPerFeature:8437.199992480122,bytesPerFeatureLabel:3973.5431172839503,bytesPerCoordinate:106.33556817014312}},EXTRUDE:{bytesPerFeature:19459.53727140414,bytesPerFeatureLabel:3743.7045209876546,bytesPerCoordinate:372.6819978900477,resourceBytes:0,draped:{bytesPerFeature:19459.53727140414,bytesPerFeatureLabel:3743.7045209876546,bytesPerCoordinate:372.6819978900477}},EXTRUDE_EDGES:{bytesPerFeature:22266.888534913724,bytesPerFeatureLabel:3064.3193358024696,bytesPerCoordinate:374.3725221561312,resourceBytes:0,draped:{bytesPerFeature:22266.888534913724,bytesPerFeatureLabel:3064.3193358024696,bytesPerCoordinate:374.3725221561312}}};export{d as averageSymbolComplexities,y as defaultSymbolComplexity,m as defaultSymbolLayerComplexity,l as defaultSymbolLayerMemoryComplexity,b as emptySymbolComplexity,c as memoryEstimators,P as totalSymbolComplexities};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import\"../../../../core/has.js\";import t from\"../../../../core/Logger.js\";import{isSome as i,unwrap as o,unwrapOr as r}from\"../../../../core/maybe.js\";import{O as n}from\"../../../../chunks/vec3f64.js\";import{f as s}from\"../../../../chunks/vec4f64.js\";import{SymbolUpdateType as a}from\"./elevationAlignmentUtils.js\";import{ElevationContext as l}from\"./ElevationContext.js\";import{zeroContext as p}from\"./featureExpressionInfoUtils.js\";import{mixinColorAndOpacity as c}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as d}from\"./interfaces.js\";import{Loadable as u}from\"./Loadable.js\";import{defaultSymbolLayerComplexity as h}from\"./symbolComplexity.js\";const f=t.getLogger(\"esri.views.3d.layers.graphics.Graphics3DSymbolLayer\");class y extends u{constructor(e,t,i,o){super(i.schedule),this._context=i,this._elevationInfoOverride=null,this._ignoreDrivers=!1,this._drivenProperties={color:!1,opacity:!1,opacityAlwaysOpaque:!0,size:!1},this.complexity=null,this.logger=f,this._elevationOptions={supportsOffsetAdjustment:!1,supportsOnTheGround:!0},this.symbol=e,this.symbolLayer=t,this._renderPriority=o.renderPriority,this._renderPriorityStep=o.renderPriorityStep,this._elevationContext=new l,this.complexity=this.computeComplexity(),this._ignoreDrivers=o.ignoreDrivers,this._ignoreDrivers||(this._drivenProperties=g(this._context.renderer)),this._updateElevationContext()}getCachedSize(){return null}get extentPadding(){return 0}_drivenPropertiesChanged(e){if(this._ignoreDrivers)return!1;const t=this._drivenProperties,i=g(e);return i.color!==t.color||i.opacity!==t.opacity||i.opacityAlwaysOpaque!==t.opacityAlwaysOpaque||i.size!==t.size}get needsDrivenTransparentPass(){return this._drivenProperties.opacity&&!this._drivenProperties.opacityAlwaysOpaque}_logGeometryCreationWarnings(e,t,i,o){const r=e.projectionSuccess,n=\"polygons\"in e?e.polygons:null,s=`${o} geometry failed to be created`;let a=null;r?!this._logGeometryValidationWarnings(t,i,o)&&n&&0===n.length&&\"rings\"===i&&t.length>0&&t[0].length>2&&(a=`${s} (filled rings should use clockwise winding - try reversing the order of vertices)`):a=`${s} (failed to project geometry to view spatial reference)`,a&&f.warnOncePerTick(a)}_logGeometryValidationWarnings(e,t,i){const o=`${i} geometry failed to be created`;return!e.length||1===e.length&&!e[0].length?(f.warnOncePerTick(`${o} (no ${t} were defined)`),!0):(!Array.isArray(e)||!Array.isArray(e[0]))&&(f.warnOncePerTick(`${o} (${t} should be defined as a 2D array)`),!0)}_validateGeometry(e,t=null,o=null){if(i(t)&&!t.includes(e.type))return this.logger.warn(\"unsupported geometry type for \"+o+` symbol: ${e.type}`),!1;if(\"point\"===e.type){const t=e;if(!isFinite(t.x)||!isFinite(t.y))return f.warn(\"point coordinate is not a valid number, graphic skipped\"),!1}return!0}_defaultElevationInfoNoZ(){return m}_defaultElevationInfoZ(){return _}_updateElevationContext(){i(this._elevationInfoOverride)?(this._elevationContext.setFromElevationInfo(this._elevationInfoOverride),this._elevationContext.updateFeatureExpressionInfoContext(null)):this._context.layer.elevationInfo?(this._elevationContext.setFromElevationInfo(this._context.layer.elevationInfo),this._elevationContext.updateFeatureExpressionInfoContext(this._context.featureExpressionInfoContext)):this._elevationContext.reset()}getDefaultElevationInfo(e){return e.hasZ?this._defaultElevationInfoZ():this._defaultElevationInfoNoZ()}getGeometryElevationMode(e,t=this.getDefaultElevationInfo(e)){return this._elevationContext.mode||t.mode}setElevationInfoOverride(e){this._elevationInfoOverride=e,this._updateElevationContext()}setGraphicElevationContext(e,t){const i=o(e.geometry),n=this.getDefaultElevationInfo(i);t.unit=null!=this._elevationContext.unit?this._elevationContext.unit:n.unit,t.mode=this.getGeometryElevationMode(i,n),t.offsetMeters=r(this._elevationContext.meterUnitOffset,r(n.offset,0));const s=!this._elevationOptions.supportsOnTheGround&&\"on-the-ground\"===t.mode;s&&(t.mode=\"relative-to-ground\",t.offsetMeters=0);const a=s?p:this._elevationContext.featureExpressionInfoContext;return t.updateFeatureExpressionInfoContext(a,e,this._context.layer),t}prepareSymbolLayerPatch(e){}updateGeometry(e,t){return!1}onRemoveGraphic(e){}_getLayerOpacity(){if(this._context.graphicsCoreOwner&&\"fullOpacity\"in this._context.graphicsCoreOwner)return this._context.graphicsCoreOwner.fullOpacity;const e=this._context.layer.opacity;return e??1}_getCombinedOpacity(e,t=x){let o=1;return this.draped||(o*=this._getLayerOpacity()),this._drivenProperties.opacity||(i(e)?o*=e.a:t.hasIntrinsicColor||(o=0)),o}_getCombinedOpacityAndColor(t,o=x){const r=this._getCombinedOpacity(t,o);if(this._drivenProperties.color)return c(null,r);const s=i(t)?e.toUnitRGB(t):n;return c(s,r)}_getVertexOpacityAndColor(e,t=null){const o=this._drivenProperties.color?e.color:null,r=this._drivenProperties.opacity?e.opacity:null,n=c(o,r);return i(t)&&(n[0]*=t,n[1]*=t,n[2]*=t,n[3]*=t),n}isFastUpdatesEnabled(){return this._fastUpdates&&this._fastUpdates.enabled}computeComplexity(){return h(this.symbol,this.symbolLayer)}globalPropertyChanged(e,t,i){switch(e){case\"opacity\":return this.layerOpacityChanged(t,i),!0;case\"elevationInfo\":{const e=this._elevationContext.mode;this._updateElevationContext();return this.layerElevationInfoChanged(t,i,e)!==a.RECREATE}case\"slicePlaneEnabled\":return this.slicePlaneEnabledChanged(t,i);case\"physicalBasedRenderingEnabled\":return this.physicalBasedRenderingChanged();case\"pixelRatio\":return this.pixelRatioChanged();default:return!1}}updateGraphics3DGraphicElevationInfo(e,t,o){let r=a.UPDATE;return e.forEach((e=>{const n=t(e);if(i(n)){const t=e.graphic;this.setGraphicElevationContext(t,n.elevationContext),n.needsElevationUpdates=o(n.elevationContext.mode)}else r=a.RECREATE})),r}applyRendererDiff(e,t){return d.Recreate_Symbol}getFastUpdateAttrValues(e){if(!this._fastUpdates.enabled)return null;const t=this._fastUpdates.visualVariables,i=t.size?v(t.size.field,e):0,o=t.color?v(t.color.field,e):0,r=t.opacity?v(t.opacity.field,e):0;return s(i,o,r,0)}get draped(){return this._draped}ensureDrapedStatus(e){return null==this._draped?(this._draped=e,!0):(e!==this.draped&&f.warnOnce(\"A symbol can only produce either draped or non-draped visualizations. Use two separate symbol instances for draped and non-draped graphics if necessary.\"),!1)}test(){const e=()=>({size:this._fastUpdates?.visualVariables?.size?.field??null,color:this._fastUpdates?.visualVariables?.color?.field??null,opacity:this._fastUpdates?.visualVariables?.opacity?.field??null,rotation:this._fastUpdates?.visualVariables?.rotation?.field??null});return{drivenProperties:this._drivenProperties,getVisVarFields:e}}}function v(e,t){const i=null!=e?t.attributes[e]:0;return null!=i&&isFinite(i)?i:0}function g(e){const t={color:!1,opacity:!1,opacityAlwaysOpaque:!0,size:!1};return e&&\"visualVariables\"in e&&e.visualVariables&&e.visualVariables.forEach((e=>{switch(e.type){case\"color\":if(t.color=!0,e.stops)for(let i=0;i<e.stops.length;i++){const o=e.stops[i].color;o&&(t.opacity=!0,o.a<1&&(t.opacityAlwaysOpaque=!1))}break;case\"opacity\":t.opacity=!0,t.opacityAlwaysOpaque=!1;break;case\"size\":t.size=!0}})),t}const m={mode:\"on-the-ground\",offset:0,unit:\"meters\"},_={mode:\"absolute-height\",offset:0,unit:\"meters\"},x={hasIntrinsicColor:!1};export{y as Graphics3DSymbolLayer,v as getAttributeValue};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{I as r}from\"../../../../chunks/mat4f64.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{projectPointToVector as o}from\"../../../../geometry/projection.js\";import{containsPoint as n}from\"../../../../geometry/support/aaBoundingBox.js\";import{getPointOnPath as i,getPathLength as s}from\"../../../../geometry/support/coordsUtils.js\";import{makeDehydratedPoint as a}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{applyElevationAlignmentForHUD as c}from\"./elevationAlignmentUtils.js\";import{computeCentroid as l}from\"./graphicUtils.js\";import{Object3D as p}from\"../../webgl-engine/lib/Object3D.js\";const m=t();function u(t,i,s,a,l,u,f,d){const g=s?s.length:0,h=t.clippingExtent;if(o(i,m,t.elevationProvider.spatialReference),e(h)&&!n(h,m))return null;o(i,m,t.renderCoordsHelper.spatialReference);const j=t.localOriginFactory.getOrigin(m),y=new p({castShadow:!1,metadata:{layerUid:u,graphicUid:f,usesVerticalDistanceToGround:!0}});for(let e=0;e<g;e++){const t=r;y.addGeometry(s[e],a[e],t,j,d)}return{object:y,sampledElevation:c(y,i,t.elevationProvider,t.renderCoordsHelper,l)}}function f(r,t,n){const i=r.elevationContext,s=n.spatialReference;o(t,m,s),i.centerPointInElevationSR=a(m[0],m[1],t.hasZ?m[2]:0,e(s)?s:null)}function d(e){switch(e.type){case\"point\":return e;case\"polygon\":case\"extent\":return l(e);case\"polyline\":{const r=e.paths[0];if(!r||0===r.length)return null;const t=i(r,s(r)/2);return a(t[0],t[1],t[2],e.spatialReference)}case\"mesh\":return e.origin}return null}export{u as createStageObjectForHUD,f as extendPointGraphicElevationContext,d as placePointOnGeometry};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{ViewingMode as e}from\"../../../ViewingMode.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as r}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as o}from\"../lib/Program.js\";import{L as n}from\"../../../../chunks/LineCallout.glsl.js\";import{CompareFunction as s,BlendFactor as a}from\"../../../webgl/enums.js\";import{makePipelineState as l,defaultDepthWriteParams as u,separateBlendingParams as m,defaultColorWriteParams as d}from\"../../../webgl/renderState.js\";class h extends t{initializeConfiguration(i,t){t.spherical=i.viewingMode===e.Global}initializeProgram(e){return new o(e.rctx,h.shader.get().build(this.configuration),r)}setPipelineState(e){const i=e?s.ALWAYS:s.LESS;return this.configuration.depthHudEnabled?l({depthTest:{func:i},depthWrite:u}):l({blending:m(a.ONE,a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA),depthTest:{func:i},colorWrite:d})}initializePipeline(){return this.setPipelineState(this.configuration.hasMultipassGeometry)}}h.shader=new i(n,(()=>import(\"./LineCallout.glsl.js\")));export{h as LineCalloutTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{HUDSpace as t}from\"../core/shaderLibrary/hud/HUD.glsl.js\";import{parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as s}from\"../materials/DefaultTechniqueConfiguration.js\";class i extends s{constructor(){super(...arguments),this.screenCenterOffsetUnitsEnabled=t.World,this.spherical=!1,this.occlusionTestEnabled=!0,this.hasVerticalOffset=!1,this.hasScreenSizePerspective=!1,this.depthHudEnabled=!1,this.depthHudAlignStartEnabled=!1,this.hasSlicePlane=!1,this.hasMultipassGeometry=!1}}e([o({count:t.COUNT})],i.prototype,\"screenCenterOffsetUnitsEnabled\",void 0),e([o()],i.prototype,\"spherical\",void 0),e([o()],i.prototype,\"occlusionTestEnabled\",void 0),e([o()],i.prototype,\"hasVerticalOffset\",void 0),e([o()],i.prototype,\"hasScreenSizePerspective\",void 0),e([o()],i.prototype,\"depthHudEnabled\",void 0),e([o()],i.prototype,\"depthHudAlignStartEnabled\",void 0),e([o()],i.prototype,\"hasSlicePlane\",void 0),e([o()],i.prototype,\"hasMultipassGeometry\",void 0),e([o({constValue:!0})],i.prototype,\"hasSliceInVertexProgram\",void 0),e([o({constValue:!1})],i.prototype,\"isDraped\",void 0);export{i as LineCalloutTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{f as t}from\"../../../../chunks/vec2f32.js\";import{Z as r}from\"../../../../chunks/vec2f64.js\";import{newLayout as i}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as s}from\"../core/shaderLibrary/ShaderOutput.js\";import{HUDSpace as n}from\"../core/shaderLibrary/hud/HUD.glsl.js\";import a from\"../lib/GLMaterial.js\";import{Material as o,MaterialParameters as u}from\"../lib/Material.js\";import{RenderSlot as c}from\"../lib/RenderSlot.js\";import{VertexAttribute as f}from\"../lib/VertexAttribute.js\";import{writePosition as l,writeNormal as h,writeBufferVec4 as d}from\"./internal/bufferWriterUtils.js\";import{LineCalloutTechnique as m}from\"../shaders/LineCalloutTechnique.js\";import{LineCalloutTechniqueConfiguration as p}from\"../shaders/LineCalloutTechniqueConfiguration.js\";class g extends o{constructor(e){super(e,new S),this._configuration=new p,this._uniqueMaterialIdentifier=g.uniqueMaterialIdentifier(this.parameters)}get uniqueMaterialIdentifier(){return this._uniqueMaterialIdentifier}getPassParameters(){return this.parameters}getConfiguration(t,r){const i=r?.slot!==c.LINE_CALLOUTS;return this._configuration.occlusionTestEnabled=this.parameters.occlusionTest,this._configuration.hasVerticalOffset=e(this.parameters.verticalOffset),this._configuration.hasScreenSizePerspective=e(this.parameters.screenSizePerspective),this._configuration.depthHudEnabled=i,this._configuration.depthHudAlignStartEnabled=!!this.parameters.depthHUDAlignStart,this._configuration.screenCenterOffsetUnitsEnabled=\"screen\"===this.parameters.centerOffsetUnits?n.Screen:n.World,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasMultipassGeometry=r.multipassGeometry.enabled,this._configuration}intersect(){}requiresSlot(e,t){if(t===s.Color)switch(e){case c.LINE_CALLOUTS:case c.LINE_CALLOUTS_HUD_DEPTH:return!0}return!1}createGLMaterial(e){return new O(e)}createBufferWriter(){return new b}validateParameters(e){const t=g.uniqueMaterialIdentifier(e);t!==this._uniqueMaterialIdentifier&&(this._uniqueMaterialIdentifier=t)}static uniqueMaterialIdentifier(e){return JSON.stringify({screenOffset:e.screenOffset||[0,0],centerOffsetUnits:e.centerOffsetUnits||\"world\"})}}class O extends a{beginSlot(e){return this.ensureTechnique(m,e)}}class S extends u{constructor(){super(...arguments),this.screenOffset=r,this.color=[0,0,0,1],this.size=1,this.occlusionTest=!1,this.shaderPolygonOffset=1e-5,this.depthHUDAlignStart=!1,this.centerOffsetUnits=\"world\",this.hasSlicePlane=!1}}const L=i().vec3f(f.POSITION).vec3f(f.NORMAL).vec2f(f.UV0).vec4f(f.AUXPOS1),I=[t(0,0),t(1,0),t(0,1),t(1,0),t(1,1),t(0,1)];class b{constructor(){this.vertexBufferLayout=L}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return 6*e.indices.get(f.POSITION).length}write(e,t,r,i,s){l(r.indices.get(f.POSITION),r.vertexAttributes.get(f.POSITION).data,e,i.position,s,6),h(r.indices.get(f.NORMAL),r.vertexAttributes.get(f.NORMAL).data,t,i.normal,s,6),d(r.indices.get(f.AUXPOS1),r.vertexAttributes.get(f.AUXPOS1).data,i.auxpos1,s,6);for(let n=0;n<I.length;++n)i.uv0.setVec(s+n,I[n])}}export{g as LineCalloutMaterial,S as Parameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{isSome as t,isNone as r}from\"../../../../core/maybe.js\";import{pt2px as i}from\"../../../../core/screenUtils.js\";import{Z as a}from\"../../../../chunks/vec2f64.js\";import{textSymbolLayerSupportsVerticalOffset as n}from\"../../../../symbols/callouts/calloutUtils.js\";import{perObjectElevationAligner as s}from\"./ElevationAligners.js\";import{SymbolUpdateType as o,elevationModeChangeUpdateType as l,needsElevationUpdates2D as c}from\"./elevationAlignmentUtils.js\";import{ElevationContext as m}from\"./ElevationContext.js\";import{Graphics3DObject3DGraphicLayer as d}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as h}from\"./Graphics3DSymbolLayer.js\";import{computeCentroid as p}from\"./graphicUtils.js\";import{createStageObjectForHUD as u,extendPointGraphicElevationContext as f}from\"./pointUtils.js\";import{emptySymbolComplexity as g}from\"./symbolComplexity.js\";import{PrimitiveType as y}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Geometry as v}from\"../../webgl-engine/lib/Geometry.js\";import{RenderOccludedFlag as _}from\"../../webgl-engine/lib/Material.js\";import{VertexAttribute as x}from\"../../webgl-engine/lib/VertexAttribute.js\";import{LineCalloutMaterial as O}from\"../../webgl-engine/materials/LineCalloutMaterial.js\";class b extends h{constructor(e,t){super(e,null,t,U),this._elevationOptions={supportsOffsetAdjustment:!0,supportsOnTheGround:!1},this.ensureDrapedStatus(!1)}async doLoad(){this._material=new O(this._materialParameters),this._context.stage.add(this._material)}destroy(){super.destroy(),this._context.stage.remove(this._material),this._material=null}_perInstanceMaterialParameters(e){const t=this._materialParameters;return t.screenOffset=e.screenOffset||a,t.centerOffsetUnits=e.centerOffsetUnits||\"world\",t}get _materialParameters(){const r=this.symbol,a=r.callout,n=t(a.color)?e.toUnitRGBA(a.color):[0,0,0,0];n[3]*=this._getLayerOpacity();const s=i(a.size||0);let o=null;if(r.verticalOffset){const{screenLength:e,minWorldLength:a,maxWorldLength:n}=r.verticalOffset;o={screenLength:i(e),minWorldLength:a||0,maxWorldLength:t(n)?n:1/0}}const l=t(a.border)&&t(a.border.color)?e.toUnitRGBA(a.border.color):null,c=\"object\"===r.symbolLayers.getItemAt(0).type,m=!c,d=c?0:void 0,h=\"label-3d\"===r.type;return{color:n,size:s,verticalOffset:o,screenSizePerspective:this._context.screenSizePerspectiveEnabled?this._context.sharedResources.screenSizePerspectiveSettings:null,screenOffset:[0,0],centerOffsetUnits:\"world\",borderColor:l,occlusionTest:m,shaderPolygonOffset:d,depthHUDAlignStart:h,hasSlicePlane:this._context.slicePlaneEnabled,renderOccluded:_.Occlude,__tagStrict:\"NoParameters\"}}_defaultElevationInfoNoZ(){return E}createGraphics3DGraphic(e){const t=e.renderingInfo,i=e.graphic,a=this.setGraphicElevationContext(i,new m,t.elevationOffset||0),s=t.symbol,o=\"on-the-ground\"===this._elevationContext.mode&&(\"cim\"===s.type||!s.symbolLayers.some((e=>\"object\"===e.type||\"text\"===e.type)));if(\"label-3d\"!==s.type&&o)return null;if(\"point-3d\"===s.type&&s.symbolLayers.every((e=>\"text\"===e.type&&!n(e))))return null;const l=p(i.geometry);return r(l)?null:this._createAs3DShape(l,a,t,i.uid)}layerOpacityChanged(){t(this._material)&&this._material.setParameters(this._materialParameters)}layerElevationInfoChanged(e,r,i){const a=this._elevationContext.mode,n=l(b.elevationModeChangeTypes,i,a);return n!==o.UPDATE||e.forEach((e=>{const i=r(e);t(i)&&this.updateGraphicElevationContext(e.graphic,i)})),n}slicePlaneEnabledChanged(){return r(this._material)||this._material.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),!0}physicalBasedRenderingChanged(){return!0}pixelRatioChanged(){return!0}setGraphicElevationContext(e,t,r=0){const i=super.setGraphicElevationContext(e,t);return i.addOffsetRenderUnits(r),i}updateGraphicElevationContext(e,t){this.setGraphicElevationContext(e,t.elevationContext,t.metadata.elevationOffset),t.needsElevationUpdates=c(t.elevationContext.mode)}computeComplexity(){return{primitivesPerFeature:2,primitivesPerCoordinate:0,drawCallsPerFeature:0,estimated:!1,memory:g.memory}}_createVertexData(e){const{translation:t,centerOffset:r}=e,i=t?{size:3,data:[t[0],t[1],t[2]],exclusive:!0}:{size:3,data:[0,0,0],exclusive:!0},a=r?{size:4,data:[r[0],r[1],r[2],r[3]],exclusive:!0}:{size:4,data:[0,0,0,1],exclusive:!0};return[[x.POSITION,i],[x.NORMAL,{size:3,data:[0,0,1],exclusive:!0}],[x.AUXPOS1,a]]}_getOrCreateMaterial(e){const i=this._perInstanceMaterialParameters(e),a=O.uniqueMaterialIdentifier(i);if(t(this._material)&&a===this._material.uniqueMaterialIdentifier)return{material:this._material,isUnique:!1};if(e.materialCollection){let t=e.materialCollection.get(a);return r(t)&&(t=new O(i),e.materialCollection.add(a,t)),{material:t,isUnique:!1}}return{material:new O(i),isUnique:!0}}_createAs3DShape(e,t,r,i){const a=this._context.stage.renderView._getObjectAndLayerIdColor({graphicUid:i,layerUid:this._context.layer.uid}),n=[new v(this._createVertexData(r),P,y.Point,a)],o=this._getOrCreateMaterial(r),l=u(this._context,e,n,[o.material],t,this._context.layer.uid,i);if(null===l)return null;const m=new d(this,l.object,n,o.isUnique?[o.material]:null,null,s,t);return m.metadata={elevationOffset:r.elevationOffset||0},m.alignedSampledElevation=l.sampledElevation,m.needsElevationUpdates=c(t.mode),f(m,e,this._context.elevationProvider),m}}b.elevationModeChangeTypes={definedChanged:o.UPDATE,staysOnTheGround:o.UPDATE,onTheGroundChanged:o.RECREATE};const C=[0],P=[[x.POSITION,C],[x.NORMAL,C],[x.AUXPOS1,C]],E={mode:\"relative-to-ground\",offset:0},U={ignoreDrivers:!0,renderPriority:0,renderPriorityStep:1};export{b as Graphics3DLineCalloutSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport o from\"../../../../core/Logger.js\";import{hasCalloutSupport as r}from\"../../../../symbols/callouts/calloutUtils.js\";import{Graphics3DLineCalloutSymbolLayer as l}from\"./Graphics3DLineCalloutSymbolLayer.js\";const t=o.getLogger(\"esri.views.3d.layers.graphics.Graphics3DCalloutSymbolLayerFactory\");function e(o,l){if(!r(o))return t.error(\"Graphics3DCalloutSymbolLayerFactory#make\",`symbol of type '${o.type}' does not support callouts`),null;if(!o.callout)return null;const e=a[o.callout.type];return e?new e(o,l):(t.error(\"Graphics3DCalloutSymbolLayerFactory#make\",`unknown or unsupported callout type ${o.callout.type}`),null)}const a={line:l};export{e as make};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{forEach as e}from\"../../../../core/asyncUtils.js\";import{estimateAttributesObjectSize as i}from\"../../../../core/byteSizeEstimations.js\";import{isSome as t,isNone as r}from\"../../../../core/maybe.js\";import s from\"../../../../core/ObjectPool.js\";import{b as a}from\"../../../../chunks/vec2.js\";import{a as o}from\"../../../../chunks/vec2f64.js\";import{g as h}from\"../../../../chunks/vec3.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import c from\"../../../../geometry/Polygon.js\";import{projectBoundingRect as l}from\"../../../../geometry/projection.js\";import{set as p,ZERO as m,empty as y,expandWithAABB as u,allFinite as d,toRect as f}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as g,allFinite as b}from\"../../../../geometry/support/aaBoundingRect.js\";import{equals as _}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{computeAABR as G,numVertices as E}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{convertFromGeometry as x}from\"../../../../layers/graphics/featureConversionUtils.js\";import{VisibilityFlag as j,VisibilityGroup as L}from\"./enums.js\";import{createFeature as v}from\"./featureExpressionInfoUtils.js\";const S=new s(Array,(e=>p(e,m)),null,10,5),B=g();class V{constructor(e,i,r,s,a){this.graphic=e,this.graphics3DSymbol=i,this.graphics=r,this._labelGraphics=new Array,this._auxiliaryGraphics=new Array,this._visibilityFlags=z(L._COUNT,j._COUNT),this._featureExpressionFeature=null,this._optimizedGeometry={geometry:null,hasZ:!1,hasM:!1},this._extent=null,this.isElevationSource=!1,++i.referenced,this._featureExpressionFeature=a?v(a,e,s):null;for(const o of r)t(o)&&(this.isElevationSource=this.isElevationSource||o.isElevationSource)}get labelGraphics(){return this._labelGraphics}get extent(){return this._extent}initialize(e,i){this._layer=i,this._stage=e,this._forEachSymbolLayerGraphic((t=>{t.initialize(e,i),t.setVisibility(this.isVisible())}))}destroy(){this._forEachSymbolLayerGraphic((e=>e.destroy())),this.graphics=null,this._auxiliaryGraphics=null,--this.graphics3DSymbol.referenced,this.graphics3DSymbol=null}get destroyed(){return null==this.graphics}clearLabelGraphics(){this._forEachLabelGraphic((e=>e.destroy())),this._labelGraphics.length=0}addLabelGraphic(e,i,t){this._labelGraphics.push(e),e.initialize(i,t),e.setVisibility(this.isVisible(L.LABEL))}addAuxiliaryGraphic(e){this._auxiliaryGraphics.push(e),this._layer&&(e.initialize(this._stage,this._layer),e.setVisibility(this.isVisible()))}get isDraped(){let e=!1;return this._forEachSymbolLayerGraphic((i=>{\"draped\"===i.type&&(e=!0)})),e}isVisible(e=L.GRAPHIC,i){for(let t=0;t<=e;t++){const e=this._visibilityFlags[t];for(let t=0;t<e.length;++t)if(!1===e[t]&&t!==i)return!1}return!0}hasVisibilityFlag(e,i){return null!=this._visibilityFlags[i][e]}setVisibilityFlag(e,i,t){const r=this.isVisible(t);this._visibilityFlags[t][e]=i;const s=this.isVisible(t);if(r===s)return!1;if(t===L.LABEL)this._forEachLabelGraphic((e=>e.setVisibility(s)));else{this._forEachSymbolLayerGraphic((e=>e.setVisibility(s)));const e=this.isVisible(L.LABEL);this._forEachLabelGraphic((i=>i.setVisibility(e)))}return!0}clearVisibilityFlag(e,i=L.GRAPHIC){return this.setVisibilityFlag(e,void 0,i)}computeExtent(e){if(!this._extent){const i=this.graphic.geometry;if(r(i))return!1;this._extent=g(),G(i,this._extent);const t=i.spatialReference;if(!_(t,e)&&!l(this._extent,t,this._extent,e))return this._extent=null,!1}return!0}getAsOptimizedGeometry(e,i){return t(this._optimizedGeometry.geometry)&&this._optimizedGeometry.hasZ===e&&this._optimizedGeometry.hasM===i||(this._optimizedGeometry.geometry=this._convertGraphicToOptimizedGeometry(this.graphic,e,i),this._optimizedGeometry.hasZ=e,this._optimizedGeometry.hasM=i),this._optimizedGeometry.geometry}_convertGraphicToOptimizedGeometry(e,i,t){let r=e.geometry;return\"mesh\"!==r.type&&\"extent\"!==r.type||(r=c.fromExtent(\"mesh\"===r.type?r.extent:r)),x(r,i,t)}get usedMemory(){let e=i(this.graphic.attributes);return this._forEachSymbolLayerGraphic((i=>{const t=i.graphics3DSymbolLayer.complexity;if(r(t))return;const s=\"draped\"===i.type?t.memory.draped:t.memory;e+=s.bytesPerFeature,s.bytesPerCoordinate&&(e+=E(this.graphic.geometry)*s.bytesPerCoordinate)})),e}computeAttachmentOrigin(){const e={render:{origin:n(),num:0},draped:{origin:o(),num:0}};for(const i of this.graphics)r(i)||i.computeAttachmentOrigin(e);return e.render.num&&h(e.render.origin,e.render.origin,1/e.render.num),e.draped.num&&a(e.draped.origin,e.draped.origin,1/e.draped.num),e}async getProjectedBoundingBox(i,t,s,a,o){return o||(o={boundingBox:null,requiresDrapedElevation:!1,screenSpaceObjects:[]}),o.boundingBox?y(o.boundingBox):o.boundingBox=y(),o.requiresDrapedElevation=!1,await e(this.graphics,(async e=>{if(r(e))return;const h=\"draped\"===e.type?t:i,n=S.acquire(),c=await e.getProjectedBoundingBox(h,s,o.screenSpaceObjects,a,n);isFinite(c[2])&&isFinite(c[5])||(o.requiresDrapedElevation=!0),c&&u(o.boundingBox,n),S.release(n)})),d(o.boundingBox)||b(f(o.boundingBox,B))?o:null}needsElevationUpdates(){for(const e of this.graphics)if(t(e)&&(\"object3d\"===e.type||\"lod-instance\"===e.type)&&e.needsElevationUpdates)return!0;for(const e of this._labelGraphics)if(e&&e.needsElevationUpdates)return!0;return!1}alignWithElevation(e,i,t){this._forEachRenderedGraphic((r=>{\"object3d\"!==r.type&&\"lod-instance\"!==r.type||r.alignWithElevation(e,i,this._featureExpressionFeature,t)}))}addObjectStateSet(e,i){this._forEachSymbolLayerGraphic((t=>t.addObjectState(e,i)))}removeObjectState(e){this._forEachSymbolLayerGraphic((i=>i.removeObjectState(e)))}_forEachGraphicList(e,i){e.forEach((e=>e&&i(e)))}_forEachSymbolLayerGraphic(e){this._forEachGraphicList(this.graphics,e),this._forEachGraphicList(this._auxiliaryGraphics,e)}_forEachLabelGraphic(e){this._forEachGraphicList(this._labelGraphics,e)}_forEachRenderedGraphic(e){this._forEachSymbolLayerGraphic(e),this._forEachLabelGraphic(e)}}function z(e,i){const t=new Array(e);for(let r=0;r<t.length;r++)t[r]=new Array(i);return t}export{V as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{PrimitiveType as e}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Geometry as i}from\"../../webgl-engine/lib/Geometry.js\";import{VertexAttribute as a}from\"../../webgl-engine/lib/VertexAttribute.js\";import r from\"../../../../geometry/Extent.js\";import s from\"../../../../geometry/Polygon.js\";function n(r){const s=[[a.POSITION,r.indices]],n=[[a.POSITION,{size:3,data:r.attributeData.position,exclusive:!0}]];return t(r.attributeData.color)&&(n.push([a.COLOR,{size:4,data:r.attributeData.color,exclusive:!0}]),s.push([a.COLOR,new Array(r.indices.length).fill(0)])),t(r.attributeData.uvMapSpace)&&(n.push([a.UVMAPSPACE,{size:4,data:r.attributeData.uvMapSpace,exclusive:!0}]),s.push([a.UVMAPSPACE,r.indices])),t(r.attributeData.boundingRect)&&(n.push([a.BOUNDINGRECT,{size:9,data:r.attributeData.boundingRect,exclusive:!0}]),s.push([a.BOUNDINGRECT,r.indices])),t(r.attributeData.mapPosition)&&(n.push([a.MAPPOS,{size:3,data:r.attributeData.mapPosition,exclusive:!0}]),s.push([a.MAPPOS,r.indices])),new i(n,s,e.Triangle,r.attributeData.objectAndLayerIdColor)}function o(e){const r=[[a.POSITION,e.indices],[a.UV0,e.indices]],s=[[a.POSITION,{size:3,data:e.attributeData.position,exclusive:!0}],[a.UV0,{size:2,data:e.attributeData.uv0,exclusive:!0}]];return t(e.attributeData.mapPosition)&&(s.push([a.MAPPOS,{size:3,data:e.attributeData.mapPosition,exclusive:!0}]),r.push([a.MAPPOS,e.indices])),new i(s,r)}function u(t){switch(t.type){case\"extent\":if(t instanceof r)return s.fromExtent(t);break;case\"polygon\":return t}return null}class c{constructor(t,e,i){this.renderData=t,this.layerUid=e,this.graphicsUid=i,this.outGeometries=new Array,this.outMaterials=new Array,this.outTransforms=new Array}}export{c as PolygonCreationDataBase,n as createColorGeometry,o as createWaterGeometry,u as geometryAsPolygon};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{projectBuffer as o}from\"../../../../geometry/projection.js\";import{pathsToTriangulationInfo as t,CounterClockwiseMode as n}from\"../../../../geometry/support/triangulationUtils.js\";import{applyPerVertexElevationAlignment as i}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{DRAPED_Z as s}from\"../../terrain/OverlayRenderer.js\";function e(o,s,e,r){const c=t(o.rings,o.hasZ,n.CCW_IS_HOLE),u=new Float64Array(c.position.length),h=i(c.position,o.spatialReference,0,u,0,c.position,0,c.position.length/3,s,e,r),g=null!=h;return new l(c.position,u,a(c.polygons,c.position,u),p(c.outlines,c.position,u),g,h)}function r(i,e){const r=t(i.rings,!1,n.CCW_IS_HOLE),c=o(r.position,i.spatialReference,0,r.position,e,0,r.position.length/3);for(let o=2;o<r.position.length;o+=3)r.position[o]=s;return{position:r.position,polygons:a(r.polygons,r.position),outlines:p(r.outlines,r.position),projectionSuccess:c}}function p(o,t,n){return o.filter((({count:o})=>o>1)).map((({index:o,count:i})=>{const s=3*o,e=s+3*i;return n?new u(o,i,t.subarray(s,e),n.subarray(s,e)):new c(o,i,t.subarray(s,e))}))}function a(o,t,n){const i=new Array;for(const{index:s,count:e,holeIndices:r,pathLengths:p}of o){if(e<=1)continue;const o=3*s,a=o+3*e,c=r.map((o=>o-s));i.push({index:s,count:e,holeIndices:c,pathLengths:p,position:t.subarray(o,a),mapPosition:n?n.subarray(o,a):void 0})}return i}class c{constructor(o,t,n){this.index=o,this.count=t,this.position=n}}class u extends c{constructor(o,t,n,i){super(o,t,n),this.mapPosition=i}}class l{constructor(o,t,n,i,s,e){this.position=o,this.mapPosition=t,this.polygons=n,this.outlines=i,this.projectionSuccess=s,this.sampledElevation=e}}export{l as PolygonRenderInfo,e as geometryToRenderInfo,r as geometryToRenderInfoDraped};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import e from\"../../../../core/Error.js\";import{clone as t}from\"../../../../core/lang.js\";import{get as r,isSome as s,isNone as n}from\"../../../../core/maybe.js\";import{getMetersPerVerticalUnitForSR as i}from\"../../../../core/unitUtils.js\";import{e as o}from\"../../../../chunks/earcut.js\";import{b as a}from\"../../../../chunks/mat3.js\";import{c as l}from\"../../../../chunks/mat3f64.js\";import{a as c}from\"../../../../chunks/mat4.js\";import{I as h,c as p}from\"../../../../chunks/mat4f64.js\";import{c as m,n as d,s as g,b as u,f,m as y}from\"../../../../chunks/vec3.js\";import{d as _,c as b}from\"../../../../chunks/vec3f64.js\";import{computeTranslationToOriginAndRotation as x}from\"../../../../geometry/projection.js\";import{create as E,empty as P,expandWithBuffer as S,intersectsClippingArea as j}from\"../../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec3f64 as v}from\"../../../../geometry/support/buffer/BufferView.js\";import{t as w,a as A}from\"../../../../chunks/vec32.js\";import{makeVertexCandidate as L,makeEdgeCandidate as M}from\"../../../../layers/graphics/data/SnappingCandidate.js\";import{getDriverAxisSizeValue as I}from\"../../../../renderers/support/renderingInfoUtils.js\";import{ViewingMode as O}from\"../../../ViewingMode.js\";import{needsElevationUpdates3D as C,evaluateElevationInfoAtPoint as B,SampleElevationInfo as z}from\"./elevationAlignmentUtils.js\";import{ElevationContext as R}from\"./ElevationContext.js\";import{Graphics3DObject3DGraphicLayer as T}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as D}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as G,computeCentroid as U}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as k}from\"./interfaces.js\";import{geometryAsPolygon as N}from\"./polygonUtils.js\";import{createMaterial as F}from\"../support/edgeUtils.js\";import V from\"../../support/debugFlags.js\";import{SamplePosition as H}from\"../../support/ElevationProvider.js\";import{geometryToRenderInfo as Y}from\"../../support/renderInfoUtils/polygon.js\";import{CullFaceOptions as Z,PrimitiveType as W}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Geometry as q}from\"../../webgl-engine/lib/Geometry.js\";import{Object3D as J}from\"../../webgl-engine/lib/Object3D.js\";import{VertexAttribute as K}from\"../../webgl-engine/lib/VertexAttribute.js\";import{DefaultMaterial as Q}from\"../../webgl-engine/materials/DefaultMaterial.js\";const X=[\"polygon\",\"extent\"];class $ extends D{constructor(e,t,r,s){super(e,t,r,s),this.ensureDrapedStatus(!1)}async doLoad(){if(!this._drivenProperties.size){const t=G(this._getSymbolSize());if(t)throw new e(\"graphics3dextrudesymbollayer:invalid-size\",t)}const t=r(this.symbolLayer,\"material\",\"color\"),s=this._getCombinedOpacityAndColor(t),n=_(s),i=s[3],o=i<1||this.needsDrivenTransparentPass,a={usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0,diffuse:n,ambient:n,opacity:i,transparent:o,cullFace:o?Z.None:Z.Back,hasVertexColors:!0,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:this.symbolLayer.castShadows,offsetTransparentBackfaces:!0};this._material=new Q(a),this._bottomMaterial=new Q({...a,cullFace:Z.Back}),this._context.stage.add(this._material),this._context.stage.add(this._bottomMaterial)}destroy(){super.destroy(),this._material&&(this._context.stage.remove(this._material),this._context.stage.remove(this._bottomMaterial))}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,X,this.symbolLayer.type))return null;const r=this._getVertexOpacityAndColor(e.renderingInfo,255),s=this.setGraphicElevationContext(t,new R);return this._createAs3DShape(t,e.renderingInfo,r,s,t.uid)}layerOpacityChanged(e,t){const n=r(this.symbolLayer,\"material\",\"color\"),i=this._getCombinedOpacity(n),o=i<1||this.needsDrivenTransparentPass;this._material.setParameters({opacity:i,transparent:o}),this._bottomMaterial.setParameters({opacity:i,transparent:o});const a=this._getLayerOpacity();e.forEach((e=>{const r=t(e);s(r)&&r.layerOpacityChanged(a,this._context.isAsync)}))}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,C)}slicePlaneEnabledChanged(e,t){return this._material.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),this._bottomMaterial.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),e.forEach((e=>{const r=t(e);s(r)&&r.slicePlaneEnabledChanged(this._context.slicePlaneEnabled,this._context.isAsync)})),!0}physicalBasedRenderingChanged(){return this._material.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}),this._bottomMaterial.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}),!0}pixelRatioChanged(){return!0}_getExtrusionSize(e){let t;return t=e.size&&this._drivenProperties.size?I(e.size,2)??0:this._getSymbolSize(),t/=this._context.renderCoordsHelper.unitInMeters,t}applyRendererDiff(e,t){return this._drivenPropertiesChanged(t)?k.Recreate_Symbol:k.Recreate_Graphics}async queryForSnapping(e,r,s,n){const o=this._getExtrusionSize(s)*this._context.renderCoordsHelper.unitInMeters/i(r),{objectId:a,target:l}=e,c=t(l);switch(c.z=(c.z??0)+o,e.type){case\"edge\":{const{start:r,end:s}=e,n=t(r),i=t(s);return n.z=(n.z??0)+o,i.z=(i.z??0)+o,[M(a,c,1/0,n,i)]}case\"vertex\":return[L(a,c,1/0),M(a,l,1/0,l,c)];default:return[]}}_getSymbolSize(){return this.symbolLayer.size??1}_createAs3DShape(e,t,r,i,m){const d=N(e.geometry);if(n(d))return null;if(0===d.rings.length||!d.rings.some((e=>e.length>0)))return this._logGeometryValidationWarnings(d.rings,\"rings\",\"ExtrudeSymbol3DLayer\"),null;const g=Y(d,this._context.elevationProvider,this._context.renderCoordsHelper,i);this._logGeometryCreationWarnings(g,d.rings,\"rings\",\"ExtrudeSymbol3DLayer\");const u=U(d);if(n(u))return null;const f=new Array,y=new Array,_=new Array,L=E(),M=p(),I=b(),B=this._context.renderCoordsHelper.viewingMode===O.Global;B||this._context.renderCoordsHelper.worldUpAtPosition(null,I),x(d.spatialReference,[u.x,u.y,0],M,this._context.renderCoordsHelper.spatialReference);const z=p();c(z,M);const R=l();a(R,z);const{polygons:D,mapPosition:G,position:k}=g,V=k.length/3,H=new Float64Array(3*V*6),Z=new Float64Array(3*V*6),W=new Float64Array(3*V*6),q=new Float64Array(1*V*6);let K=0;for(let s=0;s<D.length;++s){const e=D[s],n=e.count;if(this._context.clippingExtent&&(P(L),S(L,e.mapPosition),!j(L,this._context.clippingExtent)))continue;const i=o(e.mapPosition,e.holeIndices,3);if(0===i.length)continue;const a=3*n*2+i.length,l=new Array(a),c=new Array(i.length),p=6*n,d=3*H.BYTES_PER_ELEMENT,g=new v(H.buffer,K*d,d,(K+p)*d),u=3*Z.BYTES_PER_ELEMENT,b=new v(Z.buffer,K*u,u,(K+p)*u),x=new Float64Array(W.buffer,3*K*W.BYTES_PER_ELEMENT,3*p),E=new Float64Array(q.buffer,1*K*q.BYTES_PER_ELEMENT,1*p),M=this._getExtrusionSize(t);te(k,G,i,e,g.typedBuffer,x,b.typedBuffer,E,l,c,M,I,B),w(g,g,z),A(b,b,R),K+=6*n;const O=this._context.stage.renderView._getObjectAndLayerIdColor({graphicUid:m,layerUid:this._context.layer.uid}),C=ee(l,l.length-c.length,{positions:g.typedBuffer,elevation:x,normals:b.typedBuffer,heights:E},r,O);f.push(C),y.push(this._material),_.push(h);const T=ee(c,0,{positions:g.typedBuffer,elevation:x,normals:b.typedBuffer,heights:E},r,O);f.push(T),y.push(this._bottomMaterial),_.push(h)}if(0===f.length)return null;const Q=new J({geometries:f,materials:y,transformations:_,metadata:{layerUid:this._context.layer.uid,graphicUid:m,isElevationSource:!0}});Q.transformation=M;const X=F(this.symbolLayer,{opacity:this._getLayerOpacity()}),$=s(X)?{baseMaterial:this._material,edgeMaterials:[X],properties:{mergeGeometries:!0,hasSlicePlane:this._context.slicePlaneEnabled}}:null,re=new T(this,Q,f,null,null,de,i,$);return re.alignedSampledElevation=g.sampledElevation,re.needsElevationUpdates=C(i.mode),re}}function ee(e,t,r,s,n){const i=new Array(e.length).fill(0),o=[[K.POSITION,{size:3,data:r.positions,exclusive:!0}],[K.NORMAL,{size:3,data:r.normals,exclusive:!0}],[K.COLOR,{size:4,data:s,exclusive:!0}],[K.SIZE,{size:1,data:r.heights,exclusive:!0}]],a=[[K.POSITION,e],[K.NORMAL,e],[K.COLOR,i]];return r.elevation&&(o.push([K.MAPPOS,{size:3,data:r.elevation}]),a.push([K.MAPPOS,e])),new q(o,a,W.Triangle,n,t)}function te(e,t,r,s,n,i,o,a,l,c,h,p,m){const d=r.length/3;let g=0,u=2*s.count;re(e,t,s.index,s.count,r,0,d,n,i,o,a,l,c,u,h,p,m);let f=2*s.count;u=0,ie(n,i,a,o,g,s.pathLengths[0],s.count,f,l,u,h),f+=4*s.pathLengths[0],u+=2*s.pathLengths[0],g+=s.pathLengths[0];for(let y=1;y<s.pathLengths.length;++y)ie(n,i,a,o,g,s.pathLengths[y],s.count,f,l,u,h),f+=4*s.pathLengths[y],u+=2*s.pathLengths[y],g+=s.pathLengths[y]}function re(e,t,r,s,n,i,o,a,l,c,h,p,g,u,f,y,_){m(ue,y);const b=f>0?1:-1;let x=3*r,E=0,P=3*E,S=s,j=3*S;for(let m=0;m<s;++m)_&&(ue[0]=e[x+0],ue[1]=e[x+1],ue[2]=e[x+2],d(ue,ue)),a[P+0]=e[x+0],a[P+1]=e[x+1],a[P+2]=e[x+2],l[P+0]=t[x+0],l[P+1]=t[x+1],l[P+2]=t[x+2],c[P+0]=-b*ue[0],c[P+1]=-b*ue[1],c[P+2]=-b*ue[2],h[E]=0,a[j+0]=e[x+0]+f*ue[0],a[j+1]=e[x+1]+f*ue[1],a[j+2]=e[x+2]+f*ue[2],l[j+0]=t[x+0],l[j+1]=t[x+1],l[j+2]=t[x+2],c[j+0]=b*ue[0],c[j+1]=b*ue[1],c[j+2]=b*ue[2],h[S]=f,P+=3,j+=3,x+=3,E+=1,S+=1;x=3*i,P=0,j=3*u;const v=f<0?_e:ye,w=f<0?ye:_e;for(let m=0;m<o;++m)g[P+0]=n[x+v[0]],g[P+1]=n[x+v[1]],g[P+2]=n[x+v[2]],p[j+0]=n[x+w[0]]+s,p[j+1]=n[x+w[1]]+s,p[j+2]=n[x+w[2]]+s,P+=3,j+=3,x+=3}function se(e,t,r,s,n,i,o){s[i]=s[o],o*=3,e[(i*=3)+0]=e[o+0],e[i+1]=e[o+1],e[i+2]=e[o+2],t[i+0]=t[o+0],t[i+1]=t[o+1],t[i+2]=t[o+2],r[i+0]=n[0],r[i+1]=n[1],r[i+2]=n[2]}const ne=b();function ie(e,t,r,s,n,i,o,a,l,c,h){let p=n,m=n+1,d=n+o,g=n+o+1,u=a,f=a+1,y=a+2*i,_=a+2*i+1;h<0&&(p=n+o+1,g=n),c*=3;for(let b=0;b<i;++b)b===i-1&&(h>0?(m=n,g=n+o):(m=n,p=n+o)),pe(e,p,m,d,ne),se(e,t,s,r,ne,u,p),se(e,t,s,r,ne,f,m),se(e,t,s,r,ne,y,d),se(e,t,s,r,ne,_,g),l[c++]=u,l[c++]=y,l[c++]=_,l[c++]=u,l[c++]=_,l[c++]=f,p++,m++,d++,g++,u+=2,f+=2,y+=2,_+=2}const oe=b(),ae=b(),le=b(),ce=b(),he=b();function pe(e,t,r,s,n){t*=3,r*=3,s*=3,g(oe,e[t++],e[t++],e[t++]),g(ae,e[r++],e[r++],e[r++]),g(le,e[s++],e[s++],e[s++]),u(ce,ae,oe),u(he,le,oe),f(n,he,ce),d(n,n)}const me=b();function de(e,t,r,n){const i=e.stageObject,o=i.geometryRecords,a=o.length,l=\"absolute-height\"!==t.mode;let h=0;const m=i.transformation,d=c(p(),m);for(let c=0;c<a;c+=2){const e=o[c].geometry,a=e.getMutableAttribute(K.POSITION).data,p=e.vertexAttributes.get(K.SIZE).data,u=e.vertexAttributes.get(K.MAPPOS).data,f=new H(u),_=a.length/3;let b=0,x=!1,E=0;const P=r.spatialReference;for(let i=0;i<_;i++){me[0]=a[b],me[1]=a[b+1],me[2]=a[b+2],B(f,r,t,n,fe),l&&(E+=fe.sampledElevation),V.TESTS_DISABLE_OPTIMIZATIONS?(g(ge,f.array[f.offset+0],f.array[f.offset+1],fe.z+p[b/3]),s(P)&&n.toRenderCoords(ge,P,ge),y(ge,ge,d)):(g(ge,a[b+0],a[b+1],a[b+2]),y(ge,ge,m),n.setAltitude(ge,fe.z+p[b/3]),y(ge,ge,d)),a[b]=ge[0],a[b+1]=ge[1],a[b+2]=ge[2];const e=be/n.unitInMeters;(Math.abs(me[0]-a[b])>=e||Math.abs(me[1]-a[b+1])>=e||Math.abs(me[2]-a[b+2])>=e)&&(x=!0),f.offset+=3,b+=3}x&&(e.invalidateBoundingInfo(),i.geometryVertexAttrsUpdated(o[c]),o[c+1].geometry.invalidateBoundingInfo(),i.geometryVertexAttrsUpdated(o[c+1])),h+=E/_}return h/a}const ge=b(),ue=b(),fe=new z,ye=[0,2,1],_e=[0,1,2],be=.01;export{$ as Graphics3DExtrudeSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{s as t}from\"../../../../chunks/vec3.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{create as i,empty as s,expandWithRect as o,center as d,set as n,toRect as a}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as h}from\"../../../../geometry/support/aaBoundingRect.js\";import{demResolutionForBoundingBox as c}from\"./graphicUtils.js\";import{Object3DState as m}from\"../../webgl-engine/lib/basicInterfaces.js\";import{DirtyOperation as g,DirtyState as u}from\"../../webgl-engine/lib/ModelDirtyTypes.js\";class l{constructor(e,t,r,i){this.graphics3DSymbolLayer=e,this.renderGeometries=t,this.boundingBox=r,this._drapeSourceRenderer=i,this.type=\"draped\",this.stage=null,this._visible=!1,this._addedToStage=!1,this.isElevationSource=!1}initialize(e){this.stage=e}setVisibility(e){if(null!=this.stage&&this._visible!==e){if(this._visible=e,e&&!this._addedToStage)return this._addedToStage=!0,void this._drapeSourceRenderer.addGeometries(this.renderGeometries,g.ADD);if(e||this._addedToStage){for(const e of this.renderGeometries)e.instanceParameters.visible=this._visible;this._drapeSourceRenderer.modifyGeometries(this.renderGeometries,u.VISIBILITIES)}}}destroy(){this.stage&&this._addedToStage&&this._drapeSourceRenderer.removeGeometries(this.renderGeometries,g.REMOVE),this._addedToStage=!1,this._visible=!1,this.stage=null}getCenterObjectSpace(e=r()){return t(e,0,0,0)}getBoundingBoxObjectSpace(e=i()){return s(e)}addObjectState(e,t){e===m.Highlight&&(this.renderGeometries.forEach((e=>{const r=e.addHighlight();t.addRenderGeometry(e,r,this)})),this._addedToStage&&this._drapeSourceRenderer.modifyGeometries(this.renderGeometries,u.HIGHLIGHTS))}removeObjectState(e){this.renderGeometries.forEach((t=>{e.removeRenderGeometry(t)}))}removeRenderGeometryObjectState(e,t){e.removeHighlight(t),this._addedToStage&&this._drapeSourceRenderer.modifyGeometries(this.renderGeometries,u.HIGHLIGHTS)}computeAttachmentOrigin(e){for(const t of this.renderGeometries)t.computeAttachmentOrigin(f)&&(e.draped.origin[0]+=f[0],e.draped.origin[1]+=f[1],e.draped.num++)}async getProjectedBoundingBox(t,r,i,n,a){s(a);for(let e=0;e<this.renderGeometries.length;e++){const r=this.renderGeometries[e];this._getRenderGeometryProjectedBoundingRect(r,t,p,i),o(a,p)}if(r){let t;d(a,f);const i=c(a,r.service.spatialReference,r);try{t=await r.service.queryElevation(f[0],f[1],n,i,\"ground\")}catch(h){}e(t)&&(a[2]=Math.min(a[2],t),a[5]=Math.max(a[5],t))}return a}_getRenderGeometryProjectedBoundingRect(e,t,r,i){if(this.boundingBox)n(S,this.boundingBox);else{const t=e.boundingSphere,r=t[3];S[0]=t[0]-r,S[1]=t[1]-r,S[2]=t[2]-r,S[3]=t[0]+r,S[4]=t[1]+r,S[5]=t[2]+r}return t(S,0,2),this.calculateRelativeScreenBounds&&i.push({location:d(S),screenSpaceBoundingRect:this.calculateRelativeScreenBounds()}),a(S,r)}}const p=h(),S=i(),f=r();export{l as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{isNone as e,isSome as i}from\"../../../../core/maybe.js\";import n from\"../../support/debugFlags.js\";class s{constructor(t,e,i,n=2048){this.text=t,this._alignment=e,this._parameters=i,this._maxSize=n,this._textWidths=[],this._lineWidths=[],this._renderPixelRatio=null,this._displayWidth=null,this._heightMetricsCached=null,this.key=`TextRenderer-${this._parameters.key}-${this._alignment}--${t}`,this._lines=t.split(/\\r?\\n/)}get displayWidth(){return Math.ceil(this._ensureTextWidth()+2*this._backgroundHorizontalPadding)}get displayHeight(){const t=this._lineSpacing*(this._lines.length-1),e=this._lineHeight;return Math.ceil(t+e+2*this._haloSize+this._backgroundTopPadding+this._backgroundBottomPadding)}get renderedWidth(){return Math.ceil(this._toRenderUnit(this.displayWidth))}get renderedHeight(){return Math.ceil(this._toRenderUnit(this.displayHeight))}get firstRenderedBaselinePosition(){return this._toRenderUnit(this._firstLineYOffset+this._baselinePosition)}get _firstLineYOffset(){return this._backgroundTopPadding+this._haloSize}get _heightMetrics(){return this._ensureHeightMetrics()}get _lineSpacing(){return(this._lineHeight+this._linePadding)*this._parameters.definition.lineSpacingFactor}get _lineHeight(){return this._heightMetrics.lineHeight}get _linePadding(){return this._lineHeight*d}get _baselinePosition(){return this._heightMetrics.baselinePosition}get _renderedFontSize(){return this._toRenderUnit(this._fontSize)}get _fontSize(){return this._parameters.definition.size}get _renderedHaloSize(){return this._toRenderUnit(this._haloSize)}get _haloSize(){return this._parameters.haloSize}get _backgroundHorizontalPadding(){return this._hasBackground?this._parameters.definition.background.padding[0]:0}get _backgroundVerticalPadding(){return this._hasBackground?this._parameters.definition.background.padding[1]:0}get _backgroundTopPadding(){return Math.max(0,this._backgroundVerticalPadding-this._heightMetrics.paddingTop)}get _backgroundBottomPadding(){return Math.max(0,this._backgroundVerticalPadding-this._heightMetrics.paddingBottom)}get _hasBackground(){return!!this._parameters.backgroundStyle}get renderPixelRatio(){if(e(this._renderPixelRatio)){const t=this._parameters.definition.pixelRatio;this._maxSize>0?this._renderPixelRatio=Math.min(t,Math.min(this._maxSize/this.displayWidth,this._maxSize/this.displayHeight)):this._renderPixelRatio=t}return this._renderPixelRatio}_getLineXOffset(t){switch(this._alignment){case h.Left:return this._backgroundHorizontalPadding;case h.Center:return(this.displayWidth-this._lineWidths[t])/2;case h.Right:return this.displayWidth-this._backgroundHorizontalPadding-this._lineWidths[t]}}render(t,e=0,i=0){t.save();const s=e/=this.renderPixelRatio,r=i/=this.renderPixelRatio,h=this._haloSize,o=this._firstLineYOffset;e+=h,i+=o+this._baselinePosition;const a=this._haloSize>0;a&&this._renderHalo(t,s,r,h,o),this._setFontProperties(t,this._renderedFontSize);for(let n=0;n<this._lines.length;++n){const s=this._lines[n],r=this._getLineXOffset(n);a&&(t.globalCompositeOperation=\"destination-out\",t.fillStyle=\"rgb(0, 0, 0)\",this._fillText(t,s,e+r,i),this._renderLineDecoration(t,e+r,i,this._textWidths[n])),t.globalCompositeOperation=\"source-over\",t.fillStyle=this._parameters.textStyle,this._fillText(t,s,e+this._getLineXOffset(n),i),this._renderLineDecoration(t,e+r,i,this._textWidths[n]),i+=this._lineSpacing}if(n.TEXT_SHOW_BASELINE){t.strokeStyle=_,t.setLineDash([2,2]),t.lineWidth=1;let e=r+o;for(let i=0;i<this._lines.length;++i){const i=e+this._baselinePosition;this._drawLine(t,[s,i],[s+this.displayWidth,i]),e+=this._lineSpacing}}if(n.TEXT_SHOW_BORDER&&(t.strokeStyle=_,t.setLineDash([]),t.lineWidth=1,this._drawBox(t,[s,r],[this.displayWidth,this.displayHeight])),this._hasBackground){const e=this._parameters.definition.background.borderRadius*this.renderPixelRatio;this._roundedRect(t,s,r,e),t.globalCompositeOperation=\"destination-over\",t.fillStyle=this._parameters.backgroundStyle,t.fill()}t.restore()}_renderLineDecoration(t,e,i,n,s=!1){if(\"none\"===this._parameters.definition.font.decoration||0===n)return;const r=1,h=Math.max(this._parameters.definition.size/16,r);switch(this._parameters.definition.font.decoration){case\"underline\":i+=2*h;break;case\"line-through\":i-=.33*this._baselinePosition}const o=s?this._haloSize:0;t.strokeStyle=s?this._parameters.haloStyle:this._parameters.textStyle,t.lineWidth=this._toRenderUnit(h+2*o),t.beginPath(),t.moveTo(this._toRenderUnit(e-o),this._toRenderUnit(i)),t.lineTo(this._toRenderUnit(e+n+o),this._toRenderUnit(i)),t.stroke()}_roundedRect(e,i,n,s){i=this._toRenderUnit(i),n=this._toRenderUnit(n);const r=this.renderedWidth,h=this.renderedHeight;0!==s?(s=t(s,0,Math.floor(h/2)),e.beginPath(),e.moveTo(i,n+s),e.arcTo(i,n,i+s,n,s),e.lineTo(i+r-s,n),e.arcTo(i+r,n,i+r,n+s,s),e.lineTo(i+r,n+h-s),e.arcTo(i+r,n+h,i+r-s,n+h,s),e.lineTo(i+s,n+h),e.arcTo(i,n+h,i,n+h-s,s),e.closePath()):e.rect(i,n,r,h)}_renderHalo(t,e,i,n,s){const r=this.renderedWidth,h=this.renderedHeight,d=o(a,Math.max(r,l),Math.max(h,l)),_=d.getContext(\"2d\");_.clearRect(0,0,r,h),this._setFontProperties(_,this._renderedFontSize),_.fillStyle=this._parameters.haloStyle,_.strokeStyle=this._parameters.haloStyle;const g=this._renderedHaloSize<3;_.lineJoin=g?\"miter\":\"round\",g?this._renderHaloEmulated(_,n,s):this._renderHaloNative(_,n,s);let c=s+this._baselinePosition;for(let o=0;o<this._lines.length;++o){const t=this._getLineXOffset(o);this._renderLineDecoration(_,n+t,c,this._textWidths[o],!0),c+=this._lineSpacing}t.globalAlpha=this._parameters.definition.halo.color[3],t.drawImage(d,0,0,r,h,this._toRenderUnit(e),this._toRenderUnit(i),r,h),t.globalAlpha=1}_renderHaloEmulated(t,e,i){i+=this._baselinePosition;for(let n=0;n<this._lines.length;++n){const s=this._lines[n],h=this._getLineXOffset(n);for(const[n,o]of r)this._fillText(t,s,e+h+this._haloSize*n,i+this._haloSize*o);i+=this._lineSpacing}}_renderHaloNative(t,e,i){const n=2*this._haloSize;i+=this._baselinePosition;for(let s=0;s<this._lines.length;++s){const r=this._lines[s],h=this._getLineXOffset(s),o=5,a=.1;for(let s=0;s<o;s++){const d=1-(o-1)*a+s*a;t.lineWidth=this._toRenderUnit(d*n),this._strokeText(t,r,e+h,i)}i+=this._lineSpacing}}_setFontProperties(t,e){t.font=this._parameters.fontString(e),t.textAlign=\"left\",t.textBaseline=\"alphabetic\"}_ensureTextWidth(){if(i(this._displayWidth))return this._displayWidth;const t=o(a,l,l).getContext(\"2d\");this._setFontProperties(t,this._fontSize);let e=2*this._haloSize;const n=this._parameters.definition.font;\"italic\"!==n.style&&\"oblique\"!==n.style&&\"bold\"!==n.weight&&\"bolder\"!==n.weight||(e+=.3*t.measureText(\"A\").width),this._textWidths.length=0,this._lineWidths.length=0;let s=0;for(const i of this._lines){const n=t.measureText(i).width,r=n+e;this._textWidths.push(n),this._lineWidths.push(r),s=Math.max(s,r)}return this._displayWidth=s,this._displayWidth}_ensureHeightMetrics(){if(e(this._heightMetricsCached)){const t=o(a,l,l).getContext(\"2d\");this._setFontProperties(t,this._fontSize);const e=t.measureText(this.text+g),i=this._hasBackground?t.measureText(this._lines[0]):e,n=1===this._lines.length?i:this._hasBackground?t.measureText(this._lines[this._lines.length-1]):e,s=e.actualBoundingBoxAscent+e.actualBoundingBoxDescent;this._heightMetricsCached={paddingTop:e.actualBoundingBoxAscent-i.actualBoundingBoxAscent,paddingBottom:e.actualBoundingBoxDescent-n.actualBoundingBoxDescent,lineHeight:s,baselinePosition:e.actualBoundingBoxAscent}}return this._heightMetricsCached}_toRenderUnit(t){return t*this.renderPixelRatio}_toRoundedRenderUnit(t){return Math.round(t*this.renderPixelRatio)}_fillText(t,e,i,n){t.fillText(e,this._toRenderUnit(i),this._toRenderUnit(n))}_strokeText(t,e,i,n){t.strokeText(e,this._toRenderUnit(i),this._toRenderUnit(n))}_drawLine(t,e,i){t.beginPath(),t.moveTo(this._toRoundedRenderUnit(e[0])+.5,this._toRoundedRenderUnit(e[1])+.5),t.lineTo(this._toRoundedRenderUnit(i[0])+.5,this._toRoundedRenderUnit(i[1])+.5),t.stroke()}_drawBox(t,e,i){const n=this._toRenderUnit(e[0]),s=this._toRenderUnit(e[1]),r=this._toRenderUnit(i[0]),h=this._toRenderUnit(i[1]),o=Math.floor(n)+.5,a=Math.ceil(n+r)-.5,d=Math.floor(s)+.5,l=Math.ceil(s+h)-.5;t.beginPath(),t.moveTo(o,d),t.lineTo(a,d),t.lineTo(a,l),t.lineTo(o,l),t.lineTo(o,d),t.stroke()}}const r=[];{const t=16;for(let e=0;e<360;e+=360/t)r.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}var h;function o(t,e,i){return t.canvas||(t.canvas=document.createElement(\"canvas\")),t.canvas.width=e,t.canvas.height=i,t.canvas}!function(t){t[t.Left=0]=\"Left\",t[t.Center=1]=\"Center\",t[t.Right=2]=\"Right\"}(h||(h={}));const a={canvas:null},d=.2,l=512,_=\"rgb(255, 0, 255, 0.5)\",g=(()=>{let t=\"\";for(let e=32;e<127;e++)t+=String.fromCharCode(e);return t})();export{h as TextRenderAlignment,s as TextRenderer,o as getTextHelperCanvas};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{f as t}from\"../../../../chunks/vec2f64.js\";import{TextRenderAlignment as e}from\"../../webgl-engine/lib/TextRenderer.js\";const r=Object.freeze({left:0,center:.5,right:1}),o=Object.freeze({\"bottom-left\":t(0,0),bottom:t(.5,0),\"bottom-right\":t(1,0),left:t(0,.5),center:t(.5,.5),right:t(1,.5),\"top-left\":t(0,1),top:t(.5,1),\"top-right\":t(1,1)});function c(t){switch(t){case\"left\":return e.Left;case\"right\":return e.Right;default:return e.Center}}function n(t){switch(t){case\"bottom-left\":case\"left\":case\"top-left\":return\"left\";case\"bottom\":case\"center\":case\"top\":return\"center\";case\"bottom-right\":case\"right\":case\"top-right\":return\"right\"}}function s(t){switch(t){case\"bottom-left\":case\"bottom\":case\"bottom-right\":return\"bottom\";case\"left\":case\"center\":case\"right\":return\"center\";case\"top-left\":case\"top\":case\"top-right\":return\"top\"}}function i(t,e){switch(e){case\"bottom\":return\"left\"===t?\"bottom-left\":\"right\"===t?\"bottom-right\":\"bottom\";case\"center\":return t;case\"top\":return\"left\"===t?\"top-left\":\"right\"===t?\"top-right\":\"top\"}}function f(t){return\"middle\"===t?\"center\":t}export{i as anchorFromPlacements,n as horizontalPlacementFromAnchor,r as horizontalPlacementToAnchorX,o as namedAnchorToHUDMaterialAnchorPos,c as textRenderAlignmentFromHorizontalPlacement,f as verticalPlacementFromAlignment,s as verticalPlacementFromAnchor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{clamp as e}from\"../../../../core/mathUtils.js\";import{f as o}from\"../../../../chunks/mat3.js\";import{c as t}from\"../../../../chunks/mat3f64.js\";import{i,c as n,s as r,m as s,k as l,v as a,o as u,r as f,n as c}from\"../../../../chunks/mat4.js\";import{c as p}from\"../../../../chunks/mat4f64.js\";import{s as d}from\"../../../../chunks/vec3.js\";import{c as v}from\"../../../../chunks/vec3f64.js\";import{meterIn as z}from\"../../../../renderers/support/lengthUtils.js\";import m from\"../../support/debugFlags.js\";var S,y,h;function x(e){return null!=e}function b(e){return\"number\"==typeof e}function C(e){return\"string\"==typeof e}function g(e){return null==e||C(e)}function M(e,o){e&&e.push(o)}function V(e,o,t,i=p()){const n=e||0,r=o||0,s=t||0;return 0!==n&&u(i,i,-n/180*Math.PI),0!==r&&f(i,i,r/180*Math.PI),0!==s&&c(i,i,s/180*Math.PI),i}function D(e,o,t,i,n){const r=e.minSize,s=e.maxSize;if(e.expression)return M(n,\"Could not convert size info: expression not supported\"),!1;if(e.useSymbolValue){const e=i.symbolSize[t];return o.minSize[t]=e,o.maxSize[t]=e,o.offset[t]=o.minSize[t],o.factor[t]=0,o.type[t]=S.DefinedSize,!0}if(x(e.field))return x(e.stops)?2===e.stops.length&&b(e.stops[0].size)&&b(e.stops[1].size)?(T(e.stops[0].size,e.stops[1].size,e.stops[0].value,e.stops[1].value,o,t),o.type[t]=S.DefinedSize,!0):(M(n,\"Could not convert size info: stops only supported with 2 elements\"),!1):b(r)&&b(s)&&x(e.minDataValue)&&x(e.maxDataValue)?(T(r,s,e.minDataValue,e.maxDataValue,o,t),o.type[t]=S.DefinedSize,!0):null!=z[e.valueUnit]?(o.minSize[t]=-1/0,o.maxSize[t]=1/0,o.offset[t]=0,o.factor[t]=1/z[e.valueUnit],o.type[t]=S.DefinedSize,!0):\"unknown\"===e.valueUnit?(M(n,\"Could not convert size info: proportional size not supported\"),!1):(M(n,\"Could not convert size info: scale-dependent size not supported\"),!1);if(!x(e.field)){if(e.stops&&e.stops[0]&&b(e.stops[0].size))return o.minSize[t]=e.stops[0].size,o.maxSize[t]=e.stops[0].size,o.offset[t]=o.minSize[t],o.factor[t]=0,o.type[t]=S.DefinedSize,!0;if(b(r))return o.minSize[t]=r,o.maxSize[t]=r,o.offset[t]=r,o.factor[t]=0,o.type[t]=S.DefinedSize,!0}return M(n,\"Could not convert size info: unsupported variant of sizeInfo\"),!1}function T(e,o,t,i,n,r){const s=Math.abs(i-t)>0?(o-e)/(i-t):0;n.minSize[r]=s>0?e:o,n.maxSize[r]=s>0?o:e,n.offset[r]=e-t*s,n.factor[r]=s}function U(e,o,t,i){if(e.normalizationField||e.valueRepresentation)return M(i,\"Could not convert size info: unsupported property\"),null;if(!g(e.field))return M(i,\"Could not convert size info: field is not a string\"),null;if(o.size){if(e.field)if(o.size.field){if(e.field!==o.size.field)return M(i,\"Could not convert size info: multiple fields in use\"),null}else o.size.field=e.field}else o.size={field:e.field,minSize:[0,0,0],maxSize:[0,0,0],offset:[0,0,0],factor:[0,0,0],type:[S.Undefined,S.Undefined,S.Undefined]};let n;switch(e.axis){case\"width\":return n=D(e,o.size,0,t,i),n?o:null;case\"height\":return n=D(e,o.size,2,t,i),n?o:null;case\"depth\":return n=D(e,o.size,1,t,i),n?o:null;case\"width-and-depth\":return n=D(e,o.size,0,t,i),n&&D(e,o.size,1,t,i),n?o:null;case null:case void 0:case\"all\":return n=D(e,o.size,0,t,i),n=n&&D(e,o.size,1,t,i),n=n&&D(e,o.size,2,t,i),n?o:null;default:return M(i,`Could not convert size info: unknown axis \"${e.axis}\"\"`),null}}function E(e,o,t){for(let n=0;n<3;++n){let t=o.unitInMeters;e.type[n]===S.DefinedSize&&(t*=o.modelSize[n],e.type[n]=S.DefinedScale),e.minSize[n]=e.minSize[n]/t,e.maxSize[n]=e.maxSize[n]/t,e.offset[n]=e.offset[n]/t,e.factor[n]=e.factor[n]/t}let i;if(e.type[0]!==S.Undefined)i=0;else if(e.type[1]!==S.Undefined)i=1;else{if(e.type[2]===S.Undefined)return M(t,\"No size axis contains a valid size or scale\"),!1;i=2}for(let n=0;n<3;++n)e.type[n]===S.Undefined&&(e.minSize[n]=e.minSize[i],e.maxSize[n]=e.maxSize[i],e.offset[n]=e.offset[i],e.factor[n]=e.factor[i],e.type[n]=e.type[i]);return!0}function O(e,o,t){e[4*o+0]=t.r/255,e[4*o+1]=t.g/255,e[4*o+2]=t.b/255,e[4*o+3]=t.a}function j(e,o,t){if(e.normalizationField)return M(t,\"Could not convert color info: unsupported property\"),null;if(C(e.field)){if(!e.stops)return M(t,\"Could not convert color info: missing stops or colors\"),null;{if(e.stops.length>8)return M(t,\"Could not convert color info: too many color stops\"),null;o.color={field:e.field,values:[0,0,0,0,0,0,0,0],colors:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};const i=e.stops;for(let e=0;e<8;++e){const t=i[Math.min(e,i.length-1)];o.color.values[e]=t.value,O(o.color.colors,e,t.color)}}}else{if(!(e.stops&&e.stops.length>=0))return M(t,\"Could not convert color info: no field and no colors/stops\"),null;{const t=e.stops&&e.stops.length>=0&&e.stops[0].color;o.color={field:null,values:[0,0,0,0,0,0,0,0],colors:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};for(let e=0;e<8;e++)o.color.values[e]=1/0,O(o.color.colors,e,t)}}return o}function k(e,o,t){if(e.normalizationField)return M(t,\"Could not convert opacity info: unsupported property\"),null;if(C(e.field)){if(!e.stops)return M(t,\"Could not convert opacity info: missing stops or opacities\"),null;{if(e.stops.length>8)return M(t,\"Could not convert opacity info: too many opacity stops\"),null;o.opacity={field:e.field,values:[0,0,0,0,0,0,0,0],opacityValues:[0,0,0,0,0,0,0,0]};const i=e.stops;for(let e=0;e<8;++e){const t=i[Math.min(e,i.length-1)];o.opacity.values[e]=t.value,o.opacity.opacityValues[e]=t.opacity}}}else{if(!(e.stops&&e.stops.length>=0))return M(t,\"Could not convert opacity info: no field and no opacities/stops\"),null;{const t=e.stops&&e.stops.length>=0&&e.stops[0].opacity;o.opacity={field:null,values:[0,0,0,0,0,0,0,0],opacityValues:[0,0,0,0,0,0,0,0]};for(let e=0;e<8;e++)o.opacity.values[e]=1/0,o.opacity.opacityValues[e]=t}}return o}function w(e,o,t){const i=2===t&&\"arithmetic\"===e.rotationType;o.offset[t]=i?90:0,o.factor[t]=i?-1:1,o.type[t]=1}function F(e,o,t){if(!C(e.field))return M(t,\"Could not convert rotation info: field is not a string\"),null;if(o.rotation){if(e.field)if(o.rotation.field){if(e.field!==o.rotation.field)return M(t,\"Could not convert rotation info: multiple fields in use\"),null}else o.rotation.field=e.field}else o.rotation={field:e.field,offset:[0,0,0],factor:[1,1,1],type:[0,0,0]};switch(e.axis){case\"tilt\":return w(e,o.rotation,0),o;case\"roll\":return w(e,o.rotation,1),o;case null:case void 0:case\"heading\":return w(e,o.rotation,2),o;default:return M(t,`Could not convert rotation info: unknown axis \"${e.axis}\"\"`),null}}function A(e,o,t){if(!e)return null;const i=!o.supportedTypes||!!o.supportedTypes.size,n=!o.supportedTypes||!!o.supportedTypes.color,r=!o.supportedTypes||!!o.supportedTypes.rotation,s=!!o.supportedTypes&&!!o.supportedTypes.opacity,l=e.reduce(((e,l)=>{if(!e)return e;if(l.valueExpression)return M(t,\"Could not convert visual variables: arcade expressions not supported\"),null;switch(l.type){case\"size\":return i?U(l,e,o,t):e;case\"color\":return n?j(l,e,t):e;case\"opacity\":return s?k(l,e,t):null;case\"rotation\":return r?F(l,e,t):e;default:return null}}),{size:null,color:null,opacity:null,rotation:null});return!(e.length>0&&l)||l.size||l.color||l.opacity||l.rotation?l&&l.size&&!E(l.size,o,t)?null:l:null}function I(e){return e&&null!=e.size}function P(e,o){if(!e)return{enabled:!1};if(m.TESTS_DISABLE_FAST_UPDATES)return{enabled:!1};const t=A(e.visualVariables,o);return t?{enabled:!0,visualVariables:t,materialParameters:q(t,o),requiresShaderTransformation:I(t)}:{enabled:!1}}function R(e,o,t){if(!o||!e.enabled)return!1;const i=e.visualVariables,n=A(o.visualVariables,t);return!!n&&(!!(_(i.size,n.size,\"size\")&&_(i.color,n.color,\"color\")&&_(i.rotation,n.rotation,\"rotation\")&&_(i.opacity,n.opacity,\"opacity\"))&&(e.visualVariables=n,e.materialParameters=q(n,t),e.requiresShaderTransformation=I(n),!0))}function _(e,o,t){if(!!e!=!!o)return!1;if(e&&e.field!==o.field)return!1;if(e&&\"rotation\"===t){const t=e,i=o;for(let e=0;e<3;e++)if(t.type[e]!==i.type[e]||t.offset[e]!==i.offset[e]||t.factor[e]!==i.factor[e])return!1}return!0}function q(e,n){const r={vvSizeEnabled:!1,vvSizeMinSize:null,vvSizeMaxSize:null,vvSizeOffset:null,vvSizeFactor:null,vvSizeValue:null,vvColorEnabled:!1,vvColorValues:null,vvColorColors:null,vvOpacityEnabled:!1,vvOpacityValues:null,vvOpacityOpacities:null,vvSymbolAnchor:null,vvSymbolRotationMatrix:null},s=I(e);return e&&e.size?(r.vvSizeEnabled=!0,r.vvSizeMinSize=e.size.minSize,r.vvSizeMaxSize=e.size.maxSize,r.vvSizeOffset=e.size.offset,r.vvSizeFactor=e.size.factor):e&&s&&(r.vvSizeValue=n.transformation.scale),e&&s&&(r.vvSymbolAnchor=n.transformation.anchor,r.vvSymbolRotationMatrix=t(),i($),V(n.transformation.rotation[2],n.transformation.rotation[0],n.transformation.rotation[1],$),o(r.vvSymbolRotationMatrix,$)),e&&e.color&&(r.vvColorEnabled=!0,r.vvColorValues=e.color.values,r.vvColorColors=e.color.colors),e&&e.opacity&&(r.vvOpacityEnabled=!0,r.vvOpacityValues=e.opacity.values,r.vvOpacityOpacities=e.opacity.opacityValues),r}!function(e){e[e.Undefined=0]=\"Undefined\",e[e.DefinedSize=1]=\"DefinedSize\",e[e.DefinedScale=2]=\"DefinedScale\"}(S||(S={})),function(e){e[e.Undefined=0]=\"Undefined\",e[e.DefinedAngle=1]=\"DefinedAngle\"}(y||(y={})),function(o){const t=p(),i=v();function u(o,u,f){if(!o.vvSizeEnabled)return f;n(t,f);const c=o.vvSymbolRotationMatrix;r($,c[0],c[1],c[2],0,c[3],c[4],c[5],0,c[6],c[7],c[8],0,0,0,0,1),s(t,t,$);for(let t=0;t<3;++t){const n=o.vvSizeOffset[t]+u[0]*o.vvSizeFactor[t];i[t]=e(n,o.vvSizeMinSize[t],o.vvSizeMaxSize[t])}return l(t,t,i),a(t,t,o.vvSymbolAnchor),t}function f(o,t,i){if(!t.vvSizeEnabled)return d(o,1,1,1);for(let n=0;n<3;++n){const r=t.vvSizeOffset[n]+i[0]*t.vvSizeFactor[n];o[n]=e(r,t.vvSizeMinSize[n],t.vvSizeMaxSize[n])}return o}o.evaluateModelTransform=u,o.evaluateModelTransformScale=f}(h||(h={}));const $=p(),B=h.evaluateModelTransform,L=h.evaluateModelTransformScale;export{y as FastRotationType,S as FastSizeType,A as convertVisualVariables,B as evaluateModelTransform,L as evaluateModelTransformScale,q as getMaterialParams,P as initFastSymbolUpdatesState,R as updateFastSymbolUpdatesState};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import\"../../../../symbols.js\";import{result as t}from\"../../../../core/asyncUtils.js\";import r from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import{isSome as i,get as s,isNone as a,unwrapOr as o,releaseMaybe as n,unwrap as l}from\"../../../../core/maybe.js\";import{throwIfAbortError as c,throwIfAborted as h}from\"../../../../core/promiseUtils.js\";import{pt2px as m,px2pt as u}from\"../../../../core/screenUtils.js\";import{dataComponents as d,isSVG as _}from\"../../../../core/urlUtils.js\";import{c as p}from\"../../../../chunks/mat4f64.js\";import{f,a as y}from\"../../../../chunks/vec2f64.js\";import{Z as g,O as x,f as S}from\"../../../../chunks/vec3f64.js\";import{c as b}from\"../../../../chunks/vec4.js\";import{f as v,c as z}from\"../../../../chunks/vec4f64.js\";import{projectPointToVector as P}from\"../../../../geometry/projection.js\";import{containsPoint as R}from\"../../../../geometry/support/aaBoundingBox.js\";import{createRendererExpression as C}from\"../../../../support/arcadeOnDemand.js\";import{defaultPrimitive as M}from\"../../../../symbols/support/IconSymbol3DLayerResource.js\";import{getIconHref as j}from\"../../../../symbols/support/utils.js\";import I from\"../../../2d/arcade/callExpressionWithFeature.js\";import{TRANSPARENT_UNIT as w}from\"./constants.js\";import{perObjectElevationAligner as O}from\"./ElevationAligners.js\";import{SymbolUpdateType as T,elevationModeChangeUpdateType as E,needsElevationUpdates2D as U}from\"./elevationAlignmentUtils.js\";import{ElevationContext as L}from\"./ElevationContext.js\";import D from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as F}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as A}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as G}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as V}from\"./interfaces.js\";import{namedAnchorToHUDMaterialAnchorPos as B}from\"./placementUtils.js\";import{placePointOnGeometry as N,createStageObjectForHUD as k,extendPointGraphicElevationContext as q}from\"./pointUtils.js\";import{initFastSymbolUpdatesState as H,updateFastSymbolUpdatesState as W,evaluateModelTransform as $}from\"../support/FastSymbolUpdates.js\";import{createTexture as Z,DEFAULT_SYMBOL_SIZE_RATIO as J,DEFAULT_TEX_SIZE as K}from\"../../support/engineContent/sdfPrimitives.js\";import{DRAPED_Z as Q}from\"../../terrain/OverlayRenderer.js\";import{PowerOfTwoResizeMode as X}from\"../../webgl-engine/lib/basicInterfaces.js\";import{createPointGeometry as Y}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderGeometry as ee}from\"../../webgl-engine/lib/RenderGeometry.js\";import{Texture as te}from\"../../webgl-engine/lib/Texture.js\";import{HUDMaterial as re}from\"../../webgl-engine/materials/HUDMaterial.js\";import ie from\"../../../../symbols/CIMSymbol.js\";const se=p(),ae=S(0,0,1),oe=16,ne=1.5,le=J,ce=[le/2,le/2,1-le/2,1-le/2],he=[K*le,K*le];class me extends A{constructor(e,t,r,i){super(e,t,r,i),this._cimLayers=null,this._cimSymbolMaterials=new Map,this._cimSymbolTextures=new Map,this._cimMaterialParametersInfo=null,this._cimRequiredFields=null,this._cimScaleFactorOrFunction=null,this._size=null,this._symbolTextureRatio=1,this._outlineSize=0,this._elevationOptions={supportsOffsetAdjustment:!0,supportsOnTheGround:!0}}getCachedSize(){return{size:this._getIconSize()}}async doLoad(e){this._validateOrThrow();const t=this._prepareMaterialParameters(),r=this._getPrimitive();if(i(r))this._prepareResourcesPrimitive(t,r);else{const r=j(this.symbol,this.symbolLayer),i=d(r);i&&\"application/json\"===i.mediaType?await this._prepareResourcesCIM(t,JSON.parse(i.data),e):await this._prepareResourcesHref(t,r,e)}}_validateOrThrow(){if(this._drivenProperties.size)return;const e=G(this._getIconSize());if(e)throw new r(\"graphics3diconsymbollayer:invalid-size\",e)}_getIconSize(){const e=this.symbolLayer,t=Math.round(null!=e.size?m(e.size):oe);return this._drivenProperties.size?Math.max(t,64):t}_generateTextureCIM(e){const t=this._getGraphicHash(e);let r=\"\"===t?null:this._cimSymbolTextures.get(t);if(!r){const i={scaleFactor:this._cimScaleFactorOrFunction},s=this._context.sharedResources.cimSymbolRasterizer.rasterizeCIMSymbol3D(this._cimLayers,e,\"esriGeometryPoint\",i,null,null);this._cimMaterialParametersInfo.anchorPosition=this._getAnchorPos(\"relative\",s.anchorPosition);const a={width:s.imageData.width,height:s.imageData.height,powerOfTwoResizeMode:X.PAD};r=new te(s.imageData,a),this._cimSymbolTextures.set(t,r),this._context.stage.add(r)}return r}_computeSize(e,t){const r=e.width/e.height;return r>1?[t,Math.round(t/r)]:[Math.round(t*r),t]}_prepareMaterialParameters(){const e={anchorPosition:this._getAnchorPos(this.symbolLayer.anchor,this.symbolLayer.anchorPosition)},t=this.symbol;if(ue(t)){const{screenLength:r,minWorldLength:s,maxWorldLength:a}=t.verticalOffset;e.verticalOffset={screenLength:m(r),minWorldLength:s||0,maxWorldLength:i(a)?a:1/0}}return this._context.screenSizePerspectiveEnabled&&(e.screenSizePerspective=this._context.sharedResources.screenSizePerspectiveSettings),e.occlusionTest=!0,e.hasSlicePlane=this._context.slicePlaneEnabled,e}_prepareResourcesPrimitive(e,t){const r=this._getOutlineSize();if(de(t)&&0===r)throw new Error(\"Nothing to render\");if(this._outlineSize=r,e.color=this._getFillColor(),e.outlineColor=this._getOutlineColor(),e.outlineSize=this._outlineSize,i(this._context.sharedResources.textures)){const r=this._context.sharedResources.textures.fromData(`${t}-icon`,(()=>Z(t)));this._texture=r.texture,this._releaseTexture=r,e.textureId=this._texture.id}e.textureIsSignedDistanceField=!0,e.distanceFieldBoundingBox=ce;const s=this._getIconSize();this._size=[s,s],this._symbolTextureRatio=1/le,this._createMaterialAndAddToStage(e,this._context.stage)}async _prepareResourcesHref(e,s,a){if(!has(\"esri-canvas-svg-support\")&&_(s)){throw new r(\"graphics3diconsymbollayer:unsupported-image-format\",\"IconSymbol3DLayer failed to load (SVG symbols are not supported in IE11)\")}this._outlineSize=this._getOutlineSize(),e.color=this._getFillColor(),e.outlineColor=this._getOutlineColor(),e.outlineSize=this._outlineSize,e.textureIsSignedDistanceField=!1;const o=this._getIconSize(),n=o*this._context.graphicsCoreOwner.view.state.pixelRatio;if(i(this._context.sharedResources.textures)){const i=await t(this._context.sharedResources.textures.fromUrl(s,n,{signal:a}));if(!1===i.ok){c(i.error);throw new r(\"graphics3diconsymbollayer:request-failed\",`Failed to load (Request for icon resource failed: ${s})`)}this._releaseTexture=i.value;const l=i.value.texture,h=l.params;this._size=this._computeSize(h,o),e.textureId=l.id}this._createMaterialAndAddToStage(e,this._context.stage)}async _prepareResourcesCIM(e,t,r){const i=new ie({data:t});if(!this._context.sharedResources.cimSymbolRasterizer){const e=(await import(\"../../../../symbols/cim/CIMSymbolRasterizer.js\")).CIMSymbolRasterizer;h(r),this._context.sharedResources.cimSymbolRasterizer||(this._context.sharedResources.cimSymbolRasterizer=new e(this._context.renderCoordsHelper.spatialReference,!0))}const s=this._context.layer.fields?this._context.layer.fields.map((e=>e.toJSON())):null;let a,o;if(this._cimLayers=await this._context.sharedResources.cimSymbolRasterizer.analyzeCIMSymbol(i,s,this._context.renderer&&\"dictionary\"===this._context.renderer.type?this._context.renderer.fieldMap:null,\"esriGeometryPoint\",{signal:r}),this._context.renderer&&\"dictionary\"===this._context.renderer.type&&this._context.renderer.scaleExpression){const e=this._context.renderer;if(isNaN(e.scaleExpression)){const t=e.scaleExpression,r=await C(t,this._context.layer.spatialReference,s);o=(e,t,i)=>{const s=I(r,e,{$view:i},\"esriGeometryPoint\",t);return null!==s?s:1}}else a=Number(e.scaleExpression)}this._cimScaleFactorOrFunction=a||o||1;const n=this._context.renderer?await this._context.renderer.getRequiredFields(this._context.layer.fieldsIndex):[];h(r);const l=this._context.layer.fieldsIndex;this._cimRequiredFields=n.map((e=>l.get(e).name)),this._cimMaterialParametersInfo=e,this._cimMaterialParametersInfo.color=this._getFillColor(),this._cimMaterialParametersInfo.outlineColor=[0,0,0,0],this._cimMaterialParametersInfo.outlineSize=0,this._cimMaterialParametersInfo.textureIsSignedDistanceField=!1}_getPrimitive(){return this.symbolLayer.resource&&this.symbolLayer.resource.href?null:this.symbolLayer.resource&&this.symbolLayer.resource.primitive||M}_getOutlineSize(){let e=0;const t=this.symbolLayer;if(i(t.outline)&&null!=t.outline.size)return Math.max(m(t.outline.size),0);return e=de(this._getPrimitive())?ne:0,Math.max(e,0)}_getOutlineColor(){const t=this._getLayerOpacity(),r=this.symbolLayer,a=s(r,\"outline\",\"color\");if(i(a)){const r=e.toUnitRGB(a),i=a.a*t;return[r[0],r[1],r[2],i]}return[0,0,0,0]}_getFillColor(){if(de(this._getPrimitive()))return w;const e=a(this._getPrimitive()),t=s(this.symbolLayer,\"material\",\"color\");return this._getCombinedOpacityAndColor(t,{hasIntrinsicColor:e})}_getAnchorPos(e,t){return\"relative\"===e?f((t.x||0)+.5,.5-(t.y||0)):e in B?B[e]:B.center}_createMaterialAndAddToStage(e,t){if(this._cimLayers?this._fastUpdates={enabled:!1}:this._fastUpdates=H(this._context.renderer,this._fastVisualVariableConvertOptions()),this._fastUpdates.enabled&&Object.assign(e,this._fastUpdates.materialParameters),this._cimLayers){let r=i(e.textureId)?this._cimSymbolMaterials.get(e.textureId):null;return r||(r=new re(e),this._cimSymbolMaterials.set(o(e.textureId,0),r),t.add(r)),r}return this._material=new re(e),t.add(this._material),this._material}_setDrapingDependentMaterialParameters(){this.draped&&(this._forEachMaterial((e=>{e.setParameters({verticalOffset:null,screenSizePerspective:null,occlusionTest:!1,hasSlicePlane:!1,shaderPolygonOffset:0,isDraped:this.draped})})),this.layerOpacityChanged())}destroy(){super.destroy(),this._forEachMaterial((e=>this._context.stage.remove(e))),this._material=null,this._cimSymbolMaterials.clear(),this._cimSymbolTextures.forEach((e=>this._context.stage.remove(e))),this._cimSymbolTextures.clear(),this._releaseTexture=n(this._releaseTexture)}_getScaleFactor(e,t){if(this._drivenProperties.size&&e.size){for(let t=0;t<3;t++){const r=e.size[t];r&&\"symbol-value\"!==r&&\"proportional\"!==r&&(e.size[t]=m(r))}if(\"symbol-value\"===e.size[0])return 1;if(isFinite(+e.size[0]))return+e.size[0]/t;if(isFinite(+e.size[2]))return+e.size[2]/t}return 1}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry))return null;let r,i;if(this._cimLayers){if(!this._cimLayers.length)return null;const e=this._generateTextureCIM(t),s={textureId:e.id,...this._cimMaterialParametersInfo};i=this._createMaterialAndAddToStage(s,this._context.stage),r=[e.params.width,e.params.height]}else r=this._size,i=l(this._material);const s=N(t.geometry);if(a(s))return this.logger.warn(`unsupported geometry type for icon symbol: ${t.geometry.type}`),null;const o=e.renderingInfo,n=this._getVertexOpacityAndColor(o);let c=1;if(!this._fastUpdates.enabled||!this._fastUpdates.visualVariables.size){const e=r[0]>r[1]?r[0]:r[1];c=this._getScaleFactor(o,e)}c*=this._symbolTextureRatio;const h=[r[0]*c,r[1]*c],m=this.setGraphicElevationContext(t,new L);return this.ensureDrapedStatus(\"on-the-ground\"===m.mode)&&this._setDrapingDependentMaterialParameters(),this.draped?this._createAsOverlay(t,s,i,n,h,e.layer.uid):this._createAs3DShape(t,s,i,n,h,m,t.uid)}layerOpacityChanged(){const e=this._getFillColor(),t=this._getOutlineColor();this._forEachMaterial((r=>{r.setParameters({color:e}),r.setParameters({outlineColor:t})}))}layerElevationInfoChanged(e,t,r){const i=this._elevationContext.mode,s=E(me.elevationModeChangeTypes,r,i);if(s!==T.UPDATE)return s;const a=U(i)||\"absolute-height\"===i;return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>a))}slicePlaneEnabledChanged(){return this.draped||this._forEachMaterial((e=>{e.setParameters({hasSlicePlane:this._context.slicePlaneEnabled})})),!0}physicalBasedRenderingChanged(){return!0}pixelRatioChanged(){return!!this._getPrimitive()}applyRendererDiff(e,t){for(const r in e.diff){if(\"visualVariables\"!==r)return V.Recreate_Symbol;if(!W(this._fastUpdates,t,this._fastVisualVariableConvertOptions()))return V.Recreate_Symbol;i(this._material)&&this._material.setParameters(this._fastUpdates.materialParameters)}return V.Fast_Update}_defaultElevationInfoNoZ(){return _e}_createAs3DShape(e,t,r,i,s,a,o){const n=this.getFastUpdateAttrValues(e),l=n?e=>$(this._fastUpdates.materialParameters,n,e):null,c=this._context.stage.renderView._getObjectAndLayerIdColor({graphicUid:o,layerUid:this._context.layer.uid}),h=[Y(ae,null,i,s,pe,null,n,c)],m=k(this._context,t,h,[r],a,this._context.layer.uid,o,l);if(null===m)return null;const u=new F(this,m.object,h,null,null,O,a);return u.alignedSampledElevation=m.sampledElevation,u.needsElevationUpdates=U(a.mode)||\"absolute-height\"===a.mode,u.getScreenSize=this._createScreenSizeGetter(s,l),u.calculateRelativeScreenBounds=e=>r.calculateRelativeScreenBounds(u.getScreenSize(),1,e),q(u,t,this._context.elevationProvider),u}_createAsOverlay(e,t,r,s,a,o){r.renderPriority=this._renderPriority;const n=z();P(t,n,this._context.overlaySR),n[2]=Q;const l=this._context.clippingExtent;if(i(l)&&!R(l,n))return null;const c=this.getFastUpdateAttrValues(e),h=c?e=>$(this._fastUpdates.materialParameters,c,e):null,m=this._context.stage.renderView._getObjectAndLayerIdColor({graphicUid:e.uid,layerUid:this._context.layer.uid}),u=Y(ae,n,s,a,null,null,c,m),d=new ee(u,r,{layerUid:o,graphicUid:e.uid,calculateShaderTransformation:h});n[3]=0,b(d.boundingSphere,n);const _=new D(this,[d],null,this._context.drapeSourceRenderer);return _.getScreenSize=this._createScreenSizeGetter(a,h),_.calculateRelativeScreenBounds=e=>r.calculateRelativeScreenBounds(_.getScreenSize(),1,e),_}_createScreenSizeGetter(e,t){const r=this._outlineSize+2;if(this._fastUpdates.enabled){const i=e[0]/this._symbolTextureRatio,s=e[1]/this._symbolTextureRatio;return(e=y())=>{const a=t(se);return e[0]=a[0]*i+r,e[1]=a[5]*s+r,e}}{const t=e[0]/this._symbolTextureRatio+r,i=e[1]/this._symbolTextureRatio+r;return(e=y())=>(e[0]=t,e[1]=i,e)}}_fastVisualVariableConvertOptions(){const e=this._size[0]>this._size[1]?this._size[0]:this._size[1],t=S(e,e,e),r=u(1),i=e*r;return{modelSize:t,symbolSize:S(i,i,i),unitInMeters:r,transformation:{anchor:g,scale:x,rotation:g}}}_getGraphicHash(e){let t=\"\";for(const r of this._cimRequiredFields)t+=r+e.attributes[r];return t}_forEachMaterial(e){i(this._material)&&e(this._material),this._cimSymbolMaterials.forEach(e)}test(){return{...super.test(),material:this._material}}}function ue(e){return e&&\"point-3d\"===e.type&&e.hasVisibleVerticalOffset()}function de(e){return!a(e)&&(\"cross\"===e||\"x\"===e)}me.PRIMITIVE_SIZE=he,me.elevationModeChangeTypes={definedChanged:T.UPDATE,staysOnTheGround:T.NONE,onTheGroundChanged:T.RECREATE};const _e={mode:\"relative-to-ground\",offset:0},pe=v(0,0,0,1);export{me as Graphics3DIconSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{CapType as e}from\"../../webgl-engine/shaders/RibbonLineTechniqueConfiguration.js\";function n(n){switch(n){case\"butt\":return e.BUTT;case\"square\":return e.SQUARE;case\"round\":return e.ROUND;default:return null}}function r(e){return\"diamond\"===e?\"kite\":e}export{n as parseCapType,r as parseLineMarkerStyle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../core/shaderTechnique/ShaderTechnique.js\";import{blendingDefault as r,oitBlending as n,oitDepthTest as l,oitDepthWrite as s}from\"../lib/OrderIndependentTransparency.js\";import{Program as o}from\"../lib/Program.js\";import{RenderSlot as a}from\"../lib/RenderSlot.js\";import{stencilWriteMaskOn as c,stencilToolMaskBaseParams as p,stencilBaseAllZerosParams as u,depthCompareAlways as d,stencilToolTransparentOccluderParams as h,stencilWriteMaskOff as T,stencilToolMaskOccluderParams as m,depthCompareLess as P}from\"../lib/StencilUtils.js\";import{TransparencyPassType as f}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as g}from\"../lib/VertexAttribute.js\";import{L as O}from\"../../../../chunks/LineMarker.glsl.js\";import{makePipelineState as S,defaultDepthWriteParams as A,defaultColorWriteParams as E}from\"../../../webgl/renderState.js\";const R=new Map([[g.POSITION,0],[g.UV0,2],[g.AUXPOS1,3],[g.NORMAL,4],[g.COLOR,5],[g.COLORFEATUREATTRIBUTE,5],[g.SIZE,6],[g.SIZEFEATUREATTRIBUTE,6],[g.OPACITYFEATUREATTRIBUTE,7]]);class b extends i{initializeProgram(e){return new o(e.rctx,b.shader.get().build(this.configuration),R)}_makePipelineState(t,i){const o=this.configuration,a=t===f.NONE;return S({blending:o.output===e.Color||o.output===e.Alpha?a?r:n(t):null,depthTest:{func:l(t)},depthWrite:a?o.writeDepth&&A:s(t),colorWrite:E,stencilWrite:o.hasOccludees?c:null,stencilTest:o.hasOccludees?i?p:u:null,polygonOffset:{factor:0,units:-10}})}initializePipeline(){return this.configuration.occluder&&(this._occluderPipelineTransparent=S({blending:r,depthTest:d,depthWrite:null,colorWrite:E,stencilWrite:null,stencilTest:h}),this._occluderPipelineOpaque=S({blending:r,depthTest:d,depthWrite:null,colorWrite:E,stencilWrite:T,stencilTest:m}),this._occluderPipelineMaskWrite=S({blending:null,depthTest:P,depthWrite:null,colorWrite:null,stencilWrite:c,stencilTest:p})),this._occludeePipelineState=this._makePipelineState(this.configuration.transparencyPassType,!0),this._makePipelineState(this.configuration.transparencyPassType,!1)}getPipelineState(e,t){return t?this._occludeePipelineState:this.configuration.occluder?e===a.TRANSPARENT_OCCLUDER_MATERIAL?this._occluderPipelineTransparent:e===a.OCCLUDER_MATERIAL?this._occluderPipelineOpaque:this._occluderPipelineMaskWrite:super.getPipelineState(e,t)}}b.shader=new t(O,(()=>import(\"./LineMarker.glsl.js\")));export{b as LineMarkerTechnique,R as vertexAttributeLocations};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{s as t,F as r,m as a}from\"../../../../chunks/vec3.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{newLayout as i}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as n}from\"../core/shaderLibrary/ShaderOutput.js\";import{GLTextureMaterial as o}from\"../lib/GLTextureMaterial.js\";import{Material as h,RenderOccludedFlag as c}from\"../lib/Material.js\";import{RenderSlot as u}from\"../lib/RenderSlot.js\";import{VertexAttribute as l}from\"../lib/VertexAttribute.js\";import{VisualVariablePassParameters as p}from\"./VisualVariablePassParameters.js\";import{vertexAttributeLocations as m,LineMarkerTechnique as d}from\"../shaders/LineMarkerTechnique.js\";import{LineMarkerTechniqueConfiguration as A,LineMarkerSpace as f,LineMarkerAnchor as E}from\"../shaders/LineMarkerTechniqueConfiguration.js\";import{CapType as T}from\"../shaders/RibbonLineTechniqueConfiguration.js\";class v extends h{constructor(e){super(e,new S),this._vertexAttributeLocations=m,this._configuration=new A,this._layout=this.createLayout()}dispose(){}getConfiguration(e,t){return this._configuration.output=e,this._configuration.space=t.slot===u.DRAPED_MATERIAL?f.Draped:this.parameters.worldSpace?f.World:f.Screen,this._configuration.hideOnShortSegments=this.parameters.hideOnShortSegments,this._configuration.hasCap=this.parameters.cap!==T.BUTT,this._configuration.anchor=this.parameters.anchor,this._configuration.hasTip=this.parameters.hasTip,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.vvColor=this.parameters.vvColorEnabled,this._configuration.vvOpacity=this.parameters.vvOpacityEnabled,this._configuration.vvSize=this.parameters.vvSizeEnabled,this._configuration.occluder=this.parameters.renderOccluded===c.OccludeAndTransparentStencil,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.hasMultipassTerrain=t.multipassTerrain.enabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}intersect(){}createLayout(){const e=i().vec3f(l.POSITION).vec2f(l.UV0).vec3f(l.AUXPOS1);return this.parameters.worldSpace&&e.vec3f(l.NORMAL),this.parameters.vvSizeEnabled?e.f32(l.SIZEFEATUREATTRIBUTE):e.f32(l.SIZE),this.parameters.vvColorEnabled?e.f32(l.COLORFEATUREATTRIBUTE):e.vec4f(l.COLOR),this.parameters.vvOpacityEnabled&&e.f32(l.OPACITYFEATUREATTRIBUTE),e}createBufferWriter(){return new O(this._layout,this.parameters)}requiresSlot(e,t){if(t===n.Color||t===n.Alpha||t===n.Highlight||t===n.Depth){if(e===u.DRAPED_MATERIAL)return!0;if(this.parameters.renderOccluded===c.OccludeAndTransparentStencil)return e===u.OPAQUE_MATERIAL||e===u.OCCLUDER_MATERIAL||e===u.TRANSPARENT_OCCLUDER_MATERIAL;if(t===n.Color||t===n.Alpha){return e===(this.parameters.writeDepth?u.TRANSPARENT_MATERIAL:u.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL)}return e===u.OPAQUE_MATERIAL}return!1}createGLMaterial(e){return new _(e)}}class _ extends o{_updateParameters(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(d,e)}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&this._material.setParameters({hasOccludees:e.hasOccludees})}beginSlot(e){return this._output!==n.Color&&this._output!==n.Alpha||this._updateOccludeeState(e),this._updateParameters(e)}}class S extends p{constructor(){super(...arguments),this.width=0,this.color=[1,1,1,1],this.placement=\"end\",this.cap=T.BUTT,this.anchor=E.Center,this.hasTip=!1,this.worldSpace=!1,this.hideOnShortSegments=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.vvFastUpdate=!1,this.hasOccludees=!1}}class O{constructor(e,t){this.vertexBufferLayout=e,this._parameters=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(){return\"begin-end\"===this._parameters.placement?12:6}write(s,i,n,o,h){const c=n.vertexAttributes.get(l.POSITION).data,u=c.length/3;let p=[1,0,0];const m=n.vertexAttributes.get(l.NORMAL);this._parameters.worldSpace&&e(m)&&(p=m.data);let d=1,A=0;this._parameters.vvSizeEnabled?A=n.vertexAttributes.get(l.SIZEFEATUREATTRIBUTE).data[0]:n.vertexAttributes.has(l.SIZE)&&(d=n.vertexAttributes.get(l.SIZE).data[0]);let f=[1,1,1,1],E=0;this._parameters.vvColorEnabled?E=n.vertexAttributes.get(l.COLORFEATUREATTRIBUTE).data[0]:n.vertexAttributes.has(l.COLOR)&&(f=n.vertexAttributes.get(l.COLOR).data);let T=0;this._parameters.vvOpacityEnabled&&(T=n.vertexAttributes.get(l.OPACITYFEATUREATTRIBUTE).data[0]);const v=new Float32Array(o.buffer);let _=h*(this.vertexBufferLayout.stride/4);const S=(e,t,r,a)=>{if(v[_++]=e[0],v[_++]=e[1],v[_++]=e[2],v[_++]=r[0],v[_++]=r[1],v[_++]=t[0],v[_++]=t[1],v[_++]=t[2],this._parameters.worldSpace&&(v[_++]=p[0],v[_++]=p[1],v[_++]=p[2]),this._parameters.vvSizeEnabled?v[_++]=A:v[_++]=d,this._parameters.vvColorEnabled)v[_++]=E;else{const e=Math.min(4*a,f.length-4);v[_++]=f[e+0],v[_++]=f[e+1],v[_++]=f[e+2],v[_++]=f[e+3]}this._parameters.vvOpacityEnabled&&(v[_++]=T)};let O;!function(e){e[e.ASCENDING=1]=\"ASCENDING\",e[e.DESCENDING=-1]=\"DESCENDING\"}(O||(O={}));const R=(e,i)=>{const n=t(b,c[3*e],c[3*e+1],c[3*e+2]),o=g;let h=e+i;do{t(o,c[3*h],c[3*h+1],c[3*h+2]),h+=i}while(r(n,o)&&h>=0&&h<u);s&&(a(n,n,s),a(o,o,s)),S(n,o,[-1,-1],e),S(n,o,[1,-1],e),S(n,o,[1,1],e),S(n,o,[-1,-1],e),S(n,o,[1,1],e),S(n,o,[-1,1],e)},I=this._parameters.placement;\"begin\"!==I&&\"begin-end\"!==I||R(0,O.ASCENDING),\"end\"!==I&&\"begin-end\"!==I||R(u-1,O.DESCENDING)}}const b=s(),g=s();export{v as LineMarkerMaterial,S as Parameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import e from\"../../../../core/Error.js\";import{isSome as t,applySome as r,isNone as a,releaseMaybe as i,unwrapOr as s,get as o,unwrap as n}from\"../../../../core/maybe.js\";import{px2pt as l,pt2px as h}from\"../../../../core/screenUtils.js\";import{I as p}from\"../../../../chunks/mat4f64.js\";import{s as c}from\"../../../../chunks/vec4.js\";import{f as d,d as m}from\"../../../../chunks/vec4f64.js\";import{create as _,empty as u,expandWithBuffer as y,intersectsClippingArea as g,expandWithAABB as f}from\"../../../../geometry/support/aaBoundingBox.js\";import{getDriverAxisSizeValueAny as C}from\"../../../../renderers/support/renderingInfoUtils.js\";import{sharedGeometryElevationAligner as M}from\"./ElevationAligners.js\";import{SymbolUpdateType as b,elevationModeChangeUpdateType as v,needsElevationUpdates2D as w}from\"./elevationAlignmentUtils.js\";import{ElevationContext as E}from\"./ElevationContext.js\";import L from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as P}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as x,getAttributeValue as k}from\"./Graphics3DSymbolLayer.js\";import{ApplyRendererDiffResult as S}from\"./interfaces.js\";import{parseLineMarkerStyle as D,parseCapType as U}from\"./lineUtils.js\";import{initFastSymbolUpdatesState as A,updateFastSymbolUpdatesState as R}from\"../support/FastSymbolUpdates.js\";import j from\"../../support/debugFlags.js\";import{createGeometry as z}from\"../../support/engineContent/line.js\";import{prepareMarkerResources as O}from\"../../support/engineContent/marker.js\";import{geometryToRenderInfo as G,geometryToRenderInfoDraped as V}from\"../../support/renderInfoUtils/line.js\";import{Object3D as I}from\"../../webgl-engine/lib/Object3D.js\";import{RenderGeometry as T}from\"../../webgl-engine/lib/RenderGeometry.js\";import{LineMarkerMaterial as F}from\"../../webgl-engine/materials/LineMarkerMaterial.js\";import{getStipplePatternForLinePattern as W}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{RibbonLineMaterial as B}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import H from\"../../../../geometry/Extent.js\";import N from\"../../../../geometry/Polygon.js\";const q=[\"polyline\",\"polygon\",\"extent\"];class J extends x{constructor(e,t,r,a){super(e,t,r,a)}async doLoad(){if(this._vvConvertOptions={modelSize:[1,1,1],symbolSize:[1,1,1],unitInMeters:1,transformation:{anchor:[0,0,0],scale:[1,1,1],rotation:[0,0,0]},supportedTypes:{size:!0,color:!0,opacity:!0,rotation:!1}},this._context.renderer&&this._context.renderer.visualVariables&&this._context.renderer.visualVariables.length>0?this._fastUpdates=A(this._context.renderer,this._vvConvertOptions):this._fastUpdates={enabled:!1},!this._drivenProperties.size){if((null!=this.symbolLayer.size?this.symbolLayer.size:l(1))<0)throw new e(\"graphics3dlinesymbollayer:invalid-size\",\"Symbol sizes may not be negative values\")}this._markerTexture=t(this.symbolLayer.marker)&&t(this._context.sharedResources.textures)?O(this._context.sharedResources.textures,D(this.symbolLayer.marker.style)):null}_getMaterialParameters(e,t=!1){const r=this._getCombinedOpacityAndColor(t&&this._markerColor||this._materialColor);this._patternHidesLine&&!t&&(r[3]=0);const a={width:this._computeMaterialWidth(this.symbolLayer?.size),color:r,hasPolygonOffset:!0,join:this.symbolLayer.join||\"miter\",cap:U(this.symbolLayer.cap||\"butt\"),hasSlicePlane:this._context.slicePlaneEnabled,isClosed:e,stipplePattern:W(this.symbolLayer.pattern),stippleScaleWithLineWidth:!0};return this._fastUpdates&&this._fastUpdates.visualVariables?{...a,...this._fastUpdates.materialParameters}:a}get _materialColor(){return r(this.symbolLayer.material,(e=>e.color))}get _markerColor(){return r(this.symbolLayer.marker,(e=>e.color))}get _lineMaterial(){return a(this._lineMaterialCached)&&(this._lineMaterialCached=new B(this._getMaterialParameters(!1)),this._context.stage.add(this._lineMaterialCached)),this._lineMaterialCached}get _ringMaterial(){return a(this._ringMaterialCached)&&(this._ringMaterialCached=new B(this._getMaterialParameters(!0)),this._context.stage.add(this._ringMaterialCached)),this._ringMaterialCached}get _wireframeLineMaterial(){return a(this._wireframeLineMaterialCached)&&(this._wireframeLineMaterialCached=new B({...this._getMaterialParameters(!1),wireframe:!0}),this._context.stage.add(this._wireframeLineMaterialCached)),this._wireframeLineMaterialCached}get _wireframeRingMaterial(){return a(this._wireframeRingMaterialCached)&&(this._wireframeRingMaterialCached=new B({...this._getMaterialParameters(!0),wireframe:!0}),this._context.stage.add(this._wireframeRingMaterialCached)),this._wireframeRingMaterialCached}get _markerMaterial(){return a(this._markerMaterialCached)&&t(this.symbolLayer.marker)&&t(this._markerTexture)&&(this._markerMaterialCached=new F({...this._getMaterialParameters(!1,!0),placement:this.symbolLayer.marker.placement,textureId:this._markerTexture.texture.id}),this._context.stage.add(this._markerMaterialCached)),this._markerMaterialCached}destroy(){super.destroy(),this._forEachMaterial((e=>this._context.stage.remove(e))),this._lineMaterialCached=null,this._ringMaterialCached=null,this._wireframeLineMaterialCached=null,this._wireframeRingMaterialCached=null,this._markerMaterialCached=null,this._markerTexture=i(this._markerTexture)}_getDrivenSize(e){return this._drivenProperties.size&&e.size?h(C(e.size)):1}_getSizeFeatureAttributeData(e){return this._fastUpdates.enabled&&this._fastUpdates.visualVariables.size?k(this._fastUpdates.visualVariables.size.field,e):null}_getDrivenColor(e){const t=d(1,1,1,1);return this._drivenProperties.color&&e.color&&(t[0]=e.color[0],t[1]=e.color[1],t[2]=e.color[2],e.color.length>0&&(t[3]=e.color[3])),this._drivenProperties.opacity&&e.opacity&&(t[3]=e.opacity),t}_getColorFeatureAttributeData(e){return this._fastUpdates.enabled&&this._fastUpdates.visualVariables.color?k(this._fastUpdates.visualVariables.color.field,e):null}_getOpacityFeatureAttributeData(e){return this._fastUpdates.enabled&&this._fastUpdates.visualVariables.opacity?k(this._fastUpdates.visualVariables.opacity.field,e):null}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,q,this.symbolLayer.type))return null;const r=this.setGraphicElevationContext(t,new E);return this.ensureDrapedStatus(\"on-the-ground\"===r.mode),this.draped?this._createAsOverlay(e,this._context.layer.uid):this._createAs3DShape(e,r,t.uid)}applyRendererDiff(e,t){for(const r in e.diff){if(\"visualVariables\"!==r)return S.Recreate_Symbol;if(!R(this._fastUpdates,t,this._vvConvertOptions))return S.Recreate_Symbol;this._forEachMaterial((e=>e.setParameters(this._fastUpdates.materialParameters)))}return S.Fast_Update}prepareSymbolLayerPatch(e){if(\"partial\"!==e.diff.type)return;const t=e.diff.diff,r={};\"complete\"===t.size?.type&&(r.width=this._computeMaterialWidth(t.size.newValue),delete t.size),\"complete\"===t.cap?.type&&(r.cap=U(s(t.cap.newValue,\"butt\")),delete t.cap);const a=this._prepareMarkerPatch(e,t);this._prepareMaterialPatch(e,t,a),e.symbolLayerStatePatches.push((()=>this._forEachMaterial((e=>e.setParameters(r)))))}layerOpacityChanged(){this._forEachMaterial(((e,t)=>this._updateMaterialLayerOpacity(e,t)))}_forEachMaterial(e){t(this._lineMaterialCached)&&e(this._lineMaterialCached),t(this._ringMaterialCached)&&e(this._ringMaterialCached),t(this._wireframeLineMaterialCached)&&e(this._wireframeLineMaterialCached),t(this._wireframeRingMaterialCached)&&e(this._wireframeRingMaterialCached),t(this._markerMaterialCached)&&e(this._markerMaterialCached,!0)}_updateMaterialLayerOpacity(e,t=!1){const r=e.parameters.color,a=o(this.symbolLayer,\"material\",\"color\"),i=this._patternHidesLine&&!t?0:this._getCombinedOpacity(a),s=d(r[0],r[1],r[2],i);e.setParameters({color:s})}layerElevationInfoChanged(e,t,r){const a=this._elevationContext.mode,i=v(J.elevationModeChangeTypes,r,a);if(i!==b.UPDATE)return i;const s=w(a);return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>s))}slicePlaneEnabledChanged(){const e={hasSlicePlane:this._context.slicePlaneEnabled};return this._forEachMaterial((t=>t.setParameters(e))),!0}physicalBasedRenderingChanged(){return!0}pixelRatioChanged(){return!0}_getGeometryAsPolygonOrPolyline(e){switch(e.type){case\"extent\":if(e instanceof H)return N.fromExtent(e);break;case\"polygon\":case\"polyline\":return e}return null}_createAs3DShape(e,r,a){const i=e.graphic,s=this._getGeometryAsPolygonOrPolyline(i.geometry),o=\"polygon\"===s.type?s.rings:s.paths,n=new Array,l=new Array,h=new Array,c=_(),d=G(s,this._context.elevationProvider,this._context.renderCoordsHelper,r),m=\"polygon\"===s.type?\"rings\":\"paths\";this._logGeometryCreationWarnings(d,o,m,\"LineSymbol3DLayer\");for(let _=0;_<d.lines.length;_++){const{position:r,mapPosition:i}=d.lines[_];if(t(this._context.clippingExtent)&&(u(c),y(c,i),!g(c,this._context.clippingExtent)))continue;const o=this._createGeometry(e,r,i,s.type,K.ELEVATED,a);n.push(o),l.push(\"polygon\"===s.type?this._ringMaterial:this._lineMaterial),h.push(p),j.LINE_WIREFRAMES&&(n.push(o.cloneShallow()),l.push(\"polygon\"===s.type?this._wireframeRingMaterial:this._wireframeLineMaterial),h.push(p));const m=this._markerMaterial;t(m)&&(n.push(o.cloneShallow()),l.push(m),h.push(p))}if(0===n.length)return null;const f=new I({geometries:n,materials:l,transformations:h,castShadow:!1,metadata:{layerUid:this._context.layer.uid,graphicUid:a}}),C=new P(this,f,n,null,null,M,r);return C.alignedSampledElevation=d.sampledElevation,C.needsElevationUpdates=w(r.mode),C}_createGeometry(e,t,r,a,i,s){const o=\"polygon\"===a,n=this._fastUpdates.enabled&&this._fastUpdates.visualVariables.color,l=this._fastUpdates.enabled&&this._fastUpdates.visualVariables.size,h=this._context.stage.renderView._getObjectAndLayerIdColor({graphicUid:s,layerUid:this._context.layer.uid});return z({overlayInfo:i===K.DRAPED?{spatialReference:this._context.overlaySR,renderCoordsHelper:this._context.renderCoordsHelper}:null,removeDuplicateStartEnd:o,attributeData:{position:t,mapPosition:r,size:l?null:this._getDrivenSize(e.renderingInfo),color:n?null:this._getDrivenColor(e.renderingInfo),sizeFeature:this._getSizeFeatureAttributeData(e.graphic),colorFeature:this._getColorFeatureAttributeData(e.graphic),opacityFeature:this._getOpacityFeatureAttributeData(e.graphic)}},h)}_createAsOverlay(e,r){const a=e.graphic,i=this._getGeometryAsPolygonOrPolyline(a.geometry),s=\"polygon\"===i.type?i.rings:i.paths,o=\"polygon\"===i.type?this._ringMaterial:this._lineMaterial;o.renderPriority=this._renderPriority;const l=j.LINE_WIREFRAMES?\"polygon\"===i.type?this._wireframeRingMaterial:this._wireframeLineMaterial:null,h=this._markerMaterial;t(l)&&(l.renderPriority=this._renderPriority-.001),t(h)&&(h.renderPriority=this._renderPriority-.002);const p=new Array,c=_(),d=u(),m=V(i,this._context.overlaySR),C=\"polygon\"===i.type?\"rings\":\"paths\";this._logGeometryCreationWarnings(m,s,C,\"LineSymbol3DLayer\");for(const _ of m.lines){if(u(c),y(c,_.position),!g(c,this._context.clippingExtent))continue;f(d,c);const s=this._createGeometry(e,_.position,null,i.type,K.DRAPED,a.uid),m=e=>{const t=new T(s,e,{layerUid:r,graphicUid:a.uid});return p.push(t),t};if(t(h)){const e=m(h),t=n(this.symbolLayer.marker).placement;\"begin\"!==t&&\"begin-end\"!==t||y(c,_.position,0,1),\"end\"!==t&&\"begin-end\"!==t||y(c,_.position,_.position.length-3,1),this._updateBoundingSphere(e,c)}const C=m(o);if(this._updateBoundingSphere(C,c),j.LINE_WIREFRAMES){const e=m(l);this._updateBoundingSphere(e,c)}}return new L(this,p,d,this._context.drapeSourceRenderer)}_updateBoundingSphere(e,t){c(e.boundingSphere,.5*(t[0]+t[3]),.5*(t[1]+t[4]),0,.5*Math.sqrt((t[3]-t[0])*(t[3]-t[0])+(t[4]-t[1])*(t[4]-t[1])))}get _patternHidesLine(){const e=this.symbolLayer.pattern;return t(e)&&\"style\"===e.type&&\"none\"===e.style}_computeMaterialWidth(e){return e=s(e,l(1)),this._drivenProperties.size?this._fastUpdates.enabled&&this._fastUpdates.visualVariables.size?h(1):1:h(e)}_prepareMaterialPatch(e,t,i){const s=t.material;if(a(s))return void(i.changed&&i.useMaterialColor&&this._patchMaterialColor(this._getCombinedOpacityAndColor(this._materialColor),this._markerMaterialCached,e));if(\"collection\"===s.type)return;const o=\"complete\"===s.type?r(s.newValue,(e=>e.color)):\"complete\"===s.diff.color.type?s.diff.color.newValue:null,n=this._getCombinedOpacityAndColor(o);i.useMaterialColor&&this._patchMaterialColor(m(n),this._markerMaterialCached,e),this._patternHidesLine&&(n[3]=0),this._patchMaterialColor(n,this._lineMaterialCached,e),delete t.material}_prepareMarkerPatch(e,r){const i=r.marker;if(a(i)||\"partial\"!==i.type||t(i.diff.style)||t(i.diff.placement)||t(i.diff.color)&&\"complete\"!==i.diff.color.type)return{changed:!1,useMaterialColor:a(this._markerColor)};const s=i.diff.color;if(a(s))return delete r.marker,{changed:!1,useMaterialColor:a(this._markerColor)};const o=n(s.newValue);return a(o)?(delete r.marker,{changed:!0,useMaterialColor:!0}):(this._patchMaterialColor(this._getCombinedOpacityAndColor(o),this._markerMaterialCached,e),delete r.marker,{changed:!0,useMaterialColor:!1})}_patchMaterialColor(e,t,r){a(t)||r.symbolLayerStatePatches.push((()=>t.setParameters({color:e})))}}var K;J.elevationModeChangeTypes={definedChanged:b.RECREATE,staysOnTheGround:b.NONE,onTheGroundChanged:b.RECREATE},function(e){e[e.DRAPED=0]=\"DRAPED\",e[e.ELEVATED=1]=\"ELEVATED\"}(K||(K={}));export{J as Graphics3DLineSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import\"../../../../core/has.js\";import{isSome as t,isNone as r,unwrapOr as a,get as o}from\"../../../../core/maybe.js\";import{f as s,t as n}from\"../../../../chunks/mat3.js\";import{c as i}from\"../../../../chunks/mat3f64.js\";import{f as l,m as u,a as c}from\"../../../../chunks/mat4.js\";import{b as m,c as h}from\"../../../../chunks/mat4f64.js\";import{a as f,g as p,e as d,n as g,b as x,f as _}from\"../../../../chunks/vec3.js\";import{Z as T,O as y,c as b}from\"../../../../chunks/vec3f64.js\";import{O as v}from\"../../../../chunks/vec4f64.js\";import{projectVectorToDehydratedPoint as C,projectBuffer as O,computeTranslationToOriginAndRotation as M,canProjectWithoutEngine as A}from\"../../../../geometry/projection.js\";import{create as w,empty as E,expandWithBuffer as N,intersectsClippingArea as j}from\"../../../../geometry/support/aaBoundingBox.js\";import R from\"../../../../geometry/support/MeshComponent.js\";import P from\"../../../../geometry/support/MeshMaterialMetallicRoughness.js\";import{BufferViewVec3f64 as I,BufferViewVec3f as B}from\"../../../../geometry/support/buffer/BufferView.js\";import{t as S,a as F}from\"../../../../chunks/vec32.js\";import{transformPosition as L,transformNormal as V,projectNormalToPCPF as U,transformTangent as G,projectTangentToPCPF as $}from\"../../../../geometry/support/meshUtils/projection.js\";import{makeDehydratedPoint as D}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{ViewingMode as k}from\"../../../ViewingMode.js\";import{getTransformMatrix as z}from\"../../glTF/internal/TextureTransformUtils.js\";import{perObjectElevationAligner as q}from\"./ElevationAligners.js\";import{needsElevationUpdates3D as H}from\"./elevationAlignmentUtils.js\";import{ElevationContext as W}from\"./ElevationContext.js\";import{Graphics3DObject3DGraphicLayer as Y}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as Z}from\"./Graphics3DSymbolLayer.js\";import{createMaterial as J}from\"../support/edgeUtils.js\";import{parseColorMixMode as K,encodeSymbolColor as Q}from\"../support/symbolColorUtils.js\";import X from\"../../support/debugFlags.js\";import{AlphaDiscardMode as ee,CullFaceOptions as te,PrimitiveType as re}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Geometry as ae}from\"../../webgl-engine/lib/Geometry.js\";import{generateDefaultIndexArray as oe}from\"../../webgl-engine/lib/Indices.js\";import{Object3D as se}from\"../../webgl-engine/lib/Object3D.js\";import{Texture as ne}from\"../../webgl-engine/lib/Texture.js\";import{VertexAttribute as ie}from\"../../webgl-engine/lib/VertexAttribute.js\";import{DefaultMaterial as le}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{NativeLineMaterial as ue}from\"../../webgl-engine/materials/NativeLineMaterial.js\";import{TextureWrapMode as ce}from\"../../../webgl/enums.js\";const me=[\"mesh\"];class he extends Z{constructor(e,t,r,a){super(e,t,r,a),this._materials=new Map,this._textures=new Map,this.ensureDrapedStatus(!1)}async doLoad(){X.DRAW_MESH_GEOMETRY_NORMALS&&(this._debugVertexNormalMaterial=new ue({color:[1,0,1,1]}),this._debugFaceNormalMaterial=new ue({color:[0,1,1,1]}))}destroy(){super.destroy(),this._context.stage.removeMany(Array.from(this._materials.values(),(e=>e.material))),this._context.stage.removeMany(Array.from(this._textures.values())),this._materials.clear(),this._textures.clear()}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,me,\"fill on mesh-3d\"))return null;const r=this.setGraphicElevationContext(t,new W),a=e.renderingInfo;return this._createAs3DShape(t,a,r,t.uid)}layerOpacityChanged(e,r){const a=this._getLayerOpacity();this._materials.forEach((e=>{e.material.setParameters({layerOpacity:a});const t=e.material.parameters;this._setMaterialTransparentParameter(t,e),e.material.setParameters({transparent:t.transparent})})),e.forEach((e=>{const o=r(e);t(o)&&o.layerOpacityChanged(a,this._context.isAsync)}))}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,H)}slicePlaneEnabledChanged(e,r){return this._materials.forEach((e=>{e.material.setParameters({hasSlicePlane:this._context.slicePlaneEnabled})})),e.forEach((e=>{const a=r(e);t(a)&&a.slicePlaneEnabledChanged(this._context.slicePlaneEnabled,this._context.isAsync)})),!0}physicalBasedRenderingChanged(){const e=this._usePBR();return this._materials.forEach((t=>t.material.setParameters({usePBR:e}))),!0}pixelRatioChanged(){return!0}_requiresSymbolVertexColors(){return this._drivenProperties.color||this._drivenProperties.opacity}_colorOrTextureUid(t){return r(t)?\"-\":t instanceof e?t.toHex():t.contentHash}_materialPropertiesDefault(e,t){const r=this._requiresSymbolVertexColors(),a=!!e.vertexAttributes.color,o=!!e.vertexAttributes.tangent;return{hasSymbolVertexColors:r,hasVertexColors:a,hasVertexTangents:o,uid:`vc:${a},vt:${o},vct${t},svc:${r}`}}_materialProperties(e,t,r){const a=this._materialPropertiesDefault(e,r);if(!t.material)return a;const{color:o,colorTexture:s,normalTexture:n,doubleSided:i,alphaCutoff:l,alphaMode:u}=t.material,c=this._colorOrTextureUid(o),m=this._colorOrTextureUid(s),h=this._colorOrTextureUid(n);if(a.color=o,a.colorTexture=s,a.normalTexture=n,a.uid=`${a.uid},cmuid:${c},ctmuid:${m},ntmuid:${h},ds:${i},ac:${l},am:${u}`,t.material instanceof P){const{metallic:e,roughness:r,metallicRoughnessTexture:o,emissiveColor:s,emissiveTexture:n,occlusionTexture:i}=t.material,l=this._colorOrTextureUid(o),u=this._colorOrTextureUid(s),c=this._colorOrTextureUid(n),m=this._colorOrTextureUid(i);a.metallic=e,a.roughness=r,a.metallicRoughnessTexture=o,a.emissiveColor=s,a.emissiveTexture=n,a.occlusionTexture=i,a.colorTextureTransform=t.material.colorTextureTransform,a.normalTextureTransform=t.material.normalTextureTransform,a.emissiveTextureTransform=t.material.emissiveTextureTransform,a.occlusionTextureTransform=t.material.occlusionTextureTransform,a.metallicRoughnessTextureTransform=t.material.metallicRoughnessTextureTransform,a.uid=`${a.uid},mrm:${e},mrr:${r},mrt:${l},emuid:${u},etmuid:${c},otmuid:${m}`}return a}_setInternalColorValueParameters(t,r){r.diffuse=e.toUnitRGB(t),r.opacity=t.a}_getLoadableTextureResource(e){return e.data?e.data:e.url}_getInternalTextureId(e){const r=this._getInternalTexture(e,ee.Opaque);return t(r)?r.id:null}_getInternalTexture(e,t){const r=this._getLoadableTextureResource(e);if(!r)return null;const a=`${e.contentHash}/${t}`;let o=this._textures.get(a);return o||(o=new ne(r,{mipmap:!0,wrap:this._castTextureWrap(e.wrap),noUnpackFlip:!0,preMultiplyAlpha:t!==ee.Opaque}),this._textures.set(a,o),this._context.stage.add(o),this._context.stage.loadImmediate(o)),o}_castTextureWrap(e=\"repeat\"){if(\"string\"==typeof e){const t=this._castTextureWrapIndividual(e);return{s:t,t}}return{s:this._castTextureWrapIndividual(e.horizontal),t:this._castTextureWrapIndividual(e.vertical)}}_castTextureWrapIndividual(e){switch(e){case\"clamp\":return ce.CLAMP_TO_EDGE;case\"mirror\":return ce.MIRRORED_REPEAT;default:return ce.REPEAT}}_setInternalMaterialParameters(r,a){if(t(r.color)&&this._setInternalColorValueParameters(r.color,a),t(r.colorTexture)){const e=this._getInternalTexture(r.colorTexture,a.textureAlphaMode);t(e)?(a.textureId=e.id,a.textureAlphaPremultiplied=!!e.params.preMultiplyAlpha):a.textureId=void 0}t(r.normalTexture)&&(a.normalTextureId=this._getInternalTextureId(r.normalTexture)),t(r.emissiveColor)&&(a.emissiveFactor=e.toUnitRGB(r.emissiveColor)),t(r.emissiveTexture)&&(a.emissiveTextureId=this._getInternalTextureId(r.emissiveTexture)),t(r.occlusionTexture)&&(a.occlusionTextureId=this._getInternalTextureId(r.occlusionTexture)),t(r.metallicRoughnessTexture)&&(a.metallicRoughnessTextureId=this._getInternalTextureId(r.metallicRoughnessTexture)),a.colorTextureTransformMatrix=z(r.colorTextureTransform),a.normalTextureTransformMatrix=z(r.normalTextureTransform),a.occlusionTextureTransformMatrix=z(r.occlusionTextureTransform),a.emissiveTextureTransformMatrix=z(r.emissiveTextureTransform),a.metallicRoughnessTextureTransformMatrix=z(r.metallicRoughnessTextureTransform)}_setExternalMaterialParameters(r){const a=this._drivenProperties.color;let o=t(this.symbolLayer.material)?this.symbolLayer.material.colorMixMode:null;if(a)r.externalColor=v;else{const a=t(this.symbolLayer.material)?this.symbolLayer.material.color:null;t(a)?r.externalColor=e.toUnitRGBA(a):(o=null,r.externalColor=v)}o&&(r.colorMixMode=o),r.castShadows=!!this.symbolLayer.castShadows}_hasTransparentVertexColors(e){const t=e.vertexAttributes.color;if(r(t))return!1;for(let r=3;r<t.length;r+=4)if(255!==t[r])return!0;return!1}_getOrCreateMaterial(e,r){const a=r.material?.color,o=r.material?.colorTexture,s=r.material?.alphaMode,n=\"blend\"===s,i=!(\"opaque\"===s)&&(this._hasTransparentVertexColors(e)||t(a)&&a.a<1||t(o)&&o.transparent||n),l=this._materialProperties(e,r,i),u=this._materials.get(l.uid);if(u)return u.material;const c={material:null,isComponentTransparent:i,alphaMode:r.material?r.material.alphaMode:\"opaque\"},m=null==l.metallicRoughnessTexture&&null==l.metallic&&null==l.roughness,h={usePBR:this._usePBR(),isSchematic:m,hasVertexColors:l.hasVertexColors,hasSymbolColors:l.hasSymbolVertexColors,hasVertexTangents:l.hasVertexTangents,ambient:T,diffuse:y,opacity:1,doubleSided:!0,doubleSidedType:\"winding-order\",cullFace:te.None,layerOpacity:this._getLayerOpacity(),hasSlicePlane:this._context.slicePlaneEnabled,initTextureTransparent:!0};m||(h.mrrFactors=[null!=l.metallic?l.metallic:1,null!=l.roughness?l.roughness:1,.5]),r.material&&(h.doubleSided=r.material.doubleSided,h.cullFace=r.material.doubleSided?te.None:te.Back,h.textureAlphaCutoff=r.material.alphaCutoff),this._setExternalMaterialParameters(h),this._setMaterialTransparentParameter(h,c),this._setInternalMaterialParameters(l,h);const f=new le(h);return c.material=f,this._materials.set(l.uid,c),this._context.stage.add(f),f}_usePBR(){return this._context.physicalBasedRenderingEnabled}_setMaterialTransparentParameter(e,t){e.transparent=this.needsDrivenTransparentPass||t.isComponentTransparent||e.layerOpacity<1||e.opacity<1||e.externalColor&&e.externalColor[3]<1,\"auto\"===t.alphaMode?e.textureAlphaMode=e.transparent?ee.MaskBlend:ee.Opaque:e.textureAlphaMode=\"opaque\"===t.alphaMode?ee.Opaque:\"mask\"===t.alphaMode?ee.Mask:ee.Blend}_addDebugNormals(e,t,r,a){const o=t.length,s=e.spatialReference.isGeographic?20015077/180:1,n=.1*Math.max(e.extent.width*s,e.extent.height*s,e.extent.zmax-e.extent.zmin),i=[],l=[],u=[],c=[];for(let m=0;m<o;m++){const e=t[m],r=e.vertexAttributes.get(ie.POSITION),a=e.vertexAttributes.get(ie.NORMAL),o=e.indices.get(ie.POSITION),s=e.indices.get(ie.NORMAL),h=r.data,d=a.data;for(let t=0;t<o.length;t++){const e=3*o[t],r=3*s[t];for(let t=0;t<3;t++)i.push(h[e+t]);for(let t=0;t<3;t++)i.push(h[e+t]+d[r+t]*n);if(l.push(l.length),l.push(l.length),t%3==0){this._calculateFaceNormal(h,o,t,xe),this._getFaceVertices(h,o,t,pe,de,ge),f(pe,pe,de),f(pe,pe,ge),p(pe,pe,1/3);for(let e=0;e<3;e++)u.push(pe[e]);for(let e=0;e<3;e++)u.push(pe[e]+xe[e]*n);c.push(c.length),c.push(c.length)}}}const h=new ae([[ie.POSITION,{data:i,size:3,exclusive:!0}]],[[ie.POSITION,l]],re.Line);t.push(h),r.push(this._debugVertexNormalMaterial),a.push(m(a[0]));const d=new ae([[ie.POSITION,{data:u,size:3,exclusive:!0}]],[[ie.POSITION,c]],re.Line);t.push(d),r.push(this._debugFaceNormalMaterial),a.push(m(a[0]))}_createAs3DShape(e,r,a,o){const s=e.geometry;if(\"mesh\"!==s.type)return null;const n=this._createGeometryInfo(s,r,o);if(!n)return null;const{geometries:i,materials:l,transformations:u,objectTransformation:c}=n;X.DRAW_MESH_GEOMETRY_NORMALS&&this._addDebugNormals(s,i,l,u);const m=new se({geometries:i,materials:l,transformations:u,metadata:{layerUid:this._context.layer.uid,graphicUid:o}});m.transformation=c;const h=this._createEdgeMaterial(),f=t(h)?{baseMaterial:l[0],edgeMaterials:[h],properties:{mergeGeometries:!0,hasSlicePlane:this._context.slicePlaneEnabled}}:null,p=new Y(this,m,i,null,null,q,a,f);return p.needsElevationUpdates=H(a.mode),p.useObjectOriginAsAttachmentOrigin=!0,p.elevationContext.centerPointInElevationSR=this._getCenterPointInElevationSR(m),p.alignedSampledElevation=q(p,p.elevationContext,this._context.elevationProvider,this._context.renderCoordsHelper),p}_getCenterPointInElevationSR(e){const r=D(0,0,0,t(this._context.elevationProvider.spatialReference)?this._context.elevationProvider.spatialReference:null);return C([e.transformation[12],e.transformation[13],e.transformation[14]],this._context.renderCoordsHelper.spatialReference,r),r}_createComponentNormals(e,t,r,a){switch(r.shading||\"flat\"){case\"source\":return this._createComponentNormalsSource(e,t,r,a);case\"flat\":return this._createComponentNormalsFlat(e,a);case\"smooth\":return this._createComponentNormalsSmooth(e,a);default:return}}_createComponentNormalsSource(e,t,a,o){if(r(t))return this._createComponentNormalsFlat(e,o);let s=!1;if(!a.trustSourceNormals)for(let r=0;r<o.length;r+=3){this._calculateFaceNormal(e,o,r,xe);for(let e=0;e<3;e++){const a=3*o[r+e];pe[0]=t[a+0],pe[1]=t[a+1],pe[2]=t[a+2],d(xe,pe)<0&&(t[a+0]=-t[a+0],t[a+1]=-t[a+1],t[a+2]=-t[a+2],s=!0)}}return{normals:t,indices:o,didFlipNormals:s}}_createComponentNormalsFlat(e,t){const r=new Float32Array(t.length),a=new Array(3*t.length);for(let o=0;o<t.length;o+=3){const s=this._calculateFaceNormal(e,t,o,xe);for(let e=0;e<3;e++)r[o+e]=s[e],a[o+e]=o/3}return{normals:r,indices:a,didFlipNormals:!1}}_createComponentNormalsSmooth(e,t){const r={};for(let s=0;s<t.length;s+=3){const a=this._calculateFaceNormal(e,t,s,xe);for(let e=0;e<3;e++){const o=t[s+e];let n=r[o];n||(n={normal:b(),count:0},r[o]=n),f(n.normal,n.normal,a),n.count++}}const a=new Float32Array(3*t.length),o=new Array(3*t.length);for(let s=0;s<t.length;s++){const e=r[t[s]];1!==e.count&&(g(e.normal,e.normal),e.count=1);for(let t=0;t<3;t++)a[3*s+t]=e.normal[t];o[s]=s}return{normals:a,indices:o,didFlipNormals:!1}}_getFaceVertices(e,t,r,a,o,s){const n=3*t[r+0],i=3*t[r+1],l=3*t[r+2];a[0]=e[n+0],a[1]=e[n+1],a[2]=e[n+2],o[0]=e[i+0],o[1]=e[i+1],o[2]=e[i+2],s[0]=e[l+0],s[1]=e[l+1],s[2]=e[l+2]}_calculateFaceNormal(e,t,r,a){return this._getFaceVertices(e,t,r,pe,de,ge),x(de,de,pe),x(ge,ge,pe),_(pe,de,ge),g(a,pe),a}_getOrCreateComponents(e){return a(e.components,be)}_createPositionBuffer(e,r){let a=e.vertexAttributes.position;const o=r.reprojection===ve.ECEF?r.transformBeforeProject:null;if(t(o)&&(a=L(a,new Float64Array(a.length),o)),r.reprojection===ve.NONE)return r.needsBufferCopy?new Float64Array(a):a;const s=t(o)?a:new Float64Array(a.length);return O(a,e.spatialReference,0,s,this._context.renderCoordsHelper.spatialReference,0,a.length/3),s}_createNormalBuffer(e,a,o){let s=e.vertexAttributes.normal;if(r(s))return null;const n=o.reprojection===ve.ECEF?o.transformBeforeProject:null;t(n)&&(s=V(s,new Float32Array(s.length),n));if(\"local\"===this._context.graphicsCoreOwner.view.viewingMode||o.reprojection===ve.NONE)return o.needsBufferCopy&&e.vertexAttributes.normal===s?new Float32Array(s):s;const i=e.vertexAttributes.position,l=t(n)?s:new Float32Array(s.length);return U(s,i,a,e.spatialReference,l)}_createTangentBuffer(e,a,o){let s=e.vertexAttributes.tangent;if(r(s))return null;const n=o.reprojection===ve.ECEF?o.transformBeforeProject:null;t(n)&&(s=G(s,new Float32Array(s.length),n));if(\"local\"===this._context.graphicsCoreOwner.view.viewingMode||o.reprojection===ve.NONE)return o.needsBufferCopy&&e.vertexAttributes.normal===s?new Float32Array(s):s;const i=e.vertexAttributes.position,l=t(n)?s:new Float32Array(s.length);return $(s,i,a,e.spatialReference,l)}_createColorBuffer(e){return e.vertexAttributes.color}_createSymbolColorBuffer(e){if(this._requiresSymbolVertexColors()){const t=this._getVertexOpacityAndColor(e),r=K(o(this.symbolLayer,\"material\",\"colorMixMode\")),a=new Uint8Array(4);return Q(t,r,a),a}return null}_createBuffers(e,r){const a=e.vertexAttributes&&e.vertexAttributes.position;if(!a)return this.logger.warn(\"Mesh geometry must contain position vertex attributes\"),null;const o=e.vertexAttributes.normal,s=e.vertexAttributes.uv,n=e.vertexAttributes.tangent;if(t(o)&&o.length!==a.length)return this.logger.warn(\"Mesh normal vertex buffer must contain the same number of elements as the position buffer\"),null;if(t(n)&&n.length/4!=a.length/3)return this.logger.warn(\"Mesh tangent vertex buffer must contain the same number of elements as the position buffer\"),null;if(t(s)&&s.length/2!=a.length/3)return this.logger.warn(\"Mesh uv vertex buffer must contain the same number of elements as the position buffer\"),null;const i=this._computeReprojectionInfo(e),l=this._createPositionBuffer(e,i),u=this._createColorBuffer(e),c=this._createSymbolColorBuffer(r),m=this._createNormalBuffer(e,l,i),f=this._createTangentBuffer(e,l,i);return{positionBuffer:l,normalBuffer:m,tangentBuffer:f,uvBuffer:s,colorBuffer:u,symbolColorBuffer:c,objectTransformation:i.reprojection===ve.NONE&&t(i.objectTransformation)?i.objectTransformation:this._transformOriginLocal(e,l,m,f),geometryTransformation:i.reprojection===ve.NONE&&t(i.geometryTransformation)?i.geometryTransformation:h()}}_computeReprojectionInfo(e){const r=t(e.transform),a=r&&e.transform.geographic||this._context.renderCoordsHelper.viewingMode===k.Local?ve.NONE:ve.ECEF;if(r){if(a===ve.NONE){const t=h();M(e.spatialReference,e.transform.origin,t,this._context.renderCoordsHelper.spatialReference);return{reprojection:a,objectTransformation:t,geometryTransformation:m(e.transform.localMatrix),needsBufferCopy:!1}}const t=l(h(),e.transform.origin);return u(t,t,e.transform.localMatrix),{reprojection:a,transformBeforeProject:t,needsBufferCopy:!0}}return{reprojection:a,needsBufferCopy:!0}}_transformOriginLocal(e,r,a,o){const i=this._context.renderCoordsHelper.spatialReference,l=e.anchor;fe[0]=l.x,fe[1]=l.y,fe[2]=l.z;const u=h();M(e.spatialReference,fe,u,i);const m=I.fromTypedArray(r);if(c(_e,u),S(m,m,_e),t(a)||t(o)){if(s(Te,u),n(Te,Te),t(a)){const e=B.fromTypedArray(a);F(e,e,Te)}if(t(o)){const e=B.fromTypedArray(o,4*o.BYTES_PER_ELEMENT);F(e,e,Te)}}return u}_validateFaces(e,t){const r=e.vertexAttributes.position.length/3,a=t.faces;if(a){let e=-1;for(let t=0;t<a.length;t++){const r=a[t];r>e&&(e=r)}if(r<=e)return this.logger.warn(`Vertex index ${e} is out of bounds of the mesh position buffer`),!1}else if(r%3!=0)return this.logger.warn(\"Mesh position buffer length must be a multiple of 9 if no component faces are defined (3 values per vertex * 3 vertices per triangle)\"),!1;return!0}_getOrCreateFaces(e,t){return t.faces?t.faces:oe(e.vertexAttributes.position.length/3)}_isOutsideClippingArea(e){if(!this._context.clippingExtent)return!1;const r=e.vertexAttributes&&e.vertexAttributes.position;if(!r)return!1;const a=this._context.elevationProvider.spatialReference;let o;const s=r.length/3;return t(a)&&!e.spatialReference.equals(a)?(o=new Float64Array(r.length),O(e.vertexAttributes.position,e.spatialReference,0,o,a,0,s)):o=r,E(ye),N(ye,o,0,s),!j(ye,this._context.clippingExtent)}_createGeometryInfo(e,a,o){if(!A(e.spatialReference,this._context.graphicsCoreOwner.view.spatialReference))return this.logger.warn(\"Geometry spatial reference is not compatible with the view\"),null;if(this._isOutsideClippingArea(e))return null;const s=this._createBuffers(e,a);if(r(s))return null;const{positionBuffer:n,uvBuffer:i,colorBuffer:l,symbolColorBuffer:u,normalBuffer:c,tangentBuffer:m,objectTransformation:h,geometryTransformation:f}=s,p=this._getOrCreateComponents(e),d=[],g=[],x=[];let _=!1;for(const r of p){if(!this._validateFaces(e,r))return null;const a=this._getOrCreateFaces(e,r);if(0===a.length)continue;const s=this._createComponentNormals(n,c,r,a);s.didFlipNormals&&(_=!0);const h=[[ie.POSITION,{size:3,data:n,exclusive:!0}],[ie.NORMAL,{size:3,data:s.normals,exclusive:!0}]],p=[[ie.POSITION,a],[ie.NORMAL,s.indices]];t(l)&&(h.push([ie.COLOR,{size:4,data:l,exclusive:!0}]),p.push([ie.COLOR,a])),t(u)&&(h.push([ie.SYMBOLCOLOR,{size:4,data:u,exclusive:!0}]),p.push([ie.SYMBOLCOLOR,new Array(a.length).fill(0)])),t(i)&&(h.push([ie.UV0,{size:2,data:i,exclusive:!0}]),p.push([ie.UV0,a])),t(m)&&(h.push([ie.TANGENT,{size:4,data:m,exclusive:!0}]),p.push([ie.TANGENT,a]));const T=this._context.stage.renderView._getObjectAndLayerIdColor({graphicUid:o,layerUid:this._context.layer.uid}),y=new ae(h,p,re.Triangle,T);d.push(y),g.push(f),x.push(this._getOrCreateMaterial(e,r))}return _&&this.logger.warn(\"Normals have been automatically flipped to be consistent with the counter clock wise face winding order. It is better to generate mesh geometries that have consistent normals.\"),{geometries:d,transformations:g,materials:x,objectTransformation:h}}_createEdgeMaterial(){const e={opacity:this._getLayerOpacity()};return J(this.symbolLayer,e)}}const fe=b(),pe=b(),de=b(),ge=b(),xe=b(),_e=h(),Te=i(),ye=w(),be=[new R];var ve;!function(e){e[e.NONE=0]=\"NONE\",e[e.ECEF=1]=\"ECEF\"}(ve||(ve={}));export{he as Graphics3DMeshFillSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{c as t}from\"../../../../chunks/mat4f64.js\";import{m as i,s as n}from\"../../../../chunks/vec3.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{empty as a,expandWithVec3 as r,create as o,isPoint as h,center as l,offset as c}from\"../../../../geometry/support/aaBoundingBox.js\";import{setContextFeature as d}from\"./featureExpressionInfoUtils.js\";import{demResolutionForBoundingBox as g}from\"./graphicUtils.js\";import{Object3DState as m}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3DStateID as u}from\"../../webgl-engine/lib/Object3DStateID.js\";class f{constructor(e,t,i,n){this.graphics3DSymbolLayer=e,this.instanceIndex=t,this.elevationAligner=i,this.elevationContext=n,this.type=\"lod-instance\",this._highlights=new Set,this.alignedSampledElevation=0,this.isElevationSource=!1,this.needsElevationUpdates=!1}initialize(){}setVisibility(e){const t=this._lodRenderer.instanceData;e!==t.getVisible(this.instanceIndex)&&t.setVisible(this.instanceIndex,e)}destroy(){null!=this.instanceIndex&&(this._lodRenderer.instanceData.removeInstance(this.instanceIndex),this.graphics3DSymbolLayer.notifyDestroyGraphicLayer(this))}alignWithElevation(t,i,n){if(this.elevationAligner){d(this.elevationContext.featureExpressionInfoContext,n);const s=this.elevationAligner(this,this.elevationContext,t,i);e(s)&&(this.alignedSampledElevation=s)}}getCenterObjectSpace(e=s()){return this._lodRenderer.instanceData.getCombinedLocalTransform(this.instanceIndex,I),i(e,this._lodRenderer.baseBoundingSphere.center,I)}getBoundingBoxObjectSpace(e=o()){this._lodRenderer.instanceData.getCombinedLocalTransform(this.instanceIndex,I);const t=this._lodRenderer.baseBoundingBox;a(e);for(let s=0;s<8;++s)n(x,0==(1&s)?t[0]:t[3],0==(2&s)?t[1]:t[4],0==(4&s)?t[2]:t[5]),i(x,x,I),r(e,x);return e}computeAttachmentOrigin(e){this._lodRenderer.instanceData.getGlobalTransform(this.instanceIndex,I),e.render.origin[0]+=I[12],e.render.origin[1]+=I[13],e.render.origin[2]+=I[14],e.render.num++}async getProjectedBoundingBox(t,n,s,r,o){const d=this.getBoundingBoxObjectSpace(o),m=v,u=h(d)?1:m.length;this._lodRenderer.instanceData.getGlobalTransform(this.instanceIndex,I);for(let e=0;e<u;e++){const t=m[e];x[0]=d[t[0]],x[1]=d[t[1]],x[2]=d[t[2]],i(x,x,I),p[3*e+0]=x[0],p[3*e+1]=x[1],p[3*e+2]=x[2]}if(!t(p,0,u))return null;a(d);let f=null;this.calculateRelativeScreenBounds&&(f=this.calculateRelativeScreenBounds());for(let e=0;e<3*u;e+=3){for(let t=0;t<3;t++)d[t]=Math.min(d[t],p[e+t]),d[t+3]=Math.max(d[t+3],p[e+t]);f&&s.push({location:p.slice(e,e+3),screenSpaceBoundingRect:f})}if(n&&(l(d,b),\"absolute-height\"!==this.elevationContext.mode)){let t;const i=g(d,n.service.spatialReference,n);try{t=await n.service.queryElevation(b[0],b[1],r,i,\"ground\")}catch(_){}e(t)&&c(d,0,0,-this.alignedSampledElevation+t)}return d}addObjectState(e,t){if(e===m.Highlight){const i=new u(e);this._addHighlightId(i),t.addExternal((e=>{this._removeHighlightId(e)}),i)}}removeObjectState(e){this._highlights.forEach((t=>e.remove(t)))}_addHighlightId(e){this._highlights.add(e),this._lodRenderer.instanceData.setHighlight(this.instanceIndex,!0)}_removeHighlightId(e){this._highlights.delete(e),this._lodRenderer.instanceData.setHighlight(this.instanceIndex,this._highlights.size>0)}get _lodRenderer(){return this.graphics3DSymbolLayer.lodRenderer}}const p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=s(),b=s(),v=[[0,1,2],[3,1,2],[0,4,2],[3,4,2],[0,1,5],[3,1,5],[0,4,5],[3,4,5]],I=t();export{f as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{computeFaceCount as s}from\"../../webgl-engine/lib/lodRendering/LodResources.js\";function t(s){const t=[];return s.stageResources.geometries.forEach(((e,o)=>{const r=s.stageResources.materials[o],n=s.stageResources.textures;t.push({material:r,geometry:e,textures:n})})),{components:t,minScreenSpaceRadius:e(s.lodThreshold)?s.lodThreshold:0,pivotOffset:s.pivotOffset}}function o(e){return{levels:e.map((e=>t(e)))}}function r(e,t=c){const o=s(e);return Math.sqrt(o/(t*Math.PI))}function n(e){e.levels.forEach((e=>{e.minScreenSpaceRadius||(e.minScreenSpaceRadius=r(e))}))}const c=.05;export{r as estimateMinScreenSpaceRadius,n as fillEstimatedMinScreenSpaceRadius,t as makeLodLevelResources,o as makeLodResources};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Evented.js\";import{f as e,e as s,t as i}from\"../../../../../chunks/mat3.js\";import{c as a}from\"../../../../../chunks/mat3f64.js\";import{m as r}from\"../../../../../chunks/mat4.js\";import{c as o}from\"../../../../../chunks/mat4f64.js\";import{s as n}from\"../../../../../chunks/vec3.js\";import{c as h}from\"../../../../../chunks/vec3f64.js\";import{BufferViewMat4f64 as l,BufferViewVec3f64 as c,BufferViewMat3f as f,BufferViewVec2f as m,BufferViewVec4f64 as g,BufferViewVec4f as d,BufferViewUint8 as _,BufferViewVec4u8 as T}from\"../../../../../geometry/support/buffer/BufferView.js\";import{scaleFromMatrix as u}from\"../../../support/mathUtils.js\";import{newLayout as L}from\"../../../support/buffer/InterleavedLayout.js\";import{assert as A}from\"../Util.js\";import{VertexAttribute as E}from\"../VertexAttribute.js\";var O;function F(t){let e=L().mat4f64(E.LOCALTRANSFORM).mat4f64(E.GLOBALTRANSFORM).vec4f64(E.BOUNDINGSPHERE).vec3f64(E.MODELORIGIN).mat3f(E.MODEL).mat3f(E.MODELNORMAL).vec2f(E.MODELSCALEFACTORS);return t.includes(\"color\")&&(e=e.vec4f(E.COLOR)),t.includes(\"featureAttribute\")&&(e=e.vec4f(E.FEATUREATTRIBUTE)),e=e.u8(E.STATE).u8(E.LODLEVEL),t.includes(E.OBJECTANDLAYERIDCOLOR)&&(e=e.vec4u8(E.OBJECTANDLAYERIDCOLOR)),e.alignTo(8),e}!function(t){t[t.ALLOCATED=1]=\"ALLOCATED\",t[t.DEFAULT_ACTIVE=2]=\"DEFAULT_ACTIVE\",t[t.VISIBLE=4]=\"VISIBLE\",t[t.HIGHLIGHT=8]=\"HIGHLIGHT\",t[t.HIGHLIGHT_ACTIVE=16]=\"HIGHLIGHT_ACTIVE\",t[t.REMOVE=32]=\"REMOVE\",t[t.TRANSFORM_CHANGED=64]=\"TRANSFORM_CHANGED\",t[t.ACTIVE=18]=\"ACTIVE\"}(O||(O={}));class v{constructor(t){this.localTransform=t.getField(E.LOCALTRANSFORM,l),this.globalTransform=t.getField(E.GLOBALTRANSFORM,l),this.modelOrigin=t.getField(E.MODELORIGIN,c),this.model=t.getField(E.MODEL,f),this.modelNormal=t.getField(E.MODELNORMAL,f),this.modelScaleFactors=t.getField(E.MODELSCALEFACTORS,m),this.boundingSphere=t.getField(E.BOUNDINGSPHERE,g),this.color=t.getField(E.COLOR,d),this.featureAttribute=t.getField(E.FEATUREATTRIBUTE,d),this.state=t.getField(E.STATE,_),this.lodLevel=t.getField(E.LODLEVEL,_),this.objectAndLayerIdColor=t.getField(E.OBJECTANDLAYERIDCOLOR,T)}}class M extends t{constructor(t,e){super(),this._capacity=0,this._size=0,this._next=0,this._buffer=null,this._view=null,this._layout=F(t),this._shaderTransformation=e}get capacity(){return this._capacity}get size(){return this._size}get buffer(){return this._buffer.buffer}get view(){return this._view}addInstance(){this._size+1>this._capacity&&this._grow();const t=this._findSlot();return this._view.state.set(t,O.ALLOCATED),this._size++,this.emit(\"instance-added\",{index:t}),t}removeInstance(t){const e=this._view.state;A(t>=0&&t<this._capacity&&e.get(t)&O.ALLOCATED,\"invalid instance handle\"),this._getStateFlag(t,O.ACTIVE)?this._setStateFlags(t,O.REMOVE):this.freeInstance(t),this.emit(\"instance-removed\",{index:t})}freeInstance(t){const e=this._view.state;A(t>=0&&t<this._capacity&&e.get(t)&O.ALLOCATED,\"invalid instance handle\"),e.set(t,0),this._size--}setLocalTransform(t,e,s=!0){this._view.localTransform.setMat(t,e),s&&this.updateModelTransform(t)}getLocalTransform(t,e){this._view.localTransform.getMat(t,e)}setGlobalTransform(t,e,s=!0){this._view.globalTransform.setMat(t,e),s&&this.updateModelTransform(t)}getGlobalTransform(t,e){this._view.globalTransform.getMat(t,e)}updateModelTransform(t){const a=this._view,o=C,h=b;a.localTransform.getMat(t,R),a.globalTransform.getMat(t,w);const l=r(w,w,R);n(o,l[12],l[13],l[14]),a.modelOrigin.setVec(t,o),e(h,l),a.model.setMat(t,h);const c=u(C,l);c.sort(),a.modelScaleFactors.set(t,0,c[1]),a.modelScaleFactors.set(t,1,c[2]),s(h,h),i(h,h),a.modelNormal.setMat(t,h),this._setStateFlags(t,O.TRANSFORM_CHANGED),this.emit(\"instance-transform-changed\",{index:t})}getModelTransform(t,e){const s=this._view;s.model.getMat(t,b),s.modelOrigin.getVec(t,C),e[0]=b[0],e[1]=b[1],e[2]=b[2],e[3]=0,e[4]=b[3],e[5]=b[4],e[6]=b[5],e[7]=0,e[8]=b[6],e[9]=b[7],e[10]=b[8],e[11]=0,e[12]=C[0],e[13]=C[1],e[14]=C[2],e[15]=1}applyShaderTransformation(t,e){this._shaderTransformation&&this._shaderTransformation.applyTransform(this,t,e)}getCombinedModelTransform(t,e){return this.getModelTransform(t,e),this._shaderTransformation&&this._shaderTransformation.applyTransform(this,t,e),e}getCombinedLocalTransform(t,e){return this._view.localTransform.getMat(t,e),this._shaderTransformation&&this._shaderTransformation.applyTransform(this,t,e),e}getCombinedMaxScaleFactor(t){let e=this._view.modelScaleFactors.get(t,1);if(this._shaderTransformation){const s=this._shaderTransformation.scaleFactor(C,this,t);e*=Math.max(s[0],s[1],s[2])}return e}getCombinedMedianScaleFactor(t){let e=this._view.modelScaleFactors.get(t,0);if(this._shaderTransformation){const s=this._shaderTransformation.scaleFactor(C,this,t);e*=I(s[0],s[1],s[2])}return e}getModel(t,e){this._view.model.getMat(t,e)}setFeatureAttribute(t,e){this._view.featureAttribute.setVec(t,e)}getFeatureAttribute(t,e){this._view.featureAttribute.getVec(t,e)}setColor(t,e){this._view.color.setVec(t,e)}setObjectAndLayerIdColor(t,e){this._view.objectAndLayerIdColor.setVec(t,e)}getColor(t,e){this._view.color.getVec(t,e)}setVisible(t,e){e!==this.getVisible(t)&&(this._setStateFlag(t,O.VISIBLE,e),this.emit(\"instance-visibility-changed\",{index:t}))}getVisible(t){return this._getStateFlag(t,O.VISIBLE)}setHighlight(t,e){e!==this.getHighlight(t)&&(this._setStateFlag(t,O.HIGHLIGHT,e),this.emit(\"instance-highlight-changed\",{index:t}))}getHighlight(t){return this._getStateFlag(t,O.HIGHLIGHT)}getState(t){return this._view.state.get(t)}getLodLevel(t){return this._view.lodLevel.get(t)}countFlags(t){let e=0;for(let s=0;s<this._capacity;++s){this.getState(s)&t&&++e}return e}_setStateFlags(t,e){const s=this._view.state;e=s.get(t)|e,s.set(t,e)}_clearStateFlags(t,e){const s=this._view.state;e=s.get(t)&~e,s.set(t,e)}_setStateFlag(t,e,s){s?this._setStateFlags(t,e):this._clearStateFlags(t,e)}_getStateFlag(t,e){return!!(this._view.state.get(t)&e)}_grow(){const t=Math.max(S,Math.floor(this._capacity*p)),e=this._layout.createBuffer(t);if(this._buffer){const t=new Uint8Array(this._buffer.buffer);new Uint8Array(e.buffer).set(t)}this._capacity=t,this._buffer=e,this._view=new v(this._buffer)}_findSlot(){const t=this._view.state;let e=this._next;for(;t.get(e)&O.ALLOCATED;)e=e+1===this._capacity?0:e+1;return this._next=e+1===this._capacity?0:e+1,e}}function I(t,e,s){return Math.max(Math.min(t,e),Math.min(Math.max(t,e),s))}const S=1024,p=2,C=h(),b=a(),R=o(),w=o();export{M as InstanceData,v as InstanceDataView,O as StateFlags};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../../../chunks/mat4f64.js\";import{m as e}from\"../../../../../chunks/vec3.js\";import{w as s,c as i}from\"../../../../../chunks/sphere.js\";import{maxScale as r}from\"../../../support/mathUtils.js\";import h from\"../Octree.js\";class n extends h{constructor(e,r){super((t=>s(this._instanceData.view.boundingSphere.getVec(t,this._tmpSphere))),{maximumDepth:25}),this._tmpSphere=i(),this._tmpMat4=t(),this._instanceData=e,this._boundingSphere=r}addInstance(t){const s=this._instanceData.view.boundingSphere,i=this._instanceData.getCombinedModelTransform(t,this._tmpMat4);e(this._tmpSphere,this._boundingSphere.center,i),this._tmpSphere[3]=this._boundingSphere.radius*r(i),s.setVec(t,this._tmpSphere),this.add([t])}removeInstance(t){this.remove([t])}}export{n as InstanceOctree};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{Camera as e}from\"../Camera.js\";class t{constructor(t,s){this.thresholdScale=1,this._camera=new e,this._worldSpaceRadius=t,this._thresholds=s.map((e=>e))}updateCamera(e){this._camera.copyFrom(e)}selectLevel(e,t){const s=this._camera.computeScreenPixelSizeAt(e),r=this._worldSpaceRadius*t/s,a=this._thresholds;let h=-1;for(let o=0;o<a.length;++o)r>=a[o]*this.thresholdScale&&(h=o);return h}}export{t as LevelSelector};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{glLayout as r}from\"../../../support/buffer/glUtil.js\";import{Default3D as t}from\"../DefaultVertexAttributeLocations.js\";import{GLMaterials as e}from\"../GLMaterials.js\";import{newIntersectorResult as s}from\"../Intersector.js\";import{IntersectorType as o,StoreResults as i}from\"../IntersectorInterfaces.js\";import{VertexArrayObject as a}from\"../VertexArrayObject.js\";import{BufferObject as n}from\"../../../../webgl/BufferObject.js\";import{Usage as l}from\"../../../../webgl/enums.js\";class m{constructor(s,o){const i=s.renderContext.rctx,{geometry:m,material:u}=o;this._materialRepository=s.materialRep,u.setParameters({instancedDoublePrecision:!0});const f=u.createBufferWriter(),d=f.vertexBufferLayout,p=f.elementCount(m),c=f.allocate(p);f.write(null,null,m,c,0),this.geometry=m,this.material=u,this.glMaterials=new e(u,this._materialRepository),this.vertexBufferLayout=d,this.vbo=n.createVertex(i,l.STATIC_DRAW,c.buffer),this.vao=new a(i,t,{geometry:r(d)},{geometry:this.vbo}),this.vertexCount=p}destroy(){this.glMaterials.destroy(),this.vbo.dispose(),this.vao.dispose()}get boundingInfo(){return this.geometry.boundingInfo}get triangleCount(){return this.vertexCount/3}intersect(r,t,e,a,n,l,m,u){const f=this.geometry.id;this.material.intersect(this.geometry,null,r.transform.transform,r,e,a,((e,a,d,p,c)=>{if(e>=0){if(null!=t&&!t(r.rayBegin,r.rayEnd,e))return;const p={layerUid:l.layerUid,graphicUid:l.graphicUid(n),geometryId:f,triangleNr:d,baseBoundingSphere:m,numLodLevels:u};if((null==r.results.min.drapedLayerOrder||c>=r.results.min.drapedLayerOrder)&&(null==r.results.min.dist||e<r.results.min.dist)&&r.results.min.set(o.LOD,p,e,a,r.transform.transform,c),r.options.store!==i.MIN&&(null==r.results.max.drapedLayerOrder||c>=r.results.max.drapedLayerOrder)&&(null==r.results.max.dist||e>r.results.max.dist)&&r.results.max.set(o.LOD,p,e,a,r.transform.transform,c),r.options.store===i.ALL){const t=s(r.results.min.ray);t.set(o.LOD,p,e,a,r.transform.transform,c),r.results.all.push(t)}}}))}}export{m as LodComponentData};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as n,isSome as o}from\"../../../../../core/maybe.js\";import{isAborted as t,throwIfAborted as e}from\"../../../../../core/promiseUtils.js\";import{c as i}from\"../../../../../chunks/vec3f64.js\";import{empty as r,expandWithVec3 as s,center as c,diameter as u}from\"../../../../../geometry/support/aaBoundingBox.js\";import{LodComponentData as a}from\"./LodComponentData.js\";class h{constructor(n,o){this.minScreenSpaceRadius=n,this.components=o}static async create(n,o,i){const r=await Promise.allSettled(o.components.map((o=>n.schedule((()=>new a(n,o)),i)))),s=r.map((n=>\"fulfilled\"===n.status?n.value:null)).filter((n=>n));if(t(i)||s.length!==r.length){s.forEach((n=>n.destroy())),e(i);for(const n of r)if(\"rejected\"===n.status)throw n.reason}return new h(o.minScreenSpaceRadius,s)}destroy(){this.components.forEach((n=>n.destroy()))}intersect(n,o,t,e,i,r,s){this.components.forEach((c=>c.intersect(n,o,t,e,i,r,this.boundingSphere,s)))}get boundingBox(){if(n(this._boundingBox)){const n=r();this.components.forEach((t=>{o(t.boundingInfo)&&(s(n,t.boundingInfo.bbMin),s(n,t.boundingInfo.bbMax))})),this._boundingBox=n}return this._boundingBox}get boundingSphere(){if(n(this._boundingSphere)){const n=this.boundingBox,o=i();c(n,o),this._boundingSphere={center:o,radius:.5*u(n)}}return this._boundingSphere}get triangleCount(){return this.components.reduce(((n,o)=>n+o.triangleCount),0)}}export{h as LodLevel};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{BufferObject as e}from\"../../../../webgl/BufferObject.js\";import{Usage as t}from\"../../../../webgl/enums.js\";class r{constructor(r,i,s){this._elementSize=i,this._buffer=e.createVertex(r,t.STATIC_DRAW),this.resize(s)}destroy(){this._buffer.dispose()}get elementSize(){return this._elementSize}get capacity(){return this._capacity}get array(){return this._array}get buffer(){return this._buffer}get memoryUsage(){return{cpu:this._capacity*this._elementSize,gpu:this._capacity*this._elementSize}}copyRange(e,t,r,i=0){const s=new Uint8Array(this.array,e*this.elementSize,(t-e)*this.elementSize);new Uint8Array(r.array,i*this.elementSize).set(s)}transferAll(){this._buffer.setData(this._array)}transferRange(e,t){const r=e*this._elementSize,i=t*this._elementSize;this._buffer.setSubData(new Uint8Array(this._array),r,r,i)}resize(e){const t=e*this._elementSize,r=new ArrayBuffer(t);this._array&&(e>=this._capacity?new Uint8Array(r).set(new Uint8Array(this._array)):new Uint8Array(r).set(new Uint8Array(this._array).subarray(0,e*this._elementSize))),this._array=r,this._buffer.setSize(t),this._capacity=e}}export{r as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{BufferViewVec3f as t,BufferViewMat3f as i,BufferViewVec4f as e,BufferViewVec4u8 as s}from\"../../../../../geometry/support/buffer/BufferView.js\";import{assert as a}from\"../Util.js\";import{VertexAttribute as r}from\"../VertexAttribute.js\";import h from\"./BackedBufferObject.js\";class n{constructor(a){this.modelOriginHi=a.getField(r.MODELORIGINHI,t),this.modelOriginLo=a.getField(r.MODELORIGINLO,t),this.model=a.getField(r.MODEL,i),this.modelNormal=a.getField(r.MODELNORMAL,i),this.color=a.getField(r.INSTANCECOLOR,e),this.featureAttribute=a.getField(r.INSTANCEFEATUREATTRIBUTE,e),this.objectAndLayerIdColor=a.getField(r.OBJECTANDLAYERIDCOLOR_INSTANCED,s)}}class d{constructor(t,i){this._headIndex=0,this._tailIndex=0,this._firstIndex=null,this._captureFirstIndex=!0,this._updating=!1,this._prevHeadIndex=0,this._resized=!1,this._rctx=t,this._instanceBufferLayout=i,this._elementSize=i.stride,this._capacity=1}destroy(){this._buffer&&this._buffer.destroy()}get buffer(){return this._buffer.buffer}get view(){return this._view}get capacity(){return this._capacity}get size(){const t=this._headIndex,i=this._tailIndex;return t>=i?t-i:t+this._capacity-i}get isEmpty(){return this._headIndex===this._tailIndex}get isFull(){return this._tailIndex===(this._headIndex+1)%this._capacity}get headIndex(){return this._headIndex}get tailIndex(){return this._tailIndex}get firstIndex(){return this._firstIndex}get memoryUsage(){return this._buffer?this._buffer.memoryUsage:{cpu:0,gpu:0}}reset(){this._headIndex=0,this._tailIndex=0,this._firstIndex=null}startUpdateCylce(){this._captureFirstIndex=!0}beginUpdate(){a(!this._updating,\"already updating\"),this._updating=!0,this._prevHeadIndex=this._headIndex}endUpdate(){a(this._updating,\"not updating\"),this.size<f*this.capacity&&this._shrink(),this._resized?(this._buffer.transferAll(),this._resized=!1):this._transferRange(this._prevHeadIndex,this._headIndex),this._updating=!1}allocateHead(){a(this._updating,\"not updating\"),this.isFull&&this._grow();const t=this.headIndex;return this._captureFirstIndex&&(this._firstIndex=t,this._captureFirstIndex=!1),this._incrementHead(),a(this._headIndex!==this._tailIndex,\"invalid pointers\"),t}freeTail(){a(this._updating,\"not updating\"),a(this.size>0,\"invalid size\");const t=this._tailIndex===this._firstIndex;this._incrementTail(),t&&(this._firstIndex=this._tailIndex)}_grow(){const t=Math.max(_,Math.floor(this._capacity*c));this._resize(t)}_shrink(){const t=Math.max(_,Math.floor(this._capacity*u));this._resize(t)}_resize(t){if(a(this._updating,\"not updating\"),t===this._capacity)return;const i=new h(this._rctx,this._elementSize,t);if(this._buffer){this._firstIndex&&(this._firstIndex=(this._firstIndex+this._capacity-this._tailIndex)%this._capacity);const t=this.size,e=this._compactInstances(i);a(e===t,\"invalid compaction\"),this._buffer.destroy(),this._tailIndex=0,this._headIndex=e,this._prevHeadIndex=0}this._resized=!0,this._capacity=t,this._buffer=i,this._view=new n(this._instanceBufferLayout.createView(this._buffer.array))}_compactInstances(t){const i=this._headIndex,e=this._tailIndex;return e<i?(this._buffer.copyRange(e,i,t),i-e):e>i?(this._buffer.copyRange(e,this._capacity,t),i>0&&this._buffer.copyRange(0,i,t,this._capacity-e),i+(this._capacity-e)):0}_incrementHead(t=1){this._headIndex=(this._headIndex+t)%this._capacity}_incrementTail(t=1){this._tailIndex=(this._tailIndex+t)%this._capacity}_transferRange(t,i){t<i?this._buffer.transferRange(t,i):t>i&&(i>0&&this._buffer.transferRange(0,i),this._buffer.transferRange(t,this._capacity))}}const _=1024,c=2,f=.3,u=.5;export{d as RenderInstanceData,n as RenderInstanceDataView};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as e,destroyMaybe as t,isSome as a}from\"../../../../../core/maybe.js\";import{isAborted as s,throwIfAborted as n}from\"../../../../../core/promiseUtils.js\";import{c as i}from\"../../../../../chunks/mat4f64.js\";import{b as r,e as o,m as l}from\"../../../../../chunks/vec3.js\";import{c}from\"../../../../../chunks/vec3f64.js\";import{c as h,f as d}from\"../../../../../chunks/vec4f64.js\";import u from\"../../../support/debugFlags.js\";import{glLayout as _}from\"../../../support/buffer/glUtil.js\";import{ShaderOutput as m}from\"../../core/shaderLibrary/ShaderOutput.js\";import{Camera as f}from\"../Camera.js\";import{Default3D as p}from\"../DefaultVertexAttributeLocations.js\";import{IntersectorType as g}from\"../IntersectorInterfaces.js\";import C from\"../Octree.js\";import{RenderSlot as I}from\"../RenderSlot.js\";import{assert as D}from\"../Util.js\";import{InstanceData as y,StateFlags as v}from\"./InstanceData.js\";import{InstanceOctree as b}from\"./InstanceOctree.js\";import{LevelSelector as R}from\"./LevelSelector.js\";import{LodLevel as E}from\"./LodLevel.js\";import{RenderInstanceData as A}from\"./RenderInstanceData.js\";import{getInstanceBufferLayout as T}from\"../../materials/DefaultMaterial.js\";import{colorMixModes as L}from\"../../materials/internal/MaterialUtil.js\";import{encodeDoubleVec3 as S}from\"../../materials/renderers/utils.js\";import{DefaultMaterialDrawParameters as O}from\"../../shaders/DefaultMaterialTechnique.js\";import{bindVertexBufferLayout as U,unbindVertexBufferLayout as j}from\"../../../../webgl/Util.js\";const x=e=>{const t=e.baseBoundingSphere.radius,a=e.levels.map((e=>e.minScreenSpaceRadius));return new R(t,a)};class M{constructor(e,t,a,s){this.type=g.LOD,this.isGround=!1,this._levels=[],this._defaultRenderInstanceData=[],this._highlightRenderInstanceData=[],this._instanceIndex=0,this._slicePlane=!1,this._lastCamera=new f,this._updateCyclesWithStaticCamera=-1,this._needFullCycle=!1,this.slots=[I.OPAQUE_MATERIAL,I.TRANSPARENT_MATERIAL],this.canRender=!0,this._symbol=e,this._optionalFields=t,this._metadata=a,this._instanceBufferLayout=T({instancedDoublePrecision:!0,instanced:t}),this._glInstanceBufferLayout=_(this._instanceBufferLayout,1),this._instanceData=new y(this._optionalFields,s),this._instanceData.on(\"instance-added\",(()=>this._requestUpdateCycle())),this._instanceData.on(\"instance-removed\",(()=>this._requestUpdateCycle())),this._instanceData.on(\"instance-transform-changed\",(e=>{this._requestUpdateCycle(),this._metadata.notifyGraphicGeometryChanged(e.index)})),this._instanceData.on(\"instance-visibility-changed\",(e=>{this._requestUpdateCycle(!0),this._metadata.notifyGraphicVisibilityChanged(e.index)})),this._instanceData.on(\"instance-highlight-changed\",(()=>this._requestUpdateCycle(!0))),this._enableLevelSelection=this._symbol.levels.length>1}get levels(){return this._levels}get baseBoundingBox(){return this._levels[this._levels.length-1].boundingBox}get baseBoundingSphere(){return this._levels[this._levels.length-1].boundingSphere}get baseMaterial(){return this._levels[this._levels.length-1].components[0].material}get slicePlaneEnabled(){return this._slicePlane}set slicePlaneEnabled(e){this._slicePlane=e}get layerUid(){return this._metadata.layerUid}get instanceData(){return this._instanceData}get memoryUsage(){const e={cpu:0,gpu:0};return this._defaultRenderInstanceData.forEach((t=>{const a=t.memoryUsage;e.cpu+=a.cpu,e.gpu+=a.gpu})),this._highlightRenderInstanceData.forEach((t=>{const a=t.memoryUsage;e.cpu+=a.cpu,e.gpu+=a.gpu})),e}get renderStats(){const e=this._instanceData.size,t=[];return this._levels.forEach(((e,a)=>{const s=this._defaultRenderInstanceData[a],n=this._highlightRenderInstanceData[a],i=s.size+n.size,r=e.triangleCount;t.push({renderedInstances:i,renderedTriangles:i*r,trianglesPerInstance:r})})),{totalInstances:e,renderedInstances:t.reduce(((e,t)=>e+t.renderedInstances),0),renderedTriangles:t.reduce(((e,t)=>e+t.renderedTriangles),0),levels:t}}async initializeRenderContext(e,t){this._context=e;const a=e.renderContext.rctx,i=await Promise.allSettled(this._symbol.levels.map((s=>(this._defaultRenderInstanceData.push(new A(a,this._instanceBufferLayout)),this._highlightRenderInstanceData.push(new A(a,this._instanceBufferLayout)),E.create(e,s,t))))),r=i.map((e=>\"fulfilled\"===e.status?e.value:null)).filter((e=>e));if(s(t)||r.length!==i.length){r.forEach((e=>e.destroy())),n(t);for(const e of i)if(\"rejected\"===e.status)throw e.reason}this._levels=r,this._levelSelector=x(this)}uninitializeRenderContext(){this._invalidateOctree(),this._levels.forEach((e=>e.destroy())),this._defaultRenderInstanceData.forEach((e=>e.destroy())),this._highlightRenderInstanceData.forEach((e=>e.destroy()))}get needsTransparentPass(){return this._levels.some((e=>e.components.some((e=>e.material.requiresSlot(I.TRANSPARENT_MATERIAL,m.Color)))))}get needsHighlight(){return this._highlightRenderInstanceData.some((e=>e.size>0))}prepareRender(e){if(u.LOD_INSTANCE_RENDERER_DISABLE_UPDATES)return;if(this._enableLevelSelection){const t=e.bindParameters.contentCamera.equals(this._lastCamera);this._lastCamera.copyFrom(e.bindParameters.contentCamera),t||this._requestUpdateCycle()}const t=this._needFullCycle?this._instanceData.size:2e3;this._needFullCycle=!1,this._updateInstances(e.bindParameters.contentCamera,t),this._needsUpdates&&this._context.requestRender()}render(e){if(!this.baseMaterial.isVisible()||!this.baseMaterial.isVisibleForOutput(e.output))return;e.rctx.bindVAO();e.output!==m.Highlight&&e.output!==m.ShadowHighlight&&this._renderComponents(e,this._defaultRenderInstanceData);e.output!==m.ShadowExludeHighlight&&this._renderComponents(e,this._highlightRenderInstanceData)}intersect(e,t,a,s){if(!this.baseMaterial.isVisible())return;const n=c();r(n,s,a);const i=n=>{this._instanceData.getCombinedModelTransform(n,q),e.transform.set(q),l(H,a,e.transform.inverse),l(B,s,e.transform.inverse);const i=this._instanceData.getState(n),r=this._instanceData.getLodLevel(n),o=this._levels.length;D(i&v.ACTIVE,\"invalid instance state\"),D(r>=0&&r<o,\"invaid lod level\"),this._levels[r].intersect(e,t,H,B,n,this._metadata,o)};this.baseMaterial.parameters.verticalOffset?this._octree.forEach(i):this._octree.forEachAlongRay(a,n,i)}queryDepthRange(e){return this._queryDepthRangeOctree(e)}notifyShaderTransformationChanged(){this._invalidateOctree()}_requestUpdateCycle(e=!1){this._updateCyclesWithStaticCamera=-1,e&&(this._needFullCycle=!0),this._needsUpdates&&this._context.requestRender()}get _needsUpdates(){return this._instanceData.size>0&&this._updateCyclesWithStaticCamera<1}get _octree(){return e(this._octreeCached)&&(this._octreeCached=this._buildOctree()),this._octreeCached}_invalidateOctree(){this._octreeCached=t(this._octreeCached)}_buildOctree(){const e=new b(this._instanceData,this.baseBoundingSphere),t=this._instanceData,a=t.view?t.view.state:null;for(let s=0;s<this._instanceData.capacity;++s){a.get(s)&v.ACTIVE&&e.addInstance(s)}return e}_queryDepthRangeOctree(e){const t=e.eye,a=e.viewForward,s=this._octree.findClosest(a,C.DepthOrder.FRONT_TO_BACK,e.frustum),n=this._octree.findClosest(a,C.DepthOrder.BACK_TO_FRONT,e.frustum);if(null!=s&&null!=n){this._instanceData.view.boundingSphere.getVec(s,N),r(N,N,t);const i=o(N,a)-N[3];this._instanceData.view.boundingSphere.getVec(n,N),r(N,N,t);const l=o(N,a)+N[3];return{near:Math.max(e.near,i),far:Math.min(e.far,l)}}return{near:1/0,far:-1/0}}_startUpdateCycle(){this._updateCyclesWithStaticCamera++,this._defaultRenderInstanceData.forEach((e=>{e.startUpdateCylce()})),this._highlightRenderInstanceData.forEach((e=>{e.startUpdateCylce()})),this._needsUpdates&&this._context.requestRender()}_updateInstances(e,t){const s=this._enableLevelSelection,n=this._levelSelector;n.updateCamera(e),this._defaultRenderInstanceData.forEach((e=>e.beginUpdate())),this._highlightRenderInstanceData.forEach((e=>e.beginUpdate()));const i=this._instanceData,r=this._instanceData.view,o=i.size,l=i.capacity;let c=this._instanceIndex;t=Math.min(o,t);for(let h=0;h<t;++h){0===c&&this._startUpdateCycle();const e=r.state.get(c);let o=0;if(!(e&v.ALLOCATED)){c=c+1===l?0:c+1,t++;continue}const h=r.lodLevel.get(c);if(e&v.DEFAULT_ACTIVE&&this._defaultRenderInstanceData[h].freeTail(),e&v.HIGHLIGHT_ACTIVE&&this._highlightRenderInstanceData[h].freeTail(),e&v.REMOVE)i.freeInstance(c);else if(e&v.VISIBLE){let t=0;s&&(r.modelOrigin.getVec(c,w),t=n.selectLevel(w,i.getCombinedMedianScaleFactor(c))),o=e&~(v.ACTIVE|v.TRANSFORM_CHANGED),t>=0&&(e&v.HIGHLIGHT?(V(this._highlightRenderInstanceData[t],r,c),o|=v.HIGHLIGHT_ACTIVE):(V(this._defaultRenderInstanceData[t],r,c),o|=v.DEFAULT_ACTIVE)),r.state.set(c,o),r.lodLevel.set(c,t)}else o=e&~(v.ACTIVE|v.TRANSFORM_CHANGED),r.state.set(c,o);if(a(this._octreeCached)){const t=!!(e&v.ACTIVE),a=!!(o&v.ACTIVE);!t&&a?this._octreeCached.addInstance(c):t&&!a?this._octreeCached.removeInstance(c):t&&a&&e&v.TRANSFORM_CHANGED&&(this._octreeCached.removeInstance(c),this._octreeCached.addInstance(c))}c=c+1===l?0:c+1}this._instanceIndex=c,this._defaultRenderInstanceData.forEach((e=>e.endUpdate())),this._highlightRenderInstanceData.forEach((e=>e.endUpdate()))}_renderComponents(e,t){this.levels.forEach(((a,s)=>{a.components.forEach((a=>{this._renderComponent(e,t[s],a,s)}))}))}_renderComponent(t,a,s,n){const{bindParameters:i,rctx:r,output:o}=t;if(0===a.size||!s.material.requiresSlot(i.slot,t.output))return;const l=s.glMaterials.load(r,i.slot,o);if(e(l))return;const c=l.beginSlot(i),h=r.bindTechnique(c,s.material.parameters,i);r.bindVAO(s.vao),c.ensureAttributeLocations(s.vao),h.bindDraw(G,i,s.material.parameters),u.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL&&t.output===m.Color&&(h.setUniform4fv(\"externalColor\",P[Math.min(n,P.length-1)]),h.setUniform1i(\"colorMixMode\",L.replace));const d=r.capabilities.instancing,_=a.capacity,f=a.headIndex,g=a.tailIndex,C=a.firstIndex,I=this._glInstanceBufferLayout,y=(e,t)=>{U(r,p,a.buffer,I,e),d.drawArraysInstanced(c.primitiveType,0,s.vertexCount,t-e),j(r,p,a.buffer,I)};s.material.parameters.transparent&&null!=C?f>g?(D(C>=g&&C<=f,\"invalid firstIndex\"),y(C,f),y(g,C)):f<g&&(C<=f?(D(C>=0&&C<=f,\"invalid firstIndex\"),y(C,f),y(g,_),y(0,C)):(D(C>=g&&C<=_,\"invalid firstIndex\"),y(C,_),y(0,f),y(g,C))):f>g?y(g,f):f<g&&(y(0,f),y(g,_)),r.bindVAO(null)}}function V(e,t,a){const s=e.allocateHead();F(t,a,e.view,s)}function F(e,t,a,s){S(e.modelOrigin,t,a.modelOriginHi,a.modelOriginLo,s),a.model.copyFrom(s,e.model,t),a.modelNormal.copyFrom(s,e.modelNormal,t),e.color&&a.color&&a.color.copyFrom(s,e.color,t),e.objectAndLayerIdColor&&a.objectAndLayerIdColor&&a.objectAndLayerIdColor.copyFrom(s,e.objectAndLayerIdColor,t),e.featureAttribute&&a.featureAttribute&&a.featureAttribute.copyFrom(s,e.featureAttribute,t)}const w=c(),N=h(),q=i(),H=c(),B=c(),P=[d(1,0,1,1),d(0,0,1,1),d(0,1,0,1),d(1,1,0,1),d(1,0,0,1)],G=new O;export{M as LodRenderer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import has from\"../../../../core/has.js\";import{isSome as t,get as s,none as r,isNone as a,unwrapOr as i}from\"../../../../core/maybe.js\";import{pt2px as o}from\"../../../../core/screenUtils.js\";import{c as n,i as c,k as l,v as h}from\"../../../../chunks/mat4.js\";import{c as d}from\"../../../../chunks/mat4f64.js\";import{l as p,o as m,c as u,B as y,a as f,s as _}from\"../../../../chunks/vec3.js\";import{d as b,O as g,Z as P,f as R,c as v}from\"../../../../chunks/vec3f64.js\";import{O as x,c as L}from\"../../../../chunks/vec4f64.js\";import{projectPointToVector as S,computeTranslationToOriginAndRotation as C}from\"../../../../geometry/projection.js\";import{create as j,size as w,containsPoint as U,center as E}from\"../../../../geometry/support/aaBoundingBox.js\";import{defaultPrimitive as B}from\"../../../../symbols/support/ObjectSymbol3DLayerResource.js\";import{objectSymbolLayerPrimitiveBoundingBox as T,objectSymbolLayerSizeWithResourceSize as A}from\"../../../../symbols/support/symbolLayerUtils3D.js\";import{perLodInstanceElevationAligner as I}from\"./ElevationAligners.js\";import{needsElevationUpdates3D as O,evaluateElevationInfoAtPoint as G,SampleElevationInfo as D}from\"./elevationAlignmentUtils.js\";import{ElevationContext as z}from\"./ElevationContext.js\";import M from\"./Graphics3DLodInstanceGraphicLayer.js\";import{Graphics3DSymbolLayer as F}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as V,mixinColorAndOpacity as k,computeObjectScale as H,computeObjectRotation as W}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as q}from\"./interfaces.js\";import{LoadStatus as N}from\"./Loadable.js\";import{makeLodResources as $,fillEstimatedMinScreenSpaceRadius as Z}from\"./lodResourceUtils.js\";import{fetch as J}from\"./objectResourceUtils.js\";import{placePointOnGeometry as K,extendPointGraphicElevationContext as Q}from\"./pointUtils.js\";import{isValidPrimitive as X,primitiveLodResources as Y}from\"./primitiveObjectSymbolUtils.js\";import{defaultSymbolLayerMemoryComplexity as ee}from\"./symbolComplexity.js\";import{initFastSymbolUpdatesState as te,updateFastSymbolUpdatesState as se,evaluateModelTransform as re,evaluateModelTransformScale as ae}from\"../support/FastSymbolUpdates.js\";import{CullFaceOptions as ie}from\"../../webgl-engine/lib/basicInterfaces.js\";import{VertexAttribute as oe}from\"../../webgl-engine/lib/VertexAttribute.js\";import{LodRenderer as ne}from\"../../webgl-engine/lib/lodRendering/LodRenderer.js\";import{materialsFromLodResources as ce,texturesFromLodResources as le,geometriesFromLodResources as he,geometriesFromLodLevelResources as de}from\"../../webgl-engine/lib/lodRendering/LodResources.js\";import{DefaultMaterial as pe}from\"../../webgl-engine/materials/DefaultMaterial.js\";class me extends F{constructor(e,t,s,r){super(e,t,s,r),this._resources=null,this._optionalFields=new Array,this._instanceIndexToGraphicUid=new Map,this._hasLoadedPBRTextures=!1,this._disposeResourceHandles=new Array,this.ensureDrapedStatus(!1),this._hasLoadedPBRTextures=s.physicalBasedRenderingEnabled}getCachedSize(){const[e,s,r]=t(this._resources)?this._resources.symbolSize:[1,1,1];return{width:e,depth:s,height:r}}async doLoad(e){if(!this._drivenProperties.size){if(V(this.symbolLayer))throw new Error}const t=this.symbolLayer;if(this._isPrimitive){const s=t.resource?t.resource.primitive:B;this._resources=await this._createResourcesForPrimitive(s,e)}else this._resources=await this._createResourcesForUrl(t.resource.href,e);this.layerOpacityChanged(),this.slicePlaneEnabledChanged(),this.physicalBasedRenderingChanged(),this.complexity=this.computeComplexity()}get extentPadding(){return t(this._resources)?this._resources.extentPadding:0}get _isPrimitive(){return!(this.symbolLayer.resource&&this.symbolLayer.resource.href)}get lodRenderer(){return s(this._resources,\"lodRenderer\")}_setMaterialTransparencyParams(e,t=s(this.symbolLayer,\"material\",\"color\")){const r=this._getCombinedOpacity(t),a=r<1||this.needsDrivenTransparentPass;return e.transparent=a,e.opacity=r,e.cullFace=a?ie.None:ie.Back,e}async _createResourcesForPrimitive(s,a){if(!X(s))throw new Error(`Unknown object symbol primitive: ${s}`);const i=this.symbolLayer,n=j(T(s)),c=b(w(n)),l=b(A(c,i)),h=p(l),d=!1,m=!1,u={usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0,ambient:g,diffuse:g,hasSlicePlane:this._context.slicePlaneEnabled,hasSliceHighlight:!1,castShadows:this.symbolLayer.castShadows,offsetTransparentBackfaces:!this.symbolLayer.isPrimitive},y=u.usePBR;this._setMaterialTransparencyParams(u);const f=this.symbol;if(\"point-3d\"===f.type&&f.verticalOffset){const{screenLength:e,minWorldLength:s,maxWorldLength:r}=f.verticalOffset;u.verticalOffset={screenLength:o(e),minWorldLength:s||0,maxWorldLength:t(r)?r:1/0},u.castShadows=!1}if(this._context.screenSizePerspectiveEnabled&&(u.screenSizePerspective=this._context.sharedResources.screenSizePerspectiveSettings),this._drivenProperties.color)u.externalColor=x;else{const s=t(i.material)&&i.material.color,r=t(s)?e.toUnitRGBA(s):x;u.externalColor=r}this._fastUpdates=te(this._context.renderer,this._fastVisualVariableConvertOptions(n,l,c,r)),u.instanced=[\"transformation\"],this._fastUpdates.enabled?(Object.assign(u,this._fastUpdates.materialParameters),u.instanced.push(\"featureAttribute\"),this._optionalFields.push(\"featureAttribute\")):this._hasPerInstanceColor()&&(u.instanced.push(\"color\"),this._optionalFields.push(\"color\")),has(\"enable-feature:objectAndLayerId-rendering\")&&(u.instanced.push(\"objectAndLayerIdColor\"),this._optionalFields.push(\"objectAndLayerIdColor\"));const _=new pe(u),P=Y(s,_);if(!P)throw new Error(`Unknown object symbol primitive: ${s}`);const R=ce(P).map((e=>({opacity:1,transparent:e.parameters.transparent}))),v=await this._createStageResources(P,y);return{lodResources:P,lodRenderer:await this._createLodRenderer(P,a),stageResources:v,symbolSize:l,extentPadding:h,isEsriSymbolResource:d,isWosr:m,originalMaterialParameters:R,physicalBasedRenderingEnabled:y,resourceBoundingBox:n,resourceSize:c,pivotOffset:r}}async _createResourcesForUrl(e,a){const i=[\"transformation\"],n={materialParamsMixin:{instanced:i,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:this.symbolLayer.castShadows},streamDataRequester:this._context.streamDataRequester,cache:this._context.sharedResources.objectResourceCache};this._fastUpdates=te(this._context.renderer,this._fastVisualVariableConvertOptions(r,r,r,r)),this._fastUpdates.enabled?(Object.assign(n.materialParamsMixin,this._fastUpdates.materialParameters),i.push(\"featureAttribute\"),this._optionalFields.push(\"featureAttribute\")):this._hasPerInstanceColor()&&(i.push(\"color\"),this._optionalFields.push(\"color\")),has(\"enable-feature:objectAndLayerId-rendering\")&&(i.push(\"objectAndLayerIdColor\"),this._optionalFields.push(\"objectAndLayerIdColor\"));const c=this.symbol;if(\"point-3d\"===c.type&&c.verticalOffset){const{screenLength:e,minWorldLength:s,maxWorldLength:r}=c.verticalOffset;n.materialParamsMixin.verticalOffset={screenLength:o(e),minWorldLength:s||0,maxWorldLength:t(r)?r:1/0},n.materialParamsMixin.castShadows=!1}n.signal=a,n.usePBR=this._context.physicalBasedRenderingEnabled,n.skipHighLods=this._context.skipHighSymbolLods;const l=n.usePBR,h=await J(e,n),d=h.isEsriSymbolResource,m=h.isWosr,u=$(h.lods);Z(u),u.levels.sort(((e,t)=>e.minScreenSpaceRadius-t.minScreenSpaceRadius)),u.levels[0].minScreenSpaceRadius=Math.min(2,u.levels[0].minScreenSpaceRadius);const y=this._context,f=this.symbolLayer.material,_=this._getExternalColorParameters(f),g=s(this.symbolLayer,\"material\",\"color\"),P=this._getCombinedOpacity(g,{hasIntrinsicColor:!0}),R=this.needsDrivenTransparentPass,v=ce(u),x=ce(u).map((e=>({opacity:e.parameters.opacity||1,transparent:e.parameters.transparent})));v.forEach((e=>{const t=e.parameters;e.setParameters(_);const s=t.opacity*P,r=s<1||R||t.transparent;e.setParameters({opacity:s,transparent:r}),y.screenSizePerspectiveEnabled&&e.setParameters({screenSizePerspective:y.sharedResources.screenSizePerspectiveSettings})}));const L=h.referenceBoundingBox,S=b(w(L)),C=b(u.levels[0].pivotOffset),j=b(A(S,this.symbolLayer)),U=p(j);se(this._fastUpdates,this._context.renderer,this._fastVisualVariableConvertOptions(L,j,S,C))&&v.forEach((e=>e.setParameters(this._fastUpdates.materialParameters)));const E=await this._createStageResources(u,l);return{lodResources:u,lodRenderer:await this._createLodRenderer(u,a),stageResources:E,symbolSize:j,extentPadding:U,isEsriSymbolResource:d,isWosr:m,originalMaterialParameters:x,physicalBasedRenderingEnabled:l,resourceBoundingBox:L,resourceSize:S,pivotOffset:C}}_addDisposeResource(e){this._disposeResourceHandles.push(e)}async _createStageResources(e,t){const s=this._context.stage,r=ce(e);t!==this._context.physicalBasedRenderingEnabled&&this.physicalBasedRenderingChanged(),s.addMany(r),this._addDisposeResource((()=>s.removeMany(r)));const a=le(e);s.addMany(a),this._addDisposeResource((()=>s.removeMany(a))),await s.load(a);const i=he(e);return s.addMany(i),this._addDisposeResource((()=>s.removeMany(i))),{materials:r,textures:a,geometries:i}}async _createLodRenderer(e,t){const s=this._context.stage,r={layerUid:this._context.layer.uid,graphicUid:e=>this._instanceIndexToGraphicUid.get(e),notifyGraphicGeometryChanged:e=>this._context.notifyGraphicGeometryChanged(this._instanceIndexToGraphicUid.get(e)),notifyGraphicVisibilityChanged:e=>this._context.notifyGraphicVisibilityChanged(this._instanceIndexToGraphicUid.get(e))},a=this._fastUpdates.enabled?{applyTransform:(e,t,s)=>{e.getFeatureAttribute(t,_e),n(s,re(this._fastUpdates.materialParameters,_e,s))},scaleFactor:(e,t,s)=>(t.getFeatureAttribute(s,_e),ae(e,this._fastUpdates.materialParameters,_e))}:null,i=new ne(e,this._optionalFields,r,a);return i.slicePlaneEnabled=this._context.slicePlaneEnabled,this._addDisposeResource((()=>{s.removeRenderPlugin(i)})),await s.addRenderPlugin(i.slots,i,t),i}_getExternalColorParameters(s){const r={};return this._drivenProperties.color?r.externalColor=x:t(s)&&t(s.color)?r.externalColor=e.toUnitRGBA(s.color):(r.externalColor=x,r.colorMixMode=\"ignore\"),r}destroy(){super.destroy(),this._cleanupResources()}_cleanupResources(){this._disposeResourceHandles.forEach((e=>e())),this._disposeResourceHandles.length=0,this._resources=null}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry))return null;const s=K(t.geometry);if(a(s))return this.logger.warn(`unsupported geometry type for icon symbol: ${t.geometry.type}`),null;const r=this.setGraphicElevationContext(t,new z),i=e.renderingInfo;return this._createAs3DShape(t,s,i,r,t.uid,e.layer.uid)}notifyDestroyGraphicLayer(e){this._instanceIndexToGraphicUid.delete(e.instanceIndex)}graphicLayerToGraphicId(){return 0}layerOpacityChanged(){if(a(this._resources))return;const e=this._drivenProperties.opacity,t=!this._isPrimitive,r=this._resources.stageResources.materials,i=this._resources.originalMaterialParameters;for(let a=0;a<r.length;a++){const o=r[a],n=s(this.symbolLayer,\"material\",\"color\"),c=i[a],l=this._getCombinedOpacity(n,{hasIntrinsicColor:t})*c.opacity,h=l<1||e||c.transparent;o.setParameters({opacity:l,transparent:h}),this._isPrimitive&&o.setParameters({cullFace:h?ie.None:ie.Back})}}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,O)}slicePlaneEnabledChanged(){if(a(this._resources))return!0;this._resources.lodRenderer.slicePlaneEnabled=this._context.slicePlaneEnabled;for(const e of this._resources.stageResources.materials)e.setParameters({hasSlicePlane:this._context.slicePlaneEnabled});return!0}physicalBasedRenderingChanged(){if(a(this._resources))return!0;const{stageResources:e,isWosr:t}=this._resources;for(const s of e.materials)this._isPrimitive?s.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}):t||s.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!1});return!1!==this._hasLoadedPBRTextures||!0!==this._context.physicalBasedRenderingEnabled||(this._hasLoadedPBRTextures=!0,!1)}pixelRatioChanged(){return!0}applyRendererDiff(e,t){if(a(this._resources))return q.Recreate_Symbol;const{stageResources:{materials:s},lodRenderer:r,resourceBoundingBox:i,symbolSize:o,resourceSize:n,pivotOffset:c}=this._resources;for(const a in e.diff){if(\"visualVariables\"!==a)return q.Recreate_Symbol;if(!se(this._fastUpdates,t,this._fastVisualVariableConvertOptions(i,o,n,c)))return q.Recreate_Symbol;for(const e of s)e.setParameters(this._fastUpdates.materialParameters);r.notifyShaderTransformationChanged()}return q.Fast_Update}computeComplexity(){if(a(this._resources))return super.computeComplexity();const e=this._resources.lodResources,t=de(e.levels[0]).reduce(((e,t)=>e+t.indices.get(oe.POSITION).length),0)/3,s=e=>Array.from(e.vertexAttributes.values()).reduce(((e,t)=>e+(t.data.buffer?.byteLength??0)),0)+Array.from(e.indices.values()).reduce(((e,t)=>e+(Array.isArray(t)?12*t.length:t.buffer.byteLength)),0),r=le(e).reduce(((e,t)=>e+t.estimatedTexMemRequired),0)/4+he(e).reduce(((e,t)=>e+s(t)),0);return{primitivesPerFeature:t,primitivesPerCoordinate:0,drawCallsPerFeature:0,estimated:!1,memory:{...ee(this.symbol,this.symbolLayer),resourceBytes:r}}}_hasLodRenderer(){return t(this._resources)}_createAs3DShape(e,s,r,i,o,n){if(!this._hasLodRenderer()||a(this._resources))return null;const c=this.getFastUpdateAttrValues(e),l=!this._fastUpdates.enabled&&this._hasPerInstanceColor()?k(r.color,r.opacity):null,h=this._context.clippingExtent;if(S(s,ue,this._context.elevationProvider.spatialReference),t(h)&&!U(h,ue))return null;const d=this._requiresTerrainElevation(i),p=this._computeGlobalTransform(s,i,fe,be),m=this._computeLocalTransform(this._resources,this.symbolLayer,r,ye),u=this._resources.lodRenderer.instanceData,y=u.addInstance();this._instanceIndexToGraphicUid.set(y,o),u.setLocalTransform(y,m,!1),u.setGlobalTransform(y,p),c&&u.setFeatureAttribute(y,c),l&&u.setColor(y,l),has(\"enable-feature:objectAndLayerId-rendering\")&&u.setObjectAndLayerIdColor(y,this._context.stage.renderView._objectAndLayerIdRenderHelper.getObjectAndLayerIdColor({graphicUid:o,layerUid:n}));const f=new M(this,y,I,i);return d&&(f.alignedSampledElevation=be.sampledElevation),f.needsElevationUpdates=O(i.mode),Q(f,s,this._context.elevationProvider),f}_computeGlobalTransform(e,t,s,r){return G(e,this._context.elevationProvider,t,this._context.renderCoordsHelper,r),ue[0]=e.x,ue[1]=e.y,ue[2]=r.z,C(e.spatialReference,ue,s,this._context.renderCoordsHelper.spatialReference),s}_computeLocalTransform(e,t,s,r){return c(r),this._applyObjectRotation(s,!1,r),this._applyObjectRotation(t,!0,r),this._applyObjectScale(e,s,r),this._applyAnchor(e,t,r),r}_applyObjectScale(e,t,s){if(this._fastUpdates.enabled&&this._fastUpdates.requiresShaderTransformation)return;const r=this._drivenProperties.size&&t.size?t.size:e.symbolSize,a=H(r,e.symbolSize,e.resourceSize,this._context.renderCoordsHelper.unitInMeters);1===a[0]&&1===a[1]&&1===a[2]||l(s,s,a)}prepareSymbolLayerPatch(e){if(\"partial\"!==e.diff.type)return;const t=e.diff.diff;this._preparePatchTransform(e,t),this._preparePatchColor(e,t)}updateGeometry(e,t){if(a(this._resources))return!0;const s=t&&K(t);if(a(s))return!1;const r=this.getGeometryElevationMode(t);return e.elevationContext.mode===r&&(this._computeGlobalTransform(s,e.elevationContext,fe,be),this._requiresTerrainElevation(e.elevationContext)&&(e.alignedSampledElevation=be.sampledElevation),this._resources.lodRenderer.instanceData.setGlobalTransform(e.instanceIndex,fe,!0),Q(e,s,this._context.elevationProvider),!0)}_preparePatchTransform(e,t){if(!(t.heading||t.tilt||t.roll||t.width||t.height||t.depth||t.anchor||t.anchorPosition))return;if(a(this._resources))return;const s=(e,t,s)=>i(null!=e&&\"complete\"===e.type?e.newValue:t,s),r=s(t.heading,this.symbolLayer.heading,0),o=s(t.tilt,this.symbolLayer.tilt,0),n=s(t.roll,this.symbolLayer.roll,0),c=s(t.width,this.symbolLayer.width,void 0),l=s(t.height,this.symbolLayer.height,void 0),h=s(t.depth,this.symbolLayer.depth,void 0),d=s(t.anchor,this.symbolLayer.anchor,void 0),p=s(t.anchorPosition,this.symbolLayer.anchorPosition,void 0);delete t.heading,delete t.tilt,delete t.roll,delete t.width,delete t.height,delete t.depth,delete t.anchor,delete t.anchorPosition;const m={heading:r,tilt:o,roll:n,anchor:d,anchorPosition:p},u=this._resources;this.loadStatus===N.LOADED&&e.symbolLayerStatePatches.push((()=>{u.symbolSize=b(A(u.resourceSize,{width:c,height:l,depth:h,isPrimitive:this.symbolLayer.isPrimitive}))})),e.graphics3DGraphicPatches.push(((e,t)=>{const s=this._computeLocalTransform(u,m,t,ye),r=e.instanceIndex;u.lodRenderer.instanceData.setLocalTransform(r,s,!0)}))}_preparePatchColor(s,r){if(!r.material||\"partial\"!==r.material.type)return;const i=r.material.diff;if(!i.color||\"complete\"!==i.color.type||null==i.color.newValue||null==i.color.oldValue)return;const o=i.color.newValue,n=t(o)?e.toUnitRGBA(o):x;delete i.color;const c=this._resources;a(c)||s.graphics3DGraphicPatches.push((e=>{let t;this._hasPerInstanceColor()?(c.lodRenderer.instanceData.setColor(e.instanceIndex,n),t=this._setMaterialTransparencyParams({},o)):t=this._setMaterialTransparencyParams({externalColor:n},o);for(const s of c.stageResources.materials)s.setParameters(t)}))}_requiresTerrainElevation(e){return\"absolute-height\"!==e.mode}_applyObjectRotation(e,t,s){if(!(this._fastUpdates.enabled&&this._fastUpdates.requiresShaderTransformation&&t))return W(e.heading,e.tilt,e.roll,s)}_computeAnchor(e,s,r){const a=v();switch(r.anchor){case\"center\":u(a,E(e)),m(a,a);break;case\"top\":{const t=E(e);_(a,-t[0],-t[1],-e[5]);break}case\"bottom\":{const t=E(e);_(a,-t[0],-t[1],-e[2]);break}case\"relative\":{const t=E(e),s=w(e),i=r.anchorPosition,o=i?R(i.x,i.y,i.z):P;y(a,s,o),f(a,a,t),m(a,a);break}default:t(s)?m(a,s):u(a,P)}return a}_applyAnchor(e,t,s){if(this._fastUpdates.enabled&&this._fastUpdates.requiresShaderTransformation)return;const r=this._computeAnchor(e.resourceBoundingBox,e.pivotOffset,t);r&&h(s,s,r)}_hasPerInstanceColor(){return this._drivenProperties.color||this._drivenProperties.opacity}_fastVisualVariableConvertOptions(e,s,r,a){const i=t(e)?b(w(e)):g,o=t(e)?this._computeAnchor(e,a,this.symbolLayer):P,n=this._context.renderCoordsHelper.unitInMeters,c=H(t(s)?s:void 0,s,r,n),l=R(this.symbolLayer.tilt||0,this.symbolLayer.roll||0,this.symbolLayer.heading||0);return{modelSize:i,symbolSize:t(s)?s:g,unitInMeters:n,transformation:{anchor:o,scale:c,rotation:l}}}}const ue=v(),ye=d(),fe=d(),_e=L(),be=new D;export{me as Graphics3DObjectSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{g as t}from\"./common.js\";function n(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function a(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function r(t,n,a,r,s){return t[0]=n,t[1]=a,t[2]=r,t[3]=s,t}function s(t,n){if(t===n){const a=n[1];t[1]=n[2],t[2]=a}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t}function u(t,n){const a=n[0],r=n[1],s=n[2],u=n[3];let o=a*u-s*r;return o?(o=1/o,t[0]=u*o,t[1]=-r*o,t[2]=-s*o,t[3]=a*o,t):null}function o(t,n){const a=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=a,t}function e(t){return t[0]*t[3]-t[2]*t[1]}function c(t,n,a){const r=n[0],s=n[1],u=n[2],o=n[3],e=a[0],c=a[1],i=a[2],f=a[3];return t[0]=r*e+u*c,t[1]=s*e+o*c,t[2]=r*i+u*f,t[3]=s*i+o*f,t}function i(t,n,a){const r=n[0],s=n[1],u=n[2],o=n[3],e=Math.sin(a),c=Math.cos(a);return t[0]=r*c+u*e,t[1]=s*c+o*e,t[2]=r*-e+u*c,t[3]=s*-e+o*c,t}function f(t,n,a){const r=n[0],s=n[1],u=n[2],o=n[3],e=a[0],c=a[1];return t[0]=r*e,t[1]=s*e,t[2]=u*c,t[3]=o*c,t}function l(t,n){const a=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=a,t[2]=-a,t[3]=r,t}function h(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t}function M(t){return\"mat2(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"}function b(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2)}function m(t,n,a,r){return t[2]=r[2]/r[0],a[0]=r[0],a[1]=r[1],a[3]=r[3]-t[2]*a[1],[t,n,a]}function d(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t}function p(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t}function y(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function x(n,a){const r=n[0],s=n[1],u=n[2],o=n[3],e=a[0],c=a[1],i=a[2],f=a[3],l=t();return Math.abs(r-e)<=l*Math.max(1,Math.abs(r),Math.abs(e))&&Math.abs(s-c)<=l*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(u-i)<=l*Math.max(1,Math.abs(u),Math.abs(i))&&Math.abs(o-f)<=l*Math.max(1,Math.abs(o),Math.abs(f))}function g(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t}function j(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t[2]=n[2]+a[2]*r,t[3]=n[3]+a[3]*r,t}const S=c,q=p,_=Object.freeze(Object.defineProperty({__proto__:null,copy:n,identity:a,set:r,transpose:s,invert:u,adjoint:o,determinant:e,multiply:c,rotate:i,scale:f,fromRotation:l,fromScaling:h,str:M,frob:b,LDU:m,add:d,subtract:p,exactEquals:y,equals:x,multiplyScalar:g,multiplyScalarAndAdd:j,mul:S,sub:q},Symbol.toStringTag,{value:\"Module\"}));export{m as L,u as a,o as b,n as c,e as d,c as e,f,l as g,h,a as i,M as j,b as k,d as l,_ as m,p as n,y as o,x as p,g as q,i as r,r as s,s as t,j as u,S as v,q as w};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{PrimitiveType as t}from\"./basicInterfaces.js\";import{Geometry as e}from\"./Geometry.js\";class r extends e{constructor(e,r,i,s,n,o,c){super(e,r,t.Triangle,c),this.path=i,this.geometrySR=s,this.upVectorAlignment=n,this.stencilWidth=o}}function i(t){return\"upVectorAlignment\"in t}export{r as PathGeometry,i as isPathGeometry};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3]]}function t(e,r,t,n){return[e,r,t,n]}function n(e,r){return new Float64Array(e,r,4)}const o=Object.freeze(Object.defineProperty({__proto__:null,create:e,clone:r,fromValues:t,createView:n},Symbol.toStringTag,{value:\"Module\"}));export{r as a,n as b,e as c,t as f,o as m};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{acosClamped as t,reciprocalClamped as e}from\"../../../../core/mathUtils.js\";import{s as i}from\"../../../../chunks/mat2.js\";import{c as s}from\"../../../../chunks/mat2f64.js\";import{v as r,d as o}from\"../../../../chunks/mat4.js\";import{c as h}from\"../../../../chunks/mat4f64.js\";import{s as n,h as a,q as l,a as u,b as p,j as f,f as c,i as x}from\"../../../../chunks/vec2.js\";import{a as d,d as v,f as m}from\"../../../../chunks/vec2f64.js\";import{e as g,c as V,a as A,n as b,g as C,b as D,f as I,o as R,s as N,l as P,m as S}from\"../../../../chunks/vec3.js\";import{c as U}from\"../../../../chunks/vec3f64.js\";import{create as T,fromPositionAndNormal as y,intersectRay as L}from\"../../../../geometry/support/plane.js\";import{wrap as _}from\"../../../../geometry/support/ray.js\";import{makeOrthoBasisDirUpFallback as F}from\"./GeometryUtil.js\";import{VertexAttribute as M}from\"./VertexAttribute.js\";import{intersectTriangles as O}from\"../materials/internal/MaterialUtil.js\";function E(){return{up:U(),right:U()}}function k(t,e,i){S(t.up,e.up,i),S(t.right,e.right,i)}function w(t,e,i){t[0]=i[0]*e.right[0]+i[1]*e.up[0],t[1]=i[0]*e.right[1]+i[1]*e.up[1],t[2]=i[0]*e.right[2]+i[1]*e.up[2]}function G(t,e,i){n(t,g(i,e.right),g(i,e.up))}class B{constructor(){this.pos=U(),this.posES=U(),this.posGS=U(),this.vRight=U(),this.vLeft=U(),this.frame=E(),this.rotationFrame=E(),this.rotationRight=d(),this.rotationAngle=0,this.miterStretch=s()}setFrameFromUpVector(t){V(this.frame.up,t),A(at,this.vLeft,this.vRight),b(at,at),C(nt,this.frame.up,g(at,this.frame.up)),D(pt,at,nt),b(pt,pt),I(this.frame.right,pt,this.frame.up)}computeRotationAxisAndAngleFromUpVector(){V(this.rotationFrame.up,this.frame.up),V(this.rotationFrame.right,this.frame.right),n(this.rotationRight,1,0),C(nt,this.frame.up,g(this.frame.up,this.vLeft)),D(nt,this.vLeft,nt),R(nt,nt),b(nt,nt),C(at,this.frame.up,g(this.frame.up,this.vRight)),D(at,this.vRight,at),b(at,at),I(lt,this.rotationFrame.up,this.vLeft);const s=Math.sign(g(lt,this.vRight));if(this.rotationAngle=s*(Math.PI-t(g(nt,at))),Math.abs(this.rotationAngle)>0){const t=e(Math.cos(.5*this.rotationAngle));i(this.miterStretch,t-1+1,0,0,1)}const r=Math.PI-this.rotationAngle;this.maxStretchDistance=Math.abs(Math.min(this.vLeftLength,this.vRightLength)/Math.cos(.5*r))}}class j{constructor(){this.vertices=[],this.vertexIndices=[],this.vertexNormals=[],this.poles=[],this.poleIndices=[],this.uvs=null,this.uvIndices=null}addVertex(t,e){return this.vertices.push(v(t)),this.vertexNormals.push(v(e)),this.vertices.length-1}addUV(t){return this.uvs||(this.uvs=[],this.uvIndices=[]),this.uvs.push(t),this.uvs.length-1}addPole(t,e=null){return this.poles.push({position:v(t),normal:e?v(e):null}),this.poles.length-1}addSegment(t,e=null,i=null){this.vertexIndices.push(t.v0),this.vertexIndices.push(t.v1),e&&(this.uvIndices.push(e.v0),this.uvIndices.push(e.v1)),i&&(this.poleIndices.push(i.v0),this.poleIndices.push(i.v1))}get numSegments(){return this.vertexIndices.length/2}hasUV(){return null!=this.uvs}translate(t,e){for(const i of this.vertices)i[0]+=t,i[1]+=e;for(const i of this.poles)i.position[0]+=t,i.position[1]+=e}static circle(t=20){const e=.5,i=new j,s={v0:0,v1:0};i.addPole(m(0,0));for(let h=0;h<t;++h){const s=2*h*Math.PI/t,r=Math.cos(s),o=Math.sin(s),n=m(r*e,o*e),a=m(r,o);i.addVertex(n,a),i.addUV(h/t)}i.addUV(1);for(let h=0;h<t-1;++h){const t={v0:h,v1:h+1},e=t;i.addSegment(t,e,s)}const r={v0:t-1,v1:0},o={v0:t-1,v1:t};return i.addSegment(r,o,s),i}static rect(){const t=1,e=1,i=new j,s=m(.5*-t,.5*-e),r=m(.5*t,.5*-e),o=m(.5*t,.5*e),h=m(.5*-t,.5*e),n=m(0,-1),a=m(1,0),l=m(0,1),u=m(-1,0);i.addUV(0),i.addUV(1),i.addPole(m(0,.5*e),l),i.addPole(m(0,.5*e)),i.addPole(m(0,.5*-e)),i.addPole(m(0,.5*-e),n);const p={v0:0,v1:1};return i.addVertex(s,n),i.addVertex(r,n),i.addSegment({v0:0,v1:1},p,{v0:3,v1:3}),i.addVertex(r,a),i.addVertex(o,a),i.addSegment({v0:2,v1:3},p,{v0:2,v1:1}),i.addVertex(o,l),i.addVertex(h,l),i.addSegment({v0:4,v1:5},p,{v0:0,v1:0}),i.addVertex(h,u),i.addVertex(s,u),i.addSegment({v0:6,v1:7},p,{v0:1,v1:2}),i}}class z{constructor(t){this.vertices=[],this.offset=U(),this.xform=h(),this.vertices=t;const e=Math.floor((t.length-1)/2);V(this.offset,this.vertices[e].pos);for(const i of this.vertices)D(i.pos,i.pos,this.offset);r(this.xform,this.xform,this.offset),this.updatePathVertexInformation()}updatePathVertexInformation(){const t=this.vertices.length;let e=this.vertices[0];e.index=0,N(e.vLeft,0,0,0),e.vLeftLength=0,D(e.vRight,this.vertices[1].pos,e.pos),e.vRightLength=P(e.vRight),b(e.vRight,e.vRight);let i=e;for(let s=1;s<t;++s)e=this.vertices[s],e.index=s,V(e.vLeft,i.vRight),e.vLeftLength=i.vRightLength,s<t-1?(D(e.vRight,this.vertices[s+1].pos,e.pos),e.vRightLength=P(e.vRight),b(e.vRight,e.vRight)):(V(e.vRight,e.vLeft),e.vRightLength=e.vLeftLength),i=e}}function J(t,e){let i=null;const s=t.vertices.length,r=.99619469809,o=U(),h=U(),n=U(),a=U(),l=U(),u=U(),p=T();let f=t.vertices[0];V(h,e),N(o,0,1,0),F(f.vRight,h,o,o,n,h,r),V(f.frame.up,h),V(f.frame.right,n),i=f;for(let c=1;c<s;++c){f=t.vertices[c],A(l,f.vLeft,f.vRight);let e=P(l);e>0?(e=1/Math.sqrt(e),l[0]=l[0]*e,l[1]=l[1]*e,l[2]=l[2]*e):(l[0]=f.vRight[0],l[1]=f.vRight[1],l[2]=f.vRight[2]),A(u,i.pos,i.frame.up),y(f.pos,l,p);L(p,_(u,f.vLeft),a)?(D(a,a,f.pos),b(h,a),I(n,l,h),b(n,n)):F(l,i.frame.up,i.frame.right,o,n,h,r),V(f.frame.up,h),V(f.frame.right,n),i=f}}class q{}class H{numProfilesPerJoin(){return 1}extrude(t,e,i){for(let s=0;s<e.vertices.length;++s)i(t.index,t.frame,e.vertices[s],e.vertexNormals[s],!1)}}class X{constructor(t=.8*Math.PI,e=1){this.cutoffAngle=t,this.numBendSubdivisions=e}numProfilesPerJoin(){return this.numBendSubdivisions+1}extrude(t,e,i){const s=ft;if(Math.abs(t.rotationAngle)>=this.cutoffAngle)for(let r=0;r<this.numBendSubdivisions+1;++r){o(ct,.5*-t.rotationAngle+r*t.rotationAngle/this.numBendSubdivisions,t.rotationFrame.up),k(s,t.frame,ct);for(let r=0;r<e.vertices.length;++r){a(e.vertices[r],t.rotationRight)*t.rotationAngle>=0?i(t.index,s,e.vertices[r],e.vertexNormals[r],!1):(l(rt,e.vertices[r],t.miterStretch),i(t.index,t.frame,rt,e.vertexNormals[r],!0))}}else for(let r=0;r<this.numBendSubdivisions+1;++r)for(let s=0;s<e.vertices.length;++s){const r=a(e.vertices[s],t.rotationRight)*t.rotationAngle>=0;l(rt,e.vertices[s],t.miterStretch),i(t.index,t.frame,rt,e.vertexNormals[s],!r)}}}const K={generateUV:!1};class Q{rebuildConnectingProfileGeometry(t,e,i){for(let s=0;s<e.vertices.length;++s)i(t.index,t.frame,e.vertices[s],e.vertexNormals[s],0,0)}}class W extends Q{constructor(){super()}getNumVertices(){return 0}getNumIndices(){return 0}rebuildCapGeometry(){}buildTopology(){}}class Y extends Q{constructor(t,e=0,i=!1){super(),this.profile=t,this.profilePlaneOffset=e,this.flip=i}getNumVertices(){return this.profile.vertices.length}getNumIndices(){return 3*this.profile.numSegments}rebuildConnectingProfileGeometry(t,e,i){for(let s=0;s<e.vertices.length;++s)i(t.index,t.frame,e.vertices[s],e.vertexNormals[s],this.profilePlaneOffset,0)}rebuildCapGeometry(t,e){const i=ot;n(i,0,0);const s=this.flip?1:-1;for(let r=0;r<this.profile.vertices.length;++r)e(t.index,t.frame,this.profile.vertices[r],i,this.profilePlaneOffset,s)}buildTopology(t,e){const i=this.vertexBufferStart+this.profile.vertexIndices[0];for(let s=1;s<this.profile.numSegments;++s){const t=this.profile.vertexIndices[2*s+0],r=this.profile.vertexIndices[2*s+1],o=this.vertexBufferStart+t,h=this.vertexBufferStart+r;this.flip?e(h,o,i):e(i,o,h)}}}class Z extends Q{constructor(t){super(),this.flip=!1,this.sign=0,this.breakNormals=!1,this.numSegments=3,this.profile=t.profile,this.flip=t.flip,this.sign=this.flip?1:-1,this.breakNormals=t.breakNormals,this.numSegments=t.subdivisions}getNumVertices(){let t=0;return t=this.profile.vertices.length*(this.numSegments-1),this.breakNormals&&(t+=this.profile.vertices.length),t+=this.profile.poles.length,t}getNumIndices(){let t=0;t+=2*this.profile.numSegments*(this.numSegments-1);for(let e=0;e<this.profile.numSegments;++e){const i=this.profile.vertexIndices[2*e+0],s=this.profile.vertexIndices[2*e+1];this.profile.poleIndices[i]===this.profile.poleIndices[s]?t+=1:t+=2}return 3*t}rebuildCapGeometry(t,e){const i=t.frame,s=.5*this.sign,r=rt,o=ot;n(o,0,0);for(let h=0;h<this.profile.poles.length;++h){const r=this.profile.poles[h];r.normal?e(t.index,i,r.position,r.normal,s,0):e(t.index,i,r.position,o,s,this.sign)}if(this.breakNormals)for(let h=0;h<this.profile.vertices.length;++h)e(t.index,i,this.profile.vertices[h],this.profile.vertexNormals[h],0,0);for(let h=0;h<this.numSegments-1;++h){const n=(1-(h+1)/this.numSegments)*Math.PI*.5,a=Math.sin(n),l=Math.cos(n);for(let h=0;h<this.profile.vertices.length;++h){const n=this.profile.poles[this.profile.poleIndices[h]];u(r,this.profile.vertices[h],n.position),p(r,r,a),n.normal?(f(r,r,n.position),e(t.index,i,r,n.normal,s*l,0)):(c(o,r),p(o,o,a),f(r,r,n.position),e(t.index,i,r,o,s*l,this.sign*l))}}}buildTopology(t,e){const i=this.breakNormals?this.vertexBufferStart+this.profile.poles.length:this.firstProfileVertexIndex,s=this.breakNormals?this.vertexBufferStart+this.profile.poles.length+this.profile.vertices.length:this.vertexBufferStart+this.profile.poles.length;for(let r=0;r<this.profile.numSegments;++r){const t=this.profile.vertexIndices[2*r+0],o=this.profile.vertexIndices[2*r+1],h=this.vertexBufferStart+this.profile.poleIndices[t],n=this.vertexBufferStart+this.profile.poleIndices[o];let a=i+t,l=i+o;for(let i=0;i<this.numSegments-1;++i){const r=s+i*this.profile.vertices.length+t,h=s+i*this.profile.vertices.length+o;this.flip?(e(r,l,a),e(l,r,h)):(e(a,l,r),e(h,r,l)),a=r,l=h}this.flip?(e(h,l,a),h!==n&&e(h,n,l)):(e(a,l,h),h!==n&&e(l,n,h))}}}class ${constructor(t,e,i,s,r,o=K){this.options=o,this._extrusionVertexCount=0,this.numExtrusionProfiles=0,this.numVerticesTotal=0,this.numNormalsTotal=0,this.numUVTotal=0,this.profile=e,this.path=t,this.extruder=i,this.startCap=s,this.endCap=r;const h=this.path.vertices.length-2;this.numExtrusionProfiles=i.numProfilesPerJoin()*h+2,this.numVerticesTotal=e.vertices.length*this.numExtrusionProfiles,this.numNormalsTotal=this.numVerticesTotal,this.startCap.vertexBufferStart=this.numVerticesTotal;const n=this.startCap.getNumVertices();this.numVerticesTotal+=n,this.numNormalsTotal+=n,this.endCap.vertexBufferStart=this.numVerticesTotal;const a=this.endCap.getNumVertices();this.numVerticesTotal+=a,this.numNormalsTotal+=a,this.pathVertexData=new Float32Array(1*this.numVerticesTotal),this.profileRightAxisData=new Float32Array(4*this.numVerticesTotal),this.profileUpAxisData=new Float32Array(4*this.numVerticesTotal),this.profileVertexAndNormalData=new Float32Array(4*this.numVerticesTotal),this.profile.hasUV()&&this.options.generateUV&&(this.numUVTotal=this.profile.uvs.length,this.uvData=new Float32Array(2*this.numUVTotal)),this.originData=new Float32Array(3*this.path.vertices.length),this._rebuildGeometry(),this.buildTopology()}emitVertex(t,e,i,s,r){if(this.profileRightAxisData[4*this._extrusionVertexCount+0]=e.right[0],this.profileRightAxisData[4*this._extrusionVertexCount+1]=e.right[1],this.profileRightAxisData[4*this._extrusionVertexCount+2]=e.right[2],this.profileUpAxisData[4*this._extrusionVertexCount+0]=e.up[0],this.profileUpAxisData[4*this._extrusionVertexCount+1]=e.up[1],this.profileUpAxisData[4*this._extrusionVertexCount+2]=e.up[2],this.profileVertexAndNormalData[4*this._extrusionVertexCount+0]=i[0],this.profileVertexAndNormalData[4*this._extrusionVertexCount+1]=i[1],this.profileVertexAndNormalData[4*this._extrusionVertexCount+2]=s[0],this.profileVertexAndNormalData[4*this._extrusionVertexCount+3]=s[1],this.pathVertexData[this._extrusionVertexCount]=t,r){const e=this.path.vertices[t];this.profileRightAxisData[4*this._extrusionVertexCount+3]=e.rotationRight[0]*e.maxStretchDistance,this.profileUpAxisData[4*this._extrusionVertexCount+3]=e.rotationRight[1]*e.maxStretchDistance}else this.profileRightAxisData[4*this._extrusionVertexCount+3]=0,this.profileUpAxisData[4*this._extrusionVertexCount+3]=0;++this._extrusionVertexCount}emitCapVertex(t,e,i,s,r,o){this.profileRightAxisData[4*this._extrusionVertexCount+0]=e.right[0],this.profileRightAxisData[4*this._extrusionVertexCount+1]=e.right[1],this.profileRightAxisData[4*this._extrusionVertexCount+2]=e.right[2],this.profileUpAxisData[4*this._extrusionVertexCount+0]=e.up[0],this.profileUpAxisData[4*this._extrusionVertexCount+1]=e.up[1],this.profileUpAxisData[4*this._extrusionVertexCount+2]=e.up[2],this.profileVertexAndNormalData[4*this._extrusionVertexCount+0]=i[0],this.profileVertexAndNormalData[4*this._extrusionVertexCount+1]=i[1],this.profileVertexAndNormalData[4*this._extrusionVertexCount+2]=s[0],this.profileVertexAndNormalData[4*this._extrusionVertexCount+3]=s[1],this.pathVertexData[this._extrusionVertexCount]=t,this.profileRightAxisData[4*this._extrusionVertexCount+3]=r,this.profileUpAxisData[4*this._extrusionVertexCount+3]=o,++this._extrusionVertexCount}emitTriangle(t,e,i){this.vertexIndices.push(t),this.vertexIndices.push(e),this.vertexIndices.push(i),this.pathVertexIndices.push(this.pathVertexData[t]),this.pathVertexIndices.push(this.pathVertexData[e]),this.pathVertexIndices.push(this.pathVertexData[i]),this.normalIndices.push(t),this.normalIndices.push(e),this.normalIndices.push(i)}_rebuildGeometry(){const t=(t,e,i,s,r)=>this.emitVertex(t,e,i,s,r),e=(t,e,i,s,r,o)=>this.emitCapVertex(t,e,i,s,r,o);this._extrusionVertexCount=0;for(const i of this.path.vertices)this.originData[3*i.index+0]=i.pos[0],this.originData[3*i.index+1]=i.pos[1],this.originData[3*i.index+2]=i.pos[2];this.startCap.rebuildConnectingProfileGeometry(this.path.vertices[0],this.profile,e);for(let i=1;i<this.path.vertices.length-1;++i)this.extruder.extrude(this.path.vertices[i],this.profile,t);if(this.endCap.rebuildConnectingProfileGeometry(this.path.vertices[this.path.vertices.length-1],this.profile,e),this.startCap.rebuildCapGeometry(this.path.vertices[0],e),this.endCap.rebuildCapGeometry(this.path.vertices[this.path.vertices.length-1],e),this.profile.hasUV()&&this.options.generateUV)for(let i=0;i<this.profile.uvs.length;++i)this.uvData[2*i+0]=this.profile.uvs[i],this.uvData[2*i+1]=0}buildTopology(){const t=this.profile.vertices.length,e=this.profile.numSegments,i=this.numExtrusionProfiles-1;let s=3*(2*(e*i));this.startCap.indexBufferStart=s,this.startCap.firstProfileVertexIndex=0,s+=this.startCap.getNumIndices(),this.endCap.indexBufferStart=s,this.endCap.firstProfileVertexIndex=t*(this.numExtrusionProfiles-1),this.vertexIndices=new Array,this.normalIndices=new Array,this.pathVertexIndices=new Array,this.profile.hasUV()&&this.options.generateUV&&(this.uvIndices=new Array);for(let o=0;o<e;++o){const e=this.profile.vertexIndices[2*o],s=this.profile.vertexIndices[2*o+1];for(let r=0;r<i;++r){const i=r*t+e,o=(r+1)*t+e,h=(r+1)*t+s,n=r*t+s;this.emitTriangle(i,o,h),this.emitTriangle(i,h,n)}}const r=(t,e,i)=>this.emitTriangle(t,e,i);this.startCap.buildTopology(this.path.vertices[0],r),this.endCap.buildTopology(this.path.vertices[this.path.vertices.length-1],r)}onPathChanged(){this._rebuildGeometry()}}class tt{constructor(t){this.builder=t}get xform(){return this.builder.path.xform}onPathChanged(){this.builder.onPathChanged()}}class et extends tt{constructor(t){super(t),this.vertexAttributePosition=null,this.vertexAttributeNormal=null,this.vertexAttributeColor=null,this.vertexAttributePosition=new Float32Array(3*this.builder.numVerticesTotal),this.vertexAttributeNormal=new Float32Array(3*this.builder.numNormalsTotal),this.vertexAttributeColor=new Uint8Array(4),this.vertexAttributeColor[0]=255,this.vertexAttributeColor[1]=255,this.vertexAttributeColor[2]=255,this.vertexAttributeColor[3]=255}bakeVertexColors(t){this.vertexAttributeColor[0]=255*t[0],this.vertexAttributeColor[1]=255*t[1],this.vertexAttributeColor[2]=255*t[2],this.vertexAttributeColor[3]=255*(t.length>3?t[3]:1)}bake(t){this.size=t;for(let e=0;e<this.builder.numVerticesTotal;++e){let i=this.builder.pathVertexData[e];const s=0===i||i===this.builder.path.vertices.length-1;i*=3;const r=st;N(r,this.builder.originData[i++],this.builder.originData[i++],this.builder.originData[i]);const o=4*e,h=nt,l=rt,u=at,d=lt,v=ut;let m=0,g=0;if(N(d,this.builder.profileRightAxisData[o],this.builder.profileRightAxisData[o+1],this.builder.profileRightAxisData[o+2]),N(v,this.builder.profileUpAxisData[o],this.builder.profileUpAxisData[o+1],this.builder.profileUpAxisData[o+2]),n(l,this.builder.profileVertexAndNormalData[o]*t[0],this.builder.profileVertexAndNormalData[o+1]*t[1]),s)I(u,v,d),m=this.builder.profileRightAxisData[o+3]*t[0],g=this.builder.profileUpAxisData[o+3];else{const t=ot,e=ht;n(t,this.builder.profileRightAxisData[o+3],this.builder.profileUpAxisData[o+3]);const i=x(t);c(t,t);const s=a(l,t);if(Math.abs(s)>i){n(e,-t[1],t[0]);const r=a(l,e);p(t,t,i*Math.sign(s)),p(e,e,r),f(l,t,e)}N(u,0,0,0)}N(h,d[0]*l[0]+v[0]*l[1],d[1]*l[0]+v[1]*l[1],d[2]*l[0]+v[2]*l[1]),this.vertexAttributePosition[3*e+0]=r[0]+h[0]+u[0]*m,this.vertexAttributePosition[3*e+1]=r[1]+h[1]+u[1]*m,this.vertexAttributePosition[3*e+2]=r[2]+h[2]+u[2]*m;const V=rt;n(V,this.builder.profileVertexAndNormalData[o+2],this.builder.profileVertexAndNormalData[o+3]),this.vertexAttributeNormal[3*e+0]=d[0]*V[0]+v[0]*V[1]+u[0]*g,this.vertexAttributeNormal[3*e+1]=d[1]*V[0]+v[1]*V[1]+u[1]*g,this.vertexAttributeNormal[3*e+2]=d[2]*V[0]+v[2]*V[1]+u[2]*g}}createGeometryData(){const t=[[M.POSITION,this.builder.vertexIndices],[M.NORMAL,this.builder.normalIndices]],e=[[M.POSITION,{size:3,data:this.vertexAttributePosition,exclusive:!0}],[M.NORMAL,{size:3,data:this.vertexAttributeNormal,exclusive:!0}]];if(this.vertexAttributeColor){const i=this.builder.vertexIndices.length;t.push([M.COLOR,new Array(i).fill(0)]),e.push([M.COLOR,{size:4,data:this.vertexAttributeColor}])}return{vertexAttributes:e,indices:t}}onPathChanged(){super.onPathChanged(),this.bake(this.size)}intersect(t,e,i){const s=this.builder.vertexIndices,r={size:3,data:this.vertexAttributePosition},o=s.length/3;O(t,e,0,o,s,r,void 0,void 0,i)}}class it extends tt{constructor(t,e,i,s){super(t),this.sizeAttributeValue=e,this.colorAttributeValue=i,this.opacityAttributeValue=s,this.vvData=null,this.baked=new et(t),this.vvData=new Float32Array(4*this.builder.path.vertices.length);for(let r=0;r<this.builder.path.vertices.length;++r){this.vvData[4*r+0]=e,this.vvData[4*r+1]=i,this.vvData[4*r+2]=s;const t=0===r||r===this.builder.path.vertices.length-1;this.vvData[4*r+3]=t?1:0}}createGeometryData(){return{vertexAttributes:[[M.POSITION,{size:3,data:this.builder.originData,exclusive:!0}],[M.PROFILERIGHT,{size:4,data:this.builder.profileRightAxisData,exclusive:!0}],[M.PROFILEUP,{size:4,data:this.builder.profileUpAxisData,exclusive:!0}],[M.PROFILEVERTEXANDNORMAL,{size:4,data:this.builder.profileVertexAndNormalData,exclusive:!0}],[M.FEATUREVALUE,{size:4,data:this.vvData,exclusive:!0}]],indices:[[M.POSITION,this.builder.pathVertexIndices],[M.PROFILERIGHT,this.builder.vertexIndices],[M.PROFILEUP,this.builder.vertexIndices],[M.PROFILEVERTEXANDNORMAL,this.builder.vertexIndices],[M.FEATUREVALUE,this.builder.pathVertexIndices]]}}}const st=U(),rt=d(),ot=d(),ht=d(),nt=U(),at=U(),lt=U(),ut=U(),pt=U(),ft=E(),ct=h();export{$ as Builder,Q as CapBuilder,q as Extruder,it as FastUpdatePathGeometry,X as MiterExtruder,W as NoCapBuilder,z as Path,tt as PathGeometryData,B as PathVertex,j as Profile,Z as RoundCapBuilder,H as SimpleExtruder,et as StaticPathGeometry,Y as TriangulationCapBuilder,J as computeMinimumRotationTangentFrame,E as makeFrame,w as profileSpaceToVertexSpace,G as vertexSpaceToProfileSpace};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{f as o}from\"../../../../chunks/vec3f64.js\";import{ViewingMode as t}from\"../../../ViewingMode.js\";import{ShaderOutput as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{PathVertexPositionPassParameters as i}from\"../core/shaderLibrary/attributes/PathVertexPosition.glsl.js\";import{NormalsDoubleSidedMode as s}from\"../core/shaderLibrary/shading/Normals.glsl.js\";import{PBRMode as a}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{doublePrecisionRequiresObfuscation as n}from\"../core/shaderLibrary/util/DoublePrecision.glsl.js\";import{ReloadableShaderModule as l}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as p}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as c}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{blendingDefault as u,oitBlending as d,oitDepthTest as h,OITPolygonOffset as m}from\"../lib/OrderIndependentTransparency.js\";import{Program as v}from\"../lib/Program.js\";import{stencilWriteMaskOn as y,stencilBaseAllZerosParams as b}from\"../lib/StencilUtils.js\";import{TransparencyPassType as f}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as g}from\"../lib/VertexAttribute.js\";import{DefaultTechniqueConfiguration as P}from\"./DefaultTechniqueConfiguration.js\";import{P as O}from\"../../../../chunks/Path.glsl.js\";import{ContextType as T}from\"../../../webgl/context-util.js\";import{makePipelineState as j,frontFaceCullingParams as S,defaultDepthWriteParams as L,defaultColorWriteParams as N}from\"../../../webgl/renderState.js\";const R=new Map([[g.POSITION,0],[g.PROFILERIGHT,1],[g.PROFILEUP,2],[g.PROFILEVERTEXANDNORMAL,3],[g.FEATUREVALUE,4]]);class x extends i{constructor(){super(...arguments),this.ambient=o(.2,.2,.2),this.diffuse=o(.8,.8,.8),this.specular=o(0,0,0),this.opacity=1}}class C extends p{initializeConfiguration(e,o){o.hasWebGL2Context=e.rctx.type===T.WEBGL2,o.spherical=e.viewingMode===t.Global,o.doublePrecisionRequiresObfuscation=n(e.rctx)}initializeProgram(e){return new v(e.rctx,C.shader.get().build(this.configuration),R)}initializePipeline(){const e=this.configuration.transparencyPassType,o=this.configuration,t=e===f.NONE,i=e===f.FrontFace;return j({blending:o.output!==r.Color&&o.output!==r.Alpha||!o.transparent?null:t?u:d(e),culling:o.hasSlicePlane&&!o.transparent&&!(o.doubleSidedMode===s.None)&&S,depthTest:{func:h(e)},depthWrite:t||i?L:null,colorWrite:N,stencilWrite:o.hasOccludees?y:null,stencilTest:o.hasOccludees?b:null,polygonOffset:t||i?null:m})}}C.shader=new l(O,(()=>import(\"../shaders/Path.glsl.js\")));class E extends P{constructor(){super(...arguments),this.output=r.Color,this.doubleSidedMode=s.None,this.transparencyPassType=f.NONE,this.spherical=!1,this.receiveShadows=!1,this.receiveAmbientOcclusion=!1,this.vvSize=!1,this.vvColor=!1,this.vvOpacity=!1,this.hasSlicePlane=!1,this.transparent=!1,this.hasOccludees=!1,this.hasMultipassTerrain=!1,this.cullAboveGround=!1,this.doublePrecisionRequiresObfuscation=!1}}e([c({count:r.COUNT})],E.prototype,\"output\",void 0),e([c({count:s.COUNT})],E.prototype,\"doubleSidedMode\",void 0),e([c({count:f.COUNT})],E.prototype,\"transparencyPassType\",void 0),e([c()],E.prototype,\"spherical\",void 0),e([c()],E.prototype,\"receiveShadows\",void 0),e([c()],E.prototype,\"receiveAmbientOcclusion\",void 0),e([c()],E.prototype,\"vvSize\",void 0),e([c()],E.prototype,\"vvColor\",void 0),e([c()],E.prototype,\"vvOpacity\",void 0),e([c()],E.prototype,\"hasSlicePlane\",void 0),e([c()],E.prototype,\"transparent\",void 0),e([c()],E.prototype,\"hasOccludees\",void 0),e([c()],E.prototype,\"hasMultipassTerrain\",void 0),e([c()],E.prototype,\"cullAboveGround\",void 0),e([c()],E.prototype,\"doublePrecisionRequiresObfuscation\",void 0),e([c({constValue:a.Disabled})],E.prototype,\"pbrMode\",void 0),e([c({constValue:!0})],E.prototype,\"hasVvInstancing\",void 0),e([c({constValue:!1})],E.prototype,\"useCustomDTRExponentForWater\",void 0),e([c({constValue:!1})],E.prototype,\"useFillLights\",void 0);export{x as PathPassParameters,C as PathTechnique,E as PathTechniqueConfiguration,R as vertexAttributeLocations};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{clamp as e}from\"../../../../core/mathUtils.js\";import{isNone as t}from\"../../../../core/maybe.js\";import{fromValues as r}from\"../../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec4f as i}from\"../../../../geometry/support/buffer/BufferView.js\";import{newLayout as a}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as s}from\"../core/shaderLibrary/ShaderOutput.js\";import{NormalsDoubleSidedMode as o}from\"../core/shaderLibrary/shading/Normals.glsl.js\";import{computeAttachmentOriginLines as n}from\"../lib/geometryDataUtils.js\";import h from\"../lib/GLMaterial.js\";import{Material as u}from\"../lib/Material.js\";import{isPathGeometry as c}from\"../lib/PathGeometry.js\";import{RenderSlot as l}from\"../lib/RenderSlot.js\";import{assert as d}from\"../lib/Util.js\";import{VertexAttribute as p}from\"../lib/VertexAttribute.js\";import{vertexAttributeLocations as m,PathTechniqueConfiguration as f,PathTechnique as b,PathPassParameters as v}from\"./PathTechnique.js\";import{writeDefaultAttributes as S,writeBufferVec4 as g}from\"./internal/bufferWriterUtils.js\";import{intersectAabbInvDir as A}from\"./internal/MaterialUtil.js\";class E extends u{constructor(e){super(e,new _),this.supportsEdges=!0,this._vertexAttributeLocations=m,this._configuration=new f,this._vertexBufferLayout=E.getVertexBufferLayout(this.parameters)}getConfiguration(e,t){return this._configuration.output=e,this._configuration.vvSize=this.parameters.vvSizeEnabled,this._configuration.vvColor=this.parameters.vvColorEnabled,this._configuration.vvOpacity=this.parameters.vvOpacityEnabled,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.hasOccludees=this.parameters.hasOccludees,e!==s.Color&&e!==s.Alpha||(this._configuration.doubleSidedMode=this.parameters.doubleSided&&\"normal\"===this.parameters.doubleSidedType?o.View:this.parameters.doubleSided&&\"winding-order\"===this.parameters.doubleSidedType?o.WindingOrder:o.None,this._configuration.receiveShadows=this.parameters.receiveShadows,this._configuration.receiveAmbientOcclusion=!!t.ssaoHelper.ready&&this.parameters.receiveSSAO),this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.hasMultipassTerrain=t.multipassTerrain.enabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}isVisibleForOutput(e){return e!==s.Shadow&&e!==s.ShadowExludeHighlight&&e!==s.ShadowHighlight||this.parameters.castShadows}isVisible(){return super.isVisible()&&this.parameters.opacity>0}intersect(i,a,s,o,n,h,u){const l=i;if(!c(l))return;const d=l.path,p=[this.parameters.size[0],this.parameters.size[1]];if(this.parameters.vvSizeEnabled){const t=this.parameters.vvSizeOffset,r=this.parameters.vvSizeFactor,i=this.parameters.vvSizeMinSize,a=this.parameters.vvSizeMaxSize,s=d.sizeAttributeValue;p[0]*=e(t[0]+s*r[0],i[0],a[0]),p[1]*=e(t[2]+s*r[2],i[2],a[2])}const m=Math.max(p[0],p[1]),f=i.boundingInfo;if(t(f))return void this._intersectTriangles(d,p,n,h,u);const b=r(f.bbMin[0]-m,f.bbMin[1]-m,f.bbMin[2]-m,f.bbMax[0]+m,f.bbMax[1]+m,f.bbMax[2]+m),v=[h[0]-n[0],h[1]-n[1],h[2]-n[2]],S=Math.sqrt(v[0]*v[0]+v[1]*v[1]+v[2]*v[2]),g=[S/v[0],S/v[1],S/v[2]];A(b,n,g,o.tolerance)&&this._intersectTriangles(d,p,n,h,u)}_intersectTriangles(e,t,r,i,a){e.baked.size&&e.baked.size[0]===t[0]&&e.baked.size[1]===t[1]||e.baked.bake(t),e.baked.intersect(r,i,a)}computeAttachmentOrigin(e,t){const r=e.vertexAttributes;if(!r)return null;const i=r.get(p.POSITION);return n(i,null,!1,t)}createBufferWriter(){return new w(this._vertexBufferLayout)}requiresSlot(e,t){switch(t){case s.Shadow:case s.ShadowHighlight:case s.ShadowExludeHighlight:if(!this.parameters.castShadows)return!1;case s.Color:case s.Alpha:case s.Depth:case s.Normal:case s.Highlight:case s.ObjectAndLayerIdColor:return e===(this.parameters.transparent?l.TRANSPARENT_MATERIAL:l.OPAQUE_MATERIAL)||e===l.DRAPED_MATERIAL;default:return!1}}createGLMaterial(e){return new O(e)}static getVertexBufferLayout(e){const t=a().vec3f(p.POSITION).vec4f(p.PROFILERIGHT).vec4f(p.PROFILEUP).vec4f(p.PROFILEVERTEXANDNORMAL);return(e.vvColorEnabled||e.vvSizeEnabled||e.vvOpacityEnabled)&&t.vec4f(p.FEATUREVALUE),t}}class O extends h{_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&this._material.setParameters({hasOccludees:e.hasOccludees})}_updateShadowState(e){(t(this.technique)||e.shadowMap.enabled!==this.technique.configuration.receiveShadows)&&this._material.setParameters({receiveShadows:e.shadowMap.enabled})}beginSlot(e){return this._output!==s.Color&&this._output!==s.Alpha||(this._updateShadowState(e),this._updateOccludeeState(e)),this.ensureTechnique(b,e)}}class _ extends v{constructor(){super(...arguments),this.doubleSided=!1,this.doubleSidedType=\"normal\",this.receiveSSAO=!0,this.receiveShadows=!1,this.castShadows=!0,this.hasSlicePlane=!1,this.transparent=!1,this.hasOccludees=!1}}class w{constructor(e){this.vertexBufferLayout=e}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(p.POSITION).length}write(e,t,r,i,a){y(p.PROFILERIGHT,r,i,a),y(p.PROFILEUP,r,i,a),y(p.PROFILEVERTEXANDNORMAL,r,i,a),this.vertexBufferLayout.hasField(p.FEATUREVALUE)&&y(p.FEATUREVALUE,r,i,a),S(r,this.vertexBufferLayout,e,t,i,a)}}function y(e,t,r,a){if(t.vertexAttributes.has(e)){const s=t.vertexAttributes.get(e),o=t.indices.get(e);d(4===s.size);const n=r.getField(e,i);if(!n)throw new Error(\"unable to acquire view for \"+e);g(o,s.data,n,a)}}export{E as PathMaterial,_ as PathMaterialParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{acosClamped as t,reciprocalClamped as r}from\"../../../../core/mathUtils.js\";import{isSome as i,get as s}from\"../../../../core/maybe.js\";import{s as a}from\"../../../../chunks/mat2.js\";import{s as o,b as n}from\"../../../../chunks/vec2.js\";import{f as l,b as h}from\"../../../../chunks/vec2f64.js\";import{s as c,a as p,e as m,f as d,g as f,n as u,o as g,b as y}from\"../../../../chunks/vec3.js\";import{c as _}from\"../../../../chunks/vec3f32.js\";import{d as b,c as v}from\"../../../../chunks/vec3f64.js\";import{projectBuffer as x}from\"../../../../geometry/projection.js\";import{create as w,empty as S,expandWithBuffer as R,intersectsClippingArea as D}from\"../../../../geometry/support/aaBoundingBox.js\";import{makeDehydratedPoint as P}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{needsElevationUpdates3D as j,evaluateElevationAlignmentAtPoint as C,SampleElevationInfo as A,evaluateElevationInfoAtPoint as V}from\"./elevationAlignmentUtils.js\";import{ElevationContext as L}from\"./ElevationContext.js\";import{Graphics3DObject3DGraphicLayer as z}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as U,getAttributeValue as E}from\"./Graphics3DSymbolLayer.js\";import{isValidSize as k}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as F}from\"./interfaces.js\";import{initFastSymbolUpdatesState as G,updateFastSymbolUpdatesState as I}from\"../support/FastSymbolUpdates.js\";import{CullFaceOptions as M}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3D as B}from\"../../webgl-engine/lib/Object3D.js\";import{PathGeometry as O,isPathGeometry as q}from\"../../webgl-engine/lib/PathGeometry.js\";import{Profile as H,SimpleExtruder as T,MiterExtruder as N,RoundCapBuilder as W,TriangulationCapBuilder as Z,NoCapBuilder as J,PathVertex as K,Path as Q,Builder as X,FastUpdatePathGeometry as Y,StaticPathGeometry as $,computeMinimumRotationTangentFrame as ee,vertexSpaceToProfileSpace as te}from\"../../webgl-engine/lib/pathGeometryUtils.js\";import{DefaultMaterial as re}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{PathMaterial as ie}from\"../../webgl-engine/materials/PathMaterial.js\";const se=[\"polyline\"];class ae extends U{constructor(e,t,r,i){super(e,t,r,i),this._intrinsicSize=l(1,1),this._upVectorAlignment=\"path\",this._stencilWidth=.1,this.ensureDrapedStatus(!1)}async doLoad(){const t=i(this.symbolLayer.width)?this.symbolLayer.width:this.symbolLayer.height,r=i(this.symbolLayer.height)?this.symbolLayer.height:t;this._vvConvertOptions={modelSize:[1,1,1],symbolSize:[t,1,r],unitInMeters:this._context.renderCoordsHelper.unitInMeters,transformation:{anchor:[0,0,0],scale:[1,1,1],rotation:[0,0,0]},supportedTypes:{size:!0,color:!0,opacity:!0,rotation:!1}},this._context.renderer&&this._context.renderer.visualVariables&&this._context.renderer.visualVariables.length>0?this._fastUpdates=G(this._context.renderer,this._vvConvertOptions):this._fastUpdates={enabled:!1};const a=this.symbolLayer.anchor||\"center\";this._upVectorAlignment=\"path\",\"heading\"===this.symbolLayer.profileRotation&&(this._upVectorAlignment=\"world\");const l=this.symbolLayer.profile||\"circle\";switch(l){case\"circle\":default:this._profile=H.circle(_e);break;case\"quad\":this._profile=H.rect()}let c=[0,0];\"center\"!==a&&(c={left:[.5,0],right:[-.5,0],top:[0,-.5],bottom:[0,.5]}[a],this._profile.translate(c[0],c[1]));switch(this.symbolLayer.join||\"simple\"){case\"round\":this._extruder=new N(0,ge);break;case\"bevel\":this._extruder=new N(0,1);break;case\"miter\":this._extruder=new N(.8*Math.PI,1);break;default:this._extruder=new T}const p=this.symbolLayer.cap||\"butt\";switch(p){case\"none\":this._startCap=new J,this._endCap=new J;break;case\"butt\":default:this._startCap=new Z(this._profile,0),this._endCap=new Z(this._profile,0,!0);break;case\"square\":this._startCap=new Z(this._profile,-.5),this._endCap=new Z(this._profile,.5,!0);break;case\"round\":{const e=\"quad\"===l;this._startCap=new W({profile:this._profile,flip:!1,breakNormals:e,subdivisions:ye}),this._endCap=new W({profile:this._profile,flip:!0,breakNormals:e,subdivisions:ye});break}}const m=s(this.symbolLayer,\"material\",\"color\"),d=this._getCombinedOpacityAndColor(m),f=b(d),u=d[3],g=u<1||this.needsDrivenTransparentPass,y={diffuse:f,ambient:f,opacity:u,transparent:g,hasVertexColors:!1,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:this.symbolLayer.castShadows,cullFace:g||\"none\"===p?M.None:M.Back,offsetTransparentBackfaces:!0};if(!this._drivenProperties.size&&(o(this._intrinsicSize,t,r),!k(this._intrinsicSize[0])||!k(this._intrinsicSize[1])))throw new e(\"graphics3dpathsymbollayer:invalid-size\",\"Symbol sizes may not be negative values\");if(this._fastUpdates.enabled&&this._fastUpdates.visualVariables.size||n(this._intrinsicSize,this._intrinsicSize,1/this._context.renderCoordsHelper.unitInMeters),this._fastUpdates.enabled){const e={...y,...this._fastUpdates.materialParameters,size:h(this._intrinsicSize)};this._material=new ie(e)}else y.hasVertexColors=this._drivenProperties.color||this._drivenProperties.opacity,this._material=new re(y);this._material.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}),this._context.stage.add(this._material)}destroy(){super.destroy(),this._context.stage.remove(this._material),this._material=null}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,se,this.symbolLayer.type))return null;const r=this.setGraphicElevationContext(t,new L),i=e.renderingInfo;return this._createAs3DShape(t,i,r,t.uid)}layerOpacityChanged(){const e=s(this.symbolLayer,\"material\",\"color\"),t=this._getCombinedOpacity(e),r=t<1||this.needsDrivenTransparentPass;this._material.setParameters({opacity:t,transparent:r})}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,j)}slicePlaneEnabledChanged(){return this._material.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),!0}physicalBasedRenderingChanged(){return this._material.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}),!0}pixelRatioChanged(){return!0}applyRendererDiff(e,t){for(const r in e.diff){if(\"visualVariables\"!==r)return F.Recreate_Symbol;if(!I(this._fastUpdates,t,this._vvConvertOptions))return F.Recreate_Symbol;this._material.setParameters(this._fastUpdates.materialParameters)}return F.Fast_Update}getVertexData(e){let t=0;const r=e.paths,s=[],a=e.spatialReference,o=this._context.elevationProvider.spatialReference,n=this._context.renderCoordsHelper.spatialReference;for(const i of r)t+=i.length;const l=new Float64Array(3*t),h=new Float64Array(3*t),c=new Float64Array(3*t);let p=0;for(const i of r){s.push({index:p,numVertices:i.length});for(const t of i)l[p++]=t[0],l[p++]=t[1],l[p++]=e.hasZ?t[2]:0}let m=!0;return i(o)&&!a.equals(o)?m=x(l,a,0,h,o,0,t):this._copyVertices(l,0,h,0,t),i(o)&&!o.equals(n)?x(h,o,0,c,n,0,t):this._copyVertices(h,0,c,0,t),{pathVertexDataInfos:s,vertexDataGS:l,vertexDataES:h,vertexDataRS:c,projectionSuccess:m,terrainElevation:0}}_copyVertices(e,t,r,i,s){t*=3,i*=3;for(let a=0;a<s;++a)r[i++]=e[t++],r[i++]=e[t++],r[i++]=e[t++]}_createAs3DShape(e,t,r,s){const a=e.geometry,o=new Array,n=new Array,l=new Array,h=a.spatialReference,p=w(),m=this._context.renderCoordsHelper;pe.spatialReference=h;const d=this.getVertexData(a);if(!d.projectionSuccess)return this.logger.warn(\"PathSymbol3DLayer geometry failed to be created (failed to project geometry to view spatial reference)\"),null;if(d.pathVertexDataInfos.length>0){for(let a=0;a<d.pathVertexDataInfos.length;++a){const f=d.pathVertexDataInfos[a],u=f.index,g=f.numVertices;if(g<2)continue;if(i(this._context.clippingExtent)&&(S(p),R(p,d.vertexDataES,3*u,g),!D(p,this._context.clippingExtent)))continue;const y=[];for(let e=u;e<u+3*g;){const t=e++,i=e++,s=e++,a=new K;c(a.posGS,d.vertexDataGS[t],d.vertexDataGS[i],d.vertexDataGS[s]),c(a.posES,d.vertexDataES[t],d.vertexDataES[i],d.vertexDataES[s]);const o=C(a.posES,this._context.elevationProvider,r,m);c(me,d.vertexDataRS[t],d.vertexDataRS[i],d.vertexDataRS[s]),m.setAltitude(me,o),c(a.pos,me[0],me[1],me[2]),y.push(a)}const _=new Q(y);oe(_,this._upVectorAlignment,this._context.renderCoordsHelper);const b=new X(_,this._profile,this._extruder,this._startCap,this._endCap);let v=null;if(this._fastUpdates.enabled){const t=this._fastUpdates.visualVariables,r=t.size?E(t.size.field,e):0,i=t.color?E(t.color.field,e):0,s=t.opacity?E(t.opacity.field,e):0;v=new Y(b,r,i,s)}else{const e=[this._intrinsicSize[0],this._intrinsicSize[1]];this._drivenProperties.size&&(e[0]*=ne(t.size[0],\"symbol-value\"===t.size[2]?this.symbolLayer.height||0:t.size[2],this.symbolLayer.width||0),e[1]*=ne(t.size[2],\"symbol-value\"===t.size[0]?this.symbolLayer.width||0:t.size[0],this.symbolLayer.height||0));let r=null;this._drivenProperties.color&&(r=t.color),this._drivenProperties.opacity&&null!=t.opacity&&(r=r?[r[0],r[1],r[2],t.opacity]:[1,1,1,t.opacity]);const i=new $(b);i.bake(e),r&&i.bakeVertexColors(r),v=i}const{vertexAttributes:x,indices:w}=v.createGeometryData(),P=this._context.stage.renderView._getObjectAndLayerIdColor({graphicUid:s,layerUid:this._context.layer.uid}),j=new O(x,w,v,h,this._upVectorAlignment,this._stencilWidth,P);o.push(j),n.push(this._material),l.push(v.xform)}if(o.length>0){const e={layerUid:this._context.layer.uid,graphicUid:s},t=new B({geometries:o,materials:n,transformations:l,metadata:e}),i=new z(this,t,o,null,null,he,r);return i.alignedSampledElevation=d.terrainElevation,i.needsElevationUpdates=j(r.mode),i}}else 0!==a.paths.length&&a.paths.some((e=>e.length>0))||this.logger.warn(\"PathSymbol3DLayer geometry failed to be created (no paths were defined)\");return null}}function oe(e,i,s){switch(i){case\"world\":for(const t of e.vertices)p(de,t.pos,e.offset),s.worldUpAtPosition(de,me),t.setFrameFromUpVector(me),t.computeRotationAxisAndAngleFromUpVector();break;case\"path\":p(de,e.vertices[0].pos,e.offset),s.worldUpAtPosition(de,me),ee(e,me);for(const i of e.vertices){const e=Math.sign(m(i.frame.right,i.vRight));d(i.rotationFrame.up,i.vRight,i.vLeft),f(i.rotationFrame.up,i.rotationFrame.up,e),u(i.rotationFrame.up,i.rotationFrame.up);const s=m(i.rotationFrame.up,i.frame.up),o=m(i.rotationFrame.up,i.frame.right);if(f(de,i.frame.up,-o),f(fe,i.frame.right,s),p(de,de,fe),u(i.rotationFrame.right,de),te(i.rotationRight,i.frame,i.rotationFrame.right),g(de,i.vLeft),i.rotationAngle=-e*(Math.PI-t(m(de,i.vRight))),Math.abs(i.rotationAngle)>0){const e=r(Math.cos(.5*i.rotationAngle));a(i.miterStretch,1+(e-1)*i.rotationRight[0]*i.rotationRight[0],(e-1)*i.rotationRight[0]*i.rotationRight[1],(e-1)*i.rotationRight[0]*i.rotationRight[1],1+(e-1)*i.rotationRight[1]*i.rotationRight[1])}const n=Math.PI-i.rotationAngle;i.maxStretchDistance=Math.abs(Math.min(i.vLeftLength,i.vRightLength)*r(Math.cos(.5*n)))}}}function ne(e,t,r){switch(e){case\"symbol-value\":return r;case\"proportional\":return t;default:return e}}function le(e,t,r,i){let s=0;for(const a of e.vertices)V(a.posES,r,t,i,ue),s+=ue.sampledElevation,p(me,a.pos,e.offset),i.setAltitude(me,ue.z),y(a.pos,me,e.offset);return e.updatePathVertexInformation(),s/e.vertices.length}function he(e,t,r,i){const s=e.stageObject,a=s.geometryRecords;let o=0;ce.spatialReference=i.spatialReference;for(const n of a){const e=n.geometry;if(!q(e))continue;const a=e.path,l=a.builder.path,h=e.geometrySR;pe.spatialReference=h,o+=le(l,t,r,i),\"world\"!==e.upVectorAlignment&&oe(l,e.upVectorAlignment,i),a.onPathChanged(),e.invalidateBoundingInfo(),s.geometryVertexAttrsUpdated(n)}return o/a.length}const ce=P(0,0,0,null),pe=P(0,0,0,null),me=v(),de=_(),fe=_(),ue=new A,ge=3,ye=3,_e=10;export{ae as Graphics3DPathSymbolLayer,_e as NUM_CIRCLE_PROFILE_SUBDIVISIONS,ye as NUM_ROUND_CAP_EXTRUSION_SUBDIVISIONS,ge as NUM_ROUND_JOIN_SUBDIVISIONS};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import{c as o}from\"../../../../chunks/mat4f64.js\";import{s as e}from\"../../../../chunks/vec2.js\";import{a as r}from\"../../../../chunks/vec2f64.js\";import{s,e as n,b as c,g as a,a as m,c as f,z as i,n as u,f as I}from\"../../../../chunks/vec3.js\";import{c as p}from\"../../../../chunks/vec3f64.js\";import{lonLatToWebMercatorComparable as N}from\"../../../../geometry/projection.js\";import{getReferenceEllipsoid as l}from\"../../../../geometry/projectionEllipsoid.js\";import{create as h,fromManyPointsSampleAt as V,normal as b}from\"../../../../geometry/support/plane.js\";import{BufferViewVec3f64 as g}from\"../../../../geometry/support/buffer/BufferView.js\";import{ViewingMode as j}from\"../../../ViewingMode.js\";function T(t,o,r,s,n=1){if(r.isGeographic&&s===j.Global){const t=new Float64Array(o.typedBuffer.length),e=3*o.count,s=l(r);for(let r=0;r<e;r+=3)N(o.typedBuffer,r,t,r,s);o=g.fromTypedArray(t)}e(k,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);for(let e=0;e<o.count;e++)o.getVec(e,E),k[0]=Math.min(k[0],E[0]),k[1]=Math.min(k[1],E[1]);const c=k[0]%n,a=k[1]%n;P[0]=k[0]-c,P[1]=k[1]-a;for(let e=0;e<o.count;e++)o.getVec(e,E),t.setValues(e,(E[0]-P[0])/n,(E[1]-P[1])/n,P[0]/n,P[1]/n)}function M(t,o,r,f,i=1){s(Y,1,0,0),s(_,0,1,0),s(d,0,0,1),C(y,o),O(o,F)&&S(F,Y,_,d,r,y),e(k,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),e(A,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY);for(let e=0;e<o.count;e++){o.getVec(e,E);const t=n(Y,E),r=n(_,E);k[0]=Math.min(k[0],t),k[1]=Math.min(k[1],r),A[0]=Math.max(A[0],t),A[1]=Math.max(A[1],r)}const u=n(d,y);H(v,k[0],k[1],u,Y,_,d),H(x,A[0],k[1],u,Y,_,d),H(G,k[0],A[1],u,Y,_,d),c(x,x,v),a(x,x,.5),c(G,G,v),a(G,G,.5),m(v,v,x),m(v,v,G);const I=k[0]%i,p=k[1]%i;P[0]=k[0]-I,P[1]=k[1]-p;for(let e=0;e<o.count;e++){o.getVec(e,E),t.setValues(e,(n(Y,E)-P[0])/i,(n(_,E)-P[1])/i,P[0]/i,P[1]/i);for(let t=0;t<3;t++)f.set(e,t,v[t]),f.set(e,t+3,x[t]),f.set(e,t+6,G[t])}}const y=p(),E=p(),F=h(),Y=p(),_=p(),d=p(),k=r(),A=r(),P=r(),v=p(),x=p(),G=p();function O(t,o){const e=t.count-1;return V(t,o,0,Math.floor(e/3),Math.floor(e*(2/3)))}function S(o,e,r,c,m,p){t(m)?(m.basisMatrixAtPosition(p,w),s(B,w[0],w[1],w[2]),s(z,w[4],w[5],w[6]),s(q,w[8],w[9],w[10])):(s(B,1,0,0),s(z,0,1,0),s(q,0,0,1));const N=b(o);n(N,q)<0&&a(N,N,-1),f(c,N);const l=n(N,z),h=n(N,B);Math.abs(l)<Math.abs(h)?(i(e,B,N,-h),u(e,e),I(r,e,N),u(r,r),a(r,r,-1)):(i(r,z,N,-l),u(r,r),I(e,r,N),u(e,e))}const w=o(),B=p(),z=p(),q=p();function C(t,o){s(D,0,0,0);for(let e=0;e<o.count-1;e++)o.getVec(e,E),m(D,D,E);a(t,D,1/(o.count-1))}const D=p();function H(t,o,e,r,n,c,a){s(t,o*n[0]+e*c[0]+r*a[0],o*n[1]+e*c[1]+r*a[1],o*n[2]+e*c[2]+r*a[2])}export{M as createMapSpaceUVCoords,T as createMapSpaceUVCoordsDraped};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as o}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as s}from\"../lib/basicInterfaces.js\";import{blendingDefault as n,oitBlending as a,oitDepthTest as p,oitDepthWrite as l,getOITPolygonOffset as c}from\"../lib/OrderIndependentTransparency.js\";import{Program as u}from\"../lib/Program.js\";import{stencilWriteMaskOn as h,stencilToolMaskBaseParams as d,stencilBaseAllZerosParams as f}from\"../lib/StencilUtils.js\";import{TransparencyPassType as m}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as y}from\"../lib/VertexAttribute.js\";import{DefaultTechniqueConfiguration as O}from\"../materials/DefaultTechniqueConfiguration.js\";import{Style as P}from\"../materials/PatternStyle.js\";import{P as g}from\"../../../../chunks/Pattern.glsl.js\";import{ContextType as T}from\"../../../webgl/context-util.js\";import{makePipelineState as b,cullingParams as S,defaultDepthWriteParams as j,defaultColorWriteParams as v}from\"../../../webgl/renderState.js\";class C extends r{initializeConfiguration(e,t){t.hasWebGL2Context=e.rctx.type===T.WEBGL2}initializeProgram(e){return new u(e.rctx,C.shader.get().build(this.configuration),w)}_setPipelineState(e,o){const r=this.configuration,i=e===m.NONE,s=e===m.FrontFace;return b({blending:r.output===t.Color||r.output===t.Alpha?i?n:a(e):null,culling:S(r.cullFace),depthTest:{func:p(e)},depthWrite:i?r.writeDepth&&j:l(e),colorWrite:v,stencilWrite:r.hasOccludees?h:null,stencilTest:r.hasOccludees?o?d:f:null,polygonOffset:i||s?r.polygonOffset&&N:c(r.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipelineState(e,t){return t?this._occludeePipelineState:super.getPipelineState(e,t)}}C.shader=new o(g,(()=>import(\"./Pattern.glsl.js\")));const N={factor:1,units:1};class x extends O{constructor(){super(...arguments),this.output=t.Color,this.cullFace=s.None,this.transparencyPassType=m.NONE,this.hasSlicePlane=!1,this.hasVertexColors=!1,this.polygonOffset=!1,this.writeDepth=!0,this.hasOccludees=!1,this.enableOffset=!0,this.hasMultipassTerrain=!1,this.cullAboveGround=!1}}e([i({count:t.COUNT})],x.prototype,\"output\",void 0),e([i({count:s.COUNT})],x.prototype,\"cullFace\",void 0),e([i({count:P.COUNT})],x.prototype,\"style\",void 0),e([i({count:m.COUNT})],x.prototype,\"transparencyPassType\",void 0),e([i()],x.prototype,\"hasSlicePlane\",void 0),e([i()],x.prototype,\"hasVertexColors\",void 0),e([i()],x.prototype,\"polygonOffset\",void 0),e([i()],x.prototype,\"writeDepth\",void 0),e([i()],x.prototype,\"hasOccludees\",void 0),e([i()],x.prototype,\"patternSpacing\",void 0),e([i()],x.prototype,\"lineWidth\",void 0),e([i()],x.prototype,\"enableOffset\",void 0),e([i()],x.prototype,\"draped\",void 0),e([i()],x.prototype,\"hasMultipassTerrain\",void 0),e([i()],x.prototype,\"cullAboveGround\",void 0);const w=new Map([[y.POSITION,0],[y.COLOR,3],[y.UVMAPSPACE,4],[y.BOUNDINGRECT,5]]);export{C as PatternTechnique,x as PatternTechniqueConfiguration,w as vertexAttributeLocations};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{f as t}from\"../../../../chunks/vec4f64.js\";import{BufferViewMat3f as e,BufferViewVec4f as r,BufferViewVec4u8 as i,BufferViewVec3f as s}from\"../../../../geometry/support/buffer/BufferView.js\";import{newLayout as a}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as n}from\"../lib/basicInterfaces.js\";import c from\"../lib/GLMaterial.js\";import{Material as h,MaterialParameters as l}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as u}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as p}from\"../lib/RenderSlot.js\";import{assert as f}from\"../lib/Util.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{Style as d}from\"./PatternStyle.js\";import{writeBufferVec4 as g,writeColor as _,writePosition as A}from\"./internal/bufferWriterUtils.js\";import{DefaultBufferWriter as b}from\"./internal/DefaultBufferWriter.js\";import{intersectTriangleGeometry as O}from\"./internal/MaterialUtil.js\";import{vertexAttributeLocations as T,PatternTechniqueConfiguration as P,PatternTechnique as S}from\"../shaders/PatternTechnique.js\";class y extends h{constructor(t){super(t,new j),this.supportsEdges=!0,this._vertexAttributeLocations=T,this._configuration=new P}getConfiguration(t,e){return this._configuration.output=t,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasVertexColors=this.parameters.hasVertexColors,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.style=this.parameters.style,this._configuration.patternSpacing=this.parameters.patternSpacing,this._configuration.lineWidth=this.parameters.lineWidth,this._configuration.draped=this.parameters.draped,this._configuration.transparencyPassType=e.transparencyPassType,this._configuration.enableOffset=e.camera.relativeElevation<u,this._configuration.hasMultipassTerrain=e.multipassTerrain.enabled,this._configuration.cullAboveGround=e.multipassTerrain.cullAboveGround,this._configuration}intersect(t,e,r,i,s,a,o){O(t,e,i,s,a,void 0,o)}requiresSlot(t,e){if(e===o.Color||e===o.Alpha||e===o.Highlight||e===o.Depth&&this.parameters.writeLinearDepth){if(t===p.DRAPED_MATERIAL)return!0;if(e===o.Highlight)return t===p.OPAQUE_MATERIAL;return t===(this.parameters.writeDepth?p.TRANSPARENT_MATERIAL:p.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL)}return!1}createGLMaterial(t){return new E(t)}createBufferWriter(){const t=a().vec3f(m.POSITION).vec4u8(m.COLOR).vec4f(m.UVMAPSPACE);return this.parameters.draped||t.mat3f(m.BOUNDINGRECT),new R(t)}}class E extends c{_updateParameters(t){return this.ensureTechnique(S,t)}_updateOccludeeState(t){t.hasOccludees!==this._material.parameters.hasOccludees&&this._material.setParameters({hasOccludees:t.hasOccludees})}beginSlot(t){return this._output!==o.Color&&this._output!==o.Alpha||this._updateOccludeeState(t),this._updateParameters(t)}}class R extends b{write(t,a,o,n,c){for(const h of this.vertexBufferLayout.fieldNames){const a=o.vertexAttributes.get(h),l=o.indices.get(h);if(a&&l)switch(h){case m.POSITION:{f(3===a.size);const e=n.getField(h,s);e&&A(l,a.data,t,e,c);break}case m.COLOR:{f(3===a.size||4===a.size);const t=n.getField(h,i);t&&_(l,a.data,a.size,t,c);break}case m.UVMAPSPACE:{f(4===a.size);const t=n.getField(h,r);t&&g(l,a.data,t,c);break}case m.BOUNDINGRECT:{f(9===a.size);const r=n.getField(h,e);r&&this.writeBoundingRect(l,a.data,t,r,c);break}}}}writeBoundingRect(t,e,r,i,s){const a=r,o=i.typedBuffer,n=i.typedBufferStride,c=t.length;s*=n;for(let h=0;h<c;++h){const r=9*t[h],i=e[r],c=e[r+1],l=e[r+2];o[s]=a[0]*i+a[4]*c+a[8]*l+a[12],o[s+1]=a[1]*i+a[5]*c+a[9]*l+a[13],o[s+2]=a[2]*i+a[6]*c+a[10]*l+a[14];for(let t=3;t<9;++t)o[s+t]=e[r+t];s+=n}}}class j extends l{constructor(){super(...arguments),this.color=t(1,1,1,1),this.writeDepth=!0,this.writeLinearDepth=!1,this.hasVertexColors=!1,this.polygonOffset=!1,this.hasSlicePlane=!1,this.cullFace=n.None,this.hasOccludees=!1,this.style=d.Cross,this.patternSpacing=10,this.lineWidth=1,this.draped=!0}}export{j as Parameters,y as PatternMaterial};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{f as e}from\"../../../../chunks/vec4f64.js\";import{BufferViewMat3f64 as t,BufferViewVec3f64 as a,BufferViewVec4f as o}from\"../../../../geometry/support/buffer/BufferView.js\";import{perVertexElevationAligner as n}from\"../graphics/ElevationAligners.js\";import{createMapSpaceUVCoords as i}from\"./uvUtils.js\";import{VertexAttribute as s}from\"../../webgl-engine/lib/VertexAttribute.js\";import{ColorMaterial as l}from\"../../webgl-engine/materials/ColorMaterial.js\";import{PatternMaterial as m}from\"../../webgl-engine/materials/PatternMaterial.js\";import{Style as c}from\"../../webgl-engine/materials/PatternStyle.js\";function f(r,e,t){return g(u(r),e,t)}function u(r){return r&&r.pattern||null}function g(t,a,o){return r(t)?\"none\"===t.style||\"solid\"===t.style?(\"none\"===t.style&&(a.color=e(0,0,0,0),a.transparent=!0),new l(a)):(a.style=p(t.style),a.draped=o.isDraped,new m(a)):new l(a)}function p(r){switch(r){case\"horizontal\":return c.Horizontal;case\"vertical\":return c.Vertical;case\"cross\":return c.Cross;case\"forward-diagonal\":return c.ForwardDiagonal;case\"backward-diagonal\":return c.BackwardDiagonal;case\"diagonal-cross\":return c.DiagonalCross;default:return}}function d(r){return r.material instanceof m&&!r.material.parameters.draped}function y(r,e){if(d(r)){const n=r.geometry.vertexAttributes,l=n.get(s.POSITION).data,m=n.get(s.UVMAPSPACE).data,c=n.get(s.BOUNDINGRECT).data;i(o.fromTypedArray(m),a.fromTypedArray(l),e,t.fromTypedArray(c))}}function w(r,e,t,a){const o=n(r,e,t,a),i=r.stageObject.geometryRecords;for(let n=0;n<i.length;n++)y(i[n],a);return o}export{f as createMaterial,g as createMaterialFromPattern,p as parsePatternStyle,d as requiresUVUpdates,y as updateMapSpaceUVCoords,w as uvElevationAligner};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{isSome as t,get as r,isNone as i,unwrap as o}from\"../../../../core/maybe.js\";import{pt2px as n}from\"../../../../core/screenUtils.js\";import{e as a}from\"../../../../chunks/earcut.js\";import{I as s}from\"../../../../chunks/mat4f64.js\";import{s as l}from\"../../../../chunks/vec4.js\";import{create as c,empty as h,expandWithBuffer as p,intersectsClippingArea as u,expandWithAABB as d}from\"../../../../geometry/support/aaBoundingBox.js\";import{BufferViewMat3f64 as m,BufferViewVec3f64 as y,BufferViewVec4f as _}from\"../../../../geometry/support/buffer/BufferView.js\";import{SymbolUpdateType as g,elevationModeChangeUpdateType as f,needsElevationUpdates2D as b}from\"./elevationAlignmentUtils.js\";import{ElevationContext as x}from\"./ElevationContext.js\";import v from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as A}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as O}from\"./Graphics3DSymbolLayer.js\";import{mixinColorAndOpacity as E}from\"./graphicUtils.js\";import{parseCapType as M}from\"./lineUtils.js\";import{geometryAsPolygon as S,createColorGeometry as C,PolygonCreationDataBase as D}from\"./polygonUtils.js\";import{createMaterial as U,uvElevationAligner as j}from\"../support/patternUtils.js\";import{createMapSpaceUVCoords as P,createMapSpaceUVCoordsDraped as w}from\"../support/uvUtils.js\";import{createGeometry as L}from\"../../support/engineContent/line.js\";import{geometryToRenderInfo as G,geometryToRenderInfoDraped as T}from\"../../support/renderInfoUtils/polygon.js\";import{Object3D as R}from\"../../webgl-engine/lib/Object3D.js\";import{RenderGeometry as I}from\"../../webgl-engine/lib/RenderGeometry.js\";import{VertexAttribute as V}from\"../../webgl-engine/lib/VertexAttribute.js\";import{getStipplePatternForLinePattern as B}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{PatternMaterial as F}from\"../../webgl-engine/materials/PatternMaterial.js\";import{RibbonLineMaterial as N}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";const H=[\"polyline\",\"polygon\",\"extent\"];class W extends O{constructor(e,t,r,i){super(e,t,r,i),this._needsUV=!1,this._hasOutline=!1}async doLoad(){}_ensureMaterials(){this._ensureFillMaterial(),this._ensureOutlineMaterial()}_ensureFillMaterial(){if(t(this._material))return;const e=r(this.symbolLayer,\"material\",\"color\"),i=this._getCombinedOpacityAndColor(e);this._material=U(this.symbolLayer,{color:i,transparent:i[3]<1||this.needsDrivenTransparentPass,polygonOffset:!1,hasVertexColors:!0,writeLinearDepth:!0,hasSlicePlane:this._context.slicePlaneEnabled},{isDraped:this.draped}),this._needsUV=this._material instanceof F,this._context.stage.add(this._material)}_ensureOutlineMaterial(){const e=this.symbolLayer.outline;if(t(this._outlineMaterial)||!this._isValidOutline(e))return;this._hasOutline=!0;const r=t=>{const r=B(e.pattern);return new N({width:t,color:this._getOutlineColor(),hasPolygonOffset:!0,hasSlicePlane:this._context.slicePlaneEnabled,isClosed:!0,stipplePattern:r,stippleScaleWithLineWidth:!0,cap:M(e.patternCap||\"butt\")})};this._outlineMaterial=r(n(e.size)),this._context.stage.add(this._outlineMaterial)}_isValidOutline(e){return t(e)&&e.size&&e.size>0&&t(e.color)&&(i(e.pattern)||\"style\"!==e.pattern.type||\"none\"!==e.pattern.style)}destroy(){super.destroy(),this._context.stage.remove(this._material),this._material=null,this._context.stage.remove(this._outlineMaterial),this._outlineMaterial=null}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,H,this.symbolLayer.type))return null;const r=this._getVertexOpacityAndColor(e.renderingInfo,255),i=this.setGraphicElevationContext(t,new x);return this.ensureDrapedStatus(\"on-the-ground\"===i.mode),this._ensureMaterials(),this.draped?this._createAsOverlay(t,r):this._createAs3DShape(t,r,i)}layerOpacityChanged(){if(t(this._material)){const e=this._material.parameters.color,t=r(this.symbolLayer,\"material\",\"color\"),i=this._getCombinedOpacity(t);this._material.setParameters({color:[e[0],e[1],e[2],i],transparent:i<1||this.needsDrivenTransparentPass})}if(t(this._outlineMaterial)){const e=this._outlineMaterial.parameters.color;this._outlineMaterial.setParameters({color:[e[0],e[1],e[2],this._getOutlineOpacity()]})}}layerElevationInfoChanged(e,t,r){const i=this._elevationContext.mode,o=f(W.elevationModeChangeTypes,r,i);if(o!==g.UPDATE)return o;const n=b(i);return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>n))}slicePlaneEnabledChanged(){if(t(this._material)&&this._material.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),t(this._outlineMaterial)){const e={hasSlicePlane:this._context.slicePlaneEnabled};this._outlineMaterial.setParameters(e)}return!0}physicalBasedRenderingChanged(){return!0}pixelRatioChanged(){return!0}_createAs3DShape(e,t,r){const o=S(e.geometry);if(i(o))return null;const n=G(o,this._context.elevationProvider,this._context.renderCoordsHelper,r),a=new z(n,t,this._context.layer.uid,e.uid),s=a.renderData.position.length/3;if(this._needsUV&&(a.uvMapSpace=new Float32Array(4*s),a.boundingRect=new Float64Array(9*s)),a.objectAndLayerIdColor=this._context.stage.renderView?._getObjectAndLayerIdColor({graphicUid:a.graphicsUid,layerUid:a.layerUid}),this._createAs3DShapeFill(a),this._hasOutline&&this._createAs3DShapeOutline(a),this._logGeometryCreationWarnings(a.renderData,o.rings,\"rings\",\"FillSymbol3DLayer\"),0===a.outGeometries.length)return null;this._needsUV&&P(_.fromTypedArray(a.uvMapSpace),y.fromTypedArray(a.renderData.position),this._context.renderCoordsHelper,m.fromTypedArray(a.boundingRect));const l=new R({geometries:a.outGeometries,materials:a.outMaterials,transformations:a.outTransforms,castShadow:!1,metadata:{layerUid:this._context.layer.uid,graphicUid:e.uid}}),c=new A(this,l,a.outGeometries,null,null,j,r);return c.alignedSampledElevation=a.renderData.sampledElevation,c.needsElevationUpdates=b(r.mode),c}_createAs3DShapeFill(e){const r=e.renderData.polygons;for(const{position:i,mapPosition:n,holeIndices:l,index:c,count:d}of r){if(t(this._context.clippingExtent)&&(h(k),p(k,n),!u(k,this._context.clippingExtent)))continue;const r=a(n,l,3);if(0===r.length)continue;const m=C({indices:r,attributeData:{position:i,color:e.color,mapPosition:n,uvMapSpace:this._needsUV?new Float32Array(e.uvMapSpace.buffer,4*c*e.uvMapSpace.BYTES_PER_ELEMENT,4*d):null,boundingRect:this._needsUV?new Float64Array(e.boundingRect.buffer,9*c*e.boundingRect.BYTES_PER_ELEMENT,9*d):null,objectAndLayerIdColor:e.objectAndLayerIdColor}});e.outGeometries.push(m),e.outMaterials.push(o(this._material)),e.outTransforms.push(s)}}_createAs3DShapeOutline(e){if(!this._hasOutline)return;const r=e.renderData.outlines;for(let i=0;i<r.length;++i){const{mapPosition:n,position:a}=r[i];if(t(this._context.clippingExtent)&&(h(k),p(k,n),!u(k,this._context.clippingExtent)))continue;const l=L({overlayInfo:null,removeDuplicateStartEnd:!0,attributeData:{position:a,mapPosition:n}},e.objectAndLayerIdColor),c=l.vertexAttributes.get(V.POSITION);c.data===a&&(c.data=new Float64Array(a)),e.outGeometries.push(l),e.outMaterials.push(o(this._outlineMaterial)),e.outTransforms.push(s)}}_createAsOverlay(e,r){const n=S(e.geometry);if(i(n))return null;o(this._material).renderPriority=this._renderPriority+this._renderPriorityStep/2,t(this._outlineMaterial)&&(this._outlineMaterial.renderPriority=this._renderPriority);const a=T(n,this._context.overlaySR),s=new Y(a,r,this._context.layer.uid,e.uid),l=s.renderData.position.length/3;return this._needsUV&&(s.uvMapSpace=new Float32Array(4*l)),s.outBoundingBox=h(),s.objectAndLayerIdColor=this._context.stage.renderView?._getObjectAndLayerIdColor({graphicUid:s.graphicsUid,layerUid:s.layerUid}),this._createAsOverlayFill(s),this._hasOutline&&this._createAsOverlayOutline(s),this._logGeometryCreationWarnings(s.renderData,n.rings,\"rings\",\"FillSymbol3DLayer\"),0===s.outGeometries.length?null:(this._needsUV&&w(_.fromTypedArray(s.uvMapSpace),y.fromTypedArray(s.renderData.position),this._context.overlaySR,this._context.graphicsCoreOwner.view.state.viewingMode),new v(this,s.outGeometries,s.outBoundingBox,this._context.drapeSourceRenderer))}_createAsOverlayFill(e){const t=e.renderData.polygons;for(const{position:r,holeIndices:i,index:n,count:s}of t){if(h(k),p(k,r),!u(k,this._context.clippingExtent))continue;const t=a(r,i,3);if(0===t.length)continue;d(e.outBoundingBox,k);const c=C({indices:t,attributeData:{position:r,color:e.color,uvMapSpace:this._needsUV?new Float32Array(e.uvMapSpace.buffer,4*n*e.uvMapSpace.BYTES_PER_ELEMENT,4*s):null,objectAndLayerIdColor:e.objectAndLayerIdColor}}),m=new I(c,o(this._material),{layerUid:e.layerUid,graphicUid:e.graphicsUid}),y=k;l(m.boundingSphere,.5*(y[0]+y[3]),.5*(y[1]+y[4]),0,.5*Math.sqrt((y[3]-y[0])*(y[3]-y[0])+(y[4]-y[1])*(y[4]-y[1]))),e.outGeometries.push(m)}}_createAsOverlayOutline(e){if(!this._hasOutline)return;const t=e.renderData.outlines;for(let r=0;r<t.length;++r){const{position:i}=t[r];if(h(k),p(k,i),!u(k,this._context.clippingExtent))continue;d(e.outBoundingBox,k);const n=L({overlayInfo:{spatialReference:this._context.overlaySR,renderCoordsHelper:this._context.renderCoordsHelper},removeDuplicateStartEnd:!0,attributeData:{position:i}},e.objectAndLayerIdColor),a=new I(n,o(this._outlineMaterial),{layerUid:e.layerUid,graphicUid:e.graphicsUid}),s=k;l(a.boundingSphere,.5*(s[0]+s[3]),.5*(s[1]+s[4]),0,.5*Math.sqrt((s[3]-s[0])*(s[3]-s[0])+(s[4]-s[1])*(s[4]-s[1]))),e.outGeometries.push(a)}}_getOutlineOpacity(){const e=r(this.symbolLayer,\"outline\",\"color\");return(this.draped?1:this._getLayerOpacity())*(t(e)?e.a:0)}_getOutlineColor(){const i=r(this.symbolLayer,\"outline\",\"color\"),o=this._getOutlineOpacity();return E(t(i)?e.toUnitRGB(i):null,o)}test(){return{...super.test(),createAsOverlay:(e,t)=>this._createAsOverlay(e,t),createAs3DShape:(e,t,r)=>this._createAs3DShape(e,t,r)}}}W.elevationModeChangeTypes={definedChanged:g.RECREATE,staysOnTheGround:g.NONE,onTheGroundChanged:g.RECREATE};const k=c();class z extends D{constructor(e,t,r,i){super(e,r,i),this.color=t}}class Y extends D{constructor(e,t,r,i){super(e,r,i),this.color=t}}export{W as Graphics3DPolygonFillSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport o from\"../../../../Color.js\";import r from\"../../../../core/Logger.js\";import{get as t,mapOr as e,isSome as i}from\"../../../../core/maybe.js\";import{pt2px as n}from\"../../../../core/screenUtils.js\";import{Z as l}from\"../../../../chunks/vec4f64.js\";class s{constructor(o){this.definition=o,this.key=JSON.stringify(o),this.haloSize=Math.round(o.halo.size),this.textStyle=this._colorToRGBA(o.color),this.haloStyle=this._colorToRGB(o.halo.color),this.backgroundStyle=0!==o.background.color[3]?this._colorToRGBA(o.background.color):null}fontString(o){const r=this.definition.font;return`${r.style} ${r.weight} ${o}px ${r.family}, sans-serif`}_colorToRGB(o){return`rgb(${o.slice(0,3).map((o=>Math.floor(255*o))).toString()})`}_colorToRGBA(o){return`rgba(${o.slice(0,3).map((o=>Math.floor(255*o))).toString()},${o[3]})`}static async fromSymbol(a,c=1){const g=t(a,\"material\",\"color\"),f=e(g,l,o.toUnitRGBA),d=e(a.size,12,n),h=a.lineHeight,m=i(a.background)?o.toUnitRGBA(a.background.color):l,u={family:e(a.font,\"sans-serif\",(o=>o.family)),decoration:e(a.font,\"none\",(o=>o.decoration)),weight:e(a.font,\"normal\",(o=>o.weight)),style:e(a.font,\"normal\",(o=>o.style))},b=a.halo,y=i(b)&&i(b.color)&&b.size>0?{size:n(b.size),color:o.toUnitRGBA(b.color)}:{size:0,color:l},p=new s({color:f,size:d,background:{color:m,padding:i(a.background)?[.65*d,.5*d]:[0,0],borderRadius:i(a.background)?d*(6/16):0},lineSpacingFactor:h,font:u,halo:y,pixelRatio:c}),S=p.fontString(d);try{await document.fonts.load(S)}catch(R){r.getLogger(\"esri.views.3d.webgl-engine.lib.TextRenderParameters\").warnOnce(`Failed to preload font '${S}'. Some text symbology may be rendered using the default browser font.`)}return p}}export{s as TextRenderParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{PowerOfTwoResizeMode as e}from\"./basicInterfaces.js\";import{TextRenderer as r,getTextHelperCanvas as t}from\"./TextRenderer.js\";import{Texture as n}from\"./Texture.js\";import{TextureWrapMode as s}from\"../../../webgl/enums.js\";class i{constructor(e,t,n){this._renderer=new r(e,t,n)}get key(){return this._renderer.key}get baselineAnchorY(){return 1-this._renderer.firstRenderedBaselinePosition/this._renderer.renderedHeight}get displayWidth(){return this._renderer.displayWidth}get displayHeight(){return this._renderer.displayHeight}create(){const r=t(d,this._renderer.renderedWidth,this._renderer.renderedHeight),i=r.getContext(\"2d\");return i.save(),this._renderer.render(i,0,0),i.restore(),new n(r,{wrap:{s:s.CLAMP_TO_EDGE,t:s.CLAMP_TO_EDGE},noUnpackFlip:!1,mipmap:!0,preMultiplyAlpha:!0,powerOfTwoResizeMode:e.PAD})}}const d={canvas:null};export{i as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{isNone as t,isSome as r,get as n,unwrap as s}from\"../../../../core/maybe.js\";import{isPromiseLike as i}from\"../../../../core/promiseUtils.js\";import{pt2px as o}from\"../../../../core/screenUtils.js\";import{a,f as l}from\"../../../../chunks/vec2f64.js\";import{hasCalloutSupport as c,textSymbolLayerSupportsVerticalOffset as m}from\"../../../../symbols/callouts/calloutUtils.js\";import{perObjectElevationAligner as h}from\"./ElevationAligners.js\";import{SymbolUpdateType as f,needsElevationUpdates2D as d}from\"./elevationAlignmentUtils.js\";import{ElevationContext as p}from\"./ElevationContext.js\";import{Graphics3DObject3DGraphicLayer as u}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as g}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as y}from\"./graphicUtils.js\";import{verticalPlacementFromAlignment as x,textRenderAlignmentFromHorizontalPlacement as v,horizontalPlacementToAnchorX as b,anchorFromPlacements as P,namedAnchorToHUDMaterialAnchorPos as O}from\"./placementUtils.js\";import{placePointOnGeometry as w,createStageObjectForHUD as S,extendPointGraphicElevationContext as _}from\"./pointUtils.js\";import{createPointGeometry as j}from\"../../webgl-engine/lib/GeometryUtil.js\";import{TextRenderParameters as L}from\"../../webgl-engine/lib/TextRenderParameters.js\";import E from\"../../webgl-engine/lib/TextTextureFactory.js\";import{HUDMaterial as z}from\"../../webgl-engine/materials/HUDMaterial.js\";const C=[0,0,1];class R extends g{constructor(e,t,r,n){super(e,t,r,n),this._elevationOptions={supportsOffsetAdjustment:!0,supportsOnTheGround:!1},this.ensureDrapedStatus(!1)}async doLoad(){if(!this._drivenProperties.size){const t=y(this.symbolLayer.size);if(t)throw new e(\"graphics3dtextsymbollayer:invalid-size\",t)}await this._createTextRenderParameters()}async _createTextRenderParameters(){const e=this._context.graphicsCoreOwner.view.state.pixelRatio;this._textRenderParameters=await L.fromSymbol(this.symbolLayer,e)}destroy(){super.destroy()}createGraphics3DGraphic(e){const n=e.graphic,s=w(n.geometry);if(t(s))return this.logger.warn(`unsupported geometry type for text symbol: ${n.geometry.type}`),null;const i=this.symbolLayer.text;if(t(i)||\"\"===i)return null;const o=c(this.symbol)&&this.symbol.hasVisibleVerticalOffset()?this.symbol.verticalOffset:null;if(r(o)&&!m(this.symbolLayer))return this.logger.errorOncePerTick(`Callouts and vertical offset on text symbols are currently only supported with 'center' horizontal alignment (not with '${this.symbolLayer.horizontalAlignment}' alignment)`),null;const a={...A,verticalOffset:o,horizontalPlacement:this.symbolLayer.horizontalAlignment,verticalPlacement:x(this.symbolLayer.verticalAlignment)};return this._createAs3DShape(n,s,i,a)}createLabel(e,r,n,s){const i=e.graphic,o=w(i.geometry);if(t(o))return this.logger.warn(`unsupported geometry type for label: ${i.geometry.type}`),null;const a=r.text;return!a||/^\\s+$/.test(a)?null:this._createAs3DShape(i,o,a,r,n,s)}setGraphicElevationContext(e,t,r=0){const n=super.setGraphicElevationContext(e,t);return n.addOffsetRenderUnits(r),n}layerOpacityChanged(){return this.logger.warn(\"layer opacity change not yet implemented in Graphics3DTextSymbolLayer\"),!1}layerElevationInfoChanged(e,t){return U(e,t,((e,t)=>{this.updateGraphicElevationContext(t,e)})),f.UPDATE}slicePlaneEnabledChanged(e,t){return U(e,t,(e=>{for(const t of e.stageObject.geometryRecords)t.material.setParameters({hasSlicePlane:this._context.slicePlaneEnabled})})),!0}physicalBasedRenderingChanged(){return!0}pixelRatioChanged(){return!1}updateGraphicElevationContext(e,t){this.setGraphicElevationContext(e,t.elevationContext,t.metadata.elevationOffset),t.needsElevationUpdates=d(t.elevationContext.mode)||\"absolute-height\"===t.elevationContext.mode}_defaultElevationInfoNoZ(){return G}_createAs3DShape(e,l,c,m,f,g){const y=this.setGraphicElevationContext(e,new p,m.elevationOffset),x=\"polyline\"===n(e.geometry,\"type\"),b=e.uid;let P=null,O=null;if(t(g)){const e=v(m.horizontalPlacement);P=new E(c,e,this._textRenderParameters);let n=null;if(r(this._context.sharedResources.textures)){O=this._context.sharedResources.textures.fromData(P.key,(()=>s(P).create()),(()=>{r(n)&&n.release()}));const e=this._context.stage.renderView.textureRepository.acquire(O.texture.id);if(t(e)||i(e))return O.release(),null;n=e}}const w=D(P,m),L={occlusionTest:!0,screenOffset:m.screenOffset,anchorPosition:w,polygonOffset:!0,color:[1,1,1,1],centerOffsetUnits:m.centerOffsetUnits,debugDrawLabelBorder:m.debugDrawLabelBorder,drawInSecondSlot:!0};if(r(O)&&(L.textureId=O.texture.id),r(g)&&(L.textureId=g.id),r(m.verticalOffset)){const{screenLength:e,minWorldLength:t,maxWorldLength:n}=m.verticalOffset;L.verticalOffset={screenLength:o(e),minWorldLength:t||0,maxWorldLength:r(n)?n:1/0}}if(this._context.screenSizePerspectiveEnabled){const{screenSizePerspectiveSettings:e,screenSizePerspectiveSettingsLabels:t}=this._context.sharedResources;L.screenSizePerspective=t.overridePadding(this._textRenderParameters.haloSize+this._textRenderParameters.definition.background.padding[0]),L.screenSizePerspectiveAlignment=e}let R;if(x&&(L.shaderPolygonOffset=1e-4),L.hasSlicePlane=this._context.slicePlaneEnabled,r(f)){const e=JSON.stringify(L);R=f.get(e),t(R)&&(R=new z(L),f.add(e,R))}else R=new z(L);const U=[R],G=m.translation,A=r(P)?[P.displayWidth,P.displayHeight]:[0,0],T=m.centerOffset,W=[j(C,G,null,A,T,[0,0],null)],I=this._context.layer.uid,k=S(this._context,l,W,U,y,I,b);if(null===k)return null;const B=new u(this,k.object,W,t(f)?U:null,O,h,y);B.alignedSampledElevation=k.sampledElevation,B.needsElevationUpdates=d(y.mode)||\"absolute-height\"===y.mode;const{displayWidth:H,displayHeight:$}=r(P)?P:m;B.getScreenSize=(e=a())=>(e[0]=H,e[1]=$,e);const V={labelText:c,elevationOffset:m.elevationOffset};return B.metadata=V,_(B,l,this._context.elevationProvider),B}}function U(e,t,n){e&&e.forEach((e=>{const s=t(e);r(s)&&n(s,e.graphic)}))}function D(e,t){if(\"baseline\"===t.verticalPlacement){const n=b[t.horizontalPlacement],s=r(e)?e.baselineAnchorY:0;return l(n,s)}const n=P(t.horizontalPlacement,t.verticalPlacement);return O[n]}const G={mode:\"relative-to-ground\",offset:0},A={text:null,translation:[0,0,0],elevationOffset:0,centerOffset:[0,0,0,1],screenOffset:[0,0],horizontalPlacement:\"center\",verticalPlacement:\"center\",verticalOffset:null,centerOffsetUnits:null,debugDrawLabelBorder:!1,displayWidth:0,displayHeight:0};export{R as Graphics3DTextSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nconst e={\"calm-small\":{waveStrength:.005,perturbationStrength:.02,textureRepeat:12,waveVelocity:.01},\"rippled-small\":{waveStrength:.02,perturbationStrength:.09,textureRepeat:32,waveVelocity:.07},\"slight-small\":{waveStrength:.05,perturbationStrength:.07,textureRepeat:28,waveVelocity:.1},\"moderate-small\":{waveStrength:.075,perturbationStrength:.07,textureRepeat:24,waveVelocity:.1},\"calm-medium\":{waveStrength:.003125,perturbationStrength:.01,textureRepeat:8,waveVelocity:.02},\"rippled-medium\":{waveStrength:.035,perturbationStrength:.015,textureRepeat:12,waveVelocity:.07},\"slight-medium\":{waveStrength:.06,perturbationStrength:.015,textureRepeat:8,waveVelocity:.12},\"moderate-medium\":{waveStrength:.09,perturbationStrength:.03,textureRepeat:4,waveVelocity:.12},\"calm-large\":{waveStrength:.01,perturbationStrength:0,textureRepeat:4,waveVelocity:.05},\"rippled-large\":{waveStrength:.025,perturbationStrength:.01,textureRepeat:8,waveVelocity:.11},\"slight-large\":{waveStrength:.06,perturbationStrength:.02,textureRepeat:3,waveVelocity:.13},\"moderate-large\":{waveStrength:.14,perturbationStrength:.03,textureRepeat:2,waveVelocity:.15}};export{e as wavePresets};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{isSome as t,isNone as r,unwrap as o}from\"../../../../core/maybe.js\";import{getMetersPerUnitForSR as i}from\"../../../../core/unitUtils.js\";import{e as s}from\"../../../../chunks/earcut.js\";import{I as n}from\"../../../../chunks/mat4f64.js\";import{s as a}from\"../../../../chunks/vec2.js\";import{f as l,a as c}from\"../../../../chunks/vec2f64.js\";import{b as h,s as m}from\"../../../../chunks/vec4.js\";import{t as u}from\"../../../../chunks/common.js\";import{create as p,empty as d,expandWithBuffer as g,intersectsClippingArea as y,expandWithAABB as f}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as _,empty as v,expandPointInPlace as x}from\"../../../../geometry/support/aaBoundingRect.js\";import{perVertexElevationAligner as D}from\"./ElevationAligners.js\";import{SymbolUpdateType as b,elevationModeChangeUpdateType as C,needsElevationUpdates2D as E}from\"./elevationAlignmentUtils.js\";import{ElevationContext as S}from\"./ElevationContext.js\";import w from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as G}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as j}from\"./Graphics3DSymbolLayer.js\";import{geometryAsPolygon as T,createWaterGeometry as A,PolygonCreationDataBase as P}from\"./polygonUtils.js\";import{geometryToRenderInfo as U,geometryToRenderInfoDraped as R}from\"../../support/renderInfoUtils/polygon.js\";import{Object3D as O}from\"../../webgl-engine/lib/Object3D.js\";import{RenderGeometry as L}from\"../../webgl-engine/lib/RenderGeometry.js\";import{WaterMaterialParameters as M,WaterMaterial as B}from\"../../webgl-engine/materials/WaterMaterial.js\";import{wavePresets as V}from\"../../webgl-engine/materials/internal/waterMaterialUtils.js\";const F=[\"polyline\",\"polygon\",\"extent\"];class I extends j{constructor(e,t,r,o){super(e,t,r,o)}async doLoad(){}destroy(){super.destroy(),this._context.stage.remove(this._material),this._material=null}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,F,this.symbolLayer.type))return null;const r=this.setGraphicElevationContext(t,new S);return this.ensureDrapedStatus(\"on-the-ground\"===r.mode),this.ensureMaterial(),this.draped?this._createAsOverlay(t):this._createAs3DShape(t,r,t.uid)}ensureMaterial(){if(t(this._material))return;const r=new M,o=this.symbolLayer.color;t(o)&&(r.color=e.toUnitRGBA(o));const i=this._getCombinedOpacity(o,{hasIntrinsicColor:!0});r.color=[r.color[0],r.color[1],r.color[2],i],r.transparent=i<1||this.needsDrivenTransparentPass,r.waveDirection=t(this.symbolLayer.waveDirection)?I.headingVectorFromAngle(this.symbolLayer.waveDirection):l(0,0);const s=this.symbolLayer.waveStrength+\"-\"+this.symbolLayer.waterbodySize,n=V[s];r.waveStrength=n.waveStrength,r.waveTextureRepeat=n.textureRepeat,r.waveVelocity=n.waveVelocity,r.flowStrength=n.perturbationStrength,r.hasSlicePlane=this._context.slicePlaneEnabled,r.isDraped=this.draped,this._material=new B(r),this._context.stage.add(this._material)}layerOpacityChanged(){if(r(this._material))return;const e=this._material.parameters.color,t=this._getCombinedOpacity(this.symbolLayer.color,{hasIntrinsicColor:!0}),o=t<1||this.needsDrivenTransparentPass;this._material.setParameters({color:[e[0],e[1],e[2],t],transparent:o})}layerElevationInfoChanged(e,t,r){const o=this._elevationContext.mode,i=C(I.elevationModeChangeTypes,r,o);if(i!==b.UPDATE)return i;const s=E(o);return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>s))}slicePlaneEnabledChanged(){return t(this._material)&&this._material.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),!0}physicalBasedRenderingChanged(){return!0}pixelRatioChanged(){return!0}_createAs3DShape(e,t,o){const i=T(e.geometry);if(r(i))return null;const s=U(i,this._context.elevationProvider,this._context.renderCoordsHelper,t),n=s.position.length/3,a=new Float64Array(2*n),l=new Y(s,a);if(this._create3DShapeGeometries(l),this._logGeometryCreationWarnings(l.renderData,i.rings,\"rings\",\"WaterSymbol3DLayer\"),0===l.outGeometries.length)return null;this._createUVCoordsFromVertices(l.uvCoords,l.renderData.mapPosition,n,this._context.elevationProvider.spatialReference);const c=new O({geometries:l.outGeometries,materials:l.outMaterials,transformations:l.outTransforms,castShadow:!1,metadata:{layerUid:this._context.layer.uid,graphicUid:o}}),h=new G(this,c,l.outGeometries,null,null,D,t);return h.alignedSampledElevation=l.renderData.sampledElevation,h.needsElevationUpdates=E(t.mode),h}_createUVCoordsFromVertices(e,t,r,o){const s=i(o);v(k);for(let i=0;i<r;i++)a(z,t[3*i+0],t[3*i+1]),x(k,z);h(k,k,s);const n=k[0]%I.unitSizeOfTexture,l=k[1]%I.unitSizeOfTexture;W[0]=k[0]-n,W[1]=k[1]-l;for(let i=0;i<r;i++)e[2*i+0]=(t[3*i+0]*s-W[0])/I.unitSizeOfTexture,e[2*i+1]=(t[3*i+1]*s-W[1])/I.unitSizeOfTexture}_create3DShapeGeometries(e){const r=e.renderData.polygons,i=e.uvCoords;for(const{count:a,index:l,position:c,mapPosition:h,holeIndices:m}of r){if(t(this._context.clippingExtent)&&(d(N),g(N,h),!y(N,this._context.clippingExtent)))continue;const r=s(h,m,3);if(0===r.length)continue;const u=new Float64Array(i.buffer,2*l*i.BYTES_PER_ELEMENT,2*a),p=A({indices:r,attributeData:{position:c,uv0:u,mapPosition:h}});e.outGeometries.push(p),e.outMaterials.push(o(this._material)),e.outTransforms.push(n)}}_createAsOverlay(e){const t=T(e.geometry);if(r(t))return null;o(this._material).renderPriority=this._renderPriority;const i=R(t,this._context.overlaySR),s=i.position.length/3,n=new Float64Array(2*s),a=new q(i,n,this._context.layer.uid,e.uid);return a.outBoundingBox=d(),this._createAsOverlayWater(a),this._logGeometryCreationWarnings(a.renderData,t.rings,\"rings\",\"WaterSymbol3DLayer\"),0===a.outGeometries.length?null:(this._createUVCoordsFromVertices(a.uvCoords,a.renderData.position,s,this._context.overlaySR),new w(this,a.outGeometries,a.outBoundingBox,this._context.drapeSourceRenderer))}_createAsOverlayWater(e){const t=e.uvCoords,r=e.renderData.polygons;for(const{position:i,holeIndices:n,index:a,count:l}of r){if(d(N),g(N,i),!y(N,this._context.clippingExtent))continue;f(e.outBoundingBox,N);const r=s(i,n,3);if(0===r.length)continue;const c=new Float64Array(t.buffer,2*a*t.BYTES_PER_ELEMENT,2*l),h=A({indices:r,attributeData:{position:i,uv0:c}}),u=new L(h,o(this._material),{layerUid:e.layerUid,graphicUid:e.graphicsUid}),p=N;m(u.boundingSphere,.5*(p[0]+p[3]),.5*(p[1]+p[4]),0,.5*Math.sqrt((p[3]-p[0])*(p[3]-p[0])+(p[4]-p[1])*(p[4]-p[1]))),e.outGeometries.push(u)}}static headingVectorFromAngle(e){const t=c(),r=u(e);return t[0]=Math.sin(r),t[1]=Math.cos(r),t}test(){return{...super.test(),create3DShape:e=>this._createAs3DShape(e.graphic,e.elevationContext,e.graphicUid),ensureMaterial:()=>this.ensureMaterial()}}}I.unitSizeOfTexture=100,I.elevationModeChangeTypes={definedChanged:b.RECREATE,staysOnTheGround:b.NONE,onTheGroundChanged:b.RECREATE};const W=c(),k=_(),z=c(),N=p();class Y extends P{constructor(e,t){super(e,null,null),this.uvCoords=t}}class q extends P{constructor(e,t,r,o){super(e,r,o),this.uvCoords=t}}export{I as Graphics3DWaterSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport r from\"../../../../core/Logger.js\";import{Graphics3DExtrudeSymbolLayer as o}from\"./Graphics3DExtrudeSymbolLayer.js\";import{Graphics3DIconSymbolLayer as e}from\"./Graphics3DIconSymbolLayer.js\";import{Graphics3DLineSymbolLayer as t}from\"./Graphics3DLineSymbolLayer.js\";import{Graphics3DMeshFillSymbolLayer as i}from\"./Graphics3DMeshFillSymbolLayer.js\";import{Graphics3DObjectSymbolLayer as m}from\"./Graphics3DObjectSymbolLayer.js\";import{Graphics3DPathSymbolLayer as y}from\"./Graphics3DPathSymbolLayer.js\";import{Graphics3DPolygonFillSymbolLayer as a}from\"./Graphics3DPolygonFillSymbolLayer.js\";import{Graphics3DTextSymbolLayer as s}from\"./Graphics3DTextSymbolLayer.js\";import{Graphics3DWaterSymbolLayer as p}from\"./Graphics3DWaterSymbolLayer.js\";function c(o,e,t,i){const m=h[o.type]&&h[o.type][e.type]||l[e.type];return m?new m(o,e,t,i):(r.getLogger(\"esri.views.3d.layers.graphics.Graphics3DSymbolLayerFactory\").error(\"GraphicsLayerFactory#make\",`unknown symbol type ${e.type}`),null)}const l={icon:e,object:m,line:t,path:y,fill:a,extrude:o,text:s,water:p};function n(r,o){l[r]=o}const h={\"mesh-3d\":{fill:i}};export{c as make,n as setSymbolClass};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{forEach as e}from\"../../../../core/asyncUtils.js\";import{isNone as t,isSome as s,get as r}from\"../../../../core/maybe.js\";import{onAbortOrThrow as o,throwIfAborted as a}from\"../../../../core/promiseUtils.js\";import i from\"./Graphics3DGraphic.js\";import{Graphics3DObject3DGraphicLayer as n}from\"./Graphics3DObject3DGraphicLayer.js\";import{make as y}from\"./Graphics3DSymbolLayerFactory.js\";import{ApplyRendererDiffResult as l}from\"./interfaces.js\";import{Loadable as h,LoadStatus as c}from\"./Loadable.js\";import{totalSymbolComplexities as m}from\"./symbolComplexity.js\";class p extends h{constructor(e,t,s){super(t.schedule),this._symbol=e,this._context=t,this._backgroundLayers=s,this._destroyed=!1,this.symbolLayers=new Array,this.referenced=0,this._extentPadding=0}set symbol(e){this._symbol=e;for(let s=0;s<e.symbolLayers.length;s++){const r=this.symbolLayers[s];t(r)||(r.symbol=e,r.symbolLayer=e.symbolLayers.items[s])}}get symbol(){return this._symbol}async doLoad(t){let r=this._symbol.symbolLayers;this._extentPadding=0,this._backgroundLayers&&(r=this._backgroundLayers.concat(r));const i=r.length;for(;this.symbolLayers.length<r.length;)this.symbolLayers.push(null);this.symbolLayers.length=r.length;const n=[];for(let e=0;e<i;e++){const s=r.getItemAt(e);if(!1===s.enabled)continue;d.renderPriority=1-(1+e)/i,d.renderPriorityStep=1/i,d.ignoreDrivers=s._ignoreDrivers;const a=y(this.symbol,s,this._context,d);n.push(o(t,(()=>{this.symbolLayers[e]=null,a.destroy()}))),this.symbolLayers[e]=a}await e(this.symbolLayers,(async(e,t)=>{if(s(e))try{await e.load(),this._extentPadding+=Math.max(this._extentPadding,e.extentPadding)}catch{this.symbolLayers[t]=null}}));for(const e of n)e?.remove();if(n.length=0,a(t),this.symbolLayers.length&&!this.symbolLayers.some((e=>!!e)))throw new Error}getSymbolLayerSize(e){const t=this.symbolLayers[e];return s(t)?t.getCachedSize():null}get extentPadding(){return this._extentPadding}get symbologySnappingSupported(){return this.symbolLayers.some((e=>s(e)&&e.queryForSnapping))}createGraphics3DGraphic(e,t){const r=e.graphic,o=new Array(this.symbolLayers.length);for(let i=0;i<this.symbolLayers.length;i++){const t=this.symbolLayers[i];o[i]=s(t)?t.createGraphics3DGraphic(e):null}const a=this._context.arcade||this._context.featureExpressionInfoContext&&this._context.featureExpressionInfoContext.arcade&&this._context.featureExpressionInfoContext.arcade.modules||null;return new i(r,t||this,o,e.layer,a)}get complexity(){return m(this.symbolLayers.map((e=>r(e,\"complexity\"))))}globalPropertyChanged(e,t){const r=this.symbolLayers.length;for(let o=0;o<r;o++){const r=this.symbolLayers[o],a=e=>{const t=e.graphics[o];return t instanceof n?t:null};if(s(r)&&!r.globalPropertyChanged(e,t,a))return!1}return!0}applyRendererDiff(e,t){return this.loadStatus!==c.LOADED?l.Recreate_Symbol:this.symbolLayers.reduce(((r,o)=>r!==l.Recreate_Symbol&&s(o)?Math.min(r,o.applyRendererDiff(e,t)):r),l.Fast_Update)}prepareSymbolPatch(e){if(this.loadStatus===c.FAILED)return;if(\"partial\"!==e.diff.type)return;const r=e.diff.diff;if(!r.symbolLayers||\"partial\"!==r.symbolLayers.type)return;const o=r.symbolLayers.diff;this.symbolLayers.forEach(((r,a)=>{if(t(r))return;const i=o[a];if(i){const t={diff:i,graphics3DGraphicPatches:[],symbolLayerStatePatches:[]};r.prepareSymbolLayerPatch(t),e.symbolStatePatches.push(...t.symbolLayerStatePatches),t.graphics3DGraphicPatches.length&&e.graphics3DGraphicPatches.push(((e,r)=>{const o=e.graphics[a];s(o)&&t.graphics3DGraphicPatches.forEach((e=>e(o,r)))}))}}))}updateGeometry(e,s){for(let r=0;r<this.symbolLayers.length;r++){const o=this.symbolLayers[r];if(t(o))continue;const a=e.graphics[r];if(t(a)||!o.updateGeometry(a,s))return!1}return!0}onRemoveGraphic(e){for(let r=0;r<this.symbolLayers.length;r++){const o=this.symbolLayers[r];if(t(o))continue;const a=e.graphics[r];s(a)&&o.onRemoveGraphic(a)}}getFastUpdateStatus(){let e=0,s=0,r=0;return this.symbolLayers.forEach((o=>{t(o)||(o.loadStatus===c.LOADING?e++:o.isFastUpdatesEnabled()?r++:s++)})),{loading:e,slow:s,fast:r}}async queryForSnapping(e,t,r,o){const i=this.symbolLayers.filter(s).filter((e=>s(e.queryForSnapping))).map((s=>s.queryForSnapping(e,t,r,o))),n=await Promise.all(i);return a(o),n.flat()}destroy(){if(this.destroyed)console.error(\"Graphics3DSymbol.destroy called when already destroyed!\");else{super.destroy();for(const e of this.symbolLayers)s(e)&&e.destroy();this.symbolLayers.length=0,this._destroyed=!0}}get destroyed(){return this._destroyed}}const d={renderPriority:0,renderPriorityStep:1,ignoreDrivers:!1};export{p as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{result as r}from\"../../../../core/asyncUtils.js\";import{destroyMaybe as t,isSome as a}from\"../../../../core/maybe.js\";import{throwIfAborted as e}from\"../../../../core/promiseUtils.js\";import{make as o}from\"./Graphics3DCalloutSymbolLayerFactory.js\";import l from\"./Graphics3DSymbol.js\";class s extends l{constructor(r,t,a){super(r,t,a),this._calloutSymbolLayer=null,this.symbol.hasVisibleCallout()&&(this._calloutSymbolLayer=o(this.symbol,t))}async doLoad(t){const a=this._calloutSymbolLayer?r(this._calloutSymbolLayer.load()):null;try{await super.doLoad(t),e(t)}catch(o){throw this._calloutSymbolLayer?.abortLoad(),o}a&&await a}destroy(){super.destroy(),this._calloutSymbolLayer=t(this._calloutSymbolLayer)}createGraphics3DGraphic(r,t){const e=super.createGraphics3DGraphic(r,t);if(a(this._calloutSymbolLayer)&&a(e)){const t=this._createCalloutGraphic(r);a(t)&&e.addAuxiliaryGraphic(t)}return e}globalPropertyChanged(r,t){return!!super.globalPropertyChanged(r,t)&&(!this._calloutSymbolLayer||this._calloutSymbolLayer.globalPropertyChanged(r,t,(r=>this._getCalloutGraphicLayer(r))))}updateGeometry(r,t){const a=super.updateGeometry(r,t);if(a&&this._calloutSymbolLayer){const a=this._getCalloutGraphicLayer(r);if(a)return this._calloutSymbolLayer.updateGeometry(a,t)}return a}_createCalloutGraphic(r){const t=r.renderingInfo,a={renderer:t.renderer,symbol:t.symbol,translation:[0,0,0],centerOffset:[0,0,0,0],screenOffset:[0,0],centerOffsetUnits:\"world\",elevationOffset:0,materialCollection:null};return r.renderingInfo=a,this._calloutSymbolLayer.createGraphics3DGraphic(r)}_getCalloutGraphicLayer(r){for(const t of r._auxiliaryGraphics)if(t.graphics3DSymbolLayer===this._calloutSymbolLayer)return t}}export{s as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport o from\"./Graphics3DPointSymbol.js\";import r from\"./Graphics3DSymbol.js\";function t(t,i,e){let p;if(\"point-3d\"===t.type)p=o;else p=r;return new p(t,i,e)}export{t as make};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import{ApplyRendererDiffResult as s}from\"./interfaces.js\";import{Loadable as r}from\"./Loadable.js\";import{emptySymbolComplexity as i}from\"./symbolComplexity.js\";class e extends r{constructor(t,s,r){super(s),this.symbol=t,this._convert=r,this.symbologySnappingSupported=!1,this.graphics3DSymbol=null,this.referenced=0}getSymbolLayerSize(s){return t(this.graphics3DSymbol)?this.graphics3DSymbol.getSymbolLayerSize(s):null}get symbolLayers(){return t(this.graphics3DSymbol)?this.graphics3DSymbol.symbolLayers:[]}get extentPadding(){return t(this.graphics3DSymbol)?this.graphics3DSymbol.extentPadding:0}async doLoad(s){const r=await this.symbol.fetchSymbol({signal:s});r.id=this.symbol.id,this.graphics3DSymbol=this._convert(r),t(this.graphics3DSymbol)&&await this.graphics3DSymbol.load()}createGraphics3DGraphic(s){return t(this.graphics3DSymbol)?this.graphics3DSymbol.createGraphics3DGraphic(s,this):null}get complexity(){return t(this.graphics3DSymbol)?this.graphics3DSymbol.complexity:i}globalPropertyChanged(s,r){return!!t(this.graphics3DSymbol)&&this.graphics3DSymbol.globalPropertyChanged(s,r)}applyRendererDiff(r,i){return t(this.graphics3DSymbol)?this.graphics3DSymbol.applyRendererDiff(r,i):s.Recreate_Symbol}prepareSymbolPatch(s){t(this.graphics3DSymbol)&&this.graphics3DSymbol.prepareSymbolPatch(s)}updateGeometry(s,r){return!!t(this.graphics3DSymbol)&&this.graphics3DSymbol.updateGeometry(s,r)}onRemoveGraphic(){}getFastUpdateStatus(){return t(this.graphics3DSymbol)?this.graphics3DSymbol.getFastUpdateStatus():{loading:1,fast:0,slow:0}}destroy(){t(this.graphics3DSymbol)&&this.graphics3DSymbol.destroy(),this.graphics3DSymbol=void 0,super.destroy()}get destroyed(){return void 0===this.graphics3DSymbol}}export{e as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{remove as t}from\"../../../../core/arrayUtils.js\";import{isSome as i}from\"../../../../core/maybe.js\";import{getObjectId as e}from\"../../../../layers/graphics/dehydratedFeatures.js\";class s{constructor(t){this._graphicsCore=t,this._idToState=new Map,this._states=new Set;const i=t.owner.layer&&t.owner.layer.objectIdField;i?(this._getGraphicId=t=>e(t,i),this._getGraphics3DGraphicById=t=>this._graphicsCore.getGraphics3DGraphicByObjectId(t)):(this._getGraphicId=t=>t.uid,this._getGraphics3DGraphicById=t=>this._graphicsCore.getGraphics3DGraphicById(t))}destroy(){this._idToState.clear(),this._states.forEach(((t,i)=>this.remove(i)))}add(t){const e={remove:()=>this.remove(t)};if(this._states.has(t))return e;const s=this._getGraphicId(t.graphic),a=this._getGraphics3DGraphicById(s);this._states.has(t)||this._states.add(t);return this._ensureStateList(s).push(t),t.displaying=!!i(a)&&a.isVisible(),t.isDraped=!!i(a)&&a.isDraped,t.tracking=!0,i(a)&&t.emit(\"changed\",{}),e}remove(i){if(this._states.has(i)){if(this._idToState.size){const e=this._getGraphicId(i.graphic),s=this._idToState.get(e);s&&(t(s,i),0===s.length&&this._idToState.delete(e))}this._states.delete(i),i.tracking=!1,i.displaying=!1}}addGraphic(t){this._forEachState(t,(i=>{i.displaying=t.isVisible(),i.isDraped=t.isDraped,i.emit(\"changed\",{})}))}removeGraphic(t){this._forEachState(t,(t=>{t.displaying=!1,t.isDraped=!1}))}updateGraphicGeometry(t){this._forEachState(t,(t=>{t.emit(\"changed\",{})}))}updateGraphicVisibility(t){this._forEachState(t,(i=>{i.displaying=t.isVisible()}))}allGraphicsDeleted(){this._states.forEach((t=>{t.displaying=!1}))}_ensureStateList(t){const i=this._idToState.get(t);if(i)return i;const e=new Array;return this._idToState.set(t,e),e}_forEachState(t,i){if(0===this._states.size||0===this._idToState.size)return;const e=this._getGraphicId(t.graphic),s=this._idToState.get(e);null!=s&&s.forEach(i)}}export{s as GraphicStateTracking};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import has from\"../../../../core/has.js\";import{isNone as s}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{PooledRBush as n}from\"../../../../core/libs/rbush/PooledRBush.js\";import{fromRect as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{getObjectId as a}from\"../../../../layers/graphics/dehydratedFeatures.js\";let d=class extends e{constructor(t){super(t),this._index=new n(9,has(\"esri-csp-restrictions\")?t=>({minX:t.extent[0],minY:t.extent[1],maxX:t.extent[2],maxY:t.extent[3]}):[\".extent[0]\",\".extent[1]\",\".extent[2]\",\".extent[3]\"]),this._missing=new Set,this._boundsByFeature=new Map,this.spatialReference=null,this.hasZ=null,this.hasM=null,this.objectIdField=null,this.updating=!1}setup(t){this._addMany(t)}destroy(){this._missing.clear(),this._index.destroy(),this._index=null,this._boundsByFeature.clear(),this._boundsByFeature=null}update(){this._missing.size>0&&(this._addMany(Array.from(this._missing.values())),this.updating=!1,this._missing.clear())}get updatingRemaining(){return this._missing.size}queryGraphicUIDsInExtent(t,e,i){!s(e)&&e.equals(this.spatialReference)&&(u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,(t=>i(t.graphic.uid))))}add(t){this._missing.add(t),this.updating=!0}remove(t){if(this._missing.delete(t))return void(this.updating=this._missing.size>0);this._index.remove(t);const e=a(t.graphic,this._get(\"objectIdField\"));null!=e&&this._boundsByFeature.delete(e)}_addMany(t){if(0===t.length)return;const e=this._get(\"objectIdField\");for(const s of t){s.computeExtent(this.spatialReference);const t=a(s.graphic,e);null!=t&&this._boundsByFeature.set(t,s.extent)}this._index.load(t)}clear(){this._index.clear(),this._missing.clear(),this._boundsByFeature.clear(),this.updating=!1}forEachInBounds(t,e){u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,(t=>{e(t)}))}getBounds(t,e){this.update();const s=this._boundsByFeature.get(t);return s?o(e,s):null}};t([i({constructOnly:!0})],d.prototype,\"spatialReference\",void 0),t([i({constructOnly:!0})],d.prototype,\"hasZ\",void 0),t([i({constructOnly:!0})],d.prototype,\"hasM\",void 0),t([i({constructOnly:!0})],d.prototype,\"objectIdField\",void 0),t([i()],d.prototype,\"updating\",void 0),t([i({readOnly:!0})],d.prototype,\"updatingRemaining\",null),d=t([r(\"esri.views.3d.layers.graphics.SpatialIndex2D\")],d);const u={minX:0,minY:0,maxX:0,maxY:0};export{d as SpatialIndex2D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import o from\"../../../../core/Evented.js\";import r from\"../../../../core/Handles.js\";import s from\"../../../../core/Logger.js\";import{unwrapOr as n,isNone as i,isSome as a}from\"../../../../core/maybe.js\";import{getMetersPerVerticalUnitForSR as c}from\"../../../../core/unitUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as d}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as m}from\"../../../../chunks/vec3.js\";import{c as p}from\"../../../../chunks/vec3f64.js\";import{empty as h,toRect as u,expandWithVec3 as f}from\"../../../../geometry/support/aaBoundingBox.js\";import{empty as _}from\"../../../../geometry/support/aaBoundingRect.js\";import{getMetersPerUnit as y}from\"../../../../symbols/support/unitConversionUtils.js\";import{newIntersector as g}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as j}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";const v=1;let b=class extends(o.EventedMixin(t)){constructor(e){super(e),this._elevationOffset=0,this._layerHandes=new r}get spatialReference(){return this.view?.spatialReference}initialize(){this._renderCoordsHelper=this.view.renderCoordsHelper,this._intersectLayers=[this.stageLayer],this._intersector=g(this.view.state.viewingMode),this._intersector.options.store=j.MIN;const e=this._computeLayerExtent(this.spatialReference,this.stageLayer);this._zmin=e[2],this._zmax=e[5];const t=this.stageLayer.events;this._layerHandes.add([t.on(\"layerObjectAdded\",(e=>this._objectChanged(e.object))),t.on(\"layerObjectRemoved\",(e=>this._objectChanged(e.object))),t.on(\"objectGeometryAdded\",(e=>this._objectChanged(e.object))),t.on(\"objectGeometryRemoved\",(e=>this._objectChanged(e.object))),t.on(\"vertexAttrsUpdated\",(e=>this._objectChanged(e.object))),t.on(\"objectTransformation\",(e=>this._objectChanged(e)))])}dispose(){this._layerHandes.destroy()}elevationInfoChanged(){const e=null!=this.layer?this.layer.elevationInfo:null;if(null!=e&&\"on-the-ground\"!==e.mode){const t=c(this.layer.spatialReference),o=y(e.unit);this._elevationOffset=n(e.offset,0)*o/t}else this._elevationOffset=0}getElevation(e,t,o,r){if(R[0]=e,R[1]=t,R[2]=o,!this._renderCoordsHelper.toRenderCoords(R,r,R))return s.getLogger(this.declaredClass).error(\"could not project point for elevation alignment\"),null;const n=this._elevationOffset,i=this._zmin+n,a=this._zmax+n;this._renderCoordsHelper.setAltitude(H,a,R),this._renderCoordsHelper.setAltitude(L,i,R);const c=e=>e.metadata&&e.metadata.isElevationSource;return this._intersector.reset(H,L,null),this._intersector.intersect(this._intersectLayers,null,v,null,c),this._intersector.results.min.getIntersectionPoint(R)?this._renderCoordsHelper.getAltitude(R):null}_objectChanged(e){const t=this.spatialReference;if(!e.metadata?.isElevationSource||i(t))return;h(x);const{lastValidElevationBB:o}=e.metadata;o.isEmpty()||this._expandExtent(t,o.min,o.max,x);const{min:r,max:s}=e.boundingVolumeWorldSpace;this._expandExtent(t,r,s,x),u(x,C),this._zmin=Math.min(this._zmin,x[2]),this._zmax=Math.max(this._zmax,x[5]),E.extent=C,E.spatialReference=t,this.emit(\"elevation-change\",E),m(o.min,r),m(o.max,s)}_computeLayerExtent(e,t){return h(x),a(e)&&t.objects.forAll((t=>this._expandExtent(e,t.boundingVolumeWorldSpace.min,t.boundingVolumeWorldSpace.max,x))),x}_expandExtent(e,t,o,r){for(let s=0;s<8;++s)R[0]=1&s?t[0]:o[0],R[1]=2&s?t[1]:o[1],R[2]=4&s?t[2]:o[2],this._renderCoordsHelper.fromRenderCoords(R,R,e),f(r,R);return r}};e([l({constructOnly:!0})],b.prototype,\"layer\",void 0),e([l({constructOnly:!0})],b.prototype,\"stageLayer\",void 0),e([l({constructOnly:!0})],b.prototype,\"view\",void 0),e([l()],b.prototype,\"spatialReference\",null),b=e([d(\"esri.views.3d.layers.support.StageLayerElevationProvider\")],b);const x=h(),C=_(),E={spatialReference:null,extent:C,context:\"scene\"},R=p(),H=p(),L=p();export{b as StageLayerElevationProvider};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as n}from\"../../../core/maybe.js\";import{c as l}from\"../../../chunks/vec3f64.js\";import{projectBuffer as m}from\"../../../geometry/projection.js\";function x(l,x,e){if(n(l)||n(e))return!1;let u=!0;return i[0]=null!=l.xmin?l.xmin:0,i[1]=null!=l.ymin?l.ymin:0,i[2]=null!=l.zmin?l.zmin:0,u=u&&m(i,l.spatialReference,0,x,e,0,1),i[0]=null!=l.xmax?l.xmax:0,i[1]=null!=l.ymax?l.ymax:0,i[2]=null!=l.zmax?l.zmax:0,u=u&&m(i,l.spatialReference,0,x,e,3,1),null==l.xmin&&(x[0]=-1/0),null==l.ymin&&(x[1]=-1/0),null==l.zmin&&(x[2]=-1/0),null==l.xmax&&(x[3]=1/0),null==l.ymax&&(x[4]=1/0),null==l.zmax&&(x[5]=1/0),u}function e(l,x,e){if(n(l)||n(e))return!1;let u=!0;return i[0]=null!=l.xmin?l.xmin:0,i[1]=null!=l.ymin?l.ymin:0,i[2]=null!=l.zmin?l.zmin:0,u=u&&m(i,l.spatialReference,0,i,e,0,1),x[0]=i[0],x[1]=i[1],i[0]=null!=l.xmax?l.xmax:0,i[1]=null!=l.ymax?l.ymax:0,i[2]=null!=l.zmax?l.zmax:0,u=u&&m(i,l.spatialReference,0,i,e,0,1),x[2]=i[0],x[3]=i[1],null==l.xmin&&(x[0]=-1/0),null==l.ymin&&(x[1]=-1/0),null==l.xmax&&(x[2]=1/0),null==l.ymax&&(x[3]=1/0),u}const i=l();export{x as projectToBoundingBox,e as toBoundingRect};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import\"../../../../renderers/ClassBreaksRenderer.js\";import\"../../../../renderers/DictionaryRenderer.js\";import\"../../../../renderers/DotDensityRenderer.js\";import\"../../../../renderers/HeatmapRenderer.js\";import\"../../../../renderers/PieChartRenderer.js\";import\"../../../../renderers/Renderer.js\";import\"../../../../renderers/SimpleRenderer.js\";import i from\"../../../../renderers/UniqueValueRenderer.js\";import\"../../../../renderers/support/jsonUtils.js\";import\"../../../../symbols.js\";import t from\"../../../../core/Accessor.js\";import has from\"../../../../core/has.js\";import r from\"../../../../core/Error.js\";import s from\"../../../../core/Handles.js\";import{makeHandle as a}from\"../../../../core/handleUtils.js\";import n from\"../../../../core/Logger.js\";import{someMap as o,findInMap as l}from\"../../../../core/MapUtils.js\";import{isSome as h,unwrapOr as d,isNone as c,destroyMaybe as p,removeMaybe as y,get as m,unwrap as g}from\"../../../../core/maybe.js\";import u from\"../../../../core/PooledArray.js\";import{throwIfAborted as b,eachAlways as _,createDeferred as f,isAbortError as v}from\"../../../../core/promiseUtils.js\";import{watch as S,when as C,on as w,syncAndInitial as G,whenOnce as x}from\"../../../../core/reactiveUtils.js\";import{schedule as R}from\"../../../../core/scheduling.js\";import{property as P}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as D}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as I,isEmpty as E}from\"../../../../core/accessorSupport/diffUtils.js\";import{s as A,a as U,g as O}from\"../../../../chunks/vec3.js\";import{c as j}from\"../../../../chunks/vec3f64.js\";import{projectVectorToVector as L,projectXYZToVector as V,canProjectWithoutEngine as F,projectBuffer as T}from\"../../../../geometry/projection.js\";import{create as k,center as z,fromRect as W,equals as M}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as N}from\"../../../../geometry/support/aaBoundingRect.js\";import{equals as B}from\"../../../../geometry/support/spatialReferenceUtils.js\";import H from\"../../../../layers/Layer.js\";import{getObjectId as q,computeAABB as Y,hasGeometry as $}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{hydrateGraphic as Z}from\"../../../../layers/graphics/hydratedFeatures.js\";import{isSupportedRenderer3D as J,validateTo3D as Q}from\"../../../../renderers/support/rendererConversion.js\";import{loadArcade as K}from\"../../../../support/arcadeOnDemand.js\";import{getDefaultSymbol3D as X}from\"../../../../symbols/support/defaults3D.js\";import{to3D as ee}from\"../../../../symbols/support/symbolConversion.js\";import{ViewElevationProvider as ie}from\"./ElevationQuery.js\";import{VisibilityFlag as te,VisibilityGroup as re}from\"./enums.js\";import{extractExpressionInfo as se,createContext as ae}from\"./featureExpressionInfoUtils.js\";import{Graphics3DFeatureStore as ne}from\"./Graphics3DFeatureStore.js\";import oe from\"./Graphics3DGraphicCreationContext.js\";import{Graphics3DSymbolCreationContext as le}from\"./Graphics3DSymbolCreationContext.js\";import{make as he}from\"./Graphics3DSymbolFactory.js\";import de from\"./Graphics3DWebStyleSymbol.js\";import{GraphicStateTracking as ce}from\"./GraphicStateTracking.js\";import{computeCentroid as pe}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as ye}from\"./interfaces.js\";import{LoadStatus as me}from\"./Loadable.js\";import{SpatialIndex2D as ge}from\"./SpatialIndex2D.js\";import{averageSymbolComplexities as ue,defaultSymbolComplexity as be}from\"./symbolComplexity.js\";import{StageLayerElevationProvider as _e}from\"../support/StageLayerElevationProvider.js\";import{toBoundingRect as fe}from\"../../support/extentUtils.js\";import{PropertiesPool as ve}from\"../../support/PropertiesPool.js\";import{UpdatePolicy as Se}from\"../../webgl-engine/lib/basicInterfaces.js\";import{GridLocalOriginFactory as Ce}from\"../../webgl-engine/lib/GridLocalOriginFactory.js\";import{WebGLLayer as we}from\"../../webgl-engine/lib/WebGLLayer.js\";import{ImmediateTask as Ge,noBudget as xe,TaskPriority as Re}from\"../../../support/Scheduler.js\";import Pe from\"../../../../geometry/Extent.js\";import De from\"../../../../geometry/Point.js\";import Ie from\"../../../../symbols/LabelSymbol3D.js\";import Ee from\"../../../../symbols/TextSymbol.js\";import Ae from\"../../../../symbols/WebStyleSymbol.js\";var Ue;const Oe=j(),je=k(),Le=\"esri.views.3d.layers.graphics.Graphics3DCore\",Ve=n.getLogger(Le);let Fe=Ue=class extends t{constructor(e){super(e),this._propertiesPool=new ve({computedExtent:Pe},this),this.computedExtent=null,this.currentRenderer=null,this.rendererHasGeometryOperations=!1,this._graphicStateTracking=null,this.symbolCreationContext=new le(((e,i)=>this._frameTask.schedule(e,i))),this.graphics3DGraphics=new Map,this.stageLayer=null,this.stage=null,this._graphicsDrapedUids=new Set,this._graphicsBySymbol=new Map,this._symbolConversionCache=new Map,this._symbols=new Map,this._graphicsWithoutSymbol=new Map,this._graphicsWaitingForSymbol=new Map,this._graphicsUpdateId=0,this._handles=new s,this._frameTask=Ge,this._suspendSymbolCleanup=!1,this._viewSpatialReference=null,this._arcadeOnDemand=null,this._rendererChangeAbortController=null,this._elevationInfoChangeAbortController=null,this._initializeAbortController=null,this._scaleVisibility=null,this._filterVisibility=null,this._spatialIndex=null,this.extentPadding=0,this._updatingPendingLoadedGraphicsChange=null,this._featureStore=null,this._deconflictor=null,this._labeler=null,this._objectStates=null,this._viewElevationProvider=null,this._stageLayerElevationProvider=null,this._sharedSymbolResourcesOwnerHandle=null,this._whenGraphics3DGraphicRequests={},this._pendingUpdates=new Map,this._numberOfGraphics=0,this._numberOfGraphicsProvidingElevation=0,this._pendingAdds=0,this._pendingRemoves=0,this._loadingSymbols=0,this._pendingUpdatesPool=new u({allocator:e=>e||new ke,deallocator:e=>(e.clear(),e)}),this._symbolWarningLogged=!1,this._geometryWarningLogged=!1,this._objectIdInvisibleSet=new Set,this._whenSymbolRemoved=new u,this.preferredUpdatePolicy=Se.SYNC,this.forcedUpdatePolicy=null,this.elevationFeatureExpressionEnabled=!0,this.owner=null,this.layer=null,this.graphicSymbolSupported=!0,this.getRenderingInfoWithoutRenderer=!1,this.setUidToIdOnAdd=!0,this.hasZ=null,this.hasM=null,this._usedMemory=0,this._visible=void 0,this._startCreateGraphics=!1}get spatialIndex(){return this._spatialIndex||(this._spatialIndex=new ge({objectIdField:this.owner.layer?.objectIdField,spatialReference:this._viewSpatialReference,hasZ:this.hasZ,hasM:this.hasM}),this._spatialIndex.setup(Array.from(this.graphics3DGraphics.values()))),this._spatialIndex.update(),this._spatialIndex}get numberOfGraphics(){return this._numberOfGraphics}get effectiveUpdatePolicy(){return h(this.currentRenderer)&&\"dictionary\"===this.currentRenderer.type?Se.ASYNC:d(this.forcedUpdatePolicy,this.preferredUpdatePolicy)}get featureStore(){return this._featureStore}get initializePromise(){return this._initializePromise}get scaleVisibility(){return this._scaleVisibility}get elevationAlignment(){return this._elevationAlignment}get objectStates(){return this._objectStates}get filterVisibility(){return this._filterVisibility}get updating(){return!!(this._graphicsWaitingForSymbol.size>0||this.running||this._elevationAlignment?.updating||h(this._scaleVisibility)&&this._scaleVisibility.updating||h(this._filterVisibility)&&this._filterVisibility.updating||this._rendererChangeAbortController||this._elevationInfoChangeAbortController||this._updatingPendingLoadedGraphicsChange||this._frameTask.updating||this._loadingSymbols>0)}get running(){return this._pendingUpdates.size>0||!!this._spatialIndex?.updating}get suspendedOrOutsideOfView(){return this.owner.suspended||this.owner.suspendInfo?.outsideOfView}get updatingRemaining(){return this.updating?this._pendingUpdates.size+.1*(this._spatialIndex?.updatingRemaining||0)+.1*(this._elevationAlignment?.updatingRemaining||0):0}get displayFeatureLimit(){const e=this.owner&&this.owner.view&&this.owner.view.qualitySettings,i=e?e.graphics3D.minTotalNumberOfFeatures:0,t=e?e.graphics3D.maxTotalNumberOfFeatures:0,r=e?e.graphics3D.maxTotalNumberOfPrimitives:0,s=this.averageSymbolComplexity,a=Math.max(1,h(s)?s.primitivesPerFeature:1),n=h(s)&&s.drawCallsPerFeature>0?t/s.drawCallsPerFeature*.3:t,o=Math.ceil(r/a),l=Math.max(i,Math.min(t,o,n)),d=this._get(\"displayFeatureLimit\");return d&&d.minimumTotalNumberOfFeatures===i&&d.maximumTotalNumberOfFeatures===t&&d.maximumTotalNumberOfPrimitives===r&&d.averageSymbolComplexity===s&&d.maximumNumberOfFeatures===l?d:{minimumTotalNumberOfFeatures:i,maximumTotalNumberOfFeatures:t,maximumTotalNumberOfPrimitives:r,averageSymbolComplexity:s,maximumNumberOfFeatures:l}}get averageSymbolComplexity(){const e=ue(this._symbolComplexities),i=this._get(\"averageSymbolComplexity\");return 0===e.numComplexities||h(i)&&(e.estimated&&(i.primitivesPerFeature>=e.primitivesPerFeature||i.primitivesPerCoordinate>=e.primitivesPerCoordinate||i.drawCallsPerFeature>=e.drawCallsPerFeature)||i.primitivesPerFeature===e.primitivesPerFeature&&i.primitivesPerCoordinate===e.primitivesPerCoordinate&&i.drawCallsPerFeature===e.drawCallsPerFeature)?i:e}get usedMemory(){const e=h(this.averageSymbolComplexity)&&this.labelsEnabled?this.averageSymbolComplexity.memory.bytesPerFeatureLabel*this._numberOfGraphics:0,i=this._getSymbolComplexitiesUsed().reduce(((e,i)=>e+i.memory.resourceBytes),0);return this._usedMemory+e+i}get usedMemoryPerGraphic(){if(this._usedMemory&&this._numberOfGraphics)return(this._pendingAdds+this._pendingRemoves)/this._numberOfGraphics>20?0:this._usedMemory/this._numberOfGraphics;if(h(this.averageSymbolComplexity)){const e=this.labelsEnabled?this.averageSymbolComplexity.memory.bytesPerFeatureLabel:0;return this.averageSymbolComplexity.memory.bytesPerFeature+e}return 0}get unprocessedMemoryEstimate(){return Math.max(0,(this._pendingAdds-this._pendingRemoves)*this.usedMemoryPerGraphic)}get _symbolComplexities(){return this.currentRenderer?this._getSymbolComplexitiesUsedOrRenderer(this.currentRenderer):this._getSymbolComplexitiesUsed()}_getConvertedSymbol(e){if(\"web-style\"===e.type)return e.clone();const i=this._symbolConversionCache.get(e.id);if(h(i))return i;const t=ee(e,{geometryType:this.layer?.geometryType,retainId:!0,hasLabelingContext:this._hasLabelingContext(e)}),r=t.symbol||null;return c(r)&&t.error&&Ve.error(t.error.message),this._symbolConversionCache.set(e.id,r),r}_getSymbolComplexitiesUsedOrRenderer(e){if(c(e))return[];const i=e.getSymbols(),t=\"backgroundFillSymbol\"in e&&e.backgroundFillSymbol;if(!(t||i&&i.length))return[];const r=[],s=this._getSymbolComplexityUsedOrRenderer(t);h(s)&&r.push(s);for(const a of i){const e=this._getSymbolComplexityUsedOrRenderer(a);h(e)&&r.push(e)}return r}_getSymbolComplexityUsedOrRenderer(e){if(c(e))return null;const i=this._symbols.get(e.id);if(h(i))return i.complexity;const t=this._getConvertedSymbol(e);return h(t)?be(t):null}_getSymbolComplexitiesUsed(){const e=[];return this._symbols.forEach((i=>{h(i)&&e.push(i.complexity)})),e}get _objectIdField(){return this.layer.objectIdField}initialize(){this._viewSpatialReference=this.owner.view.spatialReference,this._featureStore=new ne({objectIdField:this.owner.layer&&this.owner.layer.objectIdField,hasZ:this.hasZ,hasM:this.hasM,viewSpatialReference:this._viewSpatialReference,featureSpatialReference:this.owner.featureSpatialReference,getSpatialIndex:()=>this.spatialIndex,forEach:e=>this.graphics3DGraphics.forEach(e),toArray:()=>Array.from(this.graphics3DGraphics.values())});const e=(e,i,t)=>this.spatialIndex.queryGraphicUIDsInExtent(e,i,t),{componentFactories:i}=this;if(h(i.elevationAlignment)){const t=i.elevationAlignment(this,e);this._elevationAlignment=t}if(h(i.scaleVisibility)){const t=i.scaleVisibility(this,e);this._scaleVisibility=t}if(h(i.filterVisibility)){const e=i.filterVisibility({featureStore:this._featureStore,getFeatureCount:()=>this.graphics3DGraphics.size,updateFeatureVisibilities:e=>this.modifyGraphics3DGraphicVisibilities((i=>i.setVisibilityFlag(te.FILTER,e(q(i.graphic,this._objectIdField)),re.GRAPHIC))),setAllFeaturesVisibility:e=>this.modifyGraphics3DGraphicVisibilities((i=>i.setVisibilityFlag(te.FILTER,e,re.GRAPHIC))),clearFeaturesVisibility:()=>this.modifyGraphics3DGraphicVisibilities((e=>e.clearVisibilityFlag(te.FILTER)))});this._filterVisibility=e}if(h(i.deconflictor)){const e=i.deconflictor(this);this._deconflictor=e}if(h(i.labeler)&&h(this._scaleVisibility)){const e=i.labeler(this,this._scaleVisibility);this._labeler=e}if(h(i.objectStates)){const e=i.objectStates(this);this._objectStates=e}this._initializeAbortController=new AbortController,this._initializePromise=this._initializeAsync()}async _initializeAsync(){const e=this._initializeAbortController.signal,i=this.owner.view;this._viewElevationProvider=new ie(this._viewSpatialReference,i),this._initializeStage(i,this.layer.uid),this.symbolCreationContext.sharedResources=i.sharedSymbolResources,this._sharedSymbolResourcesOwnerHandle=i.sharedSymbolResources.addGraphicsOwner(this.owner),h(this.currentRenderer)&&(this.symbolCreationContext.renderer=this.currentRenderer),this.symbolCreationContext.stage=this.stage,this.symbolCreationContext.streamDataRequester=i.sharedSymbolResources.streamDataRequester,this.symbolCreationContext.renderCoordsHelper=i.renderCoordsHelper,this.symbolCreationContext.layer=this.layer,this.symbolCreationContext.graphicsCoreOwner=this.owner,this.symbolCreationContext.localOriginFactory=new Ce(i.renderSpatialReference),this.symbolCreationContext.elevationProvider=i.elevationProvider,this.symbolCreationContext.notifyGraphicGeometryChanged=e=>this.notifyGraphicGeometryChanged(e),this.symbolCreationContext.notifyGraphicVisibilityChanged=e=>this.notifyGraphicVisibilityChanged(e);const t=se(this.layer.elevationInfo,this.elevationFeatureExpressionEnabled);if(this.symbolCreationContext.featureExpressionInfoContext=await ae(t,this._viewSpatialReference,e,Ve),b(e),this.symbolCreationContext.screenSizePerspectiveEnabled=i.screenSizePerspectiveEnabled&&this.layer.screenSizePerspectiveEnabled,this.symbolCreationContext.slicePlaneEnabled=!!this.owner.slicePlaneEnabled,this.symbolCreationContext.physicalBasedRenderingEnabled=!!this.owner.view.qualitySettings?.physicallyBasedRenderingEnabled,this.symbolCreationContext.skipHighSymbolLods=!!this.owner.view.qualitySettings?.graphics3D?.skipHighSymbolLods,\"drapeSourceType\"in this.owner){const{owner:e}=this;this.symbolCreationContext.drapeSourceRenderer=i.basemapTerrain.overlayManager.registerGeometryDrapeSource(e),this._handles.add(a((()=>i.basemapTerrain.overlayManager.unregisterDrapeSource(e))))}this._handles.add([S((()=>this.suspendedOrOutsideOfView),(()=>this._frameTask.reschedule((()=>this._updateLayerVisibility())))),S((()=>[this.layer?.screenSizePerspectiveEnabled,this.owner.view.screenSizePerspectiveEnabled]),(()=>{const e=i.screenSizePerspectiveEnabled&&this.layer.screenSizePerspectiveEnabled;e!==this.symbolCreationContext.screenSizePerspectiveEnabled&&(this.symbolCreationContext.screenSizePerspectiveEnabled=e,this._labeler?.reset(),this.recreateAllGraphicsAndSymbols())})),S((()=>this.owner.slicePlaneEnabled),(e=>this._slicePlaneEnabledChange(!!e))),S((()=>this.owner.view.state?.pixelRatio),(()=>this._pixelRatioChange())),S((()=>!!this.owner.view.qualitySettings?.physicallyBasedRenderingEnabled),(e=>this._physicalBasedRenderingChange(e))),S((()=>!!this.owner.view.qualitySettings?.graphics3D?.skipHighSymbolLods),(e=>this._skipHighSymbolLoDsChange(e))),C((()=>i.basemapTerrain?.tilingScheme),(e=>{if(!e.spatialReference.equals(this.symbolCreationContext.overlaySR)&&h(i.basemapTerrain.spatialReference)&&(this.symbolCreationContext.overlaySR=i.basemapTerrain.spatialReference),this._handles.has(\"loaded-graphics\"))this.recreateAllGraphics();else{const e=()=>this.owner?.loadedGraphics;this._handles.add([w(e,\"change\",(e=>{this._graphicsCollectionChanged(e),this._signalUpdatingDuringAsyncLoadedGraphicsChange()}),{onListenerAdd:()=>{this.recreateAllGraphics(),this._signalUpdatingDuringAsyncLoadedGraphicsChange()}})],\"loaded-graphics\")}}),{initial:!0}),S((()=>this.effectiveUpdatePolicy),(e=>{h(this.stageLayer)&&(this.stageLayer.updatePolicy=e),this.symbolCreationContext.isAsync=this.effectiveUpdatePolicy===Se.ASYNC,e===Se.SYNC&&this.runTask(xe)}),G)]),this._frameTask=i.resourceController.scheduler.registerTask(Re.GRAPHICS_CORE,this),this.layer&&\"featureReduction\"in this.layer&&this._handles.add(S((()=>this.layer.featureReduction),(()=>this._deconflictor.featureReductionChange()))),this.notifyChange(\"averageSymbolComplexity\"),this.rendererChange(this.owner.renderer).catch((()=>{})),this._initializeAbortController=null}_abortInitialize(){this._initializeAbortController&&(this._initializeAbortController.abort(),this._initializeAbortController=null)}destroy(){this._abortInitialize(),this._abortRendererChange(),this._abortElevationInfoChange(),this.owner.view.deconflictor.removeGraphicsOwner(this),this.owner.view.labeler.removeGraphicsOwner(this),this._elevationAlignment=p(this._elevationAlignment),this._scaleVisibility=p(this._scaleVisibility),this._filterVisibility=p(this._filterVisibility),this._deconflictor=null,this._labeler=null,this._objectStates=p(this._objectStates),this.clear(),this._featureStore=p(this._featureStore),this._updatingPendingLoadedGraphicsChange=y(this._updatingPendingLoadedGraphicsChange),this._graphicStateTracking=p(this._graphicStateTracking),this.stage&&(this.stage.remove(this.stageLayer),this.stageLayer=null,this.stage=null),this._handles=p(this._handles),this._frameTask.remove(),this._frameTask=Ge,this._viewSpatialReference=null,this._set(\"owner\",null);for(const e in this._whenGraphics3DGraphicRequests)this._whenGraphics3DGraphicRequests[e].reject(new r(\"graphic:layer-destroyed\",\"Layer has been destroyed\"));this._whenGraphics3DGraphicRequests=null,this._sharedSymbolResourcesOwnerHandle=y(this._sharedSymbolResourcesOwnerHandle),this._propertiesPool=p(this._propertiesPool),this._pendingUpdatesPool=null,this._symbolConversionCache.clear(),this._objectIdInvisibleSet.clear(),this._spatialIndex=p(this._spatialIndex)}clear(){this._objectStates?.allGraphicsDeleted(),h(this._graphicStateTracking)&&this._graphicStateTracking.allGraphicsDeleted(),this.graphics3DGraphics.forEach((e=>e.destroy())),this._spatialIndex?.clear(),this.graphics3DGraphics.clear(),this._numberOfGraphics=0,this._usedMemory=0,this._updateLayerVisibility(),this._symbols.forEach(p),this._symbols.clear(),this._graphicsBySymbol.clear(),this._graphicsWithoutSymbol.clear(),this._graphicsWaitingForSymbol.clear(),this._pendingUpdates.clear(),this._pendingUpdatesPool.clear(),this._pendingAdds=0,this._pendingRemoves=0,this.notifyChange(\"updating\"),this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\"),this._featureStore.events.emit(\"changed\")}_initializeStage(e,i){this.stage=e._stage,this.stageLayer=new we({isPickable:!this.suspendedOrOutsideOfView,updatePolicy:this.effectiveUpdatePolicy},i),this.stage.add(this.stageLayer);const t=this.stageLayer.events;t.on(\"objectTransformation\",(e=>this.notifyGraphicGeometryChanged(e.metadata.graphicUid))),t.on(\"visibilityChanged\",(e=>this.notifyGraphicVisibilityChanged(e.metadata.graphicUid))),t.on(\"objectGeometryAdded\",(e=>this.notifyGraphicGeometryChanged(e.object.metadata.graphicUid))),t.on(\"objectGeometryRemoved\",(e=>this.notifyGraphicGeometryChanged(e.object.metadata.graphicUid))),t.on(\"vertexAttrsUpdated\",(e=>this.notifyGraphicGeometryChanged(e.object.metadata.graphicUid)))}notifyGraphicGeometryChanged(e){if(c(this._graphicStateTracking)||c(e))return;const i=this.graphics3DGraphics.get(e);i&&this._graphicStateTracking.updateGraphicGeometry(i)}notifyGraphicVisibilityChanged(e){if(c(this._graphicStateTracking)||c(e))return;const i=this.graphics3DGraphics.get(e);i&&this._graphicStateTracking.updateGraphicVisibility(i)}_updateLayerVisibility(){const e=this.displayFeatureLimit.maximumNumberOfFeatures,i=this._numberOfGraphics>e*ze,t=!this.suspendedOrOutsideOfView&&!i;t!==this._visible&&(this._visible=t,t?(this.stageLayer.isPickable=!0,this.updateAllGraphicsVisibility()):(this.stageLayer.isPickable=!1,this._hideAllGraphics()),this._updateStageLayerVisibility())}_updateStageLayerVisibility(){this.stageLayer.isVisible=this._visible&&(null==this.layer.opacity||this.layer.opacity>0)}getGraphics3DGraphicById(e){return this.graphics3DGraphics.get(e)}getGraphics3DGraphicByObjectId(e){return this.owner.layer?.objectIdField?this._findGraphics3DGraphicByObjectId(e):null}_getGraphicObjectID(e,i=this.owner.layer&&this.owner.layer.objectIdField){return q(e,i)}get graphics3DGraphicsByObjectID(){const e=this.owner.layer&&this.owner.layer.objectIdField;if(!e)return null;const i=new Map;return this.graphics3DGraphics.forEach((t=>{if(!t)return;const r=t.graphic,s=this._getGraphicObjectID(r,e);h(s)&&i.set(s,t)})),i}get labelsEnabled(){return!(!this._labeler||!this._labeler.layerLabelsEnabled())}async updateLabelingInfo(e){const i=this._deconflictor&&this._deconflictor.labelingInfoChange(e),t=this._labeler&&this._labeler.labelingInfoChange(e);await _([i,t])}updateVisibilityInfo(){this._deconflictor&&this._deconflictor.labelingInfoChange(),this._labeler&&this._labeler.visibilityInfoChange()}get symbolUpdateType(){if(this._pendingUpdates.size>0)return\"unknown\";let e=0,i=0;return o(this._symbols,((t,r)=>{if(h(t)){const s=t.getFastUpdateStatus();if(s.loading>0)return!0;this._graphicsBySymbol.has(r)&&(i+=s.fast,e+=s.slow)}return!1}))?\"unknown\":i>=0&&0===e?\"fast\":e>=0&&0===i?\"slow\":\"mixed\"}runTask(e){this._frameTask.processQueue(e),this._applyPendingUpdates(e),this.notifyChange(\"running\"),this.running||this.notifyChange(\"updating\"),this.notifyChange(\"updatingRemaining\")}setObjectIdVisibility(e,i){i?this._objectIdInvisibleSet.delete(e):this._objectIdInvisibleSet.add(e);const t=this._findGraphics3DGraphicByObjectId(e);h(t)&&this._updateUserVisibility(t)}_findGraphics3DGraphicByObjectId(e){return l(this.graphics3DGraphics,(i=>this._getGraphicObjectID(i.graphic)===e))}_updateUserVisibility(e){if(c(e))return!1;const i=e.graphic,t=this._getGraphicObjectID(i),r=i.visible&&!this.owner.suspended&&(c(t)||!this._objectIdInvisibleSet.has(t));return e.setVisibilityFlag(te.USER_SETTING,r,re.GRAPHIC)}_whenGraphics3DGraphic(e){const i=this.graphics3DGraphics.get(e.uid);if(i)return Promise.resolve(i);const t=this._whenGraphics3DGraphicRequests[e.uid];if(t)return t.promise;const r=f();return this._whenGraphics3DGraphicRequests[e.uid]=r,r.promise}async _boundsForGraphics3DGraphic(e,i){const t=this._viewSpatialReference,r=this.owner.view.renderSpatialReference,s=this.owner.view.basemapTerrain.spatialReference,a=(e,i,s)=>T(e,r,i,e,t,i,s),n=(e,i,r)=>T(e,s,i,e,t,i,r),o=this._viewElevationProvider?{service:this._viewElevationProvider,useViewElevation:h(i)&&i.useViewElevation,minDemResolution:h(i)&&i.minDemResolution,minDemResolutionForPoints:this.owner.view.resolution}:null,l=await e.getProjectedBoundingBox(a,n,o,m(i,\"signal\"));if(!l)return null;const c=l.boundingBox;if(l.requiresDrapedElevation){const e=this.symbolCreationContext.elevationProvider;if(e){z(c,Oe);const i=d(e.getElevation(Oe[0],Oe[1],0,t,\"ground\"),0);c[2]=Math.min(c[2],i),c[5]=Math.max(c[5],i)}}return{boundingBox:c,screenSpaceObjects:l.screenSpaceObjects}}async whenGraphicBounds(e,i){await x((()=>this.owner?.loadedGraphics));const t=this.owner.layer&&this.owner.layer.objectIdField,s=this.owner.loadedGraphics.find((i=>i===e||t&&i.attributes&&e.attributes&&i.attributes[t]===e.attributes[t]));if(!s)throw new r(\"internal:graphic-not-part-of-view\",\"Graphic is not part of this view\");const a=await this._whenGraphics3DGraphic(s);return this._boundsForGraphics3DGraphic(a,i)}computeAttachmentOrigin(e,i){const t=this.graphics3DGraphics.get(e.uid);if(!t)return null;const r=t.computeAttachmentOrigin();if(0===r.render.num&&0===r.draped.num)return null;A(We,0,0,0);let s=0;if(r.render.num>0){if(!L(r.render.origin,this.symbolCreationContext.renderCoordsHelper.spatialReference,Me,i))return null;U(We,We,Me),s++}if(r.draped.num>0){const[e,t]=r.draped.origin,a=d(this._viewElevationProvider.getElevation(e,t,\"ground\"),0);if(A(Me,e,t,a),!L(Me,this._viewElevationProvider.spatialReference,Me,i))return null;U(We,We,Me),s++}return s>1&&O(We,We,1/s),new De({x:We[0],y:We[1],z:We[2],spatialReference:i})}getSymbolLayerSize(e,i){const t=this._symbols.get(e.id);if(c(t))throw new r(\"internal:symbol-not-part-of-view\",\"Symbol is not part of this view\");const s=e.symbolLayers.indexOf(i);if(-1===s)throw new r(\"internal:missing-symbol-layer\",\"Symbol layer is not in symbol\");const a=t.getSymbolLayerSize(s);if(null==a)throw new r(\"internal:missing-size\",\"Symbol layer has no valid size\");return a}_graphicsCollectionChanged(e){this._startCreateGraphics&&(this.add(e.added),this.remove(e.removed))}graphicUpdateHandler(e){const i=e.graphic.uid,t=this.graphics3DGraphics.get(i);if(!c(t)||!c(this._graphicsWithoutSymbol.get(i)))switch(e.property){case\"visible\":this._graphicUpdateVisibleHandler(t);break;case\"geometry\":this._graphicUpdateGeometryHandler(t,e);break;case\"symbol\":this._graphicUpdateSymbolHandler(t,e);break;case\"attributes\":break;case\"transform\":this._graphicUpdateTransformHandler(t,e)}}_graphicUpdateGeometryHandler(e,i){const t=i.graphic.geometry;if(c(t))return void this._recreateGraphic(i.graphic);if(c(e)){const e=i.graphic.symbol&&i.graphic.symbol.id;if(e){const i=this._symbols.get(e);if(h(i)&&i.loadStatus===me.LOADING)return}return void this._recreateGraphic(i.graphic)}const r=e.graphics3DSymbol;!c(i.newValue)&&r.updateGeometry(e,i.newValue)||this._recreateGraphic(e.graphic),this._expandComputedExtent(t)}_graphicUpdateSymbolHandler(e,i){const t=i.graphic,r=h(e)?e.graphics3DSymbol:h(i.oldValue)?this._symbols.get(i.oldValue.id):null;if(c(r)||c(i.newValue))return void this._recreateGraphic(t);const s=r.symbol,a=this._getConvertedSymbol(i.newValue);if(h(a)&&(a.type!==s.type||\"web-style\"===a.type)||\"web-style\"===s.type)return void this._recreateGraphic(t);const n=this._graphicsBySymbol.get(s.id);if(n&&1!==n.size)return void this._recreateGraphic(t);const o=I(s,a);if(c(o))return void this._updateSymbolMapping(s.id,a);const l={diff:o,graphics3DGraphicPatches:[],symbolStatePatches:[]};if(r.prepareSymbolPatch(l),!E(l.diff))return void this._recreateGraphic(t);const d=this._getRenderingInfo(t);if(c(d))return void this._recreateGraphic(t);const p=r.extentPadding;for(const h of l.symbolStatePatches)h();if(p!==r.extentPadding&&this._recomputeExtentPadding(),h(e))for(const h of l.graphics3DGraphicPatches)h(e,d);this._updateSymbolMapping(s.id,a)}_graphicUpdateVisibleHandler(e){this._updateUserVisibility(e)&&(this._labeler&&this.owner.view.labeler.setDirty(),this.owner.view.deconflictor.setDirty())}_graphicUpdateTransformHandler(e,i){}recreateGraphics(e){this._suspendSymbolCleanup=!0,this.remove(e),this.add(e),this._suspendSymbolCleanup=!1,this.effectiveUpdatePolicy===Se.SYNC&&this._cleanupSymbols()}_recreateGraphic(e){this.recreateGraphics([e])}_beginGraphicUpdate(e){const i=this._graphicsUpdateId;return this._graphicsUpdateId++,this._graphicsWaitingForSymbol.set(e.uid,i),1===this._graphicsWaitingForSymbol.size&&this.notifyChange(\"updating\"),i}_endGraphicUpdate(e){e&&(this._graphicsWaitingForSymbol.delete(e.uid),0===this._graphicsWaitingForSymbol.size&&(this._cleanupSymbols(),this.notifyChange(\"updating\")))}_recomputeExtentPadding(){let e=0;this._symbols.forEach((i=>{h(i)&&(e=Math.max(e,i.extentPadding))})),this._set(\"extentPadding\",e)}_expandComputedExtent(e){const i=je,t=e.spatialReference;Y(e,i);const r=this._viewSpatialReference,s=Ue.tmpVec;if(B(t,r)||V(i[0],i[1],0,t,s,r)&&(i[0]=s[0],i[1]=s[1],V(i[3],i[4],0,t,s,r),i[3]=s[0],i[4]=s[1]),!(isFinite(i[0])&&isFinite(i[3])&&isFinite(i[1])&&isFinite(i[4])))return;const a=this.computedExtent;let n=null;const o=isFinite(i[2])&&isFinite(i[5]),l=o&&(!a||null==a.zmin||i[2]<a.zmin),h=o&&(!a||null==a.zmax||i[5]>a.zmax);if(a){(i[0]<a.xmin||i[1]<a.ymin||i[3]>a.xmax||i[4]>a.ymax||l||h)&&(n=this._propertiesPool.get(\"computedExtent\"),n.xmin=Math.min(i[0],a.xmin),n.ymin=Math.min(i[1],a.ymin),n.xmax=Math.max(i[3],a.xmax),n.ymax=Math.max(i[4],a.ymax),n.spatialReference=r)}else n=this._propertiesPool.get(\"computedExtent\"),n.xmin=i[0],n.ymin=i[1],n.xmax=i[3],n.ymax=i[4],n.spatialReference=r;n&&(l&&(n.zmin=i[2]),h&&(n.zmax=i[5]),this._set(\"computedExtent\",n))}_abortElevationInfoChange(){this._elevationInfoChangeAbortController&&(this._elevationInfoChangeAbortController.abort(),this._elevationInfoChangeAbortController=null)}async elevationInfoChange(){this._abortElevationInfoChange();const e=new AbortController;this._elevationInfoChangeAbortController=e;const i=se(this.layer.elevationInfo,this.elevationFeatureExpressionEnabled);this.symbolCreationContext.featureExpressionInfoContext=await ae(i,this._viewSpatialReference,e.signal,Ve),b(e.signal),this._elevationInfoChangeAbortController=null,this._labeler?.elevationInfoChange(),this.forEachGraphics3DSymbol(((e,i,t)=>{e.globalPropertyChanged(\"elevationInfo\",i)?i.forEach((e=>{const i=e.graphic,t=e.labelGraphics;for(const r of t){r.graphics3DSymbolLayer.updateGraphicElevationContext(i,r)}})):this._recreateSymbol(t)})),this.updateStageLayerElevationProvider(),this._elevationAlignment?.elevationInfoChange()}updateStageLayerElevationProvider(){this._stageLayerElevationProvider?(this.layer.elevationInfo&&\"relative-to-scene\"===this.layer.elevationInfo.mode||0===this._numberOfGraphicsProvidingElevation)&&(this.owner.view.elevationProvider.unregister(this._stageLayerElevationProvider),this._stageLayerElevationProvider.dispose(),this._stageLayerElevationProvider=null):(!this.layer.elevationInfo||this.layer.elevationInfo&&\"relative-to-scene\"!==this.layer.elevationInfo.mode)&&this._numberOfGraphicsProvidingElevation>0&&(this._stageLayerElevationProvider=new _e({layer:this.layer,stageLayer:this.stageLayer,view:this.owner.view}),this.owner.view.elevationProvider.register(\"scene\",this._stageLayerElevationProvider))}_clearSymbolsAndGraphics(){this.clear(),h(this._filterVisibility)&&this._filterVisibility.clear(),this._labeler?.reset(),this._deconflictor?.clear(),this._elevationAlignment?.clear(),this.stageLayer?.invalidateSpatialQueryAccelerator(),this._stageLayerElevationProvider&&(this.owner.view.elevationProvider.unregister(this._stageLayerElevationProvider),this._stageLayerElevationProvider.dispose(),this._stageLayerElevationProvider=null)}startCreateGraphics(){this._startCreateGraphics=!0,this.recreateAllGraphics()}recreateAllGraphics(){this._recreateAllGraphics(!1)}recreateAllGraphicsAndSymbols(){this._recreateAllGraphics(!0)}_recreateAllGraphics(e=!1){if(!this._startCreateGraphics)return;const{loadedGraphics:i,view:t}=this.owner,r=t.basemapTerrain.tilingScheme&&i&&i.length?i.toArray():null;!e&&r||this._clearSymbolsAndGraphics(),this.symbolCreationContext.screenSizePerspectiveEnabled=this.owner.view.screenSizePerspectiveEnabled&&this.layer.screenSizePerspectiveEnabled,this.symbolCreationContext.slicePlaneEnabled=!!this.owner.slicePlaneEnabled,this._set(\"computedExtent\",null),r&&(e?this.add(r):this.recreateGraphics(r))}_recreateSymbol(e){const i=this._graphicsBySymbol.get(e),t=[];i&&(i.forEach(((e,i)=>{const r=e.usedMemory;this._conditionalRemove(e,i),this._spatialIndex?.remove(e),t.push(e.graphic),e.destroy(),this._removeGraphics3DGraphic(i,r),this._updateLayerVisibility(),this._featureStore.events.emit(\"changed\")})),this._graphicsBySymbol.set(e,new Map));const r=this._symbols.get(e);p(r),this._symbols.delete(e),this.add(t)}_recreateGraphicsForSymbol(e){const i=this._graphicsBySymbol.get(e);if(i){const e=[];i.forEach((i=>e.push(i.graphic))),this.recreateGraphics(e)}}_conditionalRemove(e,i){this._graphicsDrapedUids.delete(i),this._objectStates?.removeGraphic(e),this._labeler?.removeGraphic(e),this._deconflictor?.removeGraphic(e),h(this._graphicStateTracking)&&this._graphicStateTracking.removeGraphic(e)}add(e){e&&0!==e.length&&(this.owner.view.basemapTerrain&&this.owner.view.basemapTerrain.tilingScheme?(this._updatePolicyForGraphics(e)===Se.ASYNC?this._addDelayed(e):this._addImmediate(e),this.notifyChange(\"updating\")):Ve.error(\"#add()\",\"Cannot add graphics before terrain surface has been initialized\"))}_updatePolicyForGraphics(e){if(this.effectiveUpdatePolicy===Se.SYNC&&(\"mesh\"===this.layer.geometryType||null==this.layer.geometryType))for(const i of e)if(h(i.geometry)&&\"mesh\"===i.geometry.type&&!i.geometry.loaded)return Se.ASYNC;return this.effectiveUpdatePolicy}_addImmediate(e){this._geometryWarningLogged=!1,this._symbolWarningLogged=!1;for(const i of e)this._addGraphic(i,this._getRenderingInfo(i,Ve),Se.SYNC);this._cleanupSymbols(),this._labeler&&(this.owner.view.labeler.setDirty(),this._cleanupSymbols()),this.owner.view.deconflictor.setDirty()}_addDelayed(e){for(const i of e){const e=i.uid;let t=this._pendingUpdates.get(e);t?t.add?t.state!==Te.NEW&&t.abortController.abort():this._pendingAdds++:(t=this._pendingUpdatesPool.pushNew(),this._pendingAdds++,this._pendingUpdates.set(e,t)),t.add=i}this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\")}remove(e){this.effectiveUpdatePolicy===Se.ASYNC?this._removeDelayed(e):this._removeImmediate(e),this.notifyChange(\"updating\")}_removeImmediate(e){for(const i of e)this._removeGraphic(i);this._cleanupSymbols(),this._labeler&&this.owner.view.labeler.setDirty(),this.owner.view.deconflictor.setDirty()}_removeDelayed(e){for(const i of e){const e=i.uid,t=this._pendingUpdates.get(e);if(t)t.add&&(t.remove?t.add=null:this._pendingUpdates.delete(e),t.state===Te.LOADING&&t.abortController.abort(),this._pendingAdds--);else{const t=this._pendingUpdatesPool.pushNew();t.remove=i,this._pendingUpdates.set(e,t),this._pendingRemoves++}}0===this._pendingUpdates.size&&this._finishPendingUpdates(),this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\")}_finishPendingUpdates(){this._pendingUpdatesPool.clear(),this._cleanupSymbols(),(this._pendingAdds||this._pendingRemoves)&&Ve.warn(\"pendingAdds/Removes in inconsistent state!\"),this._pendingAdds=0,this._pendingRemoves=0}_applyPendingUpdates(e){if(this._geometryWarningLogged=!1,this._symbolWarningLogged=!1,0===this._pendingUpdates.size&&this._spatialIndex?.updating)this._spatialIndex.update();else{for(const[i,t]of this._pendingUpdates){if(e.done)break;t.add&&t.state===Te.NEW&&this._processPendingUpdateNew(t);let r=this.effectiveUpdatePolicy;if(!t.remove||t.add&&t.state!==Te.READY||(this._pendingRemoves--,e.madeProgress(),this._removeGraphic(t.remove),t.remove=null,r=Se.SYNC),t.add)switch(t.state){case Te.READY:this._addGraphic(t.add,t.renderingInfo,r),t.add=null,this._pendingAdds--,e.madeProgress();break;case Te.REJECTED:t.add=null,this._pendingAdds--;case Te.LOADING:}null==t.remove&&null==t.add&&this._pendingUpdates.delete(i)}0===this._pendingUpdates.size&&(this._finishPendingUpdates(),this.notifyChange(\"running\"))}}_processPendingUpdateNew(e){if(!e.add)return void(e.state=Te.READY);const i=e.add.geometry;h(i)&&\"mesh\"===i.type&&!i.loaded?this._processPendingUpdateNewMesh(e,i):this._processPendingUpdateNewRenderingInfo(e)}async _processPendingUpdateNewMesh(e,i){e.state=Te.LOADING,e.abortController=new AbortController;const t=e.abortController.signal;try{await i.load({signal:t})}catch(r){return this._processPendingUpdateNewError(e,r)}e.abortController=null,this._processPendingUpdateNewRenderingInfo(e)}_processPendingUpdateNewError(e,i){e.abortController=null,v(i)?e.state=Te.NEW:e.state=Te.REJECTED}async _processPendingUpdateNewRenderingInfo(e){if(c(this.layer.renderer)||\"dictionary\"!==this.layer.renderer.type)return e.renderingInfo=this._getRenderingInfo(e.add,Ve),void(e.state=Te.READY);e.state=Te.LOADING,e.abortController=new AbortController;let i=null;try{i=await this._getRenderingInfoAsync(e.add,{signal:e.abortController.signal})}catch(t){return e.abortController=null,void(v(t)?e.state=Te.NEW:e.state=Te.REJECTED)}c(i)||c(i.symbol)?(Ve&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,Ve.warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)),e.renderingInfo=null):e.renderingInfo=i,e.state=Te.READY}_addGraphic(e,i,t){if(this._graphicsWithoutSymbol.set(e.uid,e),c(i)||c(i.symbol)||!$(e))return;has(\"enable-feature:objectAndLayerId-rendering\")&&this.setUidToIdOnAdd&&this.stage.renderView._objectAndLayerIdRenderHelper.setUidToObjectAndLayerId(e.objectId,e.uid,this.layer.id,this.layer.uid,this.layer.popupEnabled);const r=i.symbol,s=this.getOrCreateGraphics3DSymbol(r,i.renderer);if(c(s))return;this._expandComputedExtent(e.geometry);const a=this._beginGraphicUpdate(e),n=new oe(e,i,this.layer);let o=!1;const l=e=>{e===s.symbol.id&&(o=!0)};this._whenSymbolRemoved.push(l);const d=()=>{if(--this._loadingSymbols,this.destroyed)return;this._whenSymbolRemoved.removeUnordered(l);if(this._graphicsWaitingForSymbol.get(e.uid)!==a||o||s.destroyed||this.graphicSymbolSupported&&e.symbol&&e.symbol.id!==s.symbol.id)--s.referenced,this._cleanupSymbols();else{const i=this._createGraphics3DGraphic(s,n);this._spatialIndex&&h(i)&&this._spatialIndex.add(i),--s.referenced,this._endGraphicUpdate(e)}this._featureStore.events.emit(\"changed\"),this._labeler&&this.owner.view.labeler.setDirty()},p=i=>{--this._loadingSymbols,this.destroyed||(this._whenSymbolRemoved.removeUnordered(l),o||(v(i)?this.add([e]):s.destroyed||this._endGraphicUpdate(e)))};++this._loadingSymbols,t===Se.ASYNC?s.load((()=>this._frameTask.schedule(d)),(e=>this._frameTask.schedule((()=>p(e))))):s.load(d,p)}_removeGraphic(e){const i=e.uid,t=this.graphics3DGraphics.get(i);if(t){t.graphics3DSymbol.onRemoveGraphic(t);const e=t.usedMemory,r=t.isElevationSource;this._conditionalRemove(t,i),this._spatialIndex?.remove(t);const s=t.graphics3DSymbol.symbol.id;this._graphicsBySymbol.get(s).delete(i),this._graphicsWithoutSymbol.delete(i),this._removeGraphics3DGraphic(i,e,r),t.destroy(),this._featureStore.events.emit(\"changed\")}else this._graphicsWithoutSymbol.delete(i),this._graphicsWaitingForSymbol.delete(i),0===this._graphicsWaitingForSymbol.size&&(this._cleanupSymbols(),this.notifyChange(\"updating\"))}_hasLabelingContext(e){if(e instanceof Ie||e instanceof Ee){const i=this.symbolCreationContext.layer;return!!i.labelingInfo&&i.labelingInfo.some((i=>i.symbol===e))}return!1}_hasValidSymbolCreationContext(e){return!(e instanceof Ie&&!this._hasLabelingContext(e))||(Ve.error(\"LabelSymbol3D is only valid as part of a LabelClass. Using LabelSymbol3D as a renderer symbol is not supported.\"),!1)}_getRenderingInfo(e,i){const t=e.geometry;if(c(t))return i&&!this._geometryWarningLogged&&(this._geometryWarningLogged=!0,i.warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)),null;if(!F(t.spatialReference,this._viewSpatialReference))return i&&!this._geometryWarningLogged&&(this._geometryWarningLogged=!0,i.warn(`Graphic in layer ${this.layer.id} has incompatible spatial reference and will not render`)),null;if(!this.graphicSymbolSupported&&h(e.symbol))return i&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,i.warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)),null;const r=this.rendererHasGeometryOperations?Z(e,this.layer):e;let s;if(this.owner.getRenderingInfo&&(this.getRenderingInfoWithoutRenderer||h(this.currentRenderer)))s=this.owner.getRenderingInfo(r,this.currentRenderer,this._arcadeOnDemand);else{s={symbol:r.symbol||X(r.geometry)}}return c(s)||c(s.symbol)?(i&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,i.warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)),null):s}_getRenderingInfoAsync(e,i){const t=e.geometry;if(c(t))return Ve&&!this._geometryWarningLogged&&(this._geometryWarningLogged=!0,Ve.warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)),null;if(!this.graphicSymbolSupported&&h(e.symbol))return Ve&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,Ve.warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)),null;const r=this.rendererHasGeometryOperations?Z(e,this.layer):e;return this.owner.getRenderingInfoAsync(r,this.currentRenderer,this._arcadeOnDemand,i)}_createGraphics3DSymbol(e,i){if(!this._hasValidSymbolCreationContext(e))return null;const t=this._getConvertedSymbol(e);if(!t)return null;let r;if(h(i)&&\"backgroundFillSymbol\"in i&&i.backgroundFillSymbol){const e=ee(i.backgroundFillSymbol,{ignoreDrivers:!0});h(e.symbol)&&\"web-style\"!==e.symbol.type&&\"cim\"!==e.symbol.type&&(r=e.symbol.symbolLayers)}const s=he(t,this.symbolCreationContext,r);return s.load((()=>{const e=s.extentPadding;e>this.extentPadding&&this._set(\"extentPadding\",e),this.notifyChange(\"averageSymbolComplexity\")}),(()=>{})),s}getOrCreateGraphics3DSymbol(e,i){let t=this._symbols.get(e.id);return void 0===t&&(t=e instanceof Ae?new de(e,(e=>this._frameTask.schedule(e)),(e=>this._createGraphics3DSymbol(e,i))):this._createGraphics3DSymbol(e,i),this._symbols.set(e.id,t)),h(t)&&++t.referenced,t}trackGraphicState(e){return c(this._graphicStateTracking)&&(this._graphicStateTracking=new ce(this)),this._graphicStateTracking.add(e)}_addGraphics3DGraphic(e){this._usedMemory+=e.usedMemory,this.graphics3DGraphics.set(e.graphic.uid,e),this._numberOfGraphics++,e.isElevationSource&&(this._numberOfGraphicsProvidingElevation++,this.updateStageLayerElevationProvider()),this._updateLayerVisibility()}_removeGraphics3DGraphic(e,i,t=!1){this._usedMemory-=i,this.graphics3DGraphics.delete(e),this._numberOfGraphics--,t&&(this._numberOfGraphicsProvidingElevation--,this.updateStageLayerElevationProvider()),this._updateLayerVisibility()}_createGraphics3DGraphic(e,i){const t=i.graphic;if(this._graphicsWithoutSymbol.delete(t.uid),!this._symbols.has(e.symbol.id))return this.add([t]),null;if(this.graphics3DGraphics.has(t.uid))return null;const r=e.createGraphics3DGraphic(i);if(c(r))return null;this._addGraphics3DGraphic(r);const s=e.symbol.id;this._graphicsBySymbol.has(s)||this._graphicsBySymbol.set(s,new Map),this._graphicsBySymbol.get(s).set(t.uid,r);if(r.isDraped&&this._graphicsDrapedUids.add(t.uid),r.centroid=null,h(t.geometry)&&\"point\"!==t.geometry.type&&(r.centroid=pe(t.geometry,this._viewSpatialReference)),this._updateUserVisibility(r),h(this._scaleVisibility)&&this._scaleVisibility.updateVisibility(r),h(this._filterVisibility)){const{defaultVisibility:e}=this._filterVisibility;r.setVisibilityFlag(te.FILTER,e,re.GRAPHIC),e||this._filterVisibility.reapply()}this._deconflictor?.addGraphic(r),this._labeler?.addGraphic(r),this._objectStates?.addGraphic(r),this._deconflictor&&this.owner.view.deconflictor.setInitialIconVisibilityFlag(this,r),r.initialize(this.stage,this.stageLayer,this.owner),h(this._graphicStateTracking)&&this._graphicStateTracking.addGraphic(r);const a=this._whenGraphics3DGraphicRequests[t.uid];return a&&(delete this._whenGraphics3DGraphicRequests[t.uid],a.resolve(r)),r}_abortRendererChange(){this._rendererChangeAbortController&&(this._rendererChangeAbortController.abort(),this._rendererChangeAbortController=null)}async rendererChange(e){if(this._abortRendererChange(),e!==this.currentRenderer)if(this._validateRenderer(e),c(e)&&this._currentRendererChange(null,!1),J(e))if(h(e)&&e.arcadeRequired){const i=new AbortController;this._rendererChangeAbortController=i;const{arcadeUtils:t}=await this._ensureArcade();b(i);const r=t.hasGeometryOperations(e);r&&(await t.enableGeometryOperations(),b(i)),this.effectiveUpdatePolicy===Se.ASYNC?await this._frameTask.schedule((()=>this._currentRendererChange(e,r)),i.signal):this._currentRendererChange(e,r),this._rendererChangeAbortController=null}else if(this.effectiveUpdatePolicy===Se.ASYNC){const i=new AbortController;this._rendererChangeAbortController=i,await this._frameTask.schedule((()=>this._currentRendererChange(e,!1)),i.signal),this._rendererChangeAbortController=null}else this._currentRendererChange(e,!1);else this._currentRendererChange(e,!1)}async _ensureArcade(){return c(this._arcadeOnDemand)?(this._arcadeOnDemand=await K(),this._arcadeOnDemand):this._arcadeOnDemand}_currentRendererChange(e,i){this.currentRenderer=e,this.rendererHasGeometryOperations=i,this.symbolCreationContext.arcade=g(this._arcadeOnDemand);const t=this.symbolCreationContext.renderer;if(e===t)return;if(this._symbolConversionCache.clear(),c(e))return this.symbolCreationContext.renderer=null,void this.recreateAllGraphicsAndSymbols();const r=I(t,e);this._updateUnchangedSymbolMappings(r,e,t),this.symbolCreationContext.renderer=e,c(r)||(\"complete\"===r.type?this.recreateAllGraphicsAndSymbols():\"partial\"===r.type&&(this._applyRendererDiff(r,e,t)?this._volatileGraphicsUpdated():this.recreateAllGraphicsAndSymbols()),this.notifyChange(\"averageSymbolComplexity\"))}_diffHasSymbolChange(e){for(const i in e.diff)switch(i){case\"visualVariables\":case\"defaultSymbol\":case\"uniqueValueInfos\":break;case\"uniqueValueGroups\":case\"authoringInfo\":case\"fieldDelimiter\":delete e.diff[i];break;default:return!0}return!1}_applySymbolSetDiff(e,i,t){e=e||[],i=i||[];const r=[];for(const s of i){const i=this._graphicsBySymbol.get(s.id);i&&i.forEach(((a,n)=>{const o=a.graphic,l=this.layer instanceof H?this.layer:null,h=g(this._arcadeOnDemand);if(s===t.defaultSymbol&&t.getSymbol(Z(o,l),{arcade:h})===t.defaultSymbol)return;const d=a.usedMemory;e.length||t.defaultSymbol?r.push(o):this._graphicsWithoutSymbol.set(n,o);const c=this.graphics3DGraphics.get(n);this._conditionalRemove(c,n),a.destroy(),i.delete(n),this._removeGraphics3DGraphic(n,d),this._updateLayerVisibility()})),this._whenSymbolRemoved.forAll((e=>e(s.id)))}(e.length||r.length)&&(this._graphicsWithoutSymbol.forEach((e=>r.push(e))),this._graphicsWithoutSymbol.clear(),this.add(r)),this._cleanupSymbols(),this._labeler&&this.owner.view.labeler.setDirty(),this.owner.view.deconflictor.setDirty()}_applyUniqueValueRendererDiff(e,i,t){const r=e.diff.defaultSymbol,s=e.diff.uniqueValueInfos;if(r||s){const a=s?s.added.map((e=>e.symbol)):[],n=s?s.removed.map((e=>e.symbol)):[];if(s)for(let e=0;e<s.changed.length;e++)a.push(s.changed[e].newValue.symbol),n.push(s.changed[e].oldValue.symbol);return r?(t.defaultSymbol&&n.push(t.defaultSymbol),i.defaultSymbol&&a.push(i.defaultSymbol)):t.defaultSymbol&&a.length&&n.push(i.defaultSymbol),this._applySymbolSetDiff(a,n,i),delete e.diff.defaultSymbol,delete e.diff.uniqueValueInfos,!0}return!1}_calculateUnchangedSymbolMapping(e,i,t){if(\"unique-value\"!==i?.type||\"unique-value\"!==t?.type||h(e)&&\"partial\"!==e.type)return[];const r=e=>h(e)?e.id:null,s=e&&e.diff,a=s&&s.defaultSymbol,n=s&&s.uniqueValueInfos;let o;if(n)o=n.unchanged.map((e=>({oldId:r(e.oldValue.symbol),newId:r(e.newValue.symbol)})));else{o=[];for(const e of t.uniqueValueInfos){const t=r(e.symbol),s=i.uniqueValueInfos.find((i=>i.value===e.value));s&&t!==r(s.symbol)&&o.push({oldId:t,newId:r(s.symbol)})}}return!a&&t.defaultSymbol&&o.push({oldId:r(t.defaultSymbol),newId:r(i.defaultSymbol)}),o}_updateSymbolMapping(e,i){const t=h(i)&&i?\"string\"==typeof i?i:i.id:null;if(!e||e===t)return;const r=this._graphicsBySymbol.get(e);this._graphicsBySymbol.delete(e),void 0!==r&&this._graphicsBySymbol.set(t,r);const s=this._symbols.get(e);if(void 0!==s&&(this._symbols.delete(e),this._symbols.set(t,s),h(s))){const e=\"string\"==typeof i?null:i;h(e)?s.symbol=e:s.symbol.id=t}}_updateUnchangedSymbolMappings(e,i,t){const r=this._calculateUnchangedSymbolMapping(e,i,t);for(const{oldId:s,newId:a}of r)this._updateSymbolMapping(s,a)}_applyRendererDiff(e,t,r){if(this._diffHasSymbolChange(e))return!1;if(t instanceof i&&r instanceof i&&this._applyUniqueValueRendererDiff(e,t,r)&&0===Object.keys(e.diff).length)return!0;for(const[i]of this._graphicsBySymbol){const r=this._symbols.get(i);if(h(r))switch(r.applyRendererDiff(e,t)){case ye.Recreate_Symbol:this._recreateSymbol(i);break;case ye.Recreate_Graphics:this._recreateGraphicsForSymbol(i);case ye.Fast_Update:}}return!0}opacityChange(){this.forEachGraphics3DSymbol(((e,i)=>e.globalPropertyChanged(\"opacity\",i))),this._updateStageLayerVisibility()}_slicePlaneEnabledChange(e){e!==this.symbolCreationContext.slicePlaneEnabled&&(this.symbolCreationContext.slicePlaneEnabled=e,this.stageLayer.isSliceable=e,this.forEachGraphics3DSymbol(((e,i)=>e.globalPropertyChanged(\"slicePlaneEnabled\",i))),this._deconflictor&&this._deconflictor.slicePlaneEnabledChange(),this._labeler&&this._labeler.slicePlaneEnabledChange())}_physicalBasedRenderingChange(e){this.symbolCreationContext.physicalBasedRenderingEnabled=e,this.forEachGraphics3DSymbol(((e,i,t)=>{e.globalPropertyChanged(\"physicalBasedRenderingEnabled\",i)||this._recreateSymbol(t)}))}_skipHighSymbolLoDsChange(e){this.symbolCreationContext.skipHighSymbolLods=e,this.forEachGraphics3DSymbol(((e,i,t)=>this._recreateSymbol(t)))}_pixelRatioChange(){this.forEachGraphics3DSymbol(((e,i,t)=>{e.globalPropertyChanged(\"pixelRatio\",i)||this._recreateSymbol(t)}))}_signalUpdatingDuringAsyncLoadedGraphicsChange(){this._updatingPendingLoadedGraphicsChange&&this._updatingPendingLoadedGraphicsChange.remove(),this._updatingPendingLoadedGraphicsChange=R((()=>{this._updatingPendingLoadedGraphicsChange=null}))}setClippingExtent(e,i){const t=this.symbolCreationContext.clippingExtent,r=N();return fe(e,r,i)?this.symbolCreationContext.clippingExtent=W(k(),r):this.symbolCreationContext.clippingExtent=null,!M(this.symbolCreationContext.clippingExtent,t)}modifyGraphics3DGraphicVisibilities(e){let i=!1;this.graphics3DGraphics.forEach((t=>{e(t)&&(i=!0)})),i&&(this.owner.view.labeler?.setDirty(),this.owner.view.deconflictor.setDirty())}forEachGraphics3DSymbol(e){for(const[i,t]of this._symbols){if(c(t))return;e(t,this._graphicsBySymbol.get(i)||Ne,i)}}updateAllGraphicsVisibility(){h(this._filterVisibility)&&this._filterVisibility.reapply(),this.modifyGraphics3DGraphicVisibilities((e=>{const i=this._updateUserVisibility(e),t=h(this._scaleVisibility)&&this._scaleVisibility.updateVisibility(e);return i||t}))}_hideAllGraphics(){this.modifyGraphics3DGraphicVisibilities((e=>e.setVisibilityFlag(te.USER_SETTING,!1,re.GRAPHIC)))}_validateRenderer(e){const i=Q(e,{geometryType:this.layer?.geometryType});if(i){const e=`Renderer for layer '${this.layer.title?`${this.layer.title}, `:\"\"}, id:${this.layer.id}' is not supported in a SceneView`;Ve.warn(e,i.message)}}_volatileGraphicsUpdated(){this._labeler?.reset(),this.stageLayer.shaderTransformationChanged(),this.notifyChange(\"updating\")}_cleanupSymbols(){if(this._graphicsWaitingForSymbol.size>0||this._suspendSymbolCleanup)return;let e=!1;this._symbols.forEach(((i,t)=>{if(c(i)||i.referenced>0)return;const r=this._graphicsBySymbol.get(t);r&&0!==r.size||(this._graphicsBySymbol.delete(t),this._symbols.delete(t),p(i),e=!0)})),e&&(this._recomputeExtentPadding(),this.notifyChange(\"averageSymbolComplexity\"))}get test(){return{snapshotInternals:()=>({graphics:[...this.graphics3DGraphics.keys()].sort(),symbols:[...this._symbols.keys()].sort(),graphicsBySymbol:[...this._graphicsBySymbol.keys()].sort().map((e=>({symbolId:e,graphics:[...this._graphicsBySymbol.get(e).keys()].sort()}))),graphicsWithoutSymbol:[...this._graphicsWithoutSymbol.keys()].sort(),graphicsDrapedUids:[...this._graphicsDrapedUids].sort(),pendingUpdates:this._pendingUpdates}),symbols:this._symbols,filterVisibility:this._filterVisibility,numPending:this._pendingUpdates.size,forceUpdatePolicy:e=>{this.forcedUpdatePolicy=e}}}get performanceInfo(){return{visible:this.graphics3DGraphics.size,missing:this._graphicsWithoutSymbol.size,pending:this._pendingUpdates.size}}};var Te;Fe.tmpVec=j(),e([P({readOnly:!0})],Fe.prototype,\"computedExtent\",void 0),e([P()],Fe.prototype,\"currentRenderer\",void 0),e([P()],Fe.prototype,\"rendererHasGeometryOperations\",void 0),e([P()],Fe.prototype,\"_frameTask\",void 0),e([P()],Fe.prototype,\"_rendererChangeAbortController\",void 0),e([P()],Fe.prototype,\"_elevationInfoChangeAbortController\",void 0),e([P()],Fe.prototype,\"_initializeAbortController\",void 0),e([P()],Fe.prototype,\"_elevationAlignment\",void 0),e([P()],Fe.prototype,\"_scaleVisibility\",void 0),e([P()],Fe.prototype,\"_filterVisibility\",void 0),e([P()],Fe.prototype,\"_initializePromise\",void 0),e([P()],Fe.prototype,\"_spatialIndex\",void 0),e([P({readOnly:!0})],Fe.prototype,\"extentPadding\",void 0),e([P()],Fe.prototype,\"_updatingPendingLoadedGraphicsChange\",void 0),e([P()],Fe.prototype,\"_featureStore\",void 0),e([P()],Fe.prototype,\"_deconflictor\",void 0),e([P()],Fe.prototype,\"_labeler\",void 0),e([P()],Fe.prototype,\"_objectStates\",void 0),e([P()],Fe.prototype,\"_loadingSymbols\",void 0),e([P()],Fe.prototype,\"preferredUpdatePolicy\",void 0),e([P()],Fe.prototype,\"forcedUpdatePolicy\",void 0),e([P({readOnly:!0})],Fe.prototype,\"effectiveUpdatePolicy\",null),e([P({constructOnly:!0})],Fe.prototype,\"elevationFeatureExpressionEnabled\",void 0),e([P({constructOnly:!0})],Fe.prototype,\"owner\",void 0),e([P({constructOnly:!0})],Fe.prototype,\"layer\",void 0),e([P({constructOnly:!0})],Fe.prototype,\"graphicSymbolSupported\",void 0),e([P({constructOnly:!0})],Fe.prototype,\"getRenderingInfoWithoutRenderer\",void 0),e([P({constructOnly:!0})],Fe.prototype,\"componentFactories\",void 0),e([P({constructOnly:!0})],Fe.prototype,\"setUidToIdOnAdd\",void 0),e([P()],Fe.prototype,\"featureStore\",null),e([P()],Fe.prototype,\"initializePromise\",null),e([P()],Fe.prototype,\"scaleVisibility\",null),e([P()],Fe.prototype,\"elevationAlignment\",null),e([P()],Fe.prototype,\"objectStates\",null),e([P()],Fe.prototype,\"filterVisibility\",null),e([P({readOnly:!0})],Fe.prototype,\"updating\",null),e([P({readOnly:!0})],Fe.prototype,\"running\",null),e([P({readOnly:!0})],Fe.prototype,\"suspendedOrOutsideOfView\",null),e([P({readOnly:!0,dependsOn:[]})],Fe.prototype,\"updatingRemaining\",null),e([P({readOnly:!0,dependsOn:[\"owner.view.qualitySettings.graphics3D.maxTotalNumberOfPrimitives\",\"owner.view.qualitySettings.graphics3D.maxTotalNumberOfFeatures\",\"averageSymbolComplexity\"]})],Fe.prototype,\"displayFeatureLimit\",null),e([P({readOnly:!0,dependsOn:[]})],Fe.prototype,\"averageSymbolComplexity\",null),e([P({constructOnly:!0})],Fe.prototype,\"hasZ\",void 0),e([P({constructOnly:!0})],Fe.prototype,\"hasM\",void 0),e([P()],Fe.prototype,\"_objectIdField\",null),Fe=Ue=e([D(Le)],Fe),function(e){e[e.NEW=0]=\"NEW\",e[e.LOADING=1]=\"LOADING\",e[e.READY=2]=\"READY\",e[e.REJECTED=3]=\"REJECTED\"}(Te||(Te={}));class ke{constructor(){this.add=null,this.renderingInfo=null,this.state=Te.NEW,this.remove=null}clear(){this.add=null,this.renderingInfo=null,this.state=Te.NEW,this.abortController=null,this.remove=null}}const ze=10,We=j(),Me=j(),Ne=new Map;export{Fe as Graphics3DCore};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/PooledArray.js\";import{create as e,copy as r,area as s,expand as n,contains as o,containsPoint as i}from\"../../../../geometry/support/aaBoundingRect.js\";import{noBudget as h}from\"../../../support/Scheduler.js\";const l=.05;class _{constructor(){this._extents=new t({allocator:t=>t||e()}),this._tmpExtent=e(),this._dirty=!1}get empty(){return 0===this._extents.length}get size(){return this._extents.length}clear(){this._extents.clear()}add(t){this._contains(t)||(this._removeContained(t),r(this._extents.pushNew(),t),this._dirty=!0)}pop(){return this._dirty&&this._mergeTight(),this._extents.pop()}merge(t){return this._mergeTight(t),t.hasProgressed}_mergeTight(t=h){const e=this._extents,o=new Set;let i=0;for(;i!==e.length;){e.sort(((t,e)=>t[0]-e[0])),i=e.length,o.clear();for(let i=0;i<e.length;++i){if(t.done)return;const h=e.getItemAt(i);if(h){for(let t=i+1;t<e.length;++t){const r=e.getItemAt(t);if(null==r||r[0]>=h[2])break;o.add(r)}o.forEach((i=>{if(h===i)return;if(i[2]<=h[0])return void o.delete(i);const _=s(h),a=s(i),c=this._tmpExtent;n(h,i,c);const g=_+a;(s(c)-g)/g<l&&(r(h,c),o.delete(i),e.remove(i),t.madeProgress())})),o.add(h)}}}this._dirty=!1}_contains(t){return this._extents.some((e=>o(e,t)))}_removeContained(t){this._extents.filterInPlace((e=>!o(t,e)))}get test(){const t=this;return{containsPoint:e=>t._extents.some((t=>i(t,e)))}}}export{_ as ExtentSet};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import i from\"../../../../core/Evented.js\";import r from\"../../../../core/Handles.js\";import{isSome as s}from\"../../../../core/maybe.js\";import{watch as a}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ExtentSet as h}from\"./ExtentSet.js\";import{UpdatePolicy as p}from\"../../webgl-engine/lib/basicInterfaces.js\";import{TaskPriority as d}from\"../../../support/Scheduler.js\";let c=class extends t{constructor(e){super(e),this._dirtyExtents=new h,this._globalDirty=!1,this._averageExtentUpdateSize=0,this._dirtyGraphicsSet=new Set,this._handles=new r,this._updateElevation=!1,this.graphicsCoreOwner=null,this.graphicsCore=null,this.events=new i}initialize(){const e=this.elevationProvider,t=this.graphicsCoreOwner.view.resourceController.scheduler;this._handles.add([e.on(\"elevation-change\",(e=>this._elevationChanged(e))),a((()=>this.graphicsCoreOwner.suspended),(()=>this._suspendedChange())),t.registerTask(d.ELEVATION_ALIGNMENT,this)])}destroy(){this._dirtyGraphicsSet.clear(),this._handles.destroy(),this._handles=null,this.graphicsCoreOwner=null,this.graphicsCore=null,this.queryGraphicUIDsInExtent=null,this.elevationProvider=null}clear(){this._dirtyGraphicsSet.clear(),this.notifyChange(\"updating\")}_suspendedChange(){!0===this.graphicsCoreOwner.suspended?this._updateElevation=!1:!1===this.graphicsCoreOwner.suspended&&this._updateElevation&&(this._globalDirty=!0,this.notifyChange(\"updating\"))}elevationInfoChange(){this._globalDirty=!0,this.notifyChange(\"updating\")}get updating(){return this.running}get running(){return this._dirtyGraphicsSet.size>0||this._dirtyExtents&&!this._dirtyExtents.empty||this._globalDirty}get updatingRemaining(){return this._dirtyGraphicsSet.size+this._dirtyExtents.size*this._averageExtentUpdateSize}runTask(e){for(this._globalDirty&&(this._markAllGraphicsElevationDirty(),this._globalDirty=!1,e.madeProgress()),e.run((()=>this._dirtyExtents.merge(e)));this.running&&!e.done;)this._updateDirtyGraphics(e),this._updateDirtyExtents(e);this.graphicsCoreOwner.view.deconflictor.setDirty(),this.notifyChange(\"updating\")}_updateDirtyGraphics(e){const t=this.graphicsCoreOwner.view.renderCoordsHelper,i=this.graphicsCore.effectiveUpdatePolicy===p.ASYNC;for(const r of this._dirtyGraphicsSet.keys()){const a=this.graphicsCore.getGraphics3DGraphicById(r);if(this._dirtyGraphicsSet.delete(r),s(a)&&(a.alignWithElevation(this.elevationProvider,t,i),e.madeProgress()),e.done)return}}_updateDirtyExtents(e){for(;!this._dirtyExtents.empty&&!e.done;){const t=this._dirtyExtents.pop(),i=this.elevationProvider.spatialReference;this.events.emit(\"invalidate-elevation\",{extent:t,spatialReference:i});const r=this._dirtyGraphicsSet.size;this.queryGraphicUIDsInExtent(t,i,(e=>{const t=this.graphicsCore.getGraphics3DGraphicById(e);s(t)&&t.needsElevationUpdates()&&this._dirtyGraphicsSet.add(e)})),this._averageExtentUpdateSize=.1*(this._dirtyGraphicsSet.size-r)+.9*this._averageExtentUpdateSize,e.madeProgress()}}_markAllGraphicsElevationDirty(){this._dirtyExtents.clear(),this._dirtyGraphicsSet.clear(),this.graphicsCore.graphics3DGraphics.forEach(((e,t)=>this._dirtyGraphicsSet.add(t)))}_elevationChanged(e){if(\"scene\"===e.context&&(!this.graphicsCore.layer.elevationInfo||\"relative-to-scene\"!==this.graphicsCore.layer.elevationInfo.mode))return;const{extent:t,spatialReference:i}=e;if(this.graphicsCoreOwner.suspended){if(!this._updateElevation){const e=this.graphicsCore.computedExtent;e&&t[2]>e.xmin&&t[0]<e.xmax&&t[3]>e.ymin&&t[1]<e.ymax&&(this._updateElevation=!0)}this.events.emit(\"invalidate-elevation\",{extent:t,spatialReference:i})}else t[0]===-1/0?this._globalDirty=!0:this._dirtyExtents.add(t),this.notifyChange(\"updating\")}};e([n()],c.prototype,\"graphicsCoreOwner\",void 0),e([n()],c.prototype,\"graphicsCore\",void 0),e([n()],c.prototype,\"queryGraphicUIDsInExtent\",void 0),e([n()],c.prototype,\"elevationProvider\",void 0),e([n({readOnly:!0})],c.prototype,\"updating\",null),e([n({readOnly:!0})],c.prototype,\"updatingRemaining\",null),c=e([o(\"esri.views.3d.layers.graphics.Graphics3DElevationAlignment\")],c);const l=c;export{l as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{a as r}from\"../../../chunks/vec2f64.js\";import{e as n,b as t,a as i,g as e,i as c,c as u,n as o}from\"../../../chunks/vec3.js\";import{c as s}from\"../../../chunks/vec3f64.js\";import{signedDistance as f,normal as l}from\"../../../geometry/support/plane.js\";function p(r,n,t){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]+r[3]<t}function a(r,n,t){const i=n[0],e=n[1],c=n[2];return!(r[0][0]*i+r[0][1]*e+r[0][2]*c+r[0][3]>t)&&(!(r[1][0]*i+r[1][1]*e+r[1][2]*c+r[1][3]>t)&&(!(r[2][0]*i+r[2][1]*e+r[2][2]*c+r[2][3]>t)&&(!(r[3][0]*i+r[3][1]*e+r[3][2]*c+r[3][3]>t)&&(!(r[4][0]*i+r[4][1]*e+r[4][2]*c+r[4][3]>t)&&!(r[5][0]*i+r[5][1]*e+r[5][2]*c+r[5][3]>t)))))}function m(r,n,t,i){return b(r,n,null,k(i,n,t,!1))}function d(r,n){for(let t=0;t<6;t++){if(f(r[t],n)>0)return!1}return!0}function h(r,n,t,i){return b(r,n,t,k(i,n,t,!0))}function j(r,c,u,o){const s=n(u,t(r,o,c));return i(r,c,e(r,u,s))}const g={dir:s(),len:0,clip:r()};function k(r,n,i,s){const f=g;return r?(i&&s&&(f.len=c(n,i)),u(f.dir,r)):s?(f.len=c(n,i),t(f.dir,i,n),e(f.dir,f.dir,1/f.len)):(t(f.dir,i,n),o(f.dir,f.dir)),f}function v(r,t,i){const e=n(l(r),i.dir),c=-f(r,t);if(c<0&&e>=0)return!1;if(e>-1e-6&&e<1e-6)return c>0;if((c<0||e<0)&&!(c<0&&e<0))return!0;const u=c/e;return e>0?u<i.clip[1]&&(i.clip[1]=u):u>i.clip[0]&&(i.clip[0]=u),i.clip[0]<=i.clip[1]}function b(r,n,t,i){i.clip[0]=0,i.clip[1]=t?i.len:Number.MAX_VALUE;for(let e=0;e<r.length;e++)if(!v(r[e],n,i))return!1;return!0}export{j as closestPointOnRay,h as frustumLineSegment,d as frustumPoint,m as frustumRay,a as frustumSphere,p as planeSphere};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{neverReached as t}from\"../../../core/compilerUtils.js\";import{lerp as e}from\"../../../core/mathUtils.js\";import{a as i}from\"../../../chunks/mat4.js\";import{c as r}from\"../../../chunks/mat4f64.js\";import{a as n,g as o,r as s,m as a,s as c,e as l}from\"../../../chunks/vec3.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import{computeTranslationToOriginAndRotation as h,projectVectorToVector as d,projectBoundingRect as _}from\"../../../geometry/projection.js\";import{getReferenceEllipsoid as m}from\"../../../geometry/projectionEllipsoid.js\";import{create as g,empty as u,expandWithVec3 as x}from\"../../../geometry/support/aaBoundingBox.js\";import{create as f,center as R}from\"../../../geometry/support/aaBoundingRect.js\";import{PlaneIndex as y}from\"../../../geometry/support/frustum.js\";import{create as j,fromPoints as A}from\"../../../geometry/support/lineSegment.js\";import{create as b,fromVectorsAndPoint as E,copy as S,negate as C,signedDistance as H}from\"../../../geometry/support/plane.js\";import{wrap as w}from\"../../../geometry/support/ray.js\";import{ViewingMode as B}from\"../../ViewingMode.js\";import{frustumLineSegment as G}from\"./intersectionUtils.js\";const M=.5*Math.PI,F=M/Math.PI*180;class N{constructor(t){this._renderCoordsHelper=t.renderCoordsHelper,this._extent=new Array(4),this._planes=new Array(6),this._maxSpan=0,this._center={origin:p(),direction:p()};for(let e=0;e<4;e++)this._extent[e]={origin:p(),direction:p(),cap:{next:null,direction:p()}},this._planes[e]=b();this._planes[y.NEAR]=b(),this._planes[y.FAR]=b(),this._planesWithoutFar=this._planes.slice(0,5)}update(t,e,i,r=!0){const a=this._extent;this._toRenderBoundingExtent(t,e,i),n(this._center.origin,a[0].origin,a[2].origin),o(this._center.origin,this._center.origin,.5),this._renderCoordsHelper.worldUpAtPosition(this._center.origin,this._center.direction),r||o(this._center.direction,this._center.direction,-1);for(let n=0;n<4;n++){const t=a[n];this._renderCoordsHelper.worldUpAtPosition(t.origin,t.direction);const e=a[3===n?0:n+1];t.cap.next=e.origin,s(t.cap.direction,t.origin,e.origin),E(t.direction,t.cap.direction,t.origin,this._planes[n]),r||o(t.direction,t.direction,-1)}E(a[0].cap.direction,a[1].cap.direction,a[0].origin,this._planes[y.NEAR]),r?C(this._planes[y.NEAR],this._planes[y.FAR]):(S(this._planes[y.FAR],this._planes[y.NEAR]),C(this._planes[y.NEAR],this._planes[y.NEAR])),this._maxSpan=Math.max(Math.abs(t[0]-t[2]),Math.abs(t[1]-t[3])),this._maxSpanSpatialReference=e,this._minGlobalAltitude=.9*m(this._maxSpanSpatialReference).radius}isVisibleInFrustum(t,e,i=!1){if(null==t)return!1;if(this._renderCoordsHelper.viewingMode===B.Global){const i=this._maxSpanSpatialReference.isGeographic?F:M*e;if(this._maxSpan>i)return!0;if(null!=t.altitude&&t.altitude>=this._minGlobalAltitude)return this._isVisibleInFrustumGlobal(t)}if(0===this._maxSpan){const e=this._extent[0];return!(i||!t.intersectsRay(w(e.origin,e.direction)))}for(let n=0;n<this._extent.length;n++){const e=this._extent[n];if(!i&&t.intersectsRay(w(e.origin,e.direction)))return!0;if(t.intersectsLineSegment(A(e.origin,e.cap.next,V),e.cap.direction))return!0}const r=i?this._planes:this._planesWithoutFar;for(let n=0;n<t.lines.length;n++){const e=t.lines[n];if(G(r,e.origin,e.endpoint,e.direction))return!0}return!1}_toRenderBoundingExtentGlobal(t,r,n){const o=5;R(t,v),v[2]=n,h(r,v,I,this._renderCoordsHelper.spatialReference),i(U,I),u(L);for(const{x0:i,x1:s,y0:c,y1:l}of k)for(let p=0;p<o;p++){const h=p/(o-1);v[0]=e(t[i],t[s],h),v[1]=e(t[c],t[l],h),v[2]=n,d(v,r,v,this._renderCoordsHelper.spatialReference),a(v,v,U),x(L,v)}c(this._extent[0].origin,L[0],L[1],L[2]),c(this._extent[1].origin,L[3],L[1],L[2]),c(this._extent[2].origin,L[3],L[4],L[2]),c(this._extent[3].origin,L[0],L[4],L[2]);for(let e=0;e<4;++e)a(this._extent[e].origin,this._extent[e].origin,I)}_toRenderBoundingExtentLocal(t,e,i){_(t,e,P,this._renderCoordsHelper.spatialReference),c(this._extent[0].origin,P[0],P[1],i),c(this._extent[1].origin,P[2],P[1],i),c(this._extent[2].origin,P[2],P[3],i),c(this._extent[3].origin,P[0],P[3],i)}_toRenderBoundingExtent(e,i,r){switch(this._renderCoordsHelper.viewingMode){case B.Global:this._toRenderBoundingExtentGlobal(e,i,r);break;case B.Local:this._toRenderBoundingExtentLocal(e,i,r);break;default:t(this._renderCoordsHelper.viewingMode)}}_isVisibleInFrustumGlobal(t){if(H(t.planes[y.NEAR],this._center.origin)<0&&l(this._center.direction,t.direction)<0)return!0;for(let e=0;e<4;e++){const i=this._extent[e];if(H(t.planes[y.NEAR],i.origin)<0&&l(i.direction,t.direction)<0)return!0}return!1}}const k=[{x0:0,y0:1,x1:2,y1:1},{x0:0,y0:3,x1:2,y1:3},{x0:0,y0:1,x1:0,y1:3},{x0:2,y0:1,x1:2,y1:3}],v=p(),I=r(),U=r(),L=g(),P=f(),V=j();export{N as FrustumExtentIntersection};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import s from\"../../../../core/Handles.js\";import{destroyMaybe as i}from\"../../../../core/maybe.js\";import{watch as r,sync as n,initial as o}from\"../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getReferenceEllipsoid as p}from\"../../../../geometry/projectionEllipsoid.js\";import{FrustumExtentIntersection as h}from\"../../support/FrustumExtentIntersection.js\";import{TaskPriority as l}from\"../../../support/Scheduler.js\";const u=1.2;let d=class extends t{constructor(e){super(e),this.suspended=!1,this._extent=null,this._extentIntersectionDirty=!0,this._isVisibleBelowSurfaceInternal=!1,this._handles=new s,this.graphicsCoreOwner=null,this.updating=!0}initialize(){const{graphicsCoreOwner:e}=this;this._extentIntersection=new h({renderCoordsHelper:e.view.renderCoordsHelper});const t=e.view,s=t.basemapTerrain,i=t.resourceController.scheduler;this._handles.add([t.on(\"resize\",(()=>this._viewChange())),r((()=>t.state.camera),(()=>this._viewChange()),n),i.registerTask(l.FRUSTUM_VISIBILITY,this),r((()=>s.visibleElevationBounds),(()=>this._elevationBoundsChange()))]),\"local\"===t.viewingMode?this._isVisibleBelowSurface=!0:this._handles.add([r((()=>[s.baseOpacity,s.wireframe,t.map?.ground?.navigationConstraint?.type]),(()=>this._updateIsVisibleBelowSurface()),o)])}destroy(){this._set(\"graphicsCoreOwner\",null),this._extent=null,this._extentIntersection=null,this._handles=i(this._handles)}_setDirty(){this.updating||this._set(\"updating\",!0)}setExtent(e){this._extent=e,this._extentIntersectionDirty=!0,this._setDirty()}_viewChange(){this._setDirty()}_elevationBoundsChange(){this._setDirty(),this._extentIntersectionDirty=!0}set _isVisibleBelowSurface(e){this._isVisibleBelowSurfaceInternal=e,this._setDirty(),this._extentIntersectionDirty=!0}_updateIsVisibleBelowSurface(){const e=this.graphicsCoreOwner.view,t=e.basemapTerrain,s=\"local\"===e.viewingMode,i=e.map.ground&&e.map.ground.navigationConstraint&&\"none\"===e.map.ground.navigationConstraint.type;this._isVisibleBelowSurface=s||!t.opaque||i}_updateExtentIntersection(){if(!this._extentIntersectionDirty)return;this._extentIntersectionDirty=!1;const e=this.graphicsCoreOwner.view;let t;if(this._isVisibleBelowSurfaceInternal)t=-.3*p(e.spatialReference).radius;else{const{min:s,max:i}=e.basemapTerrain.visibleElevationBounds;t=s-Math.max(1,(i-s)*(u-1))}this._extentIntersection.update(this._extent,e.spatialReference,t)}get running(){return this.updating}runTask(){if(this._set(\"updating\",!1),!this._extent)return void this._set(\"suspended\",!1);this._updateExtentIntersection();const e=this.graphicsCoreOwner.view.frustum,t=p(this.graphicsCoreOwner.view.spatialReference).radius;this._set(\"suspended\",!this._extentIntersection.isVisibleInFrustum(e,t))}};e([a({readOnly:!0})],d.prototype,\"suspended\",void 0),e([a({constructOnly:!0})],d.prototype,\"graphicsCoreOwner\",void 0),e([a({readOnly:!0})],d.prototype,\"updating\",void 0),d=e([c(\"esri.views.3d.layers.graphics.Graphics3DFrustumVisibility\")],d);const _=d;export{_ as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{Object3DState as e}from\"./basicInterfaces.js\";var t;!function(e){e[e.Object=0]=\"Object\",e[e.RenderGeometry=1]=\"RenderGeometry\",e[e.External=2]=\"External\",e[e.COUNT=3]=\"COUNT\"}(t||(t={}));class r{constructor(){this._items=[]}addObject(e,r){this._items.push({type:t.Object,objectStateId:r,object:e})}addRenderGeometry(e,r,o){this._items.push({type:t.RenderGeometry,objectStateId:r,renderGeometry:e,owner:o})}addExternal(e,r){this._items.push({type:t.External,objectStateId:r,remove:e})}remove(e){for(let t=this._items.length-1;t>=0;--t){const r=this._items[t];r.objectStateId===e&&(this._removeObjectStateItem(r),this._items.splice(t,1))}}removeObject(e){for(let r=this._items.length-1;r>=0;--r){const o=this._items[r];o.type===t.Object&&o.object===e&&(this._removeObjectStateItem(o),this._items.splice(r,1))}}removeRenderGeometry(e){for(let r=this._items.length-1;r>=0;--r){const o=this._items[r];o.type===t.RenderGeometry&&o.renderGeometry===e&&(this._removeObjectStateItem(o),this._items.splice(r,1))}}removeAll(){this._items.forEach((e=>{this._removeObjectStateItem(e)})),this._items=[]}_removeObjectStateItem(r){switch(r.type){case t.Object:r.objectStateId.channel===e.Highlight?r.object.removeHighlight(r.objectStateId):r.objectStateId.channel===e.MaskOccludee&&r.object.removeOcclude(r.objectStateId);break;case t.RenderGeometry:r.owner.removeRenderGeometryObjectState(r.renderGeometry,r.objectStateId);break;case t.External:r.remove(r.objectStateId)}}}export{r as Object3DStateSet};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{Object3DStateSet as t}from\"../../webgl-engine/lib/Object3DStateSet.js\";class e{constructor(e,i){this.stateType=e,this.objectIdField=i,this.objectStateSet=new t,this.ids=new Set,this.paused=!1}hasGraphic(t){if(this.objectIdField){const e=t.graphic.attributes[this.objectIdField];return this.ids.has(e)}return this.ids.has(t.graphic.uid)}}export{e as Graphics3DObjectStateSet};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{makeHandle as t}from\"../../../../core/handleUtils.js\";import{Graphics3DObjectStateSet as e}from\"./Graphics3DObjectStateSet.js\";class s{constructor(t){this._graphicsCore=t,this._stateSets=new Array}destroy(){this._stateSets&&this._stateSets.forEach((t=>t.objectStateSet.removeAll())),this._stateSets=null}acquireSet(s,a){const i=new e(s,a);this._stateSets.push(i);const h=t((()=>this.releaseSet(i)));return{set:i,handle:h}}releaseSet(t){t.objectStateSet.removeAll();const e=this._stateSets?this._stateSets.indexOf(t):-1;-1!==e&&this._stateSets.splice(e,1)}_addObjectStateSet(t,e){t.addObjectStateSet(e.stateType,e.objectStateSet)}_removeObjectStateSet(t,e){t.removeObjectState(e.objectStateSet)}setUid(t,e){t.ids.add(e);const s=this._graphicsCore.graphics3DGraphics.get(e);s&&this._addObjectStateSet(s,t)}setUids(t,e){e.forEach((e=>this.setUid(t,e)))}setObjectIds(t,e){e.forEach((e=>t.ids.add(e))),this._initializeSet(t)}addGraphic(t){this._stateSets.forEach((e=>{!e.paused&&e.hasGraphic(t)&&this._addObjectStateSet(t,e)}))}removeGraphic(t){this._stateSets.forEach((e=>{e.hasGraphic(t)&&this._removeObjectStateSet(t,e)}))}allGraphicsDeleted(){this._stateSets&&this._stateSets.forEach((t=>t.objectStateSet.removeAll()))}_initializeSet(t){const e=this._graphicsCore.graphics3DGraphics;t.objectIdField?e.forEach((e=>{e&&t.hasGraphic(e)&&this._addObjectStateSet(e,t)})):t.ids.forEach((s=>{const a=e.get(s);a&&this._addObjectStateSet(a,t)}))}get test(){return{states:this._stateSets}}}export{s as Graphics3DObjectStates};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{HandleOwner as i}from\"../../../../core/HandleOwner.js\";import t from\"../../../../core/Logger.js\";import{isSome as r,isNone as a}from\"../../../../core/maybe.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{projectBoundingRect as n}from\"../../../../geometry/projection.js\";import{create as c}from\"../../../../geometry/support/aaBoundingRect.js\";import{VisibilityFlag as h,VisibilityGroup as o}from\"./enums.js\";import{scaleBoundsPredicate as p}from\"../../../support/layerViewUtils.js\";import{TaskPriority as d}from\"../../../support/Scheduler.js\";const y=t.getLogger(\"esri.views.3d.layers.graphics.Graphics3DScaleVisibility\");let g=class extends i{constructor(e){super(e),this._scaleRangeActive=!1,this._layerScaleRangeVisibilityQuery=!1,this._extent=null,this.graphicsCoreOwner=null,this.layer=null,this.queryGraphicUIDsInExtent=null,this.graphicsCore=null,this.basemapTerrain=null,this.layerScaleEnabled=!0,this.suspended=!1,this._dirty=!0}initialize(){this.updateScaleRangeActive();const e=this.graphicsCoreOwner.view.resourceController.scheduler;this.handles.add(e.registerTask(d.SCALE_VISIBILITY,this)),this.updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this.layerMinMaxScaleChangeHandler()))}destroy(){this.updatingHandles.removeAll(),this.handles.removeAll(),this._dirty=!1,this._extent=null,this.graphicsCoreOwner=null,this.layer=null,this.queryGraphicUIDsInExtent=null,this.graphicsCore=null,this.basemapTerrain=null}get updating(){return this._dirty||this.updatingHandles.updating}_setDirty(){this._dirty=!0}setExtent(e){const i=this.graphicsCoreOwner.view.spatialReference,t=this.graphicsCoreOwner.view.basemapTerrain.spatialReference;if(i===t)this._extent=e;else{const r=c();n(e,i,r,t)?this._extent=r:this._extent=null}this._setDirty()}scaleRangeActive(){return this._scaleRangeActive}updateScaleRangeActive(){const e=this.layer,i=e.effectiveScaleRange;let t=this.layerScaleEnabled&&u(i.minScale,i.maxScale);e.labelingInfo&&!t&&(t=e.labelingInfo.some((e=>e&&u(e.minScale,e.maxScale))));const r=this._scaleRangeActive!==t;return this._scaleRangeActive=t,t&&!this.handles.has(b)&&this.basemapTerrain?(this.handles.add(this.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),b),this.layerScaleEnabled&&this.handles.add(this.basemapTerrain.on(\"tiles-visibility-changed\",(()=>this._setDirty())),b)):!t&&this.handles.has(b)&&this.handles.remove(b),r}get running(){return!(!this.graphicsCoreOwner.view.basemapTerrain||!this.updating)}runTask(){const e=this.graphicsCoreOwner.view.basemapTerrain;if(this._extent&&e&&e.ready&&this._scaleRangeActive&&this.layerScaleEnabled){if(!this._layerScaleRangeVisibilityQuery){this._layerScaleRangeVisibilityQuery=!0;const i=this.layer.effectiveScaleRange;e.queryVisibleScaleRange(this._extent,i.minScale,i.maxScale,(e=>this._finishUpdate(e)))}}else this._finishUpdate(!0)}_finishUpdate(e){this._layerScaleRangeVisibilityQuery=!1,this._set(\"suspended\",!e),this._dirty=!1}_visibleAtLayerScale(e){const i=this.layer.effectiveScaleRange;return!this.layerScaleEnabled||p(e,i.minScale||0,i.maxScale||0)}_visibleAtLabelScale(e,i){return p(e,i.minScale||0,i.maxScale||0)}_graphicScale(e){let i;if(r(e.centroid)?i=e.centroid:r(e.graphic.geometry)&&\"point\"===e.graphic.geometry.type&&(i=e.graphic.geometry),i){return this.graphicsCoreOwner.view.basemapTerrain?this.graphicsCoreOwner.view.basemapTerrain.getScale(i):1}return null}_graphicVisible(e){if(!this.layerScaleEnabled)return!0;const i=this._graphicScale(e);return this._visibleAtLayerScale(i)}updateVisibility(e){if(this._scaleRangeActive){const i=this._graphicVisible(e);return e.setVisibilityFlag(h.SCALE_RANGE,i,o.GRAPHIC)}return!1}updateGraphicLabelScaleVisibility(e){if(!this._scaleRangeActive)return!1;if(!e.labelGraphics||0===e.labelGraphics.length)return!1;const i=this._graphicScale(e),t=this._updateLabelScaleVisibility(e,i);return t&&(this.graphicsCoreOwner.view.deconflictor.setDirty(),this.graphicsCoreOwner.view.labeler.setDirty()),t}_updateLabelScaleVisibility(e,i){if(!e.labelGraphics||0===e.labelGraphics.length)return!1;const t=e.labelGraphics[0]._labelClass;if(t&&null!=t.minScale&&null!=t.maxScale){const r=this._visibleAtLabelScale(i,t);if(e.setVisibilityFlag(h.SCALE_RANGE,r,o.LABEL))return!0}return!1}_scaleUpdateHandler(e){if(this._setDirty(),this.graphicsCoreOwner.suspended)return;const i=e.extent,t=e.scale,s=this._visibleAtLayerScale(t);let l=!1;const c=this.graphicsCoreOwner.view.spatialReference,p=e.spatialReference;if(a(p))return void y.error(\"scaleUpdate: Internal error, no SpatialReference given for tiles\");const d=!p.equals(c);if(d){if(!n(i,p,m,c))return void y.error(\"scaleUpdate: Internal error, cannot project AABR from \"+p+\" to wkid \"+c)}const g=d?m:i;this.queryGraphicUIDsInExtent(g,c,(e=>{const n=this.graphicsCore.getGraphics3DGraphicById(e);if(a(n))return;const c=n.centroid;r(c)&&(i[0]>c.x||i[1]>c.y||i[2]<c.x||i[3]<c.y)||(n.setVisibilityFlag(h.SCALE_RANGE,s,o.GRAPHIC)&&(l=!0),this._updateLabelScaleVisibility(n,t)&&(l=!0))})),l&&(this.graphicsCoreOwner.view.deconflictor.setDirty(),this.graphicsCoreOwner.view.labeler.setDirty())}layerMinMaxScaleChangeHandler(){this.updateScaleRangeActive()&&!this._scaleRangeActive?this.graphicsCore.modifyGraphics3DGraphicVisibilities((e=>e.clearVisibilityFlag(h.SCALE_RANGE))):this._scaleRangeActive&&this.graphicsCore.updateAllGraphicsVisibility(),this._setDirty()}};function u(e,i){return e>0||i>0}e([s()],g.prototype,\"graphicsCoreOwner\",void 0),e([s()],g.prototype,\"layer\",void 0),e([s()],g.prototype,\"queryGraphicUIDsInExtent\",void 0),e([s()],g.prototype,\"graphicsCore\",void 0),e([s()],g.prototype,\"basemapTerrain\",void 0),e([s({constructOnly:!0})],g.prototype,\"layerScaleEnabled\",void 0),e([s({readOnly:!0})],g.prototype,\"suspended\",void 0),e([s({readOnly:!0})],g.prototype,\"updating\",null),e([s()],g.prototype,\"_dirty\",void 0),g=e([l(\"esri.views.3d.layers.graphics.Graphics3DScaleVisibility\")],g);const b=\"terrain-events\",m=c(),S=g;export{S as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Graphic.js\";import i from\"../../../../core/Collection.js\";import{HandleOwner as s}from\"../../../../core/HandleOwner.js\";import{makeHandle as r}from\"../../../../core/handleUtils.js\";import{isSome as n,destroyMaybe as o,isNone as a}from\"../../../../core/maybe.js\";import{isAbortError as p}from\"../../../../core/promiseUtils.js\";import{watch as l,sync as c,syncAndInitial as h}from\"../../../../core/reactiveUtils.js\";import{property as u}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as d}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as y}from\"../../../../core/accessorSupport/diffUtils.js\";import g from\"../../../../layers/Layer.js\";import{hydrateGraphic as m}from\"../../../../layers/graphics/hydratedFeatures.js\";import{getRenderingInfo as f,getRenderingInfoAsync as b}from\"../../../../renderers/support/renderingInfoUtils.js\";import C from\"../../../../rest/support/Query.js\";import{DrapeSourceType as j}from\"../interfaces.js\";import{SUSPEND_RESUME_EXTENT_OPTIMISM as w}from\"./constants.js\";import{Graphics3DCore as S}from\"./Graphics3DCore.js\";import v from\"./Graphics3DElevationAlignment.js\";import V from\"./Graphics3DFrustumVisibility.js\";import{Graphics3DObjectStates as E}from\"./Graphics3DObjectStates.js\";import G from\"./Graphics3DScaleVisibility.js\";import{enlargeExtent as O}from\"./graphicUtils.js\";import{UpdatePolicy as x,Object3DState as P}from\"../../webgl-engine/lib/basicInterfaces.js\";let A=class extends s{constructor(t){super(t),this.type=\"graphics-3d\",this.graphicsCore=null,this.drapeSourceType=j.Features,this.scaleVisibilityEnabled=!1,this.frustumVisibilityEnabled=!1,this._suspendResumeExtent=null}initialize(){const{layer:t}=this,e=\"effectiveScaleRange\"in t?t:null,i=this.scaleVisibilityEnabled&&n(e),s=new S({owner:this,layer:this.owner.layer,preferredUpdatePolicy:x.SYNC,graphicSymbolSupported:!0,componentFactories:{elevationAlignment:(t,e)=>new v({graphicsCoreOwner:this,graphicsCore:t,queryGraphicUIDsInExtent:e,elevationProvider:this.view.elevationProvider}),scaleVisibility:i?(t,i)=>new G({graphicsCoreOwner:this,layer:e,queryGraphicUIDsInExtent:i,graphicsCore:t,basemapTerrain:this.owner.view.basemapTerrain}):null,objectStates:t=>new E(t)}});if(this._set(\"graphicsCore\",s),this.frustumVisibilityEnabled&&this._set(\"frustumVisibility\",new V({graphicsCoreOwner:this})),\"fullOpacity\"in this.owner){const t=this.owner;this.updatingHandles.add((()=>t.fullOpacity),(()=>this.graphicsCore.opacityChange()))}if(\"elevationInfo\"in t){const e=t;this.updatingHandles.add((()=>e.elevationInfo),((t,e)=>{y(t,e)&&this.updatingHandles.addPromise(this.graphicsCore.elevationInfoChange())}))}this._set(\"initializePromise\",this._initializeAsync()),this.updatingHandles.addPromise(this.initializePromise)}async _initializeAsync(){try{await this.graphicsCore.initializePromise}catch(t){if(p(t))return;throw t}this.destroyed||(this.handles.add(l((()=>this.view.clippingArea),(()=>this._updateClippingExtent()),c)),this._updateClippingExtent(),this._setupSuspendResumeExtent(),this.graphicsCore.startCreateGraphics())}destroy(){this.handles.removeAll(),this.updatingHandles.removeAll(),this._set(\"frustumVisibility\",o(this.frustumVisibility)),this._set(\"graphicsCore\",o(this.graphicsCore))}get layer(){return this.owner.layer}get view(){return this.owner.view}get scaleVisibility(){return this.graphicsCore?.scaleVisibility}get elevationAlignment(){return this.graphicsCore?.elevationAlignment}get objectStates(){return this.graphicsCore?.objectStates}get scaleVisibilitySuspended(){return!(!n(this.scaleVisibility)||!this.scaleVisibility.suspended)}get frustumVisibilitySuspended(){return n(this.frustumVisibility)&&this.frustumVisibility.suspended}get suspended(){return this.owner.suspended??!1}get updating(){return!!(this.graphicsCore?.updating||n(this.scaleVisibility)&&this.scaleVisibility.updating||n(this.frustumVisibility)&&this.frustumVisibility.updating||this.updatingHandles.updating)}get graphics3DGraphics(){return this.graphicsCore?.graphics3DGraphics}get graphics3DGraphicsByObjectID(){return this.graphicsCore?.graphics3DGraphicsByObjectID}get loadedGraphics(){return this.owner.loadedGraphics}get fullOpacity(){return this.owner.fullOpacity??1}get slicePlaneEnabled(){return this.owner.slicePlaneEnabled}get updatePolicy(){return this.owner.updatePolicy}notifyGraphicGeometryChanged(t){this.graphicsCore.notifyGraphicGeometryChanged(t)}notifyGraphicVisibilityChanged(t){this.graphicsCore.notifyGraphicVisibilityChanged(t)}getRenderingInfo(t,e,i){const s=f(t,{renderer:e,arcade:i});if(n(s)&&s.color){const t=s.color;t[0]=t[0]/255,t[1]=t[1]/255,t[2]=t[2]/255}return s}getRenderingInfoAsync(t,e,i,s){return b(t,{renderer:e,arcade:i,...s})}getHit(t){if(this.owner.loadedGraphics){const e=this.owner.loadedGraphics.find((e=>e.uid===t));if(e){const t=this.layer instanceof g?this.layer:null,i=m(e,t);return{type:\"graphic\",graphic:i,layer:i.layer}}}return null}whenGraphicBounds(t,e){return this.graphicsCore?this.graphicsCore.whenGraphicBounds(t,e):Promise.reject()}computeAttachmentOrigin(t,e){return this.graphicsCore?this.graphicsCore.computeAttachmentOrigin(t,e):null}getSymbolLayerSize(t,e){return this.graphicsCore?this.graphicsCore.getSymbolLayerSize(t,e):null}maskOccludee(t){const{set:e,handle:i}=this.objectStates.acquireSet(P.MaskOccludee,null);return this.objectStates.setUid(e,t.uid),i}highlight(t){if(t instanceof C)return _;if(\"number\"==typeof t)return this.highlight([t]);if(t instanceof e)return this.highlight([t]);if(t instanceof i&&(t=t.toArray()),Array.isArray(t)&&t.length>0){if(t[0]instanceof e){const e=t.map((t=>t.uid)),{set:i,handle:s}=this.objectStates.acquireSet(P.Highlight,null);return this.objectStates.setUids(i,e),s}if(\"number\"==typeof t[0]){const e=t,{set:i,handle:s}=this.objectStates.acquireSet(P.Highlight,null);return this.objectStates.setObjectIds(i,e),s}}return _}_setupSuspendResumeExtent(){const{scaleVisibility:t,frustumVisibility:e}=this;if(a(t)&&a(e))return;const i=({computedExtent:i,extentPadding:s})=>{this._suspendResumeExtent=O(i,this._suspendResumeExtent,w,s),n(t)&&t.setExtent(this._suspendResumeExtent),n(e)&&e.setExtent(this._suspendResumeExtent)};this.handles.add(l((()=>({computedExtent:this.graphicsCore?.computedExtent,extentPadding:this.graphicsCore?.extentPadding})),(t=>i(t)),h))}_updateClippingExtent(){const t=this.view.clippingArea;this.graphicsCore.setClippingExtent(t,this.view.spatialReference)&&this.graphicsCore.recreateAllGraphics()}};t([u()],A.prototype,\"type\",void 0),t([u({constructOnly:!0})],A.prototype,\"owner\",void 0),t([u()],A.prototype,\"layer\",null),t([u()],A.prototype,\"view\",null),t([u({constructOnly:!0})],A.prototype,\"graphicsCore\",void 0),t([u()],A.prototype,\"scaleVisibility\",null),t([u({constructOnly:!0})],A.prototype,\"frustumVisibility\",void 0),t([u()],A.prototype,\"elevationAlignment\",null),t([u()],A.prototype,\"objectStates\",null),t([u()],A.prototype,\"scaleVisibilitySuspended\",null),t([u({readOnly:!0})],A.prototype,\"frustumVisibilitySuspended\",null),t([u()],A.prototype,\"suspended\",null),t([u({readOnly:!0})],A.prototype,\"updating\",null),t([u()],A.prototype,\"loadedGraphics\",null),t([u()],A.prototype,\"fullOpacity\",null),t([u()],A.prototype,\"slicePlaneEnabled\",null),t([u()],A.prototype,\"drapeSourceType\",void 0),t([u()],A.prototype,\"updatePolicy\",null),t([u({constructOnly:!0})],A.prototype,\"scaleVisibilityEnabled\",void 0),t([u({constructOnly:!0})],A.prototype,\"frustumVisibilityEnabled\",void 0),t([u()],A.prototype,\"initializePromise\",void 0),A=t([d(\"esri.views.3d.layers.graphics.GraphicsProcessor\")],A);const _=r();export{A as GraphicsProcessor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as n}from\"../../../../core/maybe.js\";import{throwIfAborted as r}from\"../../../../core/promiseUtils.js\";import{loadArcade as t}from\"../../../../support/arcadeOnDemand.js\";async function a(a,o,i){if(e(a)||0===o.candidates.length)return s;const c=a.graphics3DGraphicsByObjectID??a.graphics3DGraphics,p=[],d=[],{renderer:u}=a,g=n(u)&&\"arcadeRequired\"in u&&u.arcadeRequired?t():null,l=async(n,{graphic:r,graphics3DSymbol:t})=>{const s=await g,o=await a.getRenderingInfoAsync(r,u,s,{signal:i});return e(o)?[]:t.queryForSnapping(n,f,o,i)},{candidates:h,spatialReference:f}=o;for(let n=0;n<h.length;++n){const r=h[n],{objectId:t}=r,a=\"number\"==typeof t?c.get(t):void 0;if(e(a))continue;const{graphics3DSymbol:s}=a;s.symbologySnappingSupported&&(p.push(l(r,a)),d.push(n))}if(0===p.length)return s;const m=await Promise.all(p);r(i);const y=[],b=[];for(let e=0;e<m.length;++e){const n=m[e],r=d[e];for(const e of n)y.push(e),b.push(r)}return{candidates:y,sourceCandidateIndices:b}}const s={candidates:[],sourceCandidateIndices:[]};export{a as queryForSymbologySnapping};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r}from\"../../../../core/maybe.js\";import{project as o}from\"../../../../geometry/support/webMercatorUtils.js\";import{projectGeometry as t}from\"../../../../portal/support/geometryServiceUtils.js\";function l(l){const s=l.view.spatialReference,i=l.layer.fullExtent,n=e(i)&&i.spatialReference;if(r(i)||!n)return Promise.resolve(null);if(n.equals(s))return Promise.resolve(i.clone());const a=o(i,s);return e(a)?Promise.resolve(a):l.view.state.isLocal?t(i,s,l.layer.portalItem).then((e=>!l.destroyed&&e?e:void 0)).catch((()=>null)):Promise.resolve(null)}export{l as toViewIfLocal};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Error.js\";import{destroyMaybe as s,isSome as i,isNone as t}from\"../../../core/maybe.js\";import{when as o}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LayerView3D as p}from\"./LayerView3D.js\";import{elevationAlignPointsInFeatures as c}from\"./graphics/elevationAlignPointsInFeatures.js\";import{GraphicsProcessor as l}from\"./graphics/GraphicsProcessor.js\";import{queryForSymbologySnapping as h}from\"./graphics/queryForSymbologySnapping.js\";import{toViewIfLocal as u}from\"./support/projectExtentUtils.js\";import{UpdatePolicy as d}from\"../webgl-engine/lib/basicInterfaces.js\";import m from\"../../layers/LayerView.js\";let g=class extends(p(m)){constructor(){super(...arguments),this.type=\"graphics-3d\",this.symbologySnappingSupported=!0,this.slicePlaneEnabled=!1,this.fullExtentInLocalViewSpatialReference=null}initialize(){this._set(\"processor\",new l({owner:this,scaleVisibilityEnabled:!0,frustumVisibilityEnabled:!0})),this.addResolvingPromise(this.processor.initializePromise),this.handles.add(this.layer.on(\"graphic-update\",(e=>this.processor.graphicsCore.graphicUpdateHandler(e)))),this.addResolvingPromise(u(this).then((e=>this.fullExtentInLocalViewSpatialReference=e))),this.layer.internal?this.notifyChange(\"updating\"):this.handles.add(o((()=>this.view?.basemapTerrain?.ready),(()=>()=>this.notifyChange(\"updating\")),{once:!0}))}destroy(){this.handles.removeAll(),this.updatingHandles.removeAll(),this._set(\"processor\",s(this.processor))}get loadedGraphics(){return this.layer.graphics}get legendEnabled(){return this.canResume()&&!this.processor?.frustumVisibilitySuspended}getSuspendInfo(){const e=super.getSuspendInfo();return e.outsideScaleRange=this.processor?.scaleVisibilitySuspended??!1,e.outsideOfView=this.processor?.frustumVisibilitySuspended??!1,e}async fetchPopupFeatures(e,r){return i(r)?r.clientGraphics:null}getHit(e){return this.processor.getHit(e)}whenGraphicBounds(e,r){return this.processor.whenGraphicBounds(e,r)}computeAttachmentOrigin(e,r){return this.processor?.computeAttachmentOrigin(e,r)}getSymbolLayerSize(e,r){return this.processor.getSymbolLayerSize(e,r)}queryGraphics(){return Promise.resolve(this.loadedGraphics)}maskOccludee(e){return this.processor.maskOccludee(e)}highlight(e){return this.processor.highlight(e)}async elevationAlignPointsInFeatures(e,s){const{processor:i}=this;if(t(i))throw new r(\"graphicslayerview3d:missing-processor\",\"A Graphics3D processor is needed to resolve graphics elevation.\");return c(this.view,this.layer,(e=>\"number\"==typeof e?i.graphics3DGraphics.get(e):null),e,s)}async queryForSymbologySnapping(e,r){return h(this.processor,e,r)}get updatePolicy(){return this.processor?.graphicsCore.effectiveUpdatePolicy||d.SYNC}canResume(){return super.canResume()&&!this.processor?.scaleVisibilitySuspended}isUpdating(){return!(!this.processor?.updating&&(this.layer.internal||this.view?.basemapTerrain?.ready))}get performanceInfo(){return{displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:-1,totalNumberOfFeatures:-1,nodes:0,core:null,updating:this.updating,elevationUpdating:this.processor?.elevationAlignment.updating??!1,visibilityFrustum:!this.processor?.frustumVisibilitySuspended}}getUsedMemory(){return this.processor?.graphicsCore?.usedMemory??0}getUnloadedMemory(){return this.processor?.graphicsCore?.unprocessedMemoryEstimate}ignoresMemoryFactor(){return!0}};e([a()],g.prototype,\"loadedGraphics\",null),e([a({readOnly:!0})],g.prototype,\"legendEnabled\",null),e([a()],g.prototype,\"layer\",void 0),e([a({readOnly:!0})],g.prototype,\"processor\",void 0),e([a({type:Boolean})],g.prototype,\"slicePlaneEnabled\",void 0),g=e([n(\"esri.views.3d.layers.GraphicsLayerView3D\")],g);const y=g;export{y as default};\n"],
  "mappings": "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",
  "names": ["n", "c", "e", "g", "o", "j", "f", "i", "s", "y", "m", "t", "n", "i", "f", "j", "u", "y", "v", "I", "d", "g", "x", "h", "w", "o", "a", "p", "e", "c", "l", "i", "e", "o", "r", "n", "a", "t", "l", "s", "u", "c", "s", "c", "l", "a", "h", "c", "b", "u", "S", "f", "e", "i", "r", "n", "e", "t", "r", "s", "i", "E", "C", "l", "t", "n", "e", "i", "O", "r", "u", "s", "y", "r", "s", "t", "e", "p", "t", "e", "o", "a", "r", "n", "s", "i", "O", "d", "l", "f", "u", "M", "U", "g", "E", "T", "I", "S", "c", "A", "b", "m", "h", "v", "j", "y", "_", "e", "t", "s", "i", "a", "r", "n", "o", "v", "k", "d", "q", "y", "c", "E", "h", "P", "S", "f", "A", "u", "p", "O", "e", "a", "t", "e", "r", "l", "j", "r", "e", "o", "S", "n", "s", "a", "t", "D", "R", "v", "u", "C", "E", "L", "x", "r", "e", "o", "u", "n", "t", "c", "b", "y", "e", "P", "r", "m", "t", "a", "s", "i", "o", "u", "d", "n", "l", "F", "c", "O", "f", "s", "y", "a", "e", "t", "i", "o", "h", "g", "r", "n", "m", "_", "x", "B", "l", "v", "_e", "m", "n", "u", "t", "i", "s", "a", "l", "f", "d", "g", "h", "E", "j", "y", "x", "e", "o", "r", "v", "A", "c", "h", "e", "i", "t", "l", "o", "E", "a", "R", "_", "u", "i", "s", "p", "e", "g", "d", "e", "S", "i", "t", "r", "E", "p", "h", "O", "b", "f", "L", "T", "I", "s", "y", "B", "u", "n", "b", "y", "e", "t", "U", "g", "f", "r", "a", "n", "l", "s", "u", "o", "c", "m", "d", "h", "E", "i", "A", "p", "x", "O", "P", "_", "C", "t", "s", "e", "o", "l", "i", "a", "b", "S", "e", "w", "D", "B", "u", "V", "i", "r", "s", "a", "z", "E", "C", "o", "t", "v", "nt", "n", "l", "A", "c", "h", "f", "M", "n", "r", "s", "O", "d", "a", "o", "e", "u", "t", "w", "v", "c", "i", "e", "o", "s", "r", "c", "l", "u", "h", "f", "g", "a", "p", "i", "t", "n", "X", "$", "y", "e", "t", "r", "s", "S", "n", "i", "o", "a", "C", "h", "v", "u", "l", "c", "m", "d", "g", "A", "f", "_", "L", "M", "I", "B", "z", "R", "D", "G", "k", "V", "H", "Z", "W", "q", "K", "x", "p", "b", "E", "O", "ee", "T", "Q", "re", "ue", "P", "j", "w", "l", "e", "t", "r", "i", "E", "I", "n", "o", "a", "A", "u", "f", "p", "h", "w", "S", "s", "t", "e", "i", "n", "d", "h", "r", "o", "a", "_", "l", "g", "c", "r", "o", "c", "t", "h", "i", "t", "e", "f", "S", "y", "h", "x", "e", "b", "C", "g", "M", "o", "V", "t", "i", "n", "r", "s", "m", "l", "D", "T", "U", "E", "O", "j", "k", "w", "F", "A", "I", "P", "q", "R", "_", "$", "a", "u", "f", "c", "B", "L", "se", "e", "ae", "r", "oe", "ne", "le", "a", "ce", "he", "me", "y", "t", "i", "g", "S", "s", "u", "c", "L", "ue", "de", "o", "n", "b", "w", "l", "h", "d", "f", "j", "P", "m", "p", "x", "R", "_e", "B", "pe", "_", "E", "T", "n", "r", "e", "R", "O", "b", "e", "o", "t", "i", "a", "h", "c", "A", "l", "E", "_", "f", "s", "m", "P", "M", "v", "d", "e", "S", "R", "a", "t", "E", "p", "r", "o", "T", "O", "h", "_", "b", "s", "i", "n", "c", "u", "m", "A", "f", "g", "I", "q", "J", "y", "e", "t", "r", "a", "P", "s", "f", "n", "H", "v", "u", "c", "h", "R", "i", "p", "x", "g", "w", "o", "l", "d", "m", "_", "A", "M", "C", "b", "T", "me", "he", "y", "e", "t", "r", "a", "F", "h", "o", "v", "l", "s", "n", "i", "u", "c", "m", "C", "L", "D", "_", "f", "O", "d", "pe", "de", "ge", "x", "p", "be", "R", "j", "V", "k", "fe", "_e", "A", "ye", "M", "g", "T", "f", "e", "t", "i", "n", "s", "I", "a", "A", "o", "x", "c", "r", "d", "m", "v", "u", "P", "p", "b", "_", "t", "s", "e", "o", "r", "n", "c", "O", "F", "t", "e", "T", "v", "b", "l", "u", "h", "c", "d", "x", "M", "n", "s", "a", "o", "C", "R", "w", "p", "I", "S", "n", "G", "e", "r", "t", "w", "R", "s", "i", "l", "t", "s", "J", "e", "r", "a", "h", "o", "m", "s", "o", "i", "u", "f", "d", "p", "c", "e", "E", "F", "r", "t", "a", "n", "l", "U", "h", "n", "o", "i", "r", "m", "s", "p", "f", "t", "e", "c", "A", "g", "r", "i", "s", "E", "F", "e", "t", "n", "a", "O", "i", "l", "c", "x", "d", "t", "e", "f", "_", "u", "r", "x", "e", "t", "a", "M", "s", "i", "J", "E", "B", "o", "n", "r", "d", "h", "p", "f", "q", "H", "O", "G", "N", "l", "c", "w", "V", "P", "U", "_", "g", "C", "I", "y", "R", "F", "me", "y", "e", "t", "s", "r", "S", "d", "a", "n", "i", "c", "F", "l", "h", "m", "u", "f", "_", "P", "C", "o", "R", "v", "Y", "g", "x", "L", "j", "U", "E", "_e", "B", "M", "O", "ue", "p", "fe", "be", "ye", "I", "G", "n", "t", "a", "r", "s", "u", "o", "e", "c", "i", "f", "l", "h", "M", "b", "m", "d", "p", "y", "x", "g", "j", "S", "q", "_", "r", "d", "e", "i", "s", "n", "o", "c", "a", "t", "e", "r", "t", "n", "o", "E", "n", "k", "t", "e", "i", "G", "t", "e", "i", "r", "B", "n", "E", "nt", "s", "l", "j", "h", "o", "a", "u", "p", "z", "c", "J", "f", "_", "q", "H", "t", "e", "i", "s", "X", "r", "g", "k", "j", "_", "K", "Q", "W", "Y", "o", "h", "n", "a", "l", "v", "$", "nt", "u", "d", "m", "q", "V", "O", "E", "R", "O", "x", "p", "r", "C", "e", "o", "l", "i", "t", "h", "c", "A", "a", "_", "f", "E", "s", "d", "E", "d", "e", "_", "R", "t", "h", "i", "a", "s", "o", "n", "u", "l", "p", "r", "m", "f", "b", "v", "S", "g", "O", "w", "T", "C", "x", "y", "c", "se", "ae", "y", "e", "t", "r", "i", "P", "a", "l", "j", "_e", "c", "X", "ge", "H", "p", "W", "Y", "ye", "m", "d", "f", "u", "g", "n", "V", "s", "E", "C", "h", "v", "R", "o", "pe", "A", "M", "B", "me", "_", "z", "oe", "b", "$", "ne", "x", "w", "he", "de", "J", "fe", "G", "le", "ue", "ce", "T", "t", "o", "r", "s", "n", "l", "e", "u", "k", "E", "c", "a", "P", "M", "f", "i", "Y", "_", "d", "C", "y", "O", "F", "S", "A", "H", "v", "x", "G", "I", "p", "b", "m", "w", "B", "z", "q", "N", "h", "D", "C", "e", "t", "r", "o", "w", "i", "s", "h", "c", "A", "l", "a", "E", "_", "f", "N", "T", "x", "n", "O", "y", "d", "t", "j", "w", "x", "e", "S", "r", "i", "s", "a", "o", "h", "E", "T", "O", "R", "C", "v", "n", "c", "l", "u", "f", "r", "e", "t", "g", "u", "a", "o", "m", "p", "y", "d", "n", "l", "O", "c", "M", "w", "i", "H", "W", "y", "e", "t", "r", "i", "f", "a", "n", "u", "h", "o", "p", "x", "g", "z", "s", "M", "c", "l", "_", "w", "d", "A", "k", "R", "m", "O", "Y", "T", "B", "s", "o", "r", "a", "c", "g", "f", "l", "d", "u", "h", "m", "b", "y", "p", "S", "R", "i", "e", "t", "n", "s", "r", "o", "d", "L", "D", "c", "C", "R", "y", "e", "t", "r", "n", "S", "s", "d", "i", "o", "l", "a", "A", "f", "U", "x", "g", "G", "c", "m", "h", "b", "P", "O", "w", "D", "L", "u", "T", "W", "I", "k", "B", "_", "H", "$", "V", "e", "F", "I", "y", "e", "t", "r", "o", "h", "d", "l", "i", "s", "n", "f", "p", "x", "g", "u", "a", "Y", "c", "_", "k", "z", "m", "W", "A", "N", "M", "R", "q", "T", "c", "o", "e", "t", "i", "m", "h", "l", "s", "me", "J", "ae", "W", "$", "R", "I", "h", "he", "p", "a", "e", "t", "s", "r", "i", "n", "d", "c", "f", "o", "V", "P", "_", "s", "p", "r", "t", "a", "e", "b", "f", "o", "t", "i", "e", "p", "s", "e", "a", "t", "s", "r", "b", "i", "s", "t", "i", "O", "e", "a", "d", "t", "h", "e", "i", "u", "O", "s", "G", "y", "n", "v", "b", "n", "e", "t", "x", "o", "r", "R", "s", "i", "a", "H", "L", "c", "A", "C", "E", "y", "e", "l", "x", "u", "i", "n", "n", "a", "s", "e", "o", "w", "i", "t", "y", "l", "d", "r", "S", "C", "O", "E", "j", "u", "f", "_a", "_b", "F", "I", "c", "p", "m", "h", "T", "b", "Te", "M", "A", "G", "l", "_", "t", "u", "a", "F", "e", "o", "i", "h", "r", "y", "c", "g", "b", "c", "e", "_", "t", "n", "l", "I", "i", "r", "a", "y", "h", "r", "n", "t", "i", "b", "k", "g", "n", "k", "r", "i", "s", "f", "e", "v", "t", "c", "R", "u", "b", "M", "F", "N", "t", "n", "e", "p", "U", "i", "r", "a", "O", "P", "A", "u", "l", "b", "V", "h", "o", "v", "I", "L", "s", "c", "k", "R", "u", "d", "e", "t", "N", "s", "i", "l", "I", "h", "y", "n", "_", "t", "e", "r", "o", "u", "e", "i", "r", "t", "s", "t", "a", "i", "e", "h", "n", "y", "s", "g", "d", "e", "I", "i", "t", "r", "u", "b", "c", "C", "E", "l", "p", "m", "n", "S", "A", "d", "t", "e", "i", "s", "l", "S", "_", "m", "j", "a", "b", "f", "u", "x", "g", "z", "w", "y", "n", "a", "o", "i", "s", "c", "p", "d", "u", "g", "l", "n", "r", "t", "f", "h", "m", "y", "b", "e", "l", "s", "i", "n", "a", "e", "g", "n", "u", "A", "e", "l", "f", "r", "s", "i", "m", "a", "y"]
}
