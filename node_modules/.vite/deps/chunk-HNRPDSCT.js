import {
  t as t4
} from "./chunk-6VLXCUNV.js";
import {
  a as a3
} from "./chunk-D2XA6Z6P.js";
import {
  E2,
  a as a5
} from "./chunk-O4DPVR3F.js";
import {
  E
} from "./chunk-MATM5L52.js";
import {
  t as t3
} from "./chunk-4OM3EX6P.js";
import {
  a as a4,
  i,
  t as t2
} from "./chunk-ZLTZ3KAT.js";
import {
  O
} from "./chunk-RUM3DXFX.js";
import {
  C,
  F,
  G,
  L,
  M,
  P
} from "./chunk-3OFVLRSL.js";
import {
  e as e3
} from "./chunk-IVLBGTXL.js";
import {
  e as e2
} from "./chunk-GHN7C53L.js";
import {
  e as e4,
  h as h3
} from "./chunk-EGV5SNBD.js";
import {
  h as h2,
  n as n2,
  o as o2,
  u
} from "./chunk-RT3T2K4S.js";
import {
  a as a2,
  d,
  q
} from "./chunk-XMZAPOBR.js";
import {
  a,
  h,
  m
} from "./chunk-C5H57NTD.js";
import {
  _,
  o,
  z
} from "./chunk-3LR5O4WA.js";
import {
  n,
  r as r2
} from "./chunk-D4V6J5BT.js";
import {
  e4 as e
} from "./chunk-OOLCFNXJ.js";
import {
  c
} from "./chunk-6QC7MLLS.js";
import {
  r,
  t
} from "./chunk-MIHB3CIK.js";

// node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4sPassUniform.js
var e5 = class extends i {
  constructor(r6, e7, o7) {
    super(r6, "vec4", a4.Pass, (s3, o8, t6) => s3.setUniform4fv(r6, e7(o8, t6)), o7);
  }
};

// node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatsPassUniform.js
var o3 = class extends i {
  constructor(r6, o7, e7) {
    super(r6, "float", a4.Pass, (s3, e8, t6) => s3.setUniform1fv(r6, o7(e8, t6)), e7);
  }
};

// node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObject.js
var r3 = class {
  constructor() {
    this.id = e();
  }
  unload() {
  }
};

// node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js
var e6;
!function(e7) {
  e7[e7.Layer = 0] = "Layer", e7[e7.Object = 1] = "Object", e7[e7.Geometry = 2] = "Geometry", e7[e7.Material = 3] = "Material", e7[e7.Texture = 4] = "Texture", e7[e7.COUNT = 5] = "COUNT";
}(e6 || (e6 = {}));

// node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js
var E3 = /* @__PURE__ */ new Map([[O.POSITION, 0], [O.NORMAL, 1], [O.UV0, 2], [O.COLOR, 3], [O.SIZE, 4], [O.TANGENT, 4], [O.AUXPOS1, 5], [O.SYMBOLCOLOR, 5], [O.AUXPOS2, 6], [O.FEATUREATTRIBUTE, 6], [O.INSTANCEFEATUREATTRIBUTE, 6], [O.INSTANCECOLOR, 7], [O.OBJECTANDLAYERIDCOLOR, 7], [O.OBJECTANDLAYERIDCOLOR_INSTANCED, 7], [O.MODEL, 8], [O.MODELNORMAL, 12], [O.MODELORIGINHI, 11], [O.MODELORIGINLO, 15]]);

// node_modules/@arcgis/core/views/3d/webgl-engine/lib/screenSizePerspectiveUtils.js
function l2(e7) {
  return Math.abs(e7 * e7 * e7);
}
function s(e7, t6, a6) {
  const i2 = a6.parameters, r6 = a6.paddingPixelsOverride;
  return x.scale = Math.min(i2.divisor / (t6 - i2.offset), 1), x.factor = l2(e7), x.minPixelSize = i2.minPixelSize, x.paddingPixels = r6, x;
}
function c2(e7, t6) {
  return 0 === e7 ? t6.minPixelSize : t6.minPixelSize * (1 + 2 * t6.paddingPixels / e7);
}
function o4(t6, a6) {
  return Math.max(h(t6 * a6.scale, t6, a6.factor), c2(t6, a6));
}
function u2(e7, t6, a6) {
  const i2 = s(e7, t6, a6);
  return i2.minPixelSize = 0, i2.paddingPixels = 0, o4(1, i2);
}
function d2(e7, t6, a6, i2) {
  i2.scale = u2(e7, t6, a6), i2.factor = 0, i2.minPixelSize = a6.parameters.minPixelSize, i2.paddingPixels = a6.paddingPixelsOverride;
}
function f(e7, t6, a6 = [0, 0]) {
  const i2 = Math.min(Math.max(t6.scale, c2(e7[1], t6) / Math.max(1e-5, e7[1])), 1);
  return a6[0] = e7[0] * i2, a6[1] = e7[1] * i2, a6;
}
function m2(e7, t6, a6, i2) {
  return o4(e7, s(t6, a6, i2));
}
var h4 = { curvatureDependent: { min: { curvature: m(10), tiltAngle: m(12), scaleFallOffFactor: 0.5 }, max: { curvature: m(70), tiltAngle: m(40), scaleFallOffFactor: 0.8 } }, scaleStart: 0.3, scaleFallOffRange: 0.65, minPixelSize: 0 };
var x = { scale: 0, factor: 0, minPixelSize: 0, paddingPixels: 0 };

// node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/utils.js
function c3(r6, n4) {
  return t(r6) && (r6 = []), r6.push(n4), r6;
}
function f2(r6, n4) {
  if (t(r6))
    return null;
  const o7 = r6.filter((t6) => t6 !== n4);
  return 0 === o7.length ? null : o7;
}
function u3(t6) {
  return !!r(t6) && !t6.visible;
}
function l3(t6, i2, m3) {
  const c4 = t6.origin.vec3;
  h3(j, -c4[0], -c4[1], -c4[2]), r(t6.transformation) ? u(i2, j, t6.transformation) : n2(i2, j), h2(m3, i2), o2(m3, m3);
}
function p(t6, r6, n4, o7, s3) {
  g[0] = t6.get(r6, 0), g[1] = t6.get(r6, 1), g[2] = t6.get(r6, 2), t4(g, b, 3), n4.set(s3, 0, b[0]), o7.set(s3, 0, b[1]), n4.set(s3, 1, b[2]), o7.set(s3, 1, b[3]), n4.set(s3, 2, b[4]), o7.set(s3, 2, b[5]);
}
var g = new Float64Array(3);
var b = new Float32Array(6);
var j = e3();

// node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/MaterialUtil.js
var g2 = a2();
function x2(t6, n4, e7, o7, i2, r6, s3) {
  if (!u3(n4))
    if (t6.boundingInfo) {
      e4(t6.primitiveType === a3.Triangle);
      const n5 = e7.tolerance;
      M2(t6.boundingInfo, o7, i2, n5, r6, s3);
    } else {
      const n5 = t6.indices.get(O.POSITION), e8 = t6.vertexAttributes.get(O.POSITION);
      v(o7, i2, 0, n5.length / 3, n5, e8, void 0, r6, s3);
    }
}
var b2 = n();
function M2(t6, n4, i2, r6, s3, c4) {
  if (t(t6))
    return;
  const f3 = N(n4, i2, b2);
  if (d(g2, t6.getBBMin()), q(g2, t6.getBBMax()), r(s3) && s3.applyToAabb(g2), O2(g2, n4, f3, r6)) {
    const { primitiveIndices: e7, indices: o7, position: f4 } = t6, a6 = e7 ? e7.length : o7.length / 3;
    if (a6 > W) {
      const e8 = t6.getChildren();
      if (void 0 !== e8) {
        for (let t7 = 0; t7 < 8; ++t7)
          void 0 !== e8[t7] && M2(e8[t7], n4, i2, r6, s3, c4);
        return;
      }
    }
    v(n4, i2, 0, a6, o7, f4, e7, s3, c4);
  }
}
var y = n();
function v(t6, n4, e7, i2, r6, s3, c4, f3, a6) {
  if (c4)
    return I(t6, n4, e7, i2, r6, s3, c4, f3, a6);
  const l4 = s3.data, u5 = s3.stride || s3.size, m3 = t6[0], p2 = t6[1], h6 = t6[2], d4 = n4[0] - m3, g3 = n4[1] - p2, x3 = n4[2] - h6;
  for (let b3 = e7, M3 = 3 * e7; b3 < i2; ++b3) {
    let t7 = u5 * r6[M3++], n5 = l4[t7++], e8 = l4[t7++], i3 = l4[t7];
    t7 = u5 * r6[M3++];
    let s4 = l4[t7++], c5 = l4[t7++], v3 = l4[t7];
    t7 = u5 * r6[M3++];
    let I3 = l4[t7++], T2 = l4[t7++], j3 = l4[t7];
    r(f3) && ([n5, e8, i3] = f3.applyToVertex(n5, e8, i3, b3), [s4, c5, v3] = f3.applyToVertex(s4, c5, v3, b3), [I3, T2, j3] = f3.applyToVertex(I3, T2, j3, b3));
    const N2 = s4 - n5, O3 = c5 - e8, V2 = v3 - i3, L3 = I3 - n5, S2 = T2 - e8, B2 = j3 - i3, E5 = g3 * B2 - S2 * x3, P3 = x3 * L3 - B2 * d4, U2 = d4 * S2 - L3 * g3, W2 = N2 * E5 + O3 * P3 + V2 * U2;
    if (Math.abs(W2) <= Number.EPSILON)
      continue;
    const z2 = m3 - n5, k = p2 - e8, R = h6 - i3, C2 = z2 * E5 + k * P3 + R * U2;
    if (W2 > 0) {
      if (C2 < 0 || C2 > W2)
        continue;
    } else if (C2 > 0 || C2 < W2)
      continue;
    const H = k * V2 - O3 * R, X = R * N2 - V2 * z2, Y = z2 * O3 - N2 * k, Z = d4 * H + g3 * X + x3 * Y;
    if (W2 > 0) {
      if (Z < 0 || C2 + Z > W2)
        continue;
    } else if (Z > 0 || C2 + Z < W2)
      continue;
    const _2 = (L3 * H + S2 * X + B2 * Y) / W2;
    if (_2 >= 0) {
      a6(_2, A(N2, O3, V2, L3, S2, B2, y), b3, false);
    }
  }
}
function I(t6, n4, e7, i2, r6, s3, c4, f3, a6) {
  const l4 = s3.data, u5 = s3.stride || s3.size, m3 = t6[0], p2 = t6[1], h6 = t6[2], d4 = n4[0] - m3, g3 = n4[1] - p2, x3 = n4[2] - h6;
  for (let b3 = e7; b3 < i2; ++b3) {
    const t7 = c4[b3];
    let n5 = 3 * t7, e8 = u5 * r6[n5++], i3 = l4[e8++], s4 = l4[e8++], M3 = l4[e8];
    e8 = u5 * r6[n5++];
    let v3 = l4[e8++], I3 = l4[e8++], T2 = l4[e8];
    e8 = u5 * r6[n5];
    let j3 = l4[e8++], N2 = l4[e8++], O3 = l4[e8];
    r(f3) && ([i3, s4, M3] = f3.applyToVertex(i3, s4, M3, b3), [v3, I3, T2] = f3.applyToVertex(v3, I3, T2, b3), [j3, N2, O3] = f3.applyToVertex(j3, N2, O3, b3));
    const V2 = v3 - i3, L3 = I3 - s4, S2 = T2 - M3, B2 = j3 - i3, E5 = N2 - s4, P3 = O3 - M3, U2 = g3 * P3 - E5 * x3, W2 = x3 * B2 - P3 * d4, z2 = d4 * E5 - B2 * g3, k = V2 * U2 + L3 * W2 + S2 * z2;
    if (Math.abs(k) <= Number.EPSILON)
      continue;
    const R = m3 - i3, C2 = p2 - s4, H = h6 - M3, X = R * U2 + C2 * W2 + H * z2;
    if (k > 0) {
      if (X < 0 || X > k)
        continue;
    } else if (X > 0 || X < k)
      continue;
    const Y = C2 * S2 - L3 * H, Z = H * V2 - S2 * R, _2 = R * L3 - V2 * C2, q2 = d4 * Y + g3 * Z + x3 * _2;
    if (k > 0) {
      if (q2 < 0 || X + q2 > k)
        continue;
    } else if (q2 > 0 || X + q2 < k)
      continue;
    const w2 = (B2 * Y + E5 * Z + P3 * _2) / k;
    if (w2 >= 0) {
      a6(w2, A(V2, L3, S2, B2, E5, P3, y), t7, false);
    }
  }
}
var T = n();
var j2 = n();
function A(t6, n4, e7, o7, c4, f3, a6) {
  return o(T, t6, n4, e7), o(j2, o7, c4, f3), _(a6, T, j2), z(a6, a6), a6;
}
function N(t6, n4, e7) {
  return o(e7, 1 / (n4[0] - t6[0]), 1 / (n4[1] - t6[1]), 1 / (n4[2] - t6[2]));
}
function O2(t6, n4, e7, o7) {
  return V(t6, n4, e7, o7, 1 / 0);
}
function V(t6, n4, e7, o7, i2) {
  const r6 = (t6[0] - o7 - n4[0]) * e7[0], s3 = (t6[3] + o7 - n4[0]) * e7[0];
  let c4 = Math.min(r6, s3), f3 = Math.max(r6, s3);
  const a6 = (t6[1] - o7 - n4[1]) * e7[1], l4 = (t6[4] + o7 - n4[1]) * e7[1];
  if (f3 = Math.min(f3, Math.max(a6, l4)), f3 < 0)
    return false;
  if (c4 = Math.max(c4, Math.min(a6, l4)), c4 > f3)
    return false;
  const u5 = (t6[2] - o7 - n4[2]) * e7[2], m3 = (t6[5] + o7 - n4[2]) * e7[2];
  return f3 = Math.min(f3, Math.max(u5, m3)), !(f3 < 0) && (c4 = Math.max(c4, Math.min(u5, m3)), !(c4 > f3) && c4 < i2);
}
function L2(t6, e7, i2, r6, s3) {
  let c4 = (i2.screenLength || 0) * t6.pixelRatio;
  r(s3) && (c4 = m2(c4, r6, e7, s3));
  const f3 = c4 * Math.tan(0.5 * t6.fovY) / (0.5 * t6.fullHeight);
  return a(f3 * e7, i2.minWorldLength || 0, null != i2.maxWorldLength ? i2.maxWorldLength : 1 / 0);
}
function S(t6, n4) {
  const e7 = n4 ? S(n4) : {};
  for (const o7 in t6) {
    let n5 = t6[o7];
    n5 && n5.forEach && (n5 = P2(n5)), null == n5 && o7 in e7 || (e7[o7] = n5);
  }
  return e7;
}
function B(n4, e7) {
  let o7 = false;
  for (const i2 in e7) {
    const r6 = e7[i2];
    void 0 !== r6 && (Array.isArray(r6) ? null === n4[i2] ? (n4[i2] = r6.slice(), o7 = true) : c(n4[i2], r6) && (o7 = true) : n4[i2] !== r6 && (o7 = true, n4[i2] = r6));
  }
  return o7;
}
function E4(t6, e7, o7, i2, r6, s3) {
  if (!e7.options.selectionMode)
    return;
  const c4 = t6.vertexAttributes.get(O.POSITION).data, f3 = t6.vertexAttributes.get(O.SIZE), a6 = f3 && f3.data[0], l4 = i2[0], u5 = i2[1], m3 = ((a6 + r6) / 2 + 4) * t6.screenToWorldRatio;
  let p2 = Number.MAX_VALUE, d4 = 0;
  for (let h6 = 0; h6 < c4.length - 5; h6 += 3) {
    const t7 = c4[h6], e8 = c4[h6 + 1], o8 = l4 - t7, i3 = u5 - e8, r7 = c4[h6 + 3] - t7, s4 = c4[h6 + 4] - e8, f4 = a((r7 * o8 + s4 * i3) / (r7 * r7 + s4 * s4), 0, 1), a7 = r7 * f4 - o8, m4 = s4 * f4 - i3, g3 = a7 * a7 + m4 * m4;
    g3 < p2 && (p2 = g3, d4 = h6 / 3);
  }
  p2 < m3 * m3 && s3(o7.dist, o7.normal, d4, false);
}
function P2(t6) {
  const n4 = [];
  return t6.forEach((t7) => n4.push(t7)), n4;
}
var U = { multiply: 1, ignore: 2, replace: 3, tint: 4 };
var W = 1e3;

// node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js
var d3 = class extends r3 {
  constructor(e7, r6) {
    super(), this.type = e6.Material, this.supportsEdges = false, this._visible = true, this._renderPriority = 0, this._insertOrder = 0, this._vertexAttributeLocations = E3, this._parameters = S(e7, r6), this.validateParameters(this._parameters);
  }
  dispose() {
  }
  get parameters() {
    return this._parameters;
  }
  update(e7) {
    return false;
  }
  setParameters(e7, r6 = true) {
    B(this._parameters, e7) && (this.validateParameters(this._parameters), r6 && this.parametersChanged());
  }
  validateParameters(e7) {
  }
  get visible() {
    return this._visible;
  }
  set visible(e7) {
    e7 !== this._visible && (this._visible = e7, this.parametersChanged());
  }
  shouldRender(e7) {
    return this.isVisible() && this.isVisibleForOutput(e7.output) && 0 != (this.renderOccluded & e7.renderOccludedMask);
  }
  isVisibleForOutput(e7) {
    return true;
  }
  get renderOccluded() {
    return this.parameters.renderOccluded;
  }
  get renderPriority() {
    return this._renderPriority;
  }
  set renderPriority(e7) {
    e7 !== this._renderPriority && (this._renderPriority = e7, this.parametersChanged());
  }
  get insertOrder() {
    return this._insertOrder;
  }
  set insertOrder(e7) {
    e7 !== this._insertOrder && (this._insertOrder = e7, this.parametersChanged());
  }
  get vertexAttributeLocations() {
    return this._vertexAttributeLocations;
  }
  isVisible() {
    return this._visible;
  }
  parametersChanged() {
    r(this.repository) && this.repository.materialChanged(this);
  }
};
var o5;
!function(e7) {
  e7[e7.Occlude = 1] = "Occlude", e7[e7.Transparent = 2] = "Transparent", e7[e7.OccludeAndTransparent = 4] = "OccludeAndTransparent", e7[e7.OccludeAndTransparentStencil = 8] = "OccludeAndTransparentStencil", e7[e7.Opaque = 16] = "Opaque";
}(o5 || (o5 = {}));
var h5 = class extends t2 {
  constructor() {
    super(...arguments), this.renderOccluded = o5.Occlude;
  }
};

// node_modules/@arcgis/core/views/3d/webgl-engine/materials/VisualVariablePassParameters.js
var v2 = class extends h5 {
  constructor() {
    super(...arguments), this.vvSizeEnabled = false, this.vvSizeMinSize = r2(1, 1, 1), this.vvSizeMaxSize = r2(100, 100, 100), this.vvSizeOffset = r2(0, 0, 0), this.vvSizeFactor = r2(1, 1, 1), this.vvSizeValue = r2(1, 1, 1), this.vvColorEnabled = false, this.vvColorValues = [0, 0, 0, 0, 0, 0, 0, 0], this.vvColorColors = [1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0], this.vvOpacityEnabled = false, this.vvOpacityValues = [0, 0, 0, 0, 0, 0, 0, 0], this.vvOpacityOpacities = [1, 1, 1, 1, 1, 1, 1, 1], this.vvSymbolAnchor = [0, 0, 0], this.vvSymbolRotationMatrix = e2();
  }
};
var o6 = 8;

// node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexBufferLayouts.js
var n3 = [new t3(O.POSITION, 3, C.FLOAT, 0, 12)];
var w = [new t3(O.POSITION, 3, C.FLOAT, 0, 20), new t3(O.UV0, 2, C.FLOAT, 12, 20)];
var I2 = [new t3(O.POSITION, 3, C.FLOAT, 0, 32), new t3(O.NORMAL, 3, C.FLOAT, 12, 32), new t3(O.UV0, 2, C.FLOAT, 24, 32)];
var r4 = [new t3(O.POSITION, 3, C.FLOAT, 0, 16), new t3(O.COLOR, 4, C.UNSIGNED_BYTE, 12, 16)];
var t5 = [new t3(O.POSITION, 2, C.FLOAT, 0, 8)];
var A2 = [new t3(O.POSITION, 2, C.FLOAT, 0, 16), new t3(O.UV0, 2, C.FLOAT, 8, 16)];

// node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexArrayObject.js
var r5 = class extends a5 {
};

// node_modules/@arcgis/core/views/3d/webgl-engine/lib/glUtil3D.js
function u4(i2, m3 = t5, l4 = E3, T2 = -1, f3 = 1) {
  let u5 = null;
  if (m3 === A2)
    u5 = new Float32Array([T2, T2, 0, 0, f3, T2, 1, 0, T2, f3, 0, 1, f3, f3, 1, 1]);
  else
    u5 = new Float32Array([T2, T2, f3, T2, T2, f3, f3, f3]);
  return new r5(i2, l4, { geometry: m3 }, { geometry: E2.createVertex(i2, F.STATIC_DRAW, u5) });
}
function s2(e7) {
  return new E(e7, { target: M.TEXTURE_2D, pixelFormat: P.RGBA, dataType: G.UNSIGNED_BYTE, samplingMode: L.NEAREST, width: 1, height: 1 }, new Uint8Array([255, 255, 255, 255]));
}

export {
  r3 as r,
  e6 as e,
  E3 as E,
  r5 as r2,
  u4 as u,
  s2 as s,
  o4 as o,
  d2 as d,
  f,
  c3 as c,
  f2,
  u3 as u2,
  l3 as l,
  p,
  x2 as x,
  v,
  O2 as O,
  L2 as L,
  S,
  B,
  E4 as E2,
  U,
  d3 as d2,
  o5 as o2,
  h5 as h,
  e5 as e2,
  o3,
  v2,
  o6 as o4
};
//# sourceMappingURL=chunk-HNRPDSCT.js.map
