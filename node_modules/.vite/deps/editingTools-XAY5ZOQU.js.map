{
  "version": 3,
  "sources": ["../../@arcgis/core/views/2d/interactive/editingTools/draw/symbols.js", "../../@arcgis/core/views/2d/interactive/editingTools/draw/DrawGraphicTool2D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../../../symbols.js\";import e from\"../../../../../symbols/CIMSymbol.js\";import o from\"../../../../../symbols/SimpleMarkerSymbol.js\";const t=new e({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",effects:[{type:\"CIMGeometricEffectDashes\",dashTemplate:[3.75,3.75],lineDashEnding:\"HalfPattern\",controlPointEnding:\"NoConstraint\"}],enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:1.6,color:[255,255,255,255]},{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:2,color:[0,0,0,255]}]}}}),l=new o({style:\"circle\",size:6,color:[127,127,127,1],outline:{color:[50,50,50],width:1}}),i=new o({style:\"circle\",size:6,color:[255,127,0,1],outline:{color:[50,50,50],width:1}});export{i as activeVertex,t as outline,l as regularVertices};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../geometry.js\";import t from\"../../../../../Graphic.js\";import{makeHandle as i}from\"../../../../../core/handleUtils.js\";import{unwrapOr as r,unwrap as s,isSome as a,destroyMaybe as l}from\"../../../../../core/maybe.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{SnappingVisualizer2D as c}from\"../../SnappingVisualizer2D.js\";import{outline as p,regularVertices as h,activeVertex as m}from\"./symbols.js\";import{DrawGraphicTool as u,geometryTypeToDrawOperationGeometryType as y}from\"../../../../draw/DrawGraphicTool.js\";import{DrawOperation as v}from\"../../../../draw/DrawOperation.js\";import{MapDrawSurface as d}from\"../../../../draw/drawSurfaces.js\";import g from\"../../../../../geometry/Point.js\";import G from\"../../../../../geometry/Multipoint.js\";let E=class extends u{constructor(e){super(e),this._visualElementGraphics={outline:null,regularVertices:null,activeVertex:null},this.activeFillSymbol=null,this.type=\"draw-2d\",this._visualElementSymbols={outline:r(e.activeLineSymbol,p),regularVertices:r(e.regularVerticesSymbol,h),activeVertex:r(e.activeVertexSymbol,m),fill:s(e.activeFillSymbol)}}normalizeCtorArgs(e){const t={...e};return delete t.activeFillSymbol,delete t.activeVertexSymbol,delete t.regularVerticesSymbol,delete t.activeLineSymbol,t}initializeGraphic(e){return a(this._visualElementSymbols.fill)&&(e.symbol=this._visualElementSymbols.fill),null}makeDrawOperation(){const{defaultZ:e,hasZ:t,view:i}=this;return new v({view:i,manipulators:this.manipulators,geometryType:y(this.geometryType),drawingMode:this.mode,hasZ:t,defaultZ:e,snapToSceneEnabled:this.snapToScene,drawSurface:new d(i,t,e),hasM:!1,snappingManager:this.snappingManager,snappingVisualizer:new c(this.internalGraphicsLayer),tooltipOptions:this.tooltipOptions})}onActiveVertexChanged(e){if(\"point\"===this.geometryType)return null;const[r,s]=e,n=new g({x:r,y:s,spatialReference:this.view.spatialReference});return a(this._visualElementGraphics.activeVertex)?(this._visualElementGraphics.activeVertex.geometry=n,null):(this._visualElementGraphics.activeVertex=new t({geometry:n,symbol:this._visualElementSymbols.activeVertex,attributes:{displayOrder:2}}),this.internalGraphicsLayer.add(this._visualElementGraphics.activeVertex),this.internalGraphicsLayer.graphics.sort(_),i((()=>{a(this._visualElementGraphics.activeVertex)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeVertex),this._visualElementGraphics.activeVertex=l(this._visualElementGraphics.activeVertex))})))}onOutlineChanged(e){const r=e.clone();if(\"polyline\"===r.type){const e=r.paths[r.paths.length-1];e.splice(0,e.length-2)}return a(this._visualElementGraphics.outline)?(this._visualElementGraphics.outline.geometry=r,null):(this._visualElementGraphics.outline=new t({geometry:r,symbol:this._visualElementSymbols.outline,attributes:{displayOrder:0}}),this.internalGraphicsLayer.add(this._visualElementGraphics.outline),this.internalGraphicsLayer.graphics.sort(_),i((()=>{a(this._visualElementGraphics.outline)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.outline),this._visualElementGraphics.outline=l(this._visualElementGraphics.outline))})))}onRegularVerticesChanged(e){const r=new G({points:e,spatialReference:this.view.spatialReference});return a(this._visualElementGraphics.regularVertices)?(this._visualElementGraphics.regularVertices.geometry=r,null):(this._visualElementGraphics.regularVertices=new t({geometry:r,symbol:this._visualElementSymbols.regularVertices,attributes:{displayOrder:1}}),this.internalGraphicsLayer.add(this._visualElementGraphics.regularVertices),this.internalGraphicsLayer.graphics.sort(_),i((()=>{a(this._visualElementGraphics.regularVertices)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.regularVertices),this._visualElementGraphics.regularVertices=l(this._visualElementGraphics.regularVertices))})))}};function _(e,t){return(e.attributes?.displayOrder??-1/0)-(t.attributes?.displayOrder??-1/0)}e([n()],E.prototype,\"activeFillSymbol\",void 0),e([n({readOnly:!0})],E.prototype,\"type\",void 0),e([n({constructOnly:!0,nonNullable:!0})],E.prototype,\"view\",void 0),E=e([o(\"esri.views.2d.interactive.draw.DrawGraphicTool2D\")],E);export{E as DrawGraphicTool2D};\n"],
  "mappings": "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",
  "names": ["y", "i", "e", "i", "t", "g", "r", "s", "n"]
}
