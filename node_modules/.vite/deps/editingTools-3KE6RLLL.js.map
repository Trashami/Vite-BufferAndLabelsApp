{
  "version": 3,
  "sources": ["../../@arcgis/core/libs/maquette/h.js", "../../@arcgis/core/views/overlay/TextOverlayItem.js", "../../@arcgis/core/views/interactive/SegmentLabels.js", "../../@arcgis/core/views/3d/interactive/SegmentLabels3D.js", "../../@arcgis/core/views/3d/interactive/visualElements/VisualElement.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/LaserlinePathTechnique.js", "../../@arcgis/core/views/3d/support/LaserlinePathData.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/LaserlinePathTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/LaserlineTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/LaserlineTechniqueConfiguration.js", "../../@arcgis/core/views/3d/support/LaserLineRenderer.js", "../../@arcgis/core/views/3d/interactive/visualElements/LaserlineVisualElement.js", "../../@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js", "../../@arcgis/core/views/3d/interactive/visualElements/ExtendedLineVisualElement.js", "../../@arcgis/core/views/3d/interactive/visualElements/ParallelLineVisualElement.js", "../../@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js", "../../@arcgis/core/views/3d/interactive/visualElements/PointVisualElement.js", "../../@arcgis/core/views/3d/interactive/visualElements/RightAngleQuadVisualElement.js", "../../@arcgis/core/views/3d/interactive/SnappingVisualizer3D.js", "../../@arcgis/core/views/3d/interactive/editingTools/settings.js", "../../@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js", "../../@arcgis/core/views/3d/interactive/visualElements/OutlineVisualElement.js", "../../@arcgis/core/views/3d/support/renderInfoUtils/point.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js", "../../@arcgis/core/views/3d/interactive/visualElements/VerticesVisualElement.js", "../../@arcgis/core/views/3d/layers/graphics/GraphicState.js", "../../@arcgis/core/views/3d/interactive/editingTools/draw/DrawGraphicTool3D.js", "../../@arcgis/core/views/3d/support/geometryUtils/ray.js", "../../@arcgis/core/views/3d/interactive/Manipulator3D.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js", "../../@arcgis/core/views/3d/interactive/manipulatorUtils.js", "../../@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js", "../../@arcgis/core/views/3d/interactive/editingTools/GrabbingState.js", "../../@arcgis/core/views/3d/interactive/editingTools/ManipulatorType.js", "../../@arcgis/core/views/3d/interactive/editingTools/ManipulatorState.js", "../../@arcgis/core/views/3d/interactive/editingTools/lineGraphicVisualElementUtils.js", "../../@arcgis/core/views/3d/interactive/editingTools/originGraphicVisualElementUtils.js", "../../@arcgis/core/views/3d/interactive/editingTools/visualElementUtils.js", "../../@arcgis/core/views/3d/interactive/editingTools/manipulations/config.js", "../../@arcgis/core/views/3d/interactive/editingTools/manipulations/Manipulation.js", "../../@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js", "../../@arcgis/core/views/3d/interactive/editingTools/manipulations/moveUtils.js", "../../@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYAxisManipulation.js", "../../@arcgis/core/views/3d/interactive/editingTools/snapping/SnapToScene.js", "../../@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYDiscManipulation.js", "../../@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveZManipulation.js", "../../@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveManipulation.js", "../../@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYGraphicManipulation.js", "../../@arcgis/core/views/3d/interactive/editingTools/moveGraphic/GraphicMoveTool.js", "../../@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/edgeOffsetUtils.js", "../../@arcgis/core/views/interactive/tooltip/ReshapeTooltipInfos.js", "../../@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/ReshapeOperation.js", "../../@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/GraphicReshapeTool.js", "../../@arcgis/core/views/interactive/tooltip/TransformTooltipInfos.js", "../../@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicScaleRotateTransform.js", "../../@arcgis/core/views/3d/interactive/editingTools/transformGraphic/undoRecords.js", "../../@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ScaleRotateMeshAdapter.js", "../../@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ScaleRotateObjectSymbol3DAdapter.js", "../../@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicTransformTool.js", "../../@arcgis/core/analysis/SlicePlane.js", "../../@arcgis/core/views/3d/analysis/Slice/sliceToolConfig.js", "../../@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/SlicePlaneMaterialTechnique.js", "../../@arcgis/core/geometry/support/coordinateSystem.js", "../../@arcgis/core/views/3d/analysis/Slice/sliceToolUtils.js", "../../@arcgis/core/views/3d/analysis/Slice/images/heading-rotate-png.js", "../../@arcgis/core/views/3d/analysis/Slice/images/Factory.js", "../../@arcgis/core/views/3d/interactive/editingTools/transformGraphic/PreserveAspectRatio.js", "../../@arcgis/core/views/interactive/editGeometry/support/editPlaneUtils.js", "../../@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ExtentTransformTool.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nlet e=e=>({vnodeSelector:\"\",properties:void 0,children:void 0,text:e.toString(),domNode:null}),r=(t,o,n)=>{for(let l=0,i=o.length;l<i;l++){let i=o[l];Array.isArray(i)?r(t,i,n):null!=i&&!1!==i&&(\"string\"==typeof i&&(i=e(i)),n.push(i))}};function t(e,t,o){if(Array.isArray(t))o=t,t=void 0;else if(t&&(\"string\"==typeof t||t.hasOwnProperty(\"vnodeSelector\"))||o&&(\"string\"==typeof o||o.hasOwnProperty(\"vnodeSelector\")))throw new Error(\"h called with invalid arguments\");let n,l;return o&&1===o.length&&\"string\"==typeof o[0]?n=o[0]:o&&(l=[],r(e,o,l),0===l.length&&(l=void 0)),{vnodeSelector:e,properties:t,children:l,text:\"\"===n?void 0:n,domNode:null}}export{t as h};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../Color.js\";import o from\"../../core/Accessor.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../libs/maquette/projection.js\";import{h as s}from\"../../libs/maquette/h.js\";import\"../../libs/maquette/projector.js\";const l={bottom:\"esri-text-overlay-item-anchor-bottom\",\"bottom-right\":\"esri-text-overlay-item-anchor-bottom-right\",\"bottom-left\":\"esri-text-overlay-item-anchor-bottom-left\",top:\"esri-text-overlay-item-anchor-top\",\"top-right\":\"esri-text-overlay-item-anchor-top-right\",\"top-left\":\"esri-text-overlay-item-anchor-top-left\",center:\"esri-text-overlay-item-anchor-center\",right:\"esri-text-overlay-item-anchor-right\",left:\"esri-text-overlay-item-anchor-left\"};let n=class extends o{constructor(t){super(t),this.x=0,this.y=0,this.text=\"-\",this.fontSize=14,this.anchor=\"center\",this.visible=!0,this.backgroundColor=new e([0,0,0,.6]),this.textColor=new e([255,255,255]),this._textShadowSize=1}get position(){return[this.x,this.y]}set position(t){this._set(\"x\",t[0]),this._set(\"y\",t[1])}get _textShadowColor(){return this.backgroundColor}get _textShadow(){const t=this._textShadowColor.toCss(!1);return`0 0 ${this._textShadowSize}px ${t}`}get _padding(){return.5*this.fontSize}get _borderRadius(){return this._padding}render(){return s(\"div\",{classes:this._cssClasses(),styles:{left:Math.floor(this.x)+\"px\",top:Math.floor(this.y)+\"px\",visibility:this.visible?\"visible\":\"hidden\",fontSize:this.fontSize+\"px\",lineHeight:this.fontSize+\"px\",backgroundColor:this.backgroundColor.toCss(!0),color:this.textColor.toCss(!0),padding:this._padding+\"px\",borderRadius:this._borderRadius+\"px\",textShadow:this._textShadow}},[this.text])}renderCanvas(t){if(!this.visible)return;const e=t.font.replace(/^(.*?)px/,\"\");t.font=`${this.fontSize}px ${e}`;const o=this._padding,i=this._borderRadius,r=t.measureText(this.text).width,s=this.fontSize,l=h[this.anchor];t.textAlign=\"center\",t.textBaseline=\"middle\";const n=r+2*o,a=s+2*o,x=this.x+l.x*n,p=this.y+l.y*a;this._roundedRect(t,x,p,n,a,i),t.fillStyle=this.backgroundColor.toCss(!0),t.fill();const d=this.x+(l.x+.5)*n,c=this.y+(l.y+.5)*a;this._renderTextShadow(t,this.text,d,c),t.fillStyle=this.textColor.toCss(!0),t.fillText(this.text,d,c)}_renderTextShadow(t,e,o,i){t.lineJoin=\"miter\",t.fillStyle=`rgba(${this._textShadowColor.r}, ${this._textShadowColor.g}, ${this._textShadowColor.b}, ${1/a.length})`;const r=this._textShadowSize;for(const[s,l]of a)t.fillText(e,o+r*s,i+r*l)}_roundedRect(t,e,o,i,r,s){t.beginPath(),t.moveTo(e,o+s),t.arcTo(e,o,e+s,o,s),t.lineTo(e+i-s,o),t.arcTo(e+i,o,e+i,o+s,s),t.lineTo(e+i,o+r-s),t.arcTo(e+i,o+r,e+i-s,o+r,s),t.lineTo(e+s,o+r),t.arcTo(e,o+r,e,o+r-s,s),t.closePath()}_cssClasses(){const t={\"esri-text-overlay-item\":!0};for(const e in l)t[l[e]]=this.anchor===e;return t}};t([i()],n.prototype,\"x\",void 0),t([i()],n.prototype,\"y\",void 0),t([i()],n.prototype,\"position\",null),t([i()],n.prototype,\"text\",void 0),t([i()],n.prototype,\"fontSize\",void 0),t([i()],n.prototype,\"anchor\",void 0),t([i()],n.prototype,\"visible\",void 0),t([i()],n.prototype,\"backgroundColor\",void 0),t([i()],n.prototype,\"textColor\",void 0),t([i()],n.prototype,\"_textShadowSize\",void 0),t([i()],n.prototype,\"_textShadowColor\",null),t([i()],n.prototype,\"_textShadow\",null),t([i()],n.prototype,\"_padding\",null),t([i()],n.prototype,\"_borderRadius\",null),n=t([r(\"esri.views.overlay.TextOverlayItem\")],n);const h={bottom:{x:-.5,y:-1,textAlign:\"center\",textBaseline:\"bottom\"},\"bottom-left\":{x:0,y:-1,textAlign:\"left\",textBaseline:\"bottom\"},\"bottom-right\":{x:-1,y:-1,textAlign:\"right\",textBaseline:\"bottom\"},center:{x:-.5,y:-.5,textAlign:\"center\",textBaseline:\"middle\"},left:{x:0,y:-.5,textAlign:\"left\",textBaseline:\"middle\"},right:{x:-1,y:-.5,textAlign:\"right\",textBaseline:\"middle\"},top:{x:-.5,y:0,textAlign:\"center\",textBaseline:\"top\"},\"top-left\":{x:0,y:0,textAlign:\"left\",textBaseline:\"top\"},\"top-right\":{x:-1,y:0,textAlign:\"right\",textBaseline:\"top\"}},a=[];{const t=16;for(let e=0;e<360;e+=360/t)a.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}const x=n;export{x as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import{createTask as s}from\"../../core/asyncUtils.js\";import{makeHandle as o}from\"../../core/handleUtils.js\";import{isNone as i,isSome as r,applySome as a}from\"../../core/maybe.js\";import{throwIfAborted as n}from\"../../core/promiseUtils.js\";import{formatLength as l}from\"../../core/quantityFormatUtils.js\";import{watch as c,on as p}from\"../../core/reactiveUtils.js\";import{createScreenPointArray as h}from\"../../core/screenUtils.js\";import{getDefaultUnitForView as d}from\"../../core/unitUtils.js\";import{property as m}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as u}from\"../../core/accessorSupport/decorators/subclass.js\";import{k as b,s as f,f as g,b as _,l as x,j as y}from\"../../chunks/vec2.js\";import{a as v}from\"../../chunks/vec2f64.js\";import{F as j}from\"../../chunks/vec3.js\";import{isClockwise as U}from\"../../geometry/support/coordsUtils.js\";import{fetchMessageBundle as I}from\"../../intl/messages.js\";import{getGeometryEffectiveElevationMode as L}from\"../../support/elevationInfoUtils.js\";import D from\"../overlay/TextOverlayItem.js\";import{autoDirectDistanceByElevationMode as O}from\"../support/automaticLengthMeasurementUtils.js\";const S=3025,w={default:15,far:25};let P=class extends t{constructor(e){super(e),this.context=null,this.stagedVertex=null,this.visible=!0,this.edgeDistance=\"default\",this._messagesUnits=null,this._labelInfos=[],this._nextLabelIndex=0}initialize(){const e=s((async e=>{const t=await I(\"esri/core/t9n/Units\");n(e),this._messagesUnits=t})),t=()=>a(this.context,(e=>e.editGeometryOperations));this.addHandles([c((()=>[r(this.context)&&this.getCameraOrExtent(this.context),this.visible,this._edgeDistancePixels,this.stagedVertex,this._messagesUnits]),(()=>this._update())),...[\"vertex-add\",\"vertex-update\",\"vertex-remove\"].map((e=>p(t,e,(()=>this._update())))),o((()=>e.abort()))])}destroy(){for(this._nextLabelIndex=0;this._labelInfos.length;)this._destroyLabel(this._labelInfos.pop())}get updating(){return i(this._messagesUnits)}get test(){return{labelContents:this._labelInfos.slice(0,this._nextLabelIndex).map((e=>e.label.text))}}get _edgeDistancePixels(){return w[this.edgeDistance]}_update(){this._nextLabelIndex=0;const e=this.context;if(i(e))return void this._destroyUnusedLabels();const{components:t,geometry:s,coordinateHelper:o}=e.editGeometryOperations.data;if(!s)return void this._destroyUnusedLabels();const a=t.length;for(let i=0;i<a;++i){const n=[];if(t[i].iterateVertices((e=>{n.push(o.toXYZ(e.pos))})),0===i&&r(this.stagedVertex)&&n.push(o.toXYZ(this.stagedVertex)),n.length<2)continue;const l=n[0],c=n[n.length-1];\"polygon\"===s.type&&n.length>2&&!j(l,c)&&n.push(l);const p=1===a&&!U(n,!1,!1);let h=C,d=G;this.toScreenPointArray(e,l,h);for(let t=1;t<n.length;++t){const s=n[t-1],o=n[t];this.toScreenPointArray(e,o,d),this._addLabel(e,s,h,o,d,p),[h,d]=[d,h]}}this._destroyUnusedLabels()}_addLabel(e,t,s,o,i,a){const{label:n}=this._getOrCreateLabel(e);if(!this.visible||b(s,i)<S)return void(n.visible=!1);const c=r(e.graphicState)?e.graphicState.isDraped?\"on-the-ground\":\"absolute-height\":L(e.editGeometryOperations.data.geometry,e.elevationInfo),{spatialReference:p}=e.editGeometryOperations.data,h=O(t,o,p,c),m=this._messagesUnits,u=d(e.view);n.text=r(m)&&r(h)?l(m,h,u):\"\",n.visible=!0;const v=i[0]-s[0],j=i[1]-s[1];a?f(V,-j,v):f(V,j,-v),g(V,V),_(V,V,this._edgeDistancePixels),x(k,s,i,.5),y(k,k,V),n.position=[k[0],k[1]],Math.abs(V[0])>Math.abs(V[1])?n.anchor=V[0]>0?\"left\":\"right\":n.anchor=-V[1]<0?\"top\":\"bottom\"}_getOrCreateLabel(e){if(this._labelInfos.length>this._nextLabelIndex)return this._labelInfos[this._nextLabelIndex++];const t=new D({fontSize:10,anchor:\"center\"});e.view.overlay.items.add(t);const s={label:t};return this._labelInfos.push(s),this._nextLabelIndex=this._labelInfos.length,s}_destroyUnusedLabels(){for(;this._labelInfos.length>this._nextLabelIndex;)this._destroyLabel(this._labelInfos.pop())}_destroyLabel({label:e}){a(this.context,(t=>t.view.overlay.items.remove(e))),e.destroy()}};e([m()],P.prototype,\"context\",void 0),e([m()],P.prototype,\"stagedVertex\",void 0),e([m()],P.prototype,\"visible\",void 0),e([m()],P.prototype,\"edgeDistance\",void 0),e([m()],P.prototype,\"updating\",null),e([m()],P.prototype,\"_messagesUnits\",void 0),e([m()],P.prototype,\"_edgeDistancePixels\",null),P=e([u(\"esri.views.interactive\")],P);const V=v(),k=v(),C=h(),G=h();export{P as SegmentLabels};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{createScreenPointArray as r}from\"../../../core/screenUtils.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/Error.js\";import\"../../../core/has.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import{c as o}from\"../../../chunks/vec3f64.js\";import{SegmentLabels as s}from\"../../interactive/SegmentLabels.js\";import{vectorToRender as i}from\"../../interactive/support/viewUtils.js\";let a=class extends s{getCameraOrExtent({view:e}){return e.state.camera}toScreenPointArray({view:e,elevationInfo:t,editGeometryOperations:o},s,a=r()){const{spatialReference:m}=o.data.coordinateHelper;return i(s,m,t,e,c),e.state.camera.projectToScreen(c,a),a}};a=e([t(\"esri.views.3d.interactive.SegmentLabels3D\")],a);const c=o();export{a as SegmentLabels3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{watch as e}from\"../../../../core/reactiveUtils.js\";class t{constructor(t){this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t,this._handle=e((()=>this.view.ready),(e=>{this._resourcesCreated&&(e?this._createResources():this._destroyResources())}))}applyProps(e){let t=!1;for(const s in e)s in this?\"attached\"===s?t=e[s]:this[s]=e[s]:console.error(\"Cannot set unknown property\",s);this.attached=t}destroy(){this.attached=!1,this._handle.remove()}get attached(){return this._attached}set attached(e){e!==this._attached&&this.view._stage&&(this._attached=e,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources())}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this.attached&&this.updateVisibility(e))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.visible||this.updateVisibility(!1)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}}export{t as VisualElement};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Program as i}from\"../lib/Program.js\";import{VertexAttribute as t}from\"../lib/VertexAttribute.js\";import{L as o}from\"../../../../chunks/LaserlinePath.glsl.js\";import{BlendFactor as s}from\"../../../webgl/enums.js\";import{makePipelineState as n,simpleBlendingParams as a,defaultColorWriteParams as l}from\"../../../webgl/renderState.js\";class m extends r{initializeProgram(e){return new i(e.rctx,m.shader.get().build(this.configuration),h)}initializePipeline(){return n({blending:a(s.ONE,s.ONE_MINUS_SRC_ALPHA),colorWrite:l})}}m.shader=new e(o,(()=>import(\"./LaserlinePath.glsl.js\")));const h=new Map([[t.START,0],[t.END,1],[t.UP,2],[t.EXTRUDE,3]]);export{m as LaserlinePathTechnique,h as attributeLocations};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{s as r,b as s}from\"../../../chunks/vec3.js\";import{c as i}from\"../../../chunks/vec3f64.js\";import{glLayout as o}from\"./buffer/glUtil.js\";import{newLayout as n}from\"./buffer/InterleavedLayout.js\";import{VertexArrayObject as f}from\"../webgl-engine/lib/VertexArrayObject.js\";import{VertexAttribute as u}from\"../webgl-engine/lib/VertexAttribute.js\";import{attributeLocations as a}from\"../webgl-engine/shaders/LaserlinePathTechnique.js\";import{BufferObject as c}from\"../../webgl/BufferObject.js\";import{PrimitiveType as h,Usage as l}from\"../../webgl/enums.js\";class _{constructor(e){this._renderCoordsHelper=e,this._buffers=null,this._origin=i(),this._dirty=!1,this._count=0,this._vao=null}set vertices(e){const t=new Float64Array(3*e.length);let r=0;for(const s of e)t[r++]=s[0],t[r++]=s[1],t[r++]=s[2];this.buffers=[t]}set buffers(e){if(this._buffers=e,this._buffers.length>0){const e=this._buffers[0],t=3*Math.floor(e.length/3/2);r(this._origin,e[t+0],e[t+1],e[t+2])}else r(this._origin,0,0,0);this._dirty=!0}get origin(){return this._origin}draw(t){const r=this._ensureVAO(t);e(r)&&(t.bindVAO(r),t.drawArrays(h.TRIANGLES,0,this._count))}dispose(){e(this._vao)&&this._vao.dispose()}_ensureVAO(e){return t(this._buffers)?null:(t(this._vao)&&(this._vao=this._createVAO(e,this._buffers)),this._ensureVertexData(this._vao,this._buffers),this._vao)}_createVAO(e,t){const r=this._createDataBuffer(t);return this._dirty=!1,new f(e,a,{data:o(V)},{data:c.createVertex(e,l.STATIC_DRAW,r)})}_ensureVertexData(e,t){if(!this._dirty)return;const r=this._createDataBuffer(t);e.vertexBuffers.data.setData(r),this._dirty=!1}_numberOfRenderVertices(e){return 3*(2*(e.length/3-1))}_createDataBuffer(e){const t=e.reduce(((e,t)=>e+this._numberOfRenderVertices(t)),0);this._count=t;const i=V.createBuffer(t),o=this._origin;let n=0,f=0;for(const u of e){for(let e=0;e<u.length;e+=3){const t=r(b,u[e+0],u[e+1],u[e+2]);0===e?f=this._renderCoordsHelper.getAltitude(t):this._renderCoordsHelper.setAltitude(t,f);const a=this._renderCoordsHelper.worldUpAtPosition(t,d),c=n+2*e,h=s(b,t,o);if(e<u.length-3){i.up.setVec(c,a),i.up.setVec(c+3,a),i.up.setVec(c+5,a);for(let e=0;e<6;e++)i.start.setVec(c+e,h);i.extrude.setValues(c+0,0,-1),i.extrude.setValues(c+1,1,-1),i.extrude.setValues(c+2,1,1),i.extrude.setValues(c+3,0,-1),i.extrude.setValues(c+4,1,1),i.extrude.setValues(c+5,0,1)}if(e>0){i.up.setVec(c-2,a),i.up.setVec(c-4,a),i.up.setVec(c-5,a);for(let e=-6;e<0;e++)i.end.setVec(c+e,h)}}n+=this._numberOfRenderVertices(u)}return i.buffer}}const d=i(),b=i(),V=n().vec3f(u.START).vec3f(u.END).vec3f(u.UP).vec2f(u.EXTRUDE);export{_ as LaserlinePathData};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import{ShaderTechniqueConfiguration as r,parameter as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";class e extends r{constructor(){super(...arguments),this.contrastControlEnabled=!1}}o([t()],e.prototype,\"contrastControlEnabled\",void 0);export{e as LaserlinePathTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../../../../core/mathUtils.js\";import{f as t,c as i}from\"../../../../chunks/vec3f64.js\";import{create as r}from\"../../../../geometry/support/lineSegment.js\";import{NoParameters as s}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as o}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as n}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as l}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as a}from\"../lib/Program.js\";import{L as h}from\"../../../../chunks/Laserlines.glsl.js\";import{BlendFactor as m}from\"../../../webgl/enums.js\";import{makePipelineState as c,simpleBlendingParams as g,defaultColorWriteParams as d}from\"../../../webgl/renderState.js\";class f extends s{constructor(){super(...arguments),this.innerColor=t(1,1,1),this.innerWidth=1,this.glowColor=t(1,.5,0),this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=.75,this.globalAlphaContrastBoost=2,this.angleCutoff=e(6),this.pointDistanceOrigin=i(),this.pointDistanceTarget=i(),this.lineVerticalPlaneSegment=r(),this.intersectsLineSegment=r(),this.intersectsLineRadius=3,this.heightManifoldTarget=i(),this.lineStartWorld=i(),this.lineEndWorld=i()}}class p extends n{initializeProgram(e){return new a(e.rctx,p.shader.get().build(this.configuration),l)}initializePipeline(){return c({blending:g(m.ONE,m.ONE_MINUS_SRC_ALPHA),colorWrite:d})}}p.shader=new o(h,(()=>import(\"./Laserlines.glsl.js\")));export{f as LaserlinePassParameters,p as LaserlineTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{LaserlinePathTechniqueConfiguration as t}from\"./LaserlinePathTechniqueConfiguration.js\";class n extends t{constructor(){super(...arguments),this.heightManifoldEnabled=!1,this.pointDistanceEnabled=!1,this.lineVerticalPlaneEnabled=!1,this.intersectsLineEnabled=!1,this.spherical=!1}}e([i()],n.prototype,\"heightManifoldEnabled\",void 0),e([i()],n.prototype,\"pointDistanceEnabled\",void 0),e([i()],n.prototype,\"lineVerticalPlaneEnabled\",void 0),e([i()],n.prototype,\"intersectsLineEnabled\",void 0),e([i()],n.prototype,\"spherical\",void 0);export{n as LaserlineTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,disposeMaybe as i,releaseMaybe as n}from\"../../../core/maybe.js\";import{c as s,a}from\"../../../chunks/vec3.js\";import{create as r,fromRay as h,getStart as l,getEnd as c}from\"../../../geometry/support/clipRay.js\";import{intersectClipRay as o}from\"../../../geometry/support/frustum.js\";import{copy as d}from\"../../../geometry/support/lineSegment.js\";import{wrap as _}from\"../../../geometry/support/ray.js\";import{ViewingMode as p}from\"../../ViewingMode.js\";import{LaserlinePathData as g}from\"./LaserlinePathData.js\";import{createQuadVAO as u}from\"../webgl-engine/lib/glUtil3D.js\";import{RenderSlot as m}from\"../webgl-engine/lib/RenderSlot.js\";import{copyParameters as P,updateParameters as b}from\"../webgl-engine/materials/internal/MaterialUtil.js\";import{LaserlinePathTechnique as f}from\"../webgl-engine/shaders/LaserlinePathTechnique.js\";import{LaserlinePathTechniqueConfiguration as E}from\"../webgl-engine/shaders/LaserlinePathTechniqueConfiguration.js\";import{LaserlinePassParameters as q,LaserlineTechnique as L}from\"../webgl-engine/shaders/LaserlineTechnique.js\";import{LaserlineTechniqueConfiguration as V}from\"../webgl-engine/shaders/LaserlineTechniqueConfiguration.js\";import{PrimitiveType as R}from\"../../webgl/enums.js\";class D{constructor(e,t={contrastControlEnabled:!1}){this._config=t,this._technique=null,this._heightManifoldEnabled=!1,this._pointDistanceEnabled=!1,this._lineVerticalPlaneEnabled=!1,this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._viewingMode=p.Local,this._pathVerticalPlaneEnabled=!1,this._pathVerticalPlaneData=null,this._pathTechnique=null,this.canRender=!0,this._passParameters=P(e,new q)}get renderSlots(){return[this._config.contrastControlEnabled?m.LASERLINES_CONTRAST_CONTROL:m.LASERLINES]}get needsLinearDepth(){return!0}get heightManifoldEnabled(){return this._heightManifoldEnabled}set heightManifoldEnabled(e){this._heightManifoldEnabled!==e&&(this._heightManifoldEnabled=e,this._requestRender())}get heightManifoldTarget(){return this._passParameters.heightManifoldTarget}set heightManifoldTarget(e){s(this._passParameters.heightManifoldTarget,e),this._requestRender()}get pointDistanceEnabled(){return this._pointDistanceEnabled}set pointDistanceEnabled(e){e!==this._pointDistanceEnabled&&(this._pointDistanceEnabled=e,this._requestRender())}get pointDistanceTarget(){return this._passParameters.pointDistanceTarget}set pointDistanceTarget(e){s(this._passParameters.pointDistanceTarget,e),this._requestRender()}get pointDistanceOrigin(){return this._passParameters.pointDistanceOrigin}set pointDistanceOrigin(e){s(this._passParameters.pointDistanceOrigin,e),this._requestRender()}get lineVerticalPlaneEnabled(){return this._lineVerticalPlaneEnabled}set lineVerticalPlaneEnabled(e){e!==this._lineVerticalPlaneEnabled&&(this._lineVerticalPlaneEnabled=e,this._requestRender())}get lineVerticalPlaneSegment(){return this._passParameters.lineVerticalPlaneSegment}set lineVerticalPlaneSegment(e){d(e,this._passParameters.lineVerticalPlaneSegment),this._requestRender()}get intersectsLineEnabled(){return this._intersectsLineEnabled}set intersectsLineEnabled(e){e!==this._intersectsLineEnabled&&(this._intersectsLineEnabled=e,this._requestRender())}get intersectsLineSegment(){return this._passParameters.intersectsLineSegment}set intersectsLineSegment(e){d(e,this._passParameters.intersectsLineSegment),this._requestRender()}get intersectsLineRadius(){return this._passParameters.intersectsLineRadius}set intersectsLineRadius(e){e!==this._passParameters.intersectsLineRadius&&(this._passParameters.intersectsLineRadius=e,this._requestRender())}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){e!==this._intersectsLineInfinite&&(this._intersectsLineInfinite=e,this._requestRender())}get viewingMode(){return this._viewingMode}set viewingMode(e){e!==this._viewingMode&&(this._viewingMode=e,this._requestRender())}get pathVerticalPlaneEnabled(){return this._pathVerticalPlaneEnabled}set pathVerticalPlaneEnabled(t){t!==this._pathVerticalPlaneEnabled&&(this._pathVerticalPlaneEnabled=t,e(this._pathVerticalPlaneData)&&this._requestRender())}set pathVerticalPlaneVertices(e){t(this._pathVerticalPlaneData)&&(this._pathVerticalPlaneData=new g(this._passParameters.renderCoordsHelper)),this._pathVerticalPlaneData.vertices=e,this.pathVerticalPlaneEnabled&&this._requestRender()}set pathVerticalPlaneBuffers(e){t(this._pathVerticalPlaneData)&&(this._pathVerticalPlaneData=new g(this._passParameters.renderCoordsHelper)),this._pathVerticalPlaneData.buffers=e,this.pathVerticalPlaneEnabled&&this._requestRender()}setParameters(e){b(this._passParameters,e)&&this._requestRender()}initializeRenderContext(e){this._context=e;const t=e.renderContext.rctx;this._quadVAO=u(t),this._techniqueRepository=e.shaderTechniqueRepository,this._techniqueConfig=new V;const i=new E;i.contrastControlEnabled=this._config.contrastControlEnabled,this._pathTechnique=this._techniqueRepository.acquire(f,i)}uninitializeRenderContext(){this._quadVAO=i(this._quadVAO),this._technique=n(this._technique),this._pathVerticalPlaneData=i(this._pathVerticalPlaneData),this._pathTechnique=n(this._pathTechnique)}prepareTechnique(){return this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled?(this._techniqueConfig.heightManifoldEnabled=this.heightManifoldEnabled,this._techniqueConfig.lineVerticalPlaneEnabled=this.lineVerticalPlaneEnabled,this._techniqueConfig.pointDistanceEnabled=this.pointDistanceEnabled,this._techniqueConfig.intersectsLineEnabled=this.intersectsLineEnabled,this._techniqueConfig.contrastControlEnabled=this._config.contrastControlEnabled,this._techniqueConfig.spherical=this._viewingMode===p.Global,this._technique=this._techniqueRepository.releaseAndAcquire(L,this._techniqueConfig,this._technique),this._technique):this._pathTechnique}render(e,t){(this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled)&&this._renderUnified(e,t),this.pathVerticalPlaneEnabled&&this._renderPath(e)}_renderUnified(e,t){const i=e.rctx;this._updatePassParameters(e),i.bindTechnique(t,this._passParameters,e.bindParameters),i.bindVAO(this._quadVAO),i.drawArrays(R.TRIANGLE_STRIP,0,4)}_renderPath(e){if(t(this._pathVerticalPlaneData)||t(this._pathTechnique))return;const i=e.rctx,n=this._pathTechnique;i.bindTechnique(n,{...this._passParameters,origin:this._pathVerticalPlaneData.origin},e.bindParameters),this._pathVerticalPlaneData.draw(e.rctx)}_updatePassParameters(e){if(!this._intersectsLineEnabled)return;const t=e.bindParameters.camera;if(this._intersectsLineInfinite){if(h(_(this._passParameters.intersectsLineSegment.origin,this._passParameters.intersectsLineSegment.vector),T),T.c0=-Number.MAX_VALUE,!o(t.frustum,T))return;l(T,this._passParameters.lineStartWorld),c(T,this._passParameters.lineEndWorld)}else s(this._passParameters.lineStartWorld,this._passParameters.intersectsLineSegment.origin),a(this._passParameters.lineEndWorld,this._passParameters.intersectsLineSegment.origin,this._passParameters.intersectsLineSegment.vector)}_requestRender(){this._context&&this._context.requestRender()}}const T=r();export{D as LaserLineRenderer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import{c as i}from\"../../../../chunks/vec3.js\";import{c as n,a as s}from\"../../../../chunks/vec3f64.js\";import{create as r,fromValues as h,copy as a}from\"../../../../geometry/support/lineSegment.js\";import{VisualElement as l}from\"./VisualElement.js\";import{LaserLineRenderer as c}from\"../../support/LaserLineRenderer.js\";import{d as _}from\"../../../../chunks/Laserlines.glsl.js\";class d extends l{constructor(e){super(e.view),this._angleCutoff=_,this._style={},this._heightManifoldTarget=n(),this._heightManifoldEnabled=!1,this._intersectsLine=r(),this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._lineVerticalPlaneSegment=null,this._pathVerticalPlaneBuffers=null,this._pointDistanceLine=null,this.applyProps(e)}get testData(){return this._renderer}createResources(){this._ensureRenderer()}destroyResources(){this._disposeRenderer()}updateVisibility(){this._syncRenderer(),this._syncHeightManifold(),this._syncIntersectsLine(),this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance()}get angleCutoff(){return this._angleCutoff}set angleCutoff(e){this._angleCutoff!==e&&(this._angleCutoff=e,this._syncAngleCutoff())}get style(){return this._style}set style(e){this._style=e,this._syncStyle()}get heightManifoldTarget(){return this._heightManifoldEnabled?this._heightManifoldTarget:null}set heightManifoldTarget(t){e(t)?(i(this._heightManifoldTarget,t),this._heightManifoldEnabled=!0):this._heightManifoldEnabled=!1,this._syncRenderer(),this._syncHeightManifold()}set intersectsWorldUpAtLocation(e){if(t(e))return void(this.intersectsLine=null);const i=this.view.renderCoordsHelper.worldUpAtPosition(e,o);this.intersectsLine=h(e,i),this.intersectsLineInfinite=!0}get intersectsLine(){return this._intersectsLineEnabled?this._intersectsLine:null}set intersectsLine(t){e(t)?(a(t,this._intersectsLine),this._intersectsLineEnabled=!0):this._intersectsLineEnabled=!1,this._syncIntersectsLine(),this._syncRenderer()}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){this._intersectsLineInfinite=e,this._syncIntersectsLineInfinite()}get lineVerticalPlaneSegment(){return this._lineVerticalPlaneSegment}set lineVerticalPlaneSegment(t){this._lineVerticalPlaneSegment=e(t)?a(t):null,this._syncLineVerticalPlane(),this._syncRenderer()}get pathVerticalPlane(){return this._pathVerticalPlaneBuffers}set pathVerticalPlane(e){this._pathVerticalPlaneBuffers=e,this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance(),this._syncRenderer()}get pointDistanceLine(){return this._pointDistanceLine}set pointDistanceLine(t){this._pointDistanceLine=e(t)?{origin:s(t.origin),target:s(t.target)}:null,this._syncPointDistance(),this._syncRenderer()}_syncRenderer(){this.attached&&this.visible&&(this._intersectsLineEnabled||this._heightManifoldEnabled||e(this._pointDistanceLine)||e(this._pathVerticalPlaneBuffers))?this._ensureRenderer():this._disposeRenderer()}_ensureRenderer(){e(this._renderer)||(this._renderer=new c({renderCoordsHelper:this.view.renderCoordsHelper},{contrastControlEnabled:!0}),this._renderer.viewingMode=this.view.state.viewingMode,this._syncStyle(),this._syncHeightManifold(),this._syncIntersectsLine(),this._syncIntersectsLineInfinite(),this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance(),this._syncAngleCutoff(),this.view._stage&&this.view._stage.addRenderPlugin(this._renderer.renderSlots,this._renderer))}_syncStyle(){t(this._renderer)||(this._renderer.setParameters(this._style),null!=this._style.intersectsLineRadius&&(this._renderer.intersectsLineRadius=this._style.intersectsLineRadius))}_syncAngleCutoff(){t(this._renderer)||this._renderer.setParameters({angleCutoff:this._angleCutoff})}_syncHeightManifold(){t(this._renderer)||(this._renderer.heightManifoldEnabled=this._heightManifoldEnabled&&this.visible,this._heightManifoldEnabled&&(this._renderer.heightManifoldTarget=this._heightManifoldTarget))}_syncIntersectsLine(){t(this._renderer)||(this._renderer.intersectsLineEnabled=this._intersectsLineEnabled&&this.visible,this._intersectsLineEnabled&&(this._renderer.intersectsLineSegment=this._intersectsLine))}_syncIntersectsLineInfinite(){t(this._renderer)||(this._renderer.intersectsLineInfinite=this._intersectsLineInfinite)}_syncPathVerticalPlane(){t(this._renderer)||(this._renderer.pathVerticalPlaneEnabled=e(this._pathVerticalPlaneBuffers)&&this.visible,e(this._pathVerticalPlaneBuffers)&&(this._renderer.pathVerticalPlaneBuffers=this._pathVerticalPlaneBuffers))}_syncLineVerticalPlane(){t(this._renderer)||(this._renderer.lineVerticalPlaneEnabled=e(this._lineVerticalPlaneSegment)&&this.visible,e(this._lineVerticalPlaneSegment)&&(this._renderer.lineVerticalPlaneSegment=this._lineVerticalPlaneSegment))}_syncPointDistance(){t(this._renderer)||(this._renderer.pointDistanceEnabled=e(this._pointDistanceLine)&&this.visible,e(this._pointDistanceLine)&&(this._renderer.pointDistanceOrigin=this._pointDistanceLine.origin,this._renderer.pointDistanceTarget=this._pointDistanceLine.target))}_disposeRenderer(){e(this._renderer)&&this.view._stage&&(this.view._stage.removeRenderPlugin(this._renderer),this._renderer=null)}}const o=n();export{d as LaserlineVisualElement};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as s}from\"../../../../core/maybe.js\";import{c as r}from\"../../../../chunks/mat4.js\";import{c as t}from\"../../../../chunks/mat4f64.js\";import{VisualElement as i}from\"./VisualElement.js\";import{UpdatePolicy as o}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3D as a}from\"../../webgl-engine/lib/Object3D.js\";import{WebGLLayer as c}from\"../../webgl-engine/lib/WebGLLayer.js\";class n extends i{constructor(e){super(e.view),this._resources=null,this._transform=t()}get object(){return e(this._resources)?this._resources.object:null}get transform(){return this._transform}set transform(s){r(this._transform,s),e(this._resources)&&(this._resources.object.transformation=this._transform)}recreate(){this.attached&&this.createResources()}recreateGeometry(){if(s(this._resources))return;const e=this._resources.object,r=this.view._stage;r.removeMany(e.geometries),e.removeAllGeometries(),this.createGeometries(e),this.visible||e.setVisible(this.visible),r.addMany(e.geometries)}createResources(){this.destroyResources();const e=this.view._stage;if(!e)return;const s=new c({isPickable:!1,updatePolicy:o.SYNC});e.add(s);const r=new a({castShadow:!1});r.transformation=this._transform,this.createExternalResources(),this.createGeometries(r),e.addMany(r.geometries),this.forEachExternalMaterial((s=>e.add(s))),e.add(r),s.add(r),this.visible||r.setVisible(!1),this._resources={layer:s,object:r}}destroyResources(){const e=this.view._stage;!s(this._resources)&&e&&(e.remove(this._resources.object),e.remove(this._resources.layer),this.forEachExternalMaterial((s=>{e.remove(s),s.dispose()})),e.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)}updateVisibility(e){s(this._resources)||this._resources.object.setVisible(e)}}export{n as Object3DVisualElement};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import e from\"../../../../core/Handles.js\";import{isSome as t,unwrap as s,isNone as i,unwrapOr as r}from\"../../../../core/maybe.js\";import{watch as n}from\"../../../../core/reactiveUtils.js\";import{c as a,b as l,k as o,o as h}from\"../../../../chunks/vec3.js\";import{c as _,f as d}from\"../../../../chunks/vec3f64.js\";import{g as p,c as u}from\"../../../../chunks/vec4.js\";import{f as c,a as f}from\"../../../../chunks/vec4f32.js\";import{create as m,fromRay as y,getStart as g,getEnd as x}from\"../../../../geometry/support/clipRay.js\";import{intersectClipRay as b}from\"../../../../geometry/support/frustum.js\";import{create as w,fromPoints as E,pointAt as R}from\"../../../../geometry/support/lineSegment.js\";import{create as O,fromPoints as D}from\"../../../../geometry/support/ray.js\";import{LaserlineVisualElement as A}from\"./LaserlineVisualElement.js\";import{Object3DVisualElement as C}from\"./Object3DVisualElement.js\";import{createPolylineGeometry as P}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as j}from\"../../webgl-engine/lib/Material.js\";import{VertexAttribute as v}from\"../../webgl-engine/lib/VertexAttribute.js\";import{RibbonLineMaterial as M}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class G extends C{constructor(t){super(t),this._ray=O(),this._externalResources=null,this._handles=new e,this._isWorldDown=!1,this._start=_(),this._end=d(1,0,0),this._width=1,this._color=c(1,0,1,1),this._polygonOffset=!1,this._writeDepthEnabled=!0,this._innerWidth=0,this._innerColor=c(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._falloff=0,this._extensionType=V.LINE,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=j.OccludeAndTransparent,this._fadedExtensions=F,this.applyProps(t)}createExternalResources(){const e=new M(this.materialParameters);this._handles.add(n((()=>this.view.state.camera),(()=>{this._updateGeometry()})));const t=new A({view:this.view,attached:this._laserlineEnabled});this._externalResources={material:e,laserline:t}}destroyExternalResources(){t(this._externalResources)&&this._externalResources.laserline.destroy(),this._externalResources=null,this._handles.removeAll()}forEachExternalMaterial(e){t(this._externalResources)&&e(this._externalResources.material)}createGeometries(e){const t=[_(),_()],i=this.extensionType===V.FADED;i&&t.push(_(),_());const r=i?new Float32Array([1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0]):null,n=P(t,null,r);e.addGeometry(n,s(this._externalResources).material),this._updateVertices(e)}updateVisibility(e){super.updateVisibility(e),t(this._externalResources)&&(this._externalResources.laserline.visible=e)}setStartEndFromWorldDownAtLocation(e){this._isWorldDown=!0,a(this._start,e),this.view.renderCoordsHelper.worldUpAtPosition(e,this._end),l(this._end,e,this._end),D(this._start,this._end,this._ray),this._updateGeometry()}get start(){return this._start}set start(e){this._isWorldDown=!1,o(this._start,e)||(a(this._start,e),D(this._start,this._end,this._ray),this._updateGeometry())}get end(){return this._end}set end(e){this._isWorldDown=!1,o(this._end,e)||(a(this._end,e),D(this._start,this._end,this._ray),this._updateGeometry())}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){p(e,this._color)||(u(this._color,e),this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){p(e,this._innerColor)||(u(this._innerColor,e),this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(e){const s=t(e)!==t(this._stipplePattern);this._stipplePattern=e,s?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){(i(e)||i(this._stippleOffColor)||!p(e,this._stippleOffColor))&&(this._stippleOffColor=t(e)?f(e):null,this._updateMaterial())}get stipplePreferContinuous(){return this._stipplePreferContinuous}set stipplePreferContinuous(e){e!==this._stipplePreferContinuous&&(this._stipplePreferContinuous=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get extensionType(){return this._extensionType}set extensionType(e){e!==this._extensionType&&(this._extensionType=e,this._updateGeometry())}get _laserlineAttached(){return this._laserlineEnabled&&t(this._laserlineStyle)}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(e){this._laserlineStyle=e,t(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached,t(e)&&(this._externalResources.laserline.style=e))}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,t(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached))}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get fadedExtensions(){return this._fadedExtensions}set fadedExtensions(e){this._fadedExtensions=r(e,F),this.recreateGeometry()}_updateMaterial(){if(i(this._externalResources))return;this._externalResources.material.setParameters(this.materialParameters)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff,hasPolygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}_updateGeometry(){t(this.object)&&this._updateVertices(this.object)}_updateVertices(e){const s=this._extensionType===V.FADED?this._updateLineSegmentFinite(T):this._updateLineSegmentInfinite(this._extensionType,T);this._updateVertexAttributes(e,s),t(this._externalResources)&&(this._externalResources.laserline.intersectsLine=s)}_updateLineSegmentFinite(e){return E(this._start,this._end,e)}_updateLineSegmentInfinite(e,t){const s=this.view.state.camera;switch(y(this._ray,W),e){case V.LINE:W.c0=-Number.MAX_VALUE;break;case V.RAY:case V.GROUND_RAY:{const e=this._ray.origin,t=r(this.view.elevationProvider.getElevation(e[0],e[1],e[2],this.view.renderCoordsHelper.spatialReference,\"ground\"),0),s=this.view.renderCoordsHelper.getAltitude(e);this._isWorldDown&&s<t&&h(W.ray.direction,W.ray.direction),this._extensionType===V.GROUND_RAY&&null!=t&&(W.c1=Math.abs(s-t));break}}if(!b(s.frustum,W))return E(this._start,this._end,t);const i=g(W,L),n=x(W,S);return E(i,n,t)}_updateVertexAttributes(e,t){const s=e.geometries[0].getMutableAttribute(v.POSITION).data;if(this.extensionType===V.FADED){const e=R(t,-this.fadedExtensions.start,L);s[0]=e[0],s[1]=e[1],s[2]=e[2];const i=R(t,0,L);s[3]=i[0],s[4]=i[1],s[5]=i[2];const r=R(t,1,L);s[6]=r[0],s[7]=r[1],s[8]=r[2];const n=R(t,1+this.fadedExtensions.end,L);s[9]=n[0],s[10]=n[1],s[11]=n[2]}else{const e=R(t,0,L);s[0]=e[0],s[1]=e[1],s[2]=e[2];const i=R(t,1,L);s[3]=i[0],s[4]=i[1],s[5]=i[2]}e.geometryVertexAttrsUpdated(e.geometryRecords[0])}}const W=m(),L=_(),S=_(),T=w();var V;!function(e){e[e.LINE=0]=\"LINE\",e[e.RAY=1]=\"RAY\",e[e.GROUND_RAY=2]=\"GROUND_RAY\",e[e.FADED=3]=\"FADED\"}(V||(V={}));const N=1/3,F={start:N,end:N};export{G as ExtendedLineVisualElement,V as ExtensionType};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Handles.js\";import{unwrap as t,isSome as r,isNone as s}from\"../../../../core/maybe.js\";import{watch as i}from\"../../../../core/reactiveUtils.js\";import{createScreenPointArray as o}from\"../../../../core/screenUtils.js\";import{f as a,a as c,b as n,s as h,j as l}from\"../../../../chunks/vec2.js\";import{k as d,c as m,n as u,b as _,a as p}from\"../../../../chunks/vec3.js\";import{c as f,f as g}from\"../../../../chunks/vec3f64.js\";import{g as j,c as b}from\"../../../../chunks/vec4.js\";import{f as w}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as x}from\"./Object3DVisualElement.js\";import{createPolylineGeometry as y}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as O}from\"../../webgl-engine/lib/Material.js\";import{VertexAttribute as G}from\"../../webgl-engine/lib/VertexAttribute.js\";import{RibbonLineMaterial as R}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class v extends x{constructor(t){super(t),this._handles=new e,this._location=f(),this._direction=g(1,0,0),this._width=1,this._offset=1,this._length=18,this._color=w(1,0,1,1),this._renderOccluded=O.OccludeAndTransparent,this.applyProps(t)}get location(){return this._location}set location(e){d(this._location,e)||(m(this._location,e),this._updateGeometry())}get direction(){return this._direction}set direction(e){d(this._direction,e)||(m(this._direction,e),this._updateGeometry())}setDirectionFromPoints(e,t){u(this._direction,_(this._direction,t,e)),this._updateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get offset(){return this._offset}set offset(e){e!==this._offset&&(this._offset=e,this._updateGeometry())}get length(){return this._length}set length(e){e!==this._length&&(this._length=e,this._updateGeometry())}get color(){return this._color}set color(e){j(e,this._color)||(b(this._color,e),this._updateMaterial())}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}createExternalResources(){const e=new R(this.materialParameters);this._handles.add(i((()=>this.view.state.camera),(()=>{this._updateGeometry()}))),this._externalResources={material:e}}destroyExternalResources(){this._handles.removeAll(),this._externalResources=null}createGeometries(e){const r=y([f(),f()]),s=y([f(),f()]),i=t(this._externalResources).material;e.addGeometry(r,i),e.addGeometry(s,i),this._updateVertices(e)}forEachExternalMaterial(e){r(this._externalResources)&&e(this._externalResources.material)}_updateMaterial(){if(s(this._externalResources))return;this._externalResources.material.setParameters(this.materialParameters)}get materialParameters(){return{width:this._width,color:this._color,renderOccluded:this._renderOccluded}}_updateGeometry(){const e=this.object;s(e)||this._updateVertices(e)}_updateVertices(e){const t=this.view.state.camera;t.projectToScreen(this.location,A),p(V,this.location,this.direction),t.projectToScreen(V,M),a(M,c(M,M,A)),this._updateVertexAttributes(t,e,0,A,M,1),this._updateVertexAttributes(t,e,1,A,M,-1)}_updateVertexAttributes(e,t,r,s,i,o){const a=t.geometryRecords[r],c=a.geometry.getMutableAttribute(G.POSITION).data,d=n(P,h(P,i[1]*o,i[0]*-o),this.offset+this.width/2),m=l(k,l(k,l(k,s,n(k,i,this.length/2)),d),d),u=l(E,m,n(E,i,-this.length));e.unprojectFromScreen(m,V),c[0]=V[0],c[1]=V[1],c[2]=V[2],e.unprojectFromScreen(u,V),c[3]=V[0],c[4]=V[1],c[5]=V[2],t.geometryVertexAttrsUpdated(a)}}const V=f(),A=o(),M=o(),P=o(),k=o(),E=o();export{v as ParallelLineVisualElement};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as s}from\"../../../../core/maybe.js\";import{watch as r,initial as t}from\"../../../../core/reactiveUtils.js\";import{UpdatePolicy as o}from\"../../webgl-engine/lib/basicInterfaces.js\";import{ContentObjectType as i}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Object3D as c}from\"../../webgl-engine/lib/Object3D.js\";import{Texture as a}from\"../../webgl-engine/lib/Texture.js\";import{WebGLLayer as h}from\"../../webgl-engine/lib/WebGLLayer.js\";class u{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get object(){return e(this._resources)?this._resources.object:null}get resources(){return e(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncVisible())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){if(!this._resourceFactory.recreateGeometry)return void this.recreate();const e=this._resourceFactory.view._stage;if(s(this._resources)||!e)return;const r=this._resources.object;this._resources.external.forEach((s=>{s.type===i.Geometry&&e.remove(s)})),r.removeAllGeometries();const t=this._resourceFactory.recreateGeometry(this._resources.external,r,this._resources.layer);e.addMany(t)}_createOrDestroyResources(){this._attached?this._resources||this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this._resourceFactory,s=e.view,i=s._stage;if(!i)return;const u=new h({isPickable:!1,updatePolicy:o.SYNC});i.add(u);const n=new c({castShadow:!1}),_=e.createResources(n,u);_.forEach((e=>{i.add(e),e instanceof a&&i.loadImmediate(e)})),i.add(n),u.add(n);const l=e.cameraChanged?r((()=>s.state.camera),(s=>e.cameraChanged(s)),t):null;this._resources={layer:u,object:n,external:_,cameraHandle:l},this._syncVisible()}_destroyResources(){if(s(this._resources))return;const e=this._resourceFactory.view._stage;e?.remove(this._resources.object),e?.remove(this._resources.layer),this._resources.external.forEach((s=>{e?.remove(s),\"dispose\"in s&&s.dispose()})),this._resources.object.dispose(),this._resources.cameraHandle&&this._resources.cameraHandle.remove(),this._resources=null}_syncVisible(){s(this._resources)||this._resources.object.setVisible(this._visible)}}export{u as VisualElementResources};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{clamp as e,nextHighestPowerOfTwo as t}from\"../../../../core/mathUtils.js\";import{isSome as r,isNone as i}from\"../../../../core/maybe.js\";import{s}from\"../../../../chunks/vec3.js\";import{c as o}from\"../../../../chunks/vec3f64.js\";import{g as n,c as a}from\"../../../../chunks/vec4.js\";import{f as l}from\"../../../../chunks/vec4f64.js\";import{projectVectorToVector as u}from\"../../../../geometry/projection.js\";import{expandWithBuffer as c}from\"../../../../geometry/support/aaBoundingBox.js\";import{sv3d as h}from\"../../../../geometry/support/vectorStacks.js\";import{VisualElementResources as m}from\"./VisualElementResources.js\";import{evaluateElevationAlignmentAtPoint as p}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as _}from\"../../layers/graphics/ElevationContext.js\";import{createTexture as g,DEFAULT_SYMBOL_SIZE_RATIO as d}from\"../../support/engineContent/sdfPrimitives.js\";import{createPointGeometry as f}from\"../../webgl-engine/lib/GeometryUtil.js\";import{VertexAttribute as y}from\"../../webgl-engine/lib/VertexAttribute.js\";import{HUDMaterial as v}from\"../../webgl-engine/materials/HUDMaterial.js\";class S{constructor(e){this.view=null,this._geometry=null,this._size=3,this._color=l(1,0,1,1),this._pixelSnappingEnabled=!0,this._primitive=\"square\",this._outlineSize=1,this._outlineColor=l(1,1,1,1),this._elevationInfo=null,this._resources=new m({view:e.view,createResources:e=>this._createResources(e),recreateGeometry:(e,t)=>(e.geometry=this._recreateGeometry(t,e.material),r(e.geometry)?[e.geometry]:[])});let t=!0;for(const r in e)r in this?\"attached\"===r?t=e[r]:this[r]=e[r]:console.error(\"Cannot set unknown property\",r);this.attached=t}destroy(){this._resources.destroy()}get visible(){return this._resources.visible}set visible(e){this._resources.visible=e}get attached(){return this._resources.attached}set attached(e){this._resources.attached=e}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this._resources.recreateGeometry()}get size(){return this._size}set size(e){if(e!==this._size){const t=this._preferredTextureSize;this._size=e,t<this._preferredTextureSize?r(this._resources)&&this._resources.recreate():this._updateSizeAttribute()}}get color(){return this._color}set color(e){n(e,this._color)||(a(this._color,e),this._updateMaterial())}get pixelSnappingEnabled(){return this._pixelSnappingEnabled}set pixelSnappingEnabled(e){this._pixelSnappingEnabled!==e&&(this._pixelSnappingEnabled=e,this._updateMaterial())}get primitive(){return this._primitive}set primitive(e){this._primitive!==e&&(this._primitive=e,r(this._resources)&&this._resources.recreate())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){n(e,this._outlineColor)||(a(this._outlineColor,e),this._updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._resources&&this._resources.recreateGeometry()}_updateMaterial(){const e=this._resources.resources;i(e)||e.material.setParameters(this._materialParameters(e.texture.id))}_updateSizeAttribute(){const e=this._resources.resources,t=this._resources.object;if(i(e)||i(t))return;const r=e.geometry;if(i(r))return;const s=r.getMutableAttribute(y.SIZE).data,o=this._geometrySize;s[0]=o,s[1]=o,t.geometryVertexAttrsUpdated(t.geometryRecords[0])}_materialParameters(e){return{color:this._color,textureIsSignedDistanceField:!0,distanceFieldBoundingBox:z,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:e,polygonOffset:!1,shaderPolygonOffset:0,drawInSecondSlot:!0,depthEnabled:!1,pixelSnappingEnabled:this.pixelSnappingEnabled}}get _geometrySize(){return this._size/b}_recreateGeometry(e,t){const i=this._createRenderGeometry();return r(i)&&e.addGeometry(i,t),i}_createResources(e){const t=g(this._primitive,this._preferredTextureSize),i=new v(this._materialParameters(t.id)),s=this._recreateGeometry(e,i);return{material:i,texture:t,geometry:s,forEach(e){e(t),e(i),r(this.geometry)&&e(this.geometry)}}}get _preferredTextureSize(){return e(t(2*this._geometrySize),16,128)}calculateMapBounds(e){if(i(this._resources.resources)||i(this._resources.resources.geometry))return!1;const t=this._resources.resources.geometry.vertexAttributes.get(y.POSITION);return u(t.data,this.view.renderCoordsHelper.spatialReference,x,this.view.spatialReference),c(e,x),!0}_createRenderGeometry(){const e=this.geometry;if(i(e))return null;const{renderCoordsHelper:t,elevationProvider:r}=this.view,o=p(e,r,_.fromElevationInfo(this.elevationInfo),t),n=s(h.get(),e.x,e.y,o),a=h.get();u(n,e.spatialReference,a,t.spatialReference);const l=this._geometrySize;return f(null,a,null,[l,l],[0,0,0,1])}}const b=d,z=[b/2,b/2,1-b/2,1-b/2],x=o();export{S as PointVisualElement};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Handles.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{watch as i}from\"../../../../core/reactiveUtils.js\";import{f as r,k as s}from\"../../../../chunks/mat4.js\";import{c as a}from\"../../../../chunks/mat4f64.js\";import{i as o,n as l,b as n,c as u,k as h,a as d}from\"../../../../chunks/vec3.js\";import{c as _,Z as c}from\"../../../../chunks/vec3f64.js\";import{c as m}from\"../../../../chunks/vec4.js\";import{f as p}from\"../../../../chunks/vec4f32.js\";import{sv3d as M}from\"../../../../geometry/support/vectorStacks.js\";import{Object3DVisualElement as g}from\"./Object3DVisualElement.js\";import{Geometry as f}from\"../../webgl-engine/lib/Geometry.js\";import{createPolylineGeometry as O}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as z}from\"../../webgl-engine/lib/Material.js\";import{VertexAttribute as j}from\"../../webgl-engine/lib/VertexAttribute.js\";import{ColorMaterial as y}from\"../../webgl-engine/materials/ColorMaterial.js\";import{RibbonLineMaterial as b}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class S extends g{constructor(t){super(t),this._handles=new e,this._quadMaterial=null,this._outlineMaterial=null,this._maxSize=0,this._position=_(),this._up=_(),this._right=_(),this._renderOccluded=z.OccludeAndTransparent,this._color=p(1,0,0,1),this._outlineColor=p(0,0,0,1),this._outlineSize=0,this._size=32,this._outlineRenderOccluded=z.Opaque,this.applyProps(t)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateQuadMaterial())}get color(){return this._color}set color(e){m(this._color,e),this._updateQuadMaterial()}get outlineColor(){return this._outlineColor}set outlineColor(e){m(this._outlineColor,e),this._updateOutlineMaterial()}get outlineSize(){return this._outlineSize}set outlineSize(e){const t=0===this._outlineSize!=(0===e);this._outlineSize=e,t?this.recreateGeometry():this._updateOutlineMaterial()}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateTransform())}get outlineRenderOccluded(){return this._outlineRenderOccluded}set outlineRenderOccluded(e){this._outlineRenderOccluded=e,this._updateOutlineMaterial()}set geometry({previous:e,center:t,next:i}){this._maxSize=Math.min(o(t,e),o(t,i))/3,l(this._up,n(this._up,e,t)),l(this._right,n(this._right,i,t)),u(this._position,t),this.recreateGeometry()}createExternalResources(){this._quadMaterial=new y(this._quadMaterialParameters),this._outlineMaterial=new b(this._outlineMaterialParameters),this._handles.add(i((()=>this.view.state.camera),(()=>this._updateTransform())))}destroyExternalResources(){this._quadMaterial=null,this._outlineMaterial=null,this._handles.removeAll()}forEachExternalMaterial(e){e(this._quadMaterial),e(this._outlineMaterial)}createGeometries(e){h(this._up,c)&&h(this._right,c)||(this._createQuadGeometry(e),this._createOutlineGeometry(e),this._updateTransform(e))}_createQuadGeometry(e){const t=this._quadGeometryData(this._up,this._right);e.addGeometry(t,this._quadMaterial)}_createOutlineGeometry(e){if(0===this._outlineSize)return;const t=d(M.get(),this._up,this._right),i=O([this._up,t,this._right]);e.addGeometry(i,this._outlineMaterial)}_updateTransform(e=this.object){const i=this.view.state.camera,a=this._size*i.computeScreenPixelSizeAt(this._position),o=Math.min(this._maxSize,a);r(w,this._position),s(w,w,[o,o,o]),t(e)&&(e.transformation=w)}_quadGeometryData(e,t){const i=d(M.get(),e,t);return new f([[j.POSITION,{size:3,data:[0,0,0,...t,...e,...i],exclusive:!0}]],[[j.POSITION,[0,1,2,1,2,3]]])}get _quadMaterialParameters(){return{color:this._color,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded}}_updateQuadMaterial(){this._quadMaterial&&this._quadMaterial.setParameters(this._quadMaterialParameters)}get _outlineMaterialParameters(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded}}_updateOutlineMaterial(){this._outlineMaterial&&this._outlineMaterial.setParameters(this._outlineMaterialParameters)}}const w=a();export{S as RightAngleQuadVisualElement};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import\"../../../core/has.js\";import{destroyHandle as n}from\"../../../core/handleUtils.js\";import{unwrapOr as i,isNone as t,isSome as o,unwrap as r}from\"../../../core/maybe.js\";import{h as a}from\"../../../chunks/vec3.js\";import{c as l}from\"../../../chunks/vec3f64.js\";import s from\"../../../geometry/Point.js\";import{ExtendedLineVisualElement as p,ExtensionType as c}from\"./visualElements/ExtendedLineVisualElement.js\";import{ParallelLineVisualElement as d}from\"./visualElements/ParallelLineVisualElement.js\";import{PointVisualElement as m}from\"./visualElements/PointVisualElement.js\";import{RightAngleQuadVisualElement as g}from\"./visualElements/RightAngleQuadVisualElement.js\";import{RenderOccludedFlag as u}from\"../webgl-engine/lib/Material.js\";import{defaults as f}from\"../../interactive/snapping/Settings.js\";import{SnappingDomain as v}from\"../../interactive/snapping/SnappingDomain.js\";import{LineSegmentHintType as h}from\"../../interactive/snapping/snappingUtils.js\";import{SnappingVisualizer as E}from\"../../interactive/snapping/SnappingVisualizer.js\";import{anyMapPointToRender as S,anyMapPointsToRenderWithEqualRelativeZ as w}from\"../../interactive/support/viewUtils.js\";class _ extends E{visualizeIntersectionPoint(t,o){const{coordinateHelper:r,view:a}=o;return n(new m({view:a,primitive:\"circle\",geometry:r.vectorToPoint(t.intersectionPoint),elevationInfo:i(t.elevationInfo,o.elevationInfo),size:20,outlineSize:2,color:[0,0,0,0],outlineColor:e.toUnitRGBA(f.orange),pixelSnappingEnabled:!1}))}visualizePoint(i,t){const{view:o,coordinateHelper:r}=t,a=this._alignPoint(i.point,i.domain,t);return n(new m({view:o,primitive:\"circle\",geometry:r.vectorToPoint(a),elevationInfo:this._hintElevationInfo(i,t),size:20,outlineSize:2,color:[0,0,0,0],outlineColor:e.toUnitRGBA(f.orange),pixelSnappingEnabled:!1}))}visualizeLine(e,i){const{view:t,coordinateHelper:o}=i,r=this._alignPoint(e.lineStart,e.domain,i),a=this._alignPoint(e.lineEnd,e.domain,i);return n(this._createLineSegmentHintFromMap(e.type,r,a,o,this._hintElevationInfo(e,i),t,e.fadeLeft,e.fadeRight))}visualizeParallelSign(i,t){const{view:o,coordinateHelper:r}=t,l=this._hintElevationInfo(i,t),s=this._alignPoint(i.lineStart,i.domain,t),p=this._alignPoint(i.lineEnd,i.domain,t),c=S(s,r,l,o),m=S(p,r,l,o),g=a(m,c,m,.5),v=new d({view:o,attached:!1,offset:f.parallelLineHintOffset,length:f.parallelLineHintLength,width:f.parallelLineHintWidth,color:e.toUnitRGBA(f.orange),location:g,renderOccluded:u.Opaque});return v.setDirectionFromPoints(c,g),v.attached=!0,n(v)}visualizeRightAngleQuad(i,t){const{view:o,coordinateHelper:r}=t,a=this._hintElevationInfo(i,t),l=this._alignPoint(i.previousVertex,i.domain,t),s=this._alignPoint(i.centerVertex,i.domain,t),p=this._alignPoint(i.nextVertex,i.domain,t);return n(new g({view:o,attached:!0,color:e.toUnitRGBA(f.orange),renderOccluded:u.Transparent,outlineRenderOccluded:u.Opaque,outlineColor:e.toUnitRGBA(f.orange),outlineSize:f.rightAngleHintOutlineSize,size:f.rightAngleHintSize,geometry:{previous:S(l,r,a,o),center:S(s,r,a,o),next:S(p,r,a,o)}}))}_createLineSegmentHintFromMap(e,n,i,t,o,r,a=!0,s=!0){const p=l(),c=l();return w(n,i,t,o,r,p,c),this._createLineSegmentHint(e,r,p,c,a,s)}_createLineSegmentHint(n,i,t,o,r=!0,a=!0){const l=new p({view:i,extensionType:c.FADED,start:t,end:o,color:e.toUnitRGBA(f.orange),renderOccluded:u.Opaque});switch(n){case h.TARGET:l.width=f.lineHintWidthTarget,l.fadedExtensions={start:0,end:f.lineHintFadedExtensions};break;case h.REFERENCE_EXTENSION:l.width=f.lineHintWidthReference,l.fadedExtensions={start:0,end:0};break;case h.REFERENCE:l.width=f.lineHintWidthReference,l.fadedExtensions={start:r?f.lineHintFadedExtensions:0,end:a?f.lineHintFadedExtensions:0}}return l.attached=!0,l}_alignPoint(e,n,i){const o=this._getSelfSnappingZ(n,i);if(t(o))return e;const r=i.coordinateHelper,a=r.vectorToPoint(e,H);return a.z=o,r.pointToVector(a)}_hintElevationInfo(e,n){return o(this._getSelfSnappingZ(e.domain,n))?r(n.selfSnappingZ).elevationInfo:i(e.elevationInfo,n.elevationInfo)}_getSelfSnappingZ(e,{selfSnappingZ:n}){return e===v.SELF&&o(n)?n.value:null}}const H=new s;export{_ as SnappingVisualizer3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../../../Color.js\";import{toHSV as e,toRGB as i}from\"../../../../core/colorUtils.js\";import{b as l}from\"../../../../chunks/vec4f64.js\";import{ExtensionType as o}from\"../visualElements/ExtendedLineVisualElement.js\";import{RenderOccludedFlag as s}from\"../../webgl-engine/lib/Material.js\";import{createStipplePatternSimple as n}from\"../../webgl-engine/materials/lineStippleUtils.js\";const r={main:new t([255,127,0]),selected:new t([255,255,255]),staged:new t([12,207,255]),outline:new t([0,0,0,.5]),selectedOutline:new t([255,255,255])},h=.3;function c(t,e){const i=t.clone();return i.a*=e,i}function a(t,l){const o=t.clone(),s=e(o);s.s*=l;const n=i(s);return o.r=n.r,o.g=n.g,o.b=n.b,o}function d(t,e){if(e)for(const i in e)t[i]=e[i]}class u{constructor(t){this.color=r.main,this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=s.Opaque,d(this,t)}}class p{constructor(t){this.size=11,this.outlineSize=1,this.collisionPadding=9,this.color=r.main,this.outlineColor=r.outline,this.renderOccluded=s.Opaque,this.hoverOutlineColor=r.selectedOutline,d(this,t)}apply(t,e){const i=this[t];e.setParameters({color:P(i),transparent:\"color\"!==t||i.a<1,renderOccluded:this.renderOccluded})}}class g{constructor(t){this.size=40,this.height=.2,this.offset=.25,this.collisionPadding=2,this.color=c(r.main,.5),this.hoverColor=r.main,this.renderOccluded=s.Transparent,this.minSquaredEdgeLength=900,d(this,t)}apply(t,e){const i=this[t];e.setParameters({color:P(i),transparent:i.a<1,renderOccluded:this.renderOccluded})}}class f{constructor(t){this.vertex=new p({color:r.main,outlineColor:r.outline}),this.edge=new p({color:a(c(r.main,2/3),.5),outlineColor:c(r.outline,.5),size:8,collisionPadding:8}),this.selected=new p({color:r.selected,outlineColor:r.outline}),this.edgeOffset=new g,d(this,t)}}class w{constructor(t){this.color=r.selected,this.width=1.5,this.stipplePattern=n(5),this.stippleOffColor=r.outline,this.falloff=0,this.innerWidth=1.5,this.innerColor=r.selected,this.renderOccluded=s.OccludeAndTransparent,d(this,t)}apply(t){t.color=P(this.color),t.width=this.width,t.stipplePattern=this.stipplePattern,t.stippleOffColor=P(this.stippleOffColor),t.falloff=this.falloff,t.innerWidth=this.innerWidth,t.innerColor=P(this.innerColor),t.renderOccluded=this.renderOccluded}}class C{constructor(t){this.color=r.selected,this.size=4,this.outlineSize=1,this.outlineColor=r.outline,this.shape=\"square\",d(this,t)}apply(t){t.color=P(this.color),t.size=this.size,t.outlineSize=this.outlineSize,t.outlineColor=P(this.outlineColor),t.primitive=this.shape}}class m{constructor(t){this.innerColor=r.selected,this.innerWidth=1,this.glowColor=r.main,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=h,this.globalAlphaContrastBoost=1.5,this.radius=3,this.heightFillColor=r.main,d(this,t)}apply(e,i=1){const l={glowColor:t.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:t.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*i,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};\"style\"in e?e.style=l:e.laserlineStyle=l}}class O{constructor(t){this.outline=new w({color:r.outline,renderOccluded:s.OccludeAndTransparentStencil,stippleOffColor:r.selected,stipplePattern:n(5),width:1.5,innerWidth:0}),this.staged=new w({color:r.selected,renderOccluded:s.OccludeAndTransparentStencil,innerColor:r.staged,stippleOffColor:r.outline,stipplePattern:n(5),width:1.5}),this.shadowStyle=new m({globalAlpha:h,glowColor:r.main,glowFalloff:8,glowWidth:8,innerColor:r.selected,innerWidth:1}),d(this,t)}}class A{constructor(t){this.outline=new C({color:r.selected,outlineColor:r.outline,outlineSize:1,shape:\"circle\",size:4}),this.shadowStyle=new m({globalAlpha:h,glowColor:r.main,glowFalloff:1.5,glowWidth:6,innerColor:r.selected,innerWidth:1,radius:2}),d(this,t)}}class W extends w{constructor(t){super(),this.extensionType=o.GROUND_RAY,d(this,t)}}class b{constructor(t){this.lineGraphics=new O,this.pointGraphics=new A,this.heightPlane=new m({globalAlpha:h,glowColor:r.main,glowFalloff:8,glowWidth:8,innerColor:r.selected,innerWidth:1}),this.heightBox=new m({globalAlpha:h,glowColor:r.main,glowFalloff:8,glowWidth:8,innerColor:r.selected,innerWidth:0,heightFillColor:r.main}),this.zVerticalLine=new W({color:c(r.main,5*h/3),falloff:2,innerColor:c(r.selected,0),renderOccluded:s.OccludeAndTransparent,stipplePattern:null,width:5,extensionType:o.GROUND_RAY}),this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20,d(this,t)}}class z{constructor(t){this.visualElements=new b,this.reshapeManipulators=new f,this.zManipulator=new u,d(this,t)}colorToVec4(t){return P(t)}}function P(e){return l(t.toUnitRGBA(e))}const y=new z;export{p as VertexManipulatorStyle,r as colors,y as settings};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{IdentifiableMixin as s}from\"../../../../core/Identifiable.js\";import{isSome as t,isNone as o}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{DrapeSourceType as a}from\"../../layers/interfaces.js\";import{UpdatePolicy as u}from\"../../webgl-engine/lib/basicInterfaces.js\";import{DirtyOperation as d}from\"../../webgl-engine/lib/ModelDirtyTypes.js\";class h{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get resources(){return t(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){this._resourceFactory.recreateGeometry?o(this._resources)||(this._ensureRenderGeometriesRemoved(),this._resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?o(this._resources)&&this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this._resourceFactory.createResources(),r=new n({view:this._resourceFactory.view}),s=this._resourceFactory.view.basemapTerrain?.overlayManager;this._resources={layerView:new n({view:this._resourceFactory.view}),external:e,geometriesAdded:!1},s&&(this._resources.drapeSourceRenderer=s.registerGeometryDrapeSource(r)),this._syncGeometriesToRenderer()}_destroyResources(){if(o(this._resources))return;this._ensureRenderGeometriesRemoved();const e=this._resourceFactory.view.basemapTerrain?.overlayManager;e&&e.unregisterDrapeSource(this._resources.layerView),this._resources=null}_syncGeometriesToRenderer(){this._visible?this._ensureRenderGeometriesAdded():this._ensureRenderGeometriesRemoved()}_ensureRenderGeometriesRemoved(){if(o(this._resources)||o(this._resources.drapeSourceRenderer))return;if(!this._resources.geometriesAdded)return;this._resources.drapeSourceRenderer.removeGeometries(this._resources.external.geometries,d.UPDATE),this._resources.geometriesAdded=!1}_ensureRenderGeometriesAdded(){if(o(this._resources)||o(this._resources.drapeSourceRenderer))return;if(this._resources.geometriesAdded)return;this._resources.drapeSourceRenderer.addGeometries(this._resources.external.geometries,d.UPDATE),this._resources.geometriesAdded=!0}}let n=class extends(s(r)){constructor(e){super(e),this.drapeSourceType=a.Features,this.updatePolicy=u.SYNC}};e([i({constructOnly:!0})],n.prototype,\"view\",void 0),e([i({readOnly:!0})],n.prototype,\"drapeSourceType\",void 0),n=e([c(\"DrapedVisualElementLayerView\")],n);export{h as DrapedVisualElementResources};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Evented.js\";import{isSome as t,unwrap as r,isNone as s}from\"../../../../core/maybe.js\";import{s as i,a,g as n}from\"../../../../chunks/vec3.js\";import{c as o}from\"../../../../chunks/vec3f64.js\";import{g as l,c as h,s as c}from\"../../../../chunks/vec4.js\";import{f as d,a as _}from\"../../../../chunks/vec4f32.js\";import{projectBuffer as p}from\"../../../../geometry/projection.js\";import{create as u,empty as m,expandWithBuffer as f}from\"../../../../geometry/support/aaBoundingBox.js\";import{makeDehydratedPoint as g}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{getGeometryEffectiveElevationMode as y}from\"../../../../support/elevationInfoUtils.js\";import v from\"../../../../symbols/support/ElevationInfo.js\";import{DrapedVisualElementResources as O}from\"./DrapedVisualElementResources.js\";import{LaserlineVisualElement as w}from\"./LaserlineVisualElement.js\";import{VisualElementResources as C}from\"./VisualElementResources.js\";import{ElevationContext as b}from\"../../layers/graphics/ElevationContext.js\";import{createGeometry as R}from\"../../support/engineContent/line.js\";import{geometryToRenderInfoDraped as D,geometryToRenderInfo as j}from\"../../support/renderInfoUtils/line.js\";import{computeAttachmentOriginLines as P}from\"../../webgl-engine/lib/geometryDataUtils.js\";import{RenderOccludedFlag as E}from\"../../webgl-engine/lib/Material.js\";import{RenderGeometry as I}from\"../../webgl-engine/lib/RenderGeometry.js\";import{VertexAttribute as A}from\"../../webgl-engine/lib/VertexAttribute.js\";import{RibbonLineMaterial as G}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class S{constructor(t){this.view=null,this._attachmentOrigin=g(0,0,0,null),this._attachmentOriginDirty=!0,this.events=new e,this._isDraped=!1,this._geometry=null,this._width=1,this._color=d(1,0,1,1),this._innerWidth=0,this._innerColor=d(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._falloff=0,this._elevationInfo=null,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=E.OccludeAndTransparentStencil,this._resources=new C({view:t.view,createResources:e=>this._createResources(e),recreateGeometry:(e,t)=>(e.geometries.length=0,this._recreateGeometry(t,e.material,e.geometries),e.geometries)}),this._attachmentOrigin.spatialReference=t.view.spatialReference,this._drapedResources=new O({view:t.view,createResources:()=>this._createDrapedResources(),recreateGeometry:e=>{e.geometries=this._createRenderGeometriesDraped(e.material),this._attachmentOriginChanged()}});let r=!0;this._laserline=new w({view:t.view});for(const e in t)e in this?\"attached\"===e?r=t[e]:this[e]=t[e]:console.error(\"Cannot set unknown property\",e);this.attached=r}destroy(){this._resources.destroy(),this._drapedResources.destroy(),this._laserline.destroy()}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this._updateAttached(this.attached),this._laserline.attached=this._laserlineAttached)}get _laserlineAttached(){return this.attached&&this.visible&&t(this._laserlineStyle)&&!this.isDraped&&this.laserlineEnabled}get visible(){return this._resources.visible}set visible(e){this._resources.visible=e,this._drapedResources.visible=e,this._laserline.attached=this._laserlineAttached}get attached(){return this._resources.attached||this._drapedResources.attached}set attached(e){this._updateAttached(e)}_updateAttached(e){this._resources.attached=!this.isDraped&&e,this._drapedResources.attached=this.isDraped&&e,this._laserline.attached=this._laserlineAttached,this.attached&&this._attachmentOriginChanged()}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this._resources.recreateGeometry(),this._drapedResources.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){l(e,this._color)||(h(this._color,e),this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){l(e,this._innerColor)||(h(this._innerColor,e),this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(e){const r=t(e)!==t(this._stipplePattern);this._stipplePattern=e,r?this._resources.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){e&&this._stippleOffColor&&l(e,this._stippleOffColor)||(this._stippleOffColor=e?_(e):null,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._resources.recreateGeometry()}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(e){this._laserlineStyle=e,this._laserline.attached=this._laserlineAttached,t(e)&&(this._laserline.style=e)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this._laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get attachmentOrigin(){if(!this._attachmentOriginDirty)return this._attachmentOrigin;const e=t(this._resources.resources)?this._resources.resources.geometries:null;if(!e||0===e.length)return null;i(W,0,0,0);let s=0;for(const t of e){const e=t.vertexAttributes.get(A.POSITION),i=t.indices.get(A.POSITION),n=r(this._resources.resources).material.isClosed(e.data,i);P(e,i,n,T)&&(a(W,W,T),s++)}return 0===s?null:(n(W,W,1/s),this.view.renderCoordsHelper.fromRenderCoords(W,this._attachmentOrigin),this._attachmentOriginDirty=!1,this._attachmentOrigin)}_updateMaterial(){t(this._resources.resources)&&this._resources.resources.material.setParameters(this._materialParameters),t(this._drapedResources.resources)&&this._drapedResources.resources.material.setParameters(this._materialParameters)}get _isClosed(){return t(this.geometry)&&\"polygon\"===this.geometry.type}get _materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:!1,isClosed:this._isClosed,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,join:\"round\",hasPolygonOffset:!0,renderOccluded:this._normalizedRenderOccluded}}get _normalizedRenderOccluded(){return this.isDraped&&this._renderOccluded===E.OccludeAndTransparentStencil?E.OccludeAndTransparent:this._renderOccluded}_recreateGeometry(e,t,r){const s=this._createRenderGeometries();for(const i of s)e.addGeometry(i,t),r.push(i);this._attachmentOriginChanged()}_attachmentOriginChanged(){this._attachmentOriginDirty=!0,this.events.emit(\"attachment-origin-changed\")}_createResources(e){const t=new G(this._materialParameters),r=[];return this._recreateGeometry(e,t,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}_createDrapedResources(){const e=new G(this._materialParameters);return{material:e,geometries:this._createRenderGeometriesDraped(e)}}_createRenderGeometriesDraped(e){const t=this.geometry;if(s(t)||s(this.view.basemapTerrain.spatialReference))return[];const r=D(t,this.view.basemapTerrain.spatialReference),i=[];for(const{position:s}of r.lines){const t={overlayInfo:{spatialReference:this.view.basemapTerrain.spatialReference,renderCoordsHelper:this.view.renderCoordsHelper},attributeData:{position:s},removeDuplicateStartEnd:this._isClosed},r=new I(R(t),e),a=m(M);f(a,s),c(r.boundingSphere,.5*(a[0]+a[3]),.5*(a[1]+a[4]),0,.5*Math.sqrt((a[3]-a[0])*(a[3]-a[0])+(a[4]-a[1])*(a[4]-a[1]))),i.push(r)}return i}calculateMapBounds(e){if(s(this._resources.resources))return!1;const t=this.view.renderCoordsHelper;for(const r of this._resources.resources.geometries){const s=r.vertexAttributes.get(A.POSITION),i=new Float64Array(s.data.length);p(s.data,t.spatialReference,0,i,this.view.spatialReference,0,s.data.length/3),f(e,i)}return!0}_createRenderGeometries(){const e=this.geometry;if(s(e))return[];const t=j(e,this.view.elevationProvider,this.view.renderCoordsHelper,b.fromElevationInfo(this.elevationInfo??new v({mode:y(e,null)}))),r=[],i=[];for(const{position:s,mapPosition:a}of t.lines){const e={attributeData:{position:s,mapPosition:a},removeDuplicateStartEnd:this._isClosed};r.push(R(e)),i.push(s)}return this._laserline.pathVerticalPlane=i,r}}const M=u(),T=o(),W=o();export{S as OutlineVisualElement};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{applyPerVertexElevationAlignment as n}from\"../../layers/graphics/elevationAlignmentUtils.js\";function t(t,e,o,l,r){const i=new Float64Array(3*t.length),s=new Float64Array(i.length);t.forEach(((n,t)=>{i[3*t+0]=n[0],i[3*t+1]=n[1],i[3*t+2]=n.length>2?n[2]:0}));const a=n(i,e,0,s,0,i,0,i.length/3,o,l,r),c=null!=a;return{numVertices:t.length,position:i,mapPosition:s,projectionSuccess:c,sampledElevation:a}}export{t as geometryToRenderInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as s}from\"../lib/basicInterfaces.js\";import{blendingDefault as a,oitBlending as n,oitDepthWrite as p,OITPolygonOffset as l}from\"../lib/OrderIndependentTransparency.js\";import{Program as u}from\"../lib/Program.js\";import{TransparencyPassType as c}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as h}from\"../lib/VertexAttribute.js\";import{DefaultTechniqueConfiguration as d}from\"../materials/DefaultTechniqueConfiguration.js\";import{S as m}from\"../../../../chunks/ShadedColorMaterial.glsl.js\";import{CompareFunction as f}from\"../../../webgl/enums.js\";import{makePipelineState as b,cullingParams as y,defaultDepthWriteParams as S,defaultColorWriteParams as T}from\"../../../webgl/renderState.js\";class g extends o{initializeProgram(e){return new u(e.rctx,g.shader.get().build(this.configuration),v)}_setPipelineState(e){const r=this.configuration,o=e===c.NONE,i=e===c.FrontFace;return b({blending:r.output!==t.Color&&r.output!==t.Alpha||!r.transparent?null:o?a:n(e),culling:y(r.cullFace),depthTest:{func:i?f.LESS:r.shadingEnabled?f.LEQUAL:f.LESS},depthWrite:o?r.writeDepth&&S:p(e),colorWrite:T,polygonOffset:o||i?null:l})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}}g.shader=new r(m,(()=>import(\"./ShadedColorMaterial.glsl.js\")));class j extends d{constructor(){super(...arguments),this.output=t.Color,this.cullFace=s.None,this.transparencyPassType=c.NONE,this.hasSlicePlane=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.hasMultipassTerrain=!1,this.cullAboveGround=!1}}e([i({count:t.COUNT})],j.prototype,\"output\",void 0),e([i({count:s.COUNT})],j.prototype,\"cullFace\",void 0),e([i({count:c.COUNT})],j.prototype,\"transparencyPassType\",void 0),e([i()],j.prototype,\"hasSlicePlane\",void 0),e([i()],j.prototype,\"transparent\",void 0),e([i()],j.prototype,\"writeDepth\",void 0),e([i()],j.prototype,\"screenSizeEnabled\",void 0),e([i()],j.prototype,\"shadingEnabled\",void 0),e([i()],j.prototype,\"hasMultipassTerrain\",void 0),e([i()],j.prototype,\"cullAboveGround\",void 0);const v=new Map([[h.POSITION,0],[h.NORMAL,1],[h.OFFSET,2]]);export{g as ShadedColorMaterialTechnique,j as ShadedColorMaterialTechniqueConfiguration,v as vertexAttributeLocations};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{n as e,s as t,g as r,a as i}from\"../../../../chunks/vec3.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{f as a}from\"../../../../chunks/vec4f64.js\";import{center as n,scale as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec3f as c}from\"../../../../geometry/support/buffer/BufferView.js\";import{newLayout as l}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as u}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as h}from\"../lib/basicInterfaces.js\";import p from\"../lib/GLMaterial.js\";import{Material as f,MaterialParameters as m}from\"../lib/Material.js\";import{RenderSlot as d}from\"../lib/RenderSlot.js\";import{assert as S}from\"../lib/Util.js\";import{VertexAttribute as b}from\"../lib/VertexAttribute.js\";import{writeDefaultAttributes as E,writePosition as g}from\"./internal/bufferWriterUtils.js\";import{intersectTriangleGeometry as A}from\"./internal/MaterialUtil.js\";import{ShadedColorMaterialTechniqueConfiguration as T,vertexAttributeLocations as _,ShadedColorMaterialTechnique as F}from\"../shaders/ShadedColorMaterialTechnique.js\";class v extends f{constructor(e){super(e,new x),this.supportsEdges=!0,this._configuration=new T,this._vertexAttributeLocations=_}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.screenSizeEnabled=this.parameters.screenSizeEnabled,this._configuration.shadingEnabled=this.parameters.shadingEnabled,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.hasMultipassTerrain=t.multipassTerrain.enabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}intersect(e,s,a,c,l,u,h){if(this.parameters.screenSizeEnabled){const a=e.vertexAttributes.get(b.OFFSET),p={applyToVertex:(e,s,n,o)=>{const l=t(L,a.data[3*o+0],a.data[3*o+1],a.data[3*o+2]),u=t(w,e,s,n);return r(l,l,this.parameters.screenSizeScale*c.camera.computeRenderPixelSizeAt(l)),i(u,u,l),[u[0],u[1],u[2]]},applyToAabb:e=>{const t=n(e,L);return o(e,this.parameters.screenSizeScale*c.camera.computeRenderPixelSizeAt(t))}};A(e,s,c,l,u,p,h)}else A(e,s,c,l,u,void 0,h)}requiresSlot(e,t){if(t===u.Highlight)return e===d.OPAQUE_MATERIAL;if(t===u.Color||t===u.Alpha||t===u.ObjectAndLayerIdColor){let t=d.OPAQUE_MATERIAL;return this.parameters.transparent&&(t=this.parameters.writeDepth?d.TRANSPARENT_MATERIAL:d.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL),e===t||e===d.DRAPED_MATERIAL}return!1}createGLMaterial(e){return new j(e)}createBufferWriter(){return new O(this.parameters.screenSizeEnabled)}}class j extends p{beginSlot(e){return this.ensureTechnique(F,e)}}class x extends m{constructor(){super(...arguments),this.color=a(1,1,1,1),this.shadingTint=a(0,0,0,.25),this.shadingDirection=e(s(),[.5,-.5,-.5]),this.screenSizeScale=14,this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=h.None,this.screenSizeEnabled=!1,this.shadingEnabled=!0}}class O{constructor(e){this.screenSizeEnabled=e;const t=l().vec3f(b.POSITION).vec3f(b.NORMAL);this.screenSizeEnabled&&t.vec3f(b.OFFSET),this.vertexBufferLayout=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(b.POSITION).length}write(e,t,r,i,s){if(E(r,this.vertexBufferLayout,e,t,i,s),this.screenSizeEnabled){if(!r.vertexAttributes.has(b.OFFSET))throw new Error(`${b.OFFSET} vertex attribute required for screenSizeEnabled ShadedColorMaterial`);{const e=r.vertexAttributes.get(b.OFFSET),a=r.indices.get(b.OFFSET);S(3===e.size);const n=i.getField(b.OFFSET,c);if(!n)throw new Error(\"unable to acquire view for \"+b.OFFSET);g(a,e.data,t,n,s)}}}}const L=s(),w=s();export{v as ShadedColorMaterial,x as ShadedColorMaterialParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{s as t}from\"../../../../chunks/vec3.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{g as i,c as s}from\"../../../../chunks/vec4.js\";import{settings as a}from\"../editingTools/settings.js\";import{Object3DVisualElement as o}from\"./Object3DVisualElement.js\";import{ElevationContext as l}from\"../../layers/graphics/ElevationContext.js\";import{geometryToRenderInfo as n}from\"../../support/renderInfoUtils/point.js\";import{CullFaceOptions as c}from\"../../webgl-engine/lib/basicInterfaces.js\";import{createSphereGeometry as h}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as u}from\"../../webgl-engine/lib/Material.js\";import{ShadedColorMaterial as d}from\"../../webgl-engine/materials/ShadedColorMaterial.js\";class _ extends o{constructor(e){super(e),this.view=null,this._renderOccluded=u.OccludeAndTransparent,this._vertices=null,this._spatialReference=null,this._color=a.colorToVec4(a.reshapeManipulators.vertex.color),this._size=a.reshapeManipulators.vertex.size,this._outlineColor=a.colorToVec4(a.reshapeManipulators.vertex.outlineColor),this._outlineSize=a.reshapeManipulators.vertex.outlineSize,this._elevationInfo=null,this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial(),this._updateOutlineMaterial())}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry()}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry()}get color(){return this._color}set color(e){i(e,this._color)||(s(this._color,e),this._updateMaterial())}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){i(e,this._outlineColor)||(s(this._outlineColor,e),this._updateOutlineMaterial())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateOutlineMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get _vertexMaterialParameters(){return{color:this._color,transparent:this._color[3]<1,screenSizeScale:this.size,renderOccluded:this._renderOccluded}}get _vertexOutlineMaterialParameters(){return{color:this._outlineColor,transparent:this._outlineColor[3]<1,screenSizeScale:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded}}_updateMaterial(){this.attached&&this._vertexMaterial.setParameters(this._vertexMaterialParameters)}_updateOutlineMaterial(){this.attached&&this._vertexOutlineMaterial.setParameters(this._vertexOutlineMaterialParameters)}_createRenderGeometries(){const r=this.vertices;if(e(r)||0===r.length)return[];const i=.5,s=.5,a=n(r,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,l.fromElevationInfo(this.elevationInfo)),o=[],c=a.numVertices,h=a.position;for(let e=0;e<c;++e){const r=t(p,h[3*e+0],h[3*e+1],h[3*e+2]),a=m(i,r),l=m(s,r);o.push({vertexGeometry:a,vertexOutlineGeometry:l})}return o}createGeometries(e){const t=this._createRenderGeometries();for(const{vertexGeometry:r,vertexOutlineGeometry:i}of t)e.addGeometry(r,this._vertexMaterial),e.addGeometry(i,this._vertexOutlineMaterial)}createExternalResources(){this._vertexMaterial=new d({...this._vertexMaterialParameters,writeDepth:!0,cullFace:c.Back,screenSizeEnabled:!0}),this._vertexOutlineMaterial=new d({...this._vertexOutlineMaterialParameters,transparent:!0,writeDepth:!0,cullFace:c.Front,screenSizeEnabled:!0,shadingEnabled:!1})}destroyExternalResources(){this._vertexMaterial=null,this._vertexOutlineMaterial=null}forEachExternalMaterial(e){e(this._vertexMaterial),e(this._vertexOutlineMaterial)}}const p=r();function m(e,t){return h(e,16,16,{offset:t})}export{_ as VerticesVisualElement};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Evented.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";let e=class extends o.EventedAccessor{constructor(r){super(r),this.tracking=!1,this.displaying=!1,this.isDraped=!1}};r([s({constructOnly:!0})],e.prototype,\"graphic\",void 0),r([s()],e.prototype,\"tracking\",void 0),r([s()],e.prototype,\"displaying\",void 0),r([s()],e.prototype,\"isDraped\",void 0),e=r([t(\"esri.views.3d.layers.graphics.GraphicState\")],e);export{e as GraphicState};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{handlesGroup as t,makeHandle as i}from\"../../../../../core/handleUtils.js\";import{isSome as s,isNone as a,applySome as r,destroyMaybe as n}from\"../../../../../core/maybe.js\";import{watch as l,initial as o}from\"../../../../../core/reactiveUtils.js\";import{property as c}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{s as h}from\"../../../../../chunks/vec3.js\";import{c as u}from\"../../../../../chunks/vec3f64.js\";import{getEffectiveElevationInfo as m,getEffectiveElevationMode as v}from\"../../../../../support/elevationInfoUtils.js\";import d from\"../../../../../symbols/support/ElevationInfo.js\";import{SegmentLabels3D as f}from\"../../SegmentLabels3D.js\";import{SnappingVisualizer3D as V}from\"../../SnappingVisualizer3D.js\";import{settings as E}from\"../settings.js\";import{ExtendedLineVisualElement as w}from\"../../visualElements/ExtendedLineVisualElement.js\";import{OutlineVisualElement as _}from\"../../visualElements/OutlineVisualElement.js\";import{VerticesVisualElement as y}from\"../../visualElements/VerticesVisualElement.js\";import{evaluateElevationAlignmentAtPoint as g}from\"../../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as j}from\"../../../layers/graphics/ElevationContext.js\";import{GraphicState as I}from\"../../../layers/graphics/GraphicState.js\";import{RenderOccludedFlag as L}from\"../../../webgl-engine/lib/Material.js\";import{DrawGraphicTool as S,geometryTypeToDrawOperationGeometryType as G}from\"../../../../draw/DrawGraphicTool.js\";import{DrawOperation as D}from\"../../../../draw/DrawOperation.js\";import{SceneDrawSurface as O,ElevationDrawSurface as x}from\"../../../../draw/drawSurfaces.js\";let T=class extends S{constructor(e){super(e),this._activeVertexVisualElement=null,this._createGraphicState=null,this._outlineVisualElement=null,this._verticesVisualElement=null,this._verticalLineVisualElement=null,this.geometryType=null,this.type=\"draw-3d\"}initialize(){const{mode:e,offset:t}=this.elevationInfo;this.internalGraphicsLayer.elevationInfo=new d({mode:e,offset:t})}normalizeCtorArgs(e){if(!e.elevationInfo){const t=e.hasZ??!0;return{...e,elevationInfo:m(t)}}return e}initializeGraphic(e){const i=this._createGraphicState=new I({graphic:e});return t([this.view.maskOccludee(e),this.view.trackGraphicState(i),l((()=>({element:this._outlineVisualElement,isDraped:i.isDraped})),(({element:e,isDraped:t})=>{r(e,(e=>e.isDraped=t))}),o)])}makeDrawOperation(){const{geometryType:e}=this,t=\"circle\"!==e&&\"rectangle\"!==e;return new D({view:this.view,manipulators:this.manipulators,geometryType:G(e),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,drawSurface:new O(this.view,this.elevationInfo,[this.internalGraphicsLayer]),elevationDrawSurface:new x(this.elevationInfo,this.defaultZ,this.view,this.internalGraphicsLayer),hasM:!1,elevationInfo:this.elevationInfo,snappingManager:this.snappingManager,snappingVisualizer:new V,segmentLabels:t?new f:null,labelOptions:this.labelOptions,tooltipOptions:this.tooltipOptions,isDraped:s(this._createGraphicState)?this._createGraphicState.isDraped:\"on-the-ground\"===v(this.hasZ,this.elevationInfo)})}onActiveVertexChanged(e){const{view:t}=this;return s(this._activeVertexVisualElement)?(this._activeVertexVisualElement.vertices=[e],this._updateVerticalLineVisualElement(e),null):(this._activeVertexVisualElement=new y({view:t,spatialReference:t.spatialReference,vertices:[e],elevationInfo:this.internalGraphicsLayer.elevationInfo,renderOccluded:E.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._activeVertexVisualElement.color=E.colorToVec4(E.reshapeManipulators.selected.color),this._activeVertexVisualElement.attached=!0,this._verticalLineVisualElement=new w({view:t,extensionType:E.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:L.OccludeAndTransparent}),E.visualElements.zVerticalLine.apply(this._verticalLineVisualElement),i((()=>{this._activeVertexVisualElement=n(this._activeVertexVisualElement),this._verticalLineVisualElement=n(this._verticalLineVisualElement)})))}_updateVerticalLineVisualElement(e){const t=this._verticalLineVisualElement;if(a(t))return;const{renderCoordsHelper:i,spatialReference:s,elevationProvider:r}=this.view;h(M,e[0],e[1],e[2]),b.setFromElevationInfo(this.elevationInfo),M[2]=g(M,r,b,i);i.toRenderCoords(M,s,M)?(t.setStartEndFromWorldDownAtLocation(M),t.attached=!0):t.attached=!1}onOutlineChanged(e){if(s(this._outlineVisualElement))return this._outlineVisualElement.geometry=e,null;const t=this.internalGraphicsLayer.elevationInfo;return this._outlineVisualElement=new _({view:this.view,geometry:e,elevationInfo:t,isDraped:s(this._createGraphicState)?this._createGraphicState.isDraped:\"on-the-ground\"===v(this.hasZ,t),attached:!1}),E.visualElements.lineGraphics.outline.apply(this._outlineVisualElement),E.visualElements.lineGraphics.shadowStyle.apply(this._outlineVisualElement),this._outlineVisualElement.attached=!0,this._outlineVisualElement.laserlineEnabled=!0,i((()=>{this._outlineVisualElement=n(this._outlineVisualElement)}))}onRegularVerticesChanged(e){return s(this._verticesVisualElement)?(this._verticesVisualElement.vertices=e,null):(this._verticesVisualElement=new y({view:this.view,spatialReference:this.view.spatialReference,vertices:e,elevationInfo:this.internalGraphicsLayer.elevationInfo,renderOccluded:E.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._verticesVisualElement.attached=!0,i((()=>{this._verticesVisualElement=n(this._verticesVisualElement)})))}};e([c({constructOnly:!0})],T.prototype,\"elevationInfo\",void 0),e([c({constructOnly:!0})],T.prototype,\"geometryType\",void 0),e([c()],T.prototype,\"type\",void 0),e([c({constructOnly:!0})],T.prototype,\"view\",void 0),T=e([p(\"esri.views.3d.interactive.editingTools.draw.DrawGraphicTool3D\")],T);const b=new j,M=u();export{T as DrawGraphicTool3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{castRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{c as n}from\"../../../../chunks/vec2.js\";import{b as o,c as t,s as c}from\"../../../../chunks/vec3.js\";import{sv3d as i}from\"../../../../geometry/support/vectorStacks.js\";function s(e,n,o){return u(e,e.screenToRender(n,r(i.get())),o)}function u(t,c,s){const u=r(n(i.get(),c));if(u[2]=0,!t.unprojectFromRenderScreen(u,s.origin))return null;const m=r(n(i.get(),c));m[2]=1;const g=t.unprojectFromRenderScreen(m,i.get());return e(g)?null:(o(s.direction,g,s.origin),s)}function m(e,n,o){return g(e,e.screenToRender(n,r(i.get())),o)}function g(r,n,s){t(s.origin,r.eye);const u=c(i.get(),n[0],n[1],1),m=r.unprojectFromRenderScreen(u,i.get());return e(m)?null:(o(s.direction,m,s.origin),s)}export{u as fromRender,g as fromRenderAtEye,s as fromScreen,m as fromScreenAtEye};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{neverReached as e}from\"../../../core/compilerUtils.js\";import t from\"../../../core/Evented.js\";import{deg2rad as i}from\"../../../core/mathUtils.js\";import{isSome as s,isNone as o,unwrapOr as r,unwrap as n}from\"../../../core/maybe.js\";import{createScreenPointArray as a,createRenderScreenPointArray3 as c,screenPointObjectToArray as l,castRenderScreenPointArray as h}from\"../../../core/screenUtils.js\";import{once as d}from\"../../../core/accessorSupport/utils.js\";import{f as _}from\"../../../chunks/mat3.js\";import{c as u}from\"../../../chunks/mat3f64.js\";import{c as g,s as m,m as f,i as p}from\"../../../chunks/mat4.js\";import{c as b}from\"../../../chunks/mat4f64.js\";import{k as v}from\"../../../chunks/vec2.js\";import{a as y,t as j,m as L,g as S,c as R,d as w,s as O,b as T}from\"../../../chunks/vec3.js\";import{c as A,Z as E}from\"../../../chunks/vec3f64.js\";import{canProjectWithoutEngine as D,projectPoint as F,sphericalPCPFtoLonLatElevation as k,computeENUToSphericalPCPFLocalRotation as z}from\"../../../geometry/projection.js\";import{getReferenceEllipsoid as I}from\"../../../geometry/projectionEllipsoid.js\";import{containsPointObject as P}from\"../../../geometry/support/aaBoundingRect.js\";import{create as M,distance2 as C,fromPoints as x,closestRayDistance2 as B}from\"../../../geometry/support/lineSegment.js\";import{create as W,fromPositionAndNormal as U,intersectRay as V}from\"../../../geometry/support/plane.js\";import{create as N}from\"../../../geometry/support/ray.js\";import{sv3d as G}from\"../../../geometry/support/vectorStacks.js\";import{clonePoint as H,hydratedSpatialReference as Y}from\"../../../layers/graphics/hydratedFeatures.js\";import{getElevationAtPoint as Z}from\"../support/ElevationProvider.js\";import{fromScreen as q}from\"../support/geometryUtils/ray.js\";import{UpdatePolicy as J}from\"../webgl-engine/lib/basicInterfaces.js\";import{Camera as K}from\"../webgl-engine/lib/Camera.js\";import{Object3D as Q}from\"../webgl-engine/lib/Object3D.js\";import{WebGLLayer as X}from\"../webgl-engine/lib/WebGLLayer.js\";import{ManipulatorStateCustomFlags as $,ManipulatorStateFlags as ee}from\"../../interactive/interfaces.js\";import te from\"../../../geometry/Point.js\";class ie{constructor(e){this._camera=new K,this._elevation={offset:0,override:null},this.collisionType={type:\"point\"},this.collisionPriority=0,this._renderObjects=[],this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=b(),this._worldFrame=null,this._renderLocation=A(),this._renderLocationDirty=!0,this._location=new te({x:0,y:0,z:0}),this._elevationAlignedLocation=new te,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.cursor=null,this.grabCursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=$.None,this._focused=!1,this.events=new t.EventEmitter,this._screenLocation={screenPointArray:a(),renderScreenPointArray:c(),pixelSize:0},this._screenLocationDirty=!0,this._applyObjectTransform=null,this._engineResourcesAddedToStage=!1,this._engineResources=null,this._attached=!1,this._engineLayer=null,this._materialIdReferences=null,this._location.spatialReference=e.view.spatialReference;for(const t in e)this[t]=e[t];this.view.state&&this.view.state.camera&&this._camera.copyFrom(this.view.state.camera)}destroy(){this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this._camera=null}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),{remove:d((()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject()}))}}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){se(e)&&(this._screenLocationDirty=!0),g(this._modelTransform,e),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=b()),oe(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(e){H(e,this._location),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){H(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}_updateElevationAlignedLocation(){this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y;const e=s(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=Y(this.location.spatialReference),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject())}updateStateEnabled(e,t){t?this.state|=e:this.state&=~e}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit(\"focus-changed\",{action:!0===e?\"focus\":\"unfocus\"}))}get focused(){return this._focused}get screenLocation(){return this._ensureScreenLocation(),this._screenLocation}_ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this._camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if(se(this._modelTransform)){const t=this._calculateModelTransformOffset(pe);e=y(t,t,this.renderLocation)}else e=this.renderLocation;this._camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this._camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}get attached(){return this._attached}intersectionDistance(t,i){if(!this.available)return null;const s=l(t,re),r=this._getCollisionRadius(i),n=-1*this.collisionPriority;switch(this.collisionType.type){case\"point\":if(v(this.screenLocation.screenPointArray,s)<r*r)return this.screenLocation.renderScreenPointArray[2]+n;break;case\"line\":{const e=this.collisionType.paths,t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,he),a=r*this.screenLocation.pixelSize,c=q(this._camera,s,ae);if(o(c))return null;for(const s of e){if(0===s.length)continue;const e=L(_e,s[0],i);for(let t=1;t<s.length;t++){const o=L(ue,s[t],i),r=B(x(e,o,ne),c);if(null!=r&&r<a*a){const t=y(G.get(),e,o);S(t,t,.5);const i=h(G.get());return this._camera.projectToRenderScreen(t,i),i[2]+n}R(e,o)}}break}case\"disc\":{const e=this.collisionType.direction,t=this.collisionType.offset??E,i=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(i,he),c=r*this.screenLocation.pixelSize,l=q(this._camera,s,ae);if(o(l))return null;const h=_(ce,a),d=j(me,e,h),u=L(fe,t,a);U(u,d,de);const g=ge;if(V(de,l,g)&&w(g,u)<c*c)return this.screenLocation.renderScreenPointArray[2]+n;break}case\"ribbon\":{const{paths:e,direction:t}=this.collisionType,i=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(i,he),c=r*this._camera.computeScreenPixelSizeAt(this.renderLocation),l=q(this._camera,s,ae);if(o(l))return null;const d=_(ce,a),u=j(me,t,d),g=this._calculateModelTransformPosition(fe);U(g,u,de);const m=ge;if(!V(de,l,m))break;for(const s of e){if(0===s.length)continue;const e=L(_e,s[0],a);for(let t=1;t<s.length;t++){const i=L(ue,s[t],a),o=C(x(e,i,ne),m);if(null!=o&&o<c*c){const t=y(G.get(),e,i);S(t,t,.5);const s=h(G.get());return this._camera.projectToRenderScreen(t,s),s[2]+n}R(e,i)}}break}default:e(this.collisionType)}return null}attach(e={manipulator3D:{}}){if(!this.view._stage)return;const t=e.manipulator3D;if(o(t.engineLayerId)){const e=new X({isPickable:!1,updatePolicy:J.SYNC});this.view._stage.add(e),t.engineLayerId=e.id,this._engineLayer=e}else this.view._stage?.getObject&&(this._engineLayer=this.view._stage.getObject(t.engineLayerId));t.engineLayerReferences=(t.engineLayerReferences||0)+1,this._materialIdReferences=t.materialIdReferences,o(this._materialIdReferences)&&(this._materialIdReferences=new Map,t.materialIdReferences=this._materialIdReferences),this._camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),D(this._location.spatialReference,this.view.spatialReference)||(this.location=new te({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(e={manipulator3D:{}}){const t=e.manipulator3D;t.engineLayerReferences--;const i=0===t.engineLayerReferences;i&&(t.engineLayerId=null),this._removeResourcesFromStage(i),this._engineResources=null,this._engineLayer=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this._camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(e){F(this.location,be,e.spatialReference),P(e.extent,be)&&(this.location=this._location)}_evaluateElevationAlignment(e=this.location){if(o(this.elevationInfo))return!1;let t=null,i=0;const s=r(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case\"on-the-ground\":t=r(Z(this.view.elevationProvider,e,\"ground\"),0);break;case\"relative-to-ground\":i=r(Z(this.view.elevationProvider,e,\"ground\"),0)+s;break;case\"relative-to-scene\":i=r(Z(this.view.elevationProvider,e,\"scene\"),0)+s;break;case\"absolute-height\":i=s}return(i!==this._elevation.offset||t!==this._elevation.override)&&(this._elevation.offset=i,this._elevation.override=t,!0)}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),t=he;if(!0===this.autoScaleRenderObjects){const i=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(i,t)}else this._calculateObjectTransform(e,t);const{objectsByState:i}=this._ensureEngineResources(),s=(this.focused?ee.Focused:ee.Unfocused)|(this.selected?ee.Selected:ee.Unselected),o=this._noDisplayCount>0;for(const{stateMask:r,objects:n}of i){if(o){for(const e of n)e.setVisible(!1);continue}const e=(r&ee.All)!==ee.None,i=(r&$.All)!==$.None,a=!e||(s&r)==(r&ee.All),c=!i||(this.state&r)==(r&$.All);if(a&&c)for(const s of n)s.setVisible(!0),s.transformation=t;else for(const t of n)t.setVisible(!1)}}_ensureEngineResources(){if(o(this._engineResources)){const e=n(this._engineLayer),t=[],i=new Set;this.renderObjects.forEach((({material:e})=>{i.has(e)||(t.push(e),i.add(e))}));const s=(e,t)=>{const{geometry:i,material:s,transform:o}=t;Array.isArray(i)?i.forEach((t=>e.addGeometry(t,s,o))):e.addGeometry(i,s,o)},o=new Map;this._renderObjects.forEach((e=>{const t=new Q({castShadow:!1});s(t,e);const i=e.stateMask||0,r=o.get(i)||[];r.push(t),o.set(i,r)}));const r=[];o.forEach(((e,t)=>r.push({stateMask:t,objects:e}))),this._engineResources={objectsByState:r,layer:e,materials:t}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){if(this._engineResourcesAddedToStage||o(this._engineResources))return;const{objectsByState:e,layer:t,materials:i}=this._engineResources;i.forEach((e=>{const t=n(this._materialIdReferences),i=t.get(e.id)||0;0===i&&this.view._stage.add(e),t.set(e.id,i+1)})),e.forEach((({objects:e})=>{t.addMany(e),this.view._stage.addMany(e)})),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(e=!1){if(!this._engineResourcesAddedToStage||o(this._engineResources)||!this.view._stage)return;const{objectsByState:t,layer:i,materials:s}=this._engineResources;t.forEach((({objects:e})=>{i.removeMany(e),this.view._stage.removeMany(e)})),s.forEach((e=>{const t=n(this._materialIdReferences),i=t.get(e.id);1===i?(this.view._stage.remove(e),t.delete(e.id)):t.set(e.id,i-1)})),e&&this.view._stage.remove(i),this._engineResourcesAddedToStage=!1}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*(\"touch\"===e?this.touchMultiplier:1)}_getFocusedSize(e,t){return e*(t?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,le);return O(e,i[12],i[13],i[14])}_calculateModelTransformOffset(e){const t=this._calculateModelTransformPosition(e);return T(e,t,this.renderLocation)}_calculateObjectTransform(e,t){return m(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&f(t,t,this._worldFrame),f(t,t,this._modelTransform),t[12]+=this.renderLocation[0],t[13]+=this.renderLocation[1],t[14]+=this.renderLocation[2],t[15]=1,s(this._applyObjectTransform)&&this._applyObjectTransform(t),t}get test(){let e=!1;if(s(this._engineResources))for(const t in this._engineResources.objectsByState){const i=this._engineResources.objectsByState[t];for(const t of i.objects)if(t.isVisible){e=!0;break}if(e)break}return{areAnyResourcesVisible:e}}}function se(e){return 0!==e[12]||0!==e[13]||0!==e[14]}function oe(e,t,s){switch(e.viewingMode){case\"local\":return p(s),!0;case\"global\":{const o=I(e.renderCoordsHelper.spatialReference);return k(t,0,_e,0,o.radius),z(i(_e[0]),i(_e[1]),s),!0}}}const re=a(),ne=M(),ae=N(),ce=u(),le=b(),he=b(),de=W(),_e=A(),ue=A(),ge=A(),me=A(),fe=A(),pe=A(),be=new te({x:0,y:0,z:0,spatialReference:null});export{ie as Manipulator3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{NoParameters as r}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as a}from\"../lib/basicInterfaces.js\";import{Default3D as n}from\"../lib/DefaultVertexAttributeLocations.js\";import{oitBlending as l,oitDepthTest as p,oitDepthWrite as c,getOITPolygonOffset as u}from\"../lib/OrderIndependentTransparency.js\";import{Program as h}from\"../lib/Program.js\";import{stencilWriteMaskOn as d,stencilToolMaskBaseParams as m,stencilBaseAllZerosParams as f}from\"../lib/StencilUtils.js\";import{TransparencyPassType as y}from\"../lib/TransparencyPassType.js\";import{DefaultTechniqueConfiguration as b}from\"../materials/DefaultTechniqueConfiguration.js\";import{I as g}from\"../../../../chunks/ImageMaterial.glsl.js\";import{BlendFactor as T}from\"../../../webgl/enums.js\";import{simpleBlendingParams as P,makePipelineState as j,cullingParams as O,defaultDepthWriteParams as S,defaultColorWriteParams as v}from\"../../../webgl/renderState.js\";class N extends r{}class _ extends s{initializeProgram(e){return new h(e.rctx,_.shader.get().build(this.configuration),n)}_setPipelineState(e,r){const i=this.configuration,s=e===y.NONE,o=e===y.FrontFace;return j({blending:i.output!==t.Color&&i.output!==t.Alpha||!i.transparent?null:s?C:l(e),culling:O(i.cullFace),depthTest:{func:p(e)},depthWrite:s?i.writeDepth&&S:c(e),colorWrite:v,stencilWrite:i.hasOccludees?d:null,stencilTest:i.hasOccludees?r?m:f:null,polygonOffset:s||o?null:u(i.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipelineState(e,t){return t?this._occludeePipelineState:super.getPipelineState(e,t)}}_.shader=new i(g,(()=>import(\"./ImageMaterial.glsl.js\")));const C=P(T.ONE,T.ONE_MINUS_SRC_ALPHA);class w extends b{constructor(){super(...arguments),this.output=t.Color,this.cullFace=a.None,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.transparencyPassType=y.NONE,this.hasMultipassTerrain=!1,this.cullAboveGround=!1}}e([o({count:t.COUNT})],w.prototype,\"output\",void 0),e([o({count:a.COUNT})],w.prototype,\"cullFace\",void 0),e([o()],w.prototype,\"hasSlicePlane\",void 0),e([o()],w.prototype,\"transparent\",void 0),e([o()],w.prototype,\"enableOffset\",void 0),e([o()],w.prototype,\"writeDepth\",void 0),e([o()],w.prototype,\"hasOccludees\",void 0),e([o({count:y.COUNT})],w.prototype,\"transparencyPassType\",void 0),e([o()],w.prototype,\"hasMultipassTerrain\",void 0),e([o()],w.prototype,\"cullAboveGround\",void 0);export{N as ImageMaterialPassParameters,_ as ImageMaterialTechnique,w as ImageMaterialTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as t}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as r}from\"../lib/GLTextureMaterial.js\";import{Material as a,MaterialParameters as s}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as i}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as n}from\"../lib/RenderSlot.js\";import{DefaultBufferWriter as u,PositionUVLayout as o}from\"./internal/DefaultBufferWriter.js\";import{intersectTriangleGeometry as h}from\"./internal/MaterialUtil.js\";import{ImageMaterialTechniqueConfiguration as l,ImageMaterialTechnique as c}from\"../shaders/ImageMaterialTechnique.js\";class p extends a{constructor(e){super(e,new d),this.supportsEdges=!0,this._configuration=new l}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.enableOffset=t.camera.relativeElevation<i,this._configuration.hasMultipassTerrain=t.multipassTerrain.enabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}intersect(e,t,r,a,s,i,n){h(e,t,a,s,i,void 0,n)}requiresSlot(t,r){if(r===e.Color||r===e.Alpha||r===e.Highlight){if(t===n.DRAPED_MATERIAL)return!0;if(r===e.Highlight)return t===n.OPAQUE_MATERIAL;return t===(this.parameters.transparent?this.parameters.writeDepth?n.TRANSPARENT_MATERIAL:n.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:n.OPAQUE_MATERIAL)}return!1}createGLMaterial(e){return new m(e)}createBufferWriter(){return new u(o)}}class m extends r{constructor(e){super({...e,...e.material.parameters})}_updateParameters(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(c,e)}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:e.hasOccludees}),this._updateParameters(e))}beginSlot(t){return this._output!==e.Color&&this._output!==e.Alpha||this._updateOccludeeState(t),this._updateParameters(t)}}class d extends s{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=t.None,this.hasOccludees=!1,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0}}export{p as ImageMaterial,d as Parameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{a as r}from\"../../../chunks/mat4.js\";import{b as a,f as n,m as o,n as i}from\"../../../chunks/vec3.js\";import{f as c}from\"../../../chunks/vec3f64.js\";import{f as s}from\"../../../chunks/vec4f64.js\";import{sv3d as l,sm4d as m}from\"../../../geometry/support/vectorStacks.js\";import{hydrateGeometry as u}from\"../../../layers/graphics/hydratedFeatures.js\";import{Manipulator3D as d}from\"./Manipulator3D.js\";import{computeCentroid as p}from\"../layers/graphics/graphicUtils.js\";import{CullFaceOptions as f}from\"../webgl-engine/lib/basicInterfaces.js\";import{Geometry as g}from\"../webgl-engine/lib/Geometry.js\";import{createPolylineGeometry as h,createSphereGeometry as b}from\"../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as w}from\"../webgl-engine/lib/Material.js\";import{VertexAttribute as j}from\"../webgl-engine/lib/VertexAttribute.js\";import{ColorMaterial as O}from\"../webgl-engine/materials/ColorMaterial.js\";import{ImageMaterial as y}from\"../webgl-engine/materials/ImageMaterial.js\";import{NativeLineMaterial as M}from\"../webgl-engine/materials/NativeLineMaterial.js\";import{RibbonLineMaterial as k}from\"../webgl-engine/materials/RibbonLineMaterial.js\";import{ShadedColorMaterial as v}from\"../webgl-engine/materials/ShadedColorMaterial.js\";import{ManipulatorStateCustomFlags as S,ManipulatorStateFlags as F}from\"../../interactive/interfaces.js\";function A(e,t=w.OccludeAndTransparent,r=!0){const a=s(e[0],e[1],e[2],e.length>3?e[3]:1),n=e[3]<1;return r?new v({color:a,transparent:n,writeDepth:!0,cullFace:f.Back,renderOccluded:t}):new O({color:a,transparent:n,writeDepth:!0,cullFace:f.Back,renderOccluded:t})}function I(e,t=w.OccludeAndTransparent){const r=s(e[0],e[1],e[2],4===e.length?e[3]:1);return new O({color:r,transparent:!0,writeDepth:!0,cullFace:f.Front,renderOccluded:t})}const L=Object.freeze({calloutLength:40,calloutWidth:1,discRadius:27,focusMultiplier:1.1,calloutColor:c(1,.5,0)});function R(e,t){const r=new d({view:e,autoScaleRenderObjects:!1,collisionPriority:1,metadata:t.metadata});return T(r,t),r}function T(e,t){const r=t.material??new y({transparent:!0,writeDepth:!1,textureId:t.texture?.id,renderOccluded:w.Opaque}),a=t.focusMultiplier??L.focusMultiplier,n=t.calloutLength??L.calloutLength,o=L.discRadius*(t.discScale??1),i=o*a,c=e=>{const t=[0,1,2,2,3,0];return new g([[j.POSITION,{size:3,data:[n-e,-e,0,n+e,-e,0,n+e,e,0,n-e,e,0],exclusive:!0}],[j.UV0,{size:2,data:[0,0,1,0,1,1,0,1]}]],[[j.POSITION,t],[j.UV0,t]])},l=h([[0,0,0],[n-o,0,0]]),m=h([[0,0,0],[n-i,0,0]]),u=L.calloutColor,d=t.calloutWidth??L.calloutWidth,p=new(d>1?k:M)({width:d,color:s(u[0],u[1],u[2],t.calloutOpacity??1),renderOccluded:w.OccludeAndTransparent}),f=t.customStateMask??S.None;e.collisionType={type:\"disc\",direction:[0,0,1],offset:[n,0,0]},e.focusMultiplier=a,e.metadata=t.metadata,e.radius=o,e.renderObjects=[{geometry:c(o),material:r,stateMask:F.Unfocused|f},{geometry:l,material:p,stateMask:F.Unfocused|f},{geometry:c(i),material:r,stateMask:F.Focused|f},{geometry:m,material:p,stateMask:F.Focused|f}]}function U(e,t,r,a=S.None){return new d({view:e,renderObjects:[{geometry:b(1,32,32),material:A(s(t[0],t[1],t[2],null!=r?r:1)),stateMask:a}]})}const x=Object.freeze({autoScaleRenderObjects:!1,worldSized:!0});function z(e,t,i,c){const s=a(l.get(),e,i),u=D(s,n(l.get(),c,s),i,m.get());r(u,u);const d=o(l.get(),t,u);return Math.atan2(d[1],d[0])}function D(e,t,r,a){const o=i(l.get(),e),c=i(l.get(),t),s=n(l.get(),o,c);return a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=0,a[4]=c[0],a[5]=c[1],a[6]=c[2],a[7]=0,a[8]=s[0],a[9]=s[1],a[10]=s[2],a[11]=0,a[12]=r[0],a[13]=r[1],a[14]=r[2],a[15]=1,a}function N(t,r){const a=t.getViewForGraphic(r);return e(a)&&\"computeAttachmentOrigin\"in a?a.computeAttachmentOrigin(r,t.spatialReference):null}function C(t,r,a){const n=N(t,a);e(n)?r.elevationAlignedLocation=n:V(r,a.geometry)}function V(e,r){if(t(r))return;const a=\"mesh\"===r.type?r.anchor:p(r);t(a)||(e.location=u(a))}export{z as calculateInputRotationTransform,D as calculateTranslateRotateFromBases,A as createManipulatorMaterial,I as createManipulatorOutlineMaterial,R as createRotateManipulator,U as createSphereManipulator,N as getGraphicAttachmentOrigin,C as placeAtGraphic,T as updateRotateManipulator,x as worldScaledManipulatorSettings};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as o}from\"../../../../core/maybe.js\";import{getGraphicEffectiveElevationInfo as r}from\"../../../../support/elevationInfoUtils.js\";function t(o,t=r(o)){return\"on-the-ground\"!==t.mode&&!(e(o.geometry)||!o.geometry.hasZ)}function n(e,r){let t=null;const n=e.events.on(\"grab-changed\",(n=>{o(t)&&(t.remove(),t=null),\"start\"===n.action?(t=e.disableDisplay(),r&&r(n)):r&&r(n)}));return{remove(){o(t)&&t.remove(),n.remove()}}}export{t as canMoveZ,n as disableDisplayOnGrab};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nvar N;!function(N){N[N.NONE=0]=\"NONE\",N[N.ANY=1]=\"ANY\",N[N.Z=2]=\"Z\",N[N.XY=4]=\"XY\"}(N||(N={}));export{N as GrabbingState};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nvar A;!function(A){A[A.TRANSLATE_Z=0]=\"TRANSLATE_Z\",A[A.TRANSLATE_XY=1]=\"TRANSLATE_XY\",A[A.SCALE=2]=\"SCALE\",A[A.ROTATE=3]=\"ROTATE\",A[A.SCALE_ROTATE=4]=\"SCALE_ROTATE\"}(A||(A={}));export{A as ManipulatorType};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{Manipulator3D as i}from\"../Manipulator3D.js\";import{GrabbingState as e}from\"./GrabbingState.js\";import{ManipulatorType as r}from\"./ManipulatorType.js\";class a{constructor(){this.grabbingState=e.NONE,this.zManipulator=null,this.firstSelected=null,this.numSelected=0,this.firstGrabbedXY=null}update(a){this.grabbingState=e.NONE,this.zManipulator=null,this.numSelected=0,this.firstSelected=null,this.firstGrabbedXY=null,a.forEachManipulator(((a,s)=>{if(s===r.TRANSLATE_Z&&(this.zManipulator=a),a instanceof i&&(a.selected&&(0===this.numSelected&&(this.firstSelected=a),this.numSelected++),t(this.firstGrabbedXY)&&a.grabbing&&s===r.TRANSLATE_XY&&(this.firstGrabbedXY=a)),a.grabbing)switch(this.grabbingState|=e.ANY,s){case r.TRANSLATE_Z:this.grabbingState|=e.Z;break;case r.TRANSLATE_XY:this.grabbingState|=e.XY}}))}}export{a as ManipulatorState};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{handlesGroup as e,destroyHandle as t,refHandle as a}from\"../../../../core/handleUtils.js\";import{deg2rad as n}from\"../../../../core/mathUtils.js\";import{isSome as i}from\"../../../../core/maybe.js\";import{watch as l}from\"../../../../core/reactiveUtils.js\";import{s as r,a as o,g as s}from\"../../../../chunks/vec3.js\";import{c as p}from\"../../../../chunks/vec3f64.js\";import{getGraphicEffectiveElevationInfo as c}from\"../../../../support/elevationInfoUtils.js\";import{Manipulator3D as m}from\"../Manipulator3D.js\";import{GrabbingState as h}from\"./GrabbingState.js\";import{ManipulatorState as u}from\"./ManipulatorState.js\";import{ManipulatorType as d}from\"./ManipulatorType.js\";import{settings as g}from\"./settings.js\";import{ExtendedLineVisualElement as f}from\"../visualElements/ExtendedLineVisualElement.js\";import{LaserlineVisualElement as v}from\"../visualElements/LaserlineVisualElement.js\";import{OutlineVisualElement as y}from\"../visualElements/OutlineVisualElement.js\";import{GraphicState as E}from\"../../layers/graphics/GraphicState.js\";import{RenderOccludedFlag as w}from\"../../webgl-engine/lib/Material.js\";function b(t){const{view:a,graphic:n}=t,i=new E({graphic:n}),l=j(t,i),r=[l,S(t,l.visualElement,i),a.maskOccludee(n),a.trackGraphicState(i)];return{visualElement:l.visualElement,remove:()=>e(r).remove()}}function j(a,n){const{view:i,graphic:r}=a,o=new y({view:i,geometry:L(r)?r.geometry:null,elevationInfo:c(r),attached:!1});g.visualElements.lineGraphics.shadowStyle.apply(o);const s=()=>{o.attached=n.displaying};g.visualElements.lineGraphics.outline.apply(o);const p=[l((()=>n.displaying),s),l((()=>n.isDraped),(e=>{o.isDraped=e})),n.on(\"changed\",(()=>o.geometry=L(r)?r.geometry:null)),t(o)];return s(),{visualElement:o,remove:()=>e(p).remove()}}function S(i,r,o){const{graphic:s,view:p}=i,m=[],d=c(s),y=\"on-the-ground\"===d.mode||!d.offset&&\"absolute-height\"!==d.mode,E=new u,b=new f({view:p,extensionType:g.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:w.OccludeAndTransparent});g.visualElements.pointGraphics.shadowStyle.apply(b);const j=n(g.visualElements.heightPlaneAngleCutoff),S=new v({view:p,attached:!1,angleCutoff:j});g.visualElements.heightPlane.apply(S);let T=1,A=1;const D=()=>{if(E.update(i),!o.displaying||y&&(o.isDraped||!L(s)||!s.geometry.hasZ))return r.laserlineEnabled=!1,b.attached=!1,void(S.attached=!1);r.laserlineEnabled=!0;{const e=E.grabbingState&h.XY?g.visualElements.laserlineAlphaMultiplier:1;e!==T&&(T=e,g.visualElements.lineGraphics.shadowStyle.apply(r,e),g.visualElements.pointGraphics.shadowStyle.apply(b,e))}{const e=E.grabbingState&h.Z?g.visualElements.laserlineAlphaMultiplier:1;e!==A&&(A=e,g.visualElements.heightPlane.apply(S,e))}M(b,E),G(i,r,S,E)};g.visualElements.zVerticalLine.apply(b),m.push(o.on(\"changed\",D),l((()=>o.displaying),D),r.events.on(\"attachment-origin-changed\",D),t(b),t(S));const C=[],O=()=>{e(C).remove(),C.length=0,i.forEachManipulator((e=>C.push(e.events.on(\"grab-changed\",D)))),i.forEachManipulator((e=>C.push(e.events.on(\"select-changed\",D)))),D()};return O(),m.push(i.onManipulatorsChanged(O),a((()=>e(C)))),e(m)}function M(e,t){const a=1===t.numSelected?t.firstSelected:t.numSelected>1&&i(t.firstGrabbedXY)?t.firstGrabbedXY:null;i(a)?(e.setStartEndFromWorldDownAtLocation(a.renderLocation),e.attached=!0):e.attached=!1}function G(e,t,a,n){if(n.numSelected>0){r(T,0,0,0);let t=0;e.forEachManipulator(((e,a)=>{a===d.TRANSLATE_XY&&e.selected&&e instanceof m&&(o(T,T,e.renderLocation),t++)})),t>0?(a.heightManifoldTarget=s(T,T,1/t),a.attached=!0):a.attached=!1}else{const n=t.attachmentOrigin;i(n)&&e.view.renderCoordsHelper.toRenderCoords(n,T)?(a.heightManifoldTarget=T,a.attached=!0):a.attached=!1}}function L(e){return i(e.geometry)&&(\"polygon\"===e.geometry.type||\"polyline\"===e.geometry.type)}const T=p();export{b as createVisualElements};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{handlesGroup as e,destroyHandle as t,refHandle as n}from\"../../../../core/handleUtils.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{isNone as o,isSome as a}from\"../../../../core/maybe.js\";import{watch as r,initial as s}from\"../../../../core/reactiveUtils.js\";import{s as l}from\"../../../../chunks/vec3.js\";import{c as p}from\"../../../../chunks/vec3f64.js\";import{projectVectorToVector as c,projectPointToVector as m}from\"../../../../geometry/projection.js\";import{create as u,empty as h,getMin as d}from\"../../../../geometry/support/aaBoundingBox.js\";import{containsXY as f}from\"../../../../geometry/support/aaBoundingRect.js\";import{getGraphicEffectiveElevationInfo as g}from\"../../../../support/elevationInfoUtils.js\";import{GrabbingState as v}from\"./GrabbingState.js\";import{ManipulatorState as y}from\"./ManipulatorState.js\";import{settings as E}from\"./settings.js\";import{ExtendedLineVisualElement as j}from\"../visualElements/ExtendedLineVisualElement.js\";import{LaserlineVisualElement as w}from\"../visualElements/LaserlineVisualElement.js\";import{PointVisualElement as b}from\"../visualElements/PointVisualElement.js\";import{evaluateElevationAlignmentAtPoint as S}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as x}from\"../../layers/graphics/ElevationContext.js\";import{GraphicState as A}from\"../../layers/graphics/GraphicState.js\";import{RenderOccludedFlag as L}from\"../../webgl-engine/lib/Material.js\";function M(t){const{view:n,graphic:i}=t,o=new A({graphic:i}),a=[],r=C(t,o,a);return P(t,o,a,r),a.push(n.trackGraphicState(o)),{visualElement:r,remove(){e(a).remove()}}}function P(e,n,s,p){const{view:m,graphic:u}=e,f=new j({view:m,extensionType:E.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:L.OccludeAndTransparent});E.visualElements.zVerticalLine.apply(f);const b=new w({view:m,intersectsLineInfinite:!0,attached:!1});E.visualElements.pointGraphics.shadowStyle.apply(b);const A=i(E.visualElements.heightPlaneAngleCutoff),M=new w({view:m,attached:!1,angleCutoff:A});E.visualElements.heightPlane.apply(M);const P=g(e.graphic),C=x.fromElevationInfo(P),R=\"on-the-ground\"===P.mode||!P.offset&&\"absolute-height\"!==P.mode,U=new y;let D=1,I=1;const T=()=>{U.update(e);const t=G(u),i=R&&(n.isDraped||o(t)||!t.hasZ);let r=!0;if(!i&&a(t)){const e=S(t,m.elevationProvider,C,m.renderCoordsHelper);l(V,t.x,t.y,e),c(V,t.spatialReference,V,m.renderCoordsHelper.spatialReference),f.setStartEndFromWorldDownAtLocation(V),b.intersectsWorldUpAtLocation=V}else r=!1;const s=U.grabbingState&v.Z?E.visualElements.laserlineAlphaMultiplier:1;s!==D&&(D=s,E.visualElements.heightPlane.apply(M,s));const g=h(B);!i&&n.displaying&&p.calculateMapBounds(g)&&c(d(g,V),m.spatialReference,V,m.renderCoordsHelper.spatialReference)?(M.heightManifoldTarget=V,M.attached=!0):M.attached=!1;const y=U.grabbingState&v.XY?E.visualElements.laserlineAlphaMultiplier:1;y!==I&&(I=y,E.visualElements.pointGraphics.shadowStyle.apply(b,y));const j=r&&n.displaying&&!i;b.attached=j,f.attached=j};s.push(r((()=>[n.displaying,n.isDraped]),T),n.on(\"changed\",T)),e.forEachManipulator((e=>{s.push(e.events.on(\"grab-changed\",T))})),s.push(t(b)),s.push(t(f)),s.push(t(M)),T()}function C(e,n,i){const{view:o,graphic:a}=e,r=new b({view:o,geometry:G(a),elevationInfo:g(a),attached:!1});return R(e,r,n,i),i.push(t(r)),r}function G(e){const t=e.geometry;return o(t)?null:\"point\"===t.type?t:\"mesh\"===t.type?t.anchor.clone():null}function R(e,t,n,i){const o=()=>t.attached=n.displaying;U(e,t,n,i),E.visualElements.pointGraphics.outline.apply(t),i.push(r((()=>n.displaying),o,s))}function U(e,t,i,o){const{view:r,graphic:s}=e;let l=null;const p=e=>{a(l)&&(l.remove(),l=null),i.isDraped&&a(e)&&(l=D(r,e,(()=>{t.geometry=e})))},c=()=>{const e=G(s);p(e),t.geometry=e};o.push(i.on(\"changed\",c),n((()=>l))),c()}function D(e,t,n){const i=e.elevationProvider.spatialReference;m(t,V,i);const o=V[0],a=V[1];return e.elevationProvider.on(\"elevation-change\",(e=>{f(e.extent,o,a)&&n()}))}const V=p(),B=u();export{M as createVisualElements};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../../core/maybe.js\";import{createVisualElements as r}from\"./lineGraphicVisualElementUtils.js\";import{createVisualElements as t}from\"./originGraphicVisualElementUtils.js\";function i(i){switch(e(i.graphic.geometry).type){case\"point\":case\"mesh\":return t(i);case\"polygon\":case\"polyline\":return r(i);default:return null}}export{i as createVisualElements};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nconst t=[1,.5,0],a=128,e=70,h=80,M=.02,c=54,o=100,I=Math.ceil(e/3*2),P=160,i=.5,l=24,n=9,p=P+30,r=P+53,s=60,x=23,b=5*Math.PI/12,d=1*Math.PI/3,f=10,g=.2,j=30,k=53,m=.2,q=.3,u=200,v=3,w=1e6;export{w as ALIGN_ARROWS_SCALE_THRESHOLD,h as DISC_COLLISION_RADIUS,M as DISC_HEIGHT,e as DISC_RADIUS,I as DISC_RADIUS_SMALL,o as DISC_TRANSLATE_ARROW_OFFSET,c as DISC_TRANSLATE_ARROW_SIZE,f as DRAG_THRESHOLD_PX,a as GEOMETRY_SEGMENTS,t as HANDLE_COLOR,n as INDICATOR_THICKNESS,p as INNER_INDICATOR_RADIUS,r as OUTER_INDICATOR_RADIUS,i as RING_HEIGHT,u as RING_INDICATOR_DELAY_MS,P as RING_RADIUS,v as RING_RESET_ANIMATION_SPEED_FACTOR,l as RING_THICKNESS,b as ROTATE_INDICATOR_ARC_LENGTH,g as ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE,s as ROTATE_INDICATOR_ARROW_TIP_LENGTH,x as ROTATE_INDICATOR_ARROW_TIP_RADIUS,q as ROTATE_INDICATOR_DIRECTION_BUFFER,d as SCALE_INDICATOR_ARC_LENGTH,m as SCALE_INDICATOR_DIRECTION_BUFFER,j as SCALE_INDICATOR_OFFSET1,k as SCALE_INDICATOR_OFFSET2};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{Manipulator3D as a}from\"../../Manipulator3D.js\";class t{constructor(){this._available=!0}set location(a){this._forEachManipulator3D((t=>t.location=a))}set elevationAlignedLocation(a){this._forEachManipulator3D((t=>t.elevationAlignedLocation=a))}set elevationInfo(a){this._forEachManipulator3D((t=>t.elevationInfo=a))}get renderLocation(){let a;return this._forEachManipulator3D((t=>{a||(a=t.renderLocation)})),a}get available(){return this._available}set available(a){this._available=a,this._forEachManipulator3D((t=>t.available=a))}get hovering(){return this.someManipulator((a=>a.hovering))}get grabbing(){return this.someManipulator((a=>a.grabbing))}get dragging(){return this.someManipulator((a=>a.dragging))}hasManipulator(a){return this.someManipulator((t=>t===a))}someManipulator(a){let t=!1;return this.forEachManipulator((i=>{!t&&a(i)&&(t=!0)})),t}_forEachManipulator3D(t){this.forEachManipulator(((i,o)=>{i instanceof a&&t(i,o)}))}}export{t as Manipulation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r,unwrapOr as t}from\"../../../../core/maybe.js\";import{screenPointObjectToArray as n,castScreenPointArray as o,createScreenPointArray as s}from\"../../../../core/screenUtils.js\";import{l as c,c as l,f as i,b as a,e as u,g as p,a as m}from\"../../../../chunks/vec3.js\";import{c as d}from\"../../../../chunks/vec3f64.js\";import{projectPoint as f}from\"../../../../geometry/projection.js\";import{intersectRay as g,create as y,fromPositionAndNormal as E}from\"../../../../geometry/support/plane.js\";import{create as S}from\"../../../../geometry/support/ray.js\";import{projectPoint as j}from\"../../../../geometry/support/vector.js\";import{sv2d as v}from\"../../../../geometry/support/vectorStacks.js\";import{getZForElevationMode as b,getGraphicEffectiveElevationInfo as x}from\"../../../../support/elevationInfoUtils.js\";import{fromScreen as R}from\"../../support/geometryUtils/ray.js\";import{newIntersector as I}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as w,IntersectorType as H}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{TERRAIN_ID as U}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{EventPipeline as O}from\"../../../interactive/dragEventPipeline.js\";function C(e,r){return D(e,(()=>r))}function T(e){return D(e,(e=>e.plane))}function D(t,s){const c=d(),l=d();let i=!1;return a=>{const u=s(a);if(\"start\"===a.action){const r=n(a.screenStart,o(v.get())),s=R(t.state.camera,r,L);e(s)&&(i=g(u,s,c))}if(!i)return null;const p=n(a.screenEnd,o(v.get())),m=R(t.state.camera,p,L);return r(m)?null:g(u,m,l)?{...a,renderStart:c,renderEnd:l,plane:u,ray:m}:null}}function M(t,n,o,c=null,l=null){let i=null;return a=>{if(\"start\"===a.action&&(i=t.sceneIntersectionHelper.intersectElevationFromScreen(s(a.screenStart.x,a.screenStart.y),n,o,l),e(i)&&e(c)&&!f(i,i,c)))return null;if(r(i))return null;const u=t.sceneIntersectionHelper.intersectElevationFromScreen(s(a.screenEnd.x,a.screenEnd.y),n,o,l);return e(u)?e(c)&&!f(u,u,c)?null:{...a,mapStart:i,mapEnd:u}:null}}function N(e,r,t,n=null,o=null){return M(e,t,b(r,e,t),n,o)}function P(e,r,t,n=null,o=null){return N(e,t,x(r),n,o)}function h(r,t,n,o){const s=t.toMap(r.screenStart,{include:[n]});return e(s)?P(t,n,s,o):null}function k(e,r){const t=J,n=K,o=y();e.renderCoordsHelper.worldUpAtPosition(r,t);const s=i(o,t,a(n,r,e.state.camera.eye));return i(s,s,t),E(r,s,o)}function G(e,r,t){let n=null;const o=new O;return o.next(C(e,k(e,r))).next(A(e,r)).next(F(e,t)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,n=e})),e=>(n=null,o.execute(e),n)}function A(e,r){const t=d(),n=c(r);e.renderCoordsHelper.worldUpAtPosition(r,t);const o=d(),s=d(),i=o=>{if(a(o,o,r),j(t,o,o),\"global\"===e.viewingMode){c(o)*Math.sign(u(t,o))<.001-n&&a(o,p(o,t,.001),r)}return m(o,o,r),o};return e=>(e.renderStart=i(l(o,e.renderStart)),e.renderEnd=i(l(s,e.renderEnd)),e)}function F(r,t){const n=r.renderCoordsHelper;return r=>{const o=n.fromRenderCoords(r.renderStart,t),s=n.fromRenderCoords(r.renderEnd,t);return e(o)&&e(s)?{...r,mapStart:o,mapEnd:s}:null}}var q;function z(r){let t=null;return n=>{switch(n.action){case\"start\":t=r.disableDisplay();break;case\"end\":case\"cancel\":e(t)&&(t.remove(),t=null)}return n}}function B(o,c=null){const l=I(o.state.viewingMode);l.options.selectionMode=!0,l.options.store=w.MIN,l.options.hud=!1;const i=s(),a={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},u=d(),p=t(c,o.spatialReference),m=e=>{o.map.ground&&o.map.ground.opacity<1?a.exclude.add(U):a.exclude.delete(U),o.sceneIntersectionHelper.intersectIntersectorScreen(n(e,i),l,a);const r=l.results.min;let t;if(r.getIntersectionPoint(u))t=r.intersector===H.TERRAIN?q.GROUND:q.OTHER;else{if(!l.results.ground.getIntersectionPoint(u))return null;t=q.GROUND}return{location:o.renderCoordsHelper.fromRenderCoords(u,p),surfaceType:t}};let f;return t=>{if(\"start\"===t.action){const r=m(t.screenStart);f=e(r)?r.location:null}if(r(f))return null;const n=m(t.screenEnd);return e(n)&&e(n.location)?{...t,mapStart:f,mapEnd:n.location,surfaceType:n.surfaceType}:null}}!function(e){e[e.GROUND=0]=\"GROUND\",e[e.OTHER=1]=\"OTHER\"}(q||(q={}));const J=d(),K=d(),L=S();export{q as SurfaceType,F as convertToMapCoordinates,z as hideManipulatorWhileDragging,A as projectToWorldUp,B as screenToMap3D,N as screenToMapXYAtLocation,h as screenToMapXYForGraphic,P as screenToMapXYForGraphicAtLocation,C as screenToRenderPlane,T as screenToRenderPlaneFromEvent,G as screenToZConstrained};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../../core/maybe.js\";import{dragGraphic as e,resetGraphic as n}from\"../../../../interactive/dragEventPipeline.js\";function r(t,r,a,i){const c=t.graphic,s=(t,e)=>r({action:t,graphic:c,dxScreen:e.screenDeltaX,dyScreen:e.screenDeltaY});return a(((t,r,a)=>{const o=r.next((t=>(\"start\"===t.action&&s(\"start\",t),t))).next(e(c,i)).next((t=>{switch(t.action){case\"start\":case\"update\":(t.translationX||t.translationY||t.translationZ)&&s(\"update\",t);break;case\"end\":s(\"end\",t)}return t}));return a.next(n(c)).next((()=>{s(\"end\",{screenDeltaX:0,screenDeltaY:0})})),o}))}function a(e){if(t(e)||\"polyline\"!==e.type&&\"polygon\"!==e.type)return 0;const n=(\"polyline\"===e.type?e.paths:e.rings)[0];if(!n||n.length<2)return 0;const r=n[0],a=n[1];return Math.atan2(a[1]-r[1],a[0]-r[0])}function i(e){if(t(e)||t(e.axis))return 1;const{mapStart:n,mapEnd:r,axis:a}=e,i=[r.x-n.x,r.y-n.y];return i[0]*a[0]+i[1]*a[1]>0?1:-1}export{i as axisConstrainedDragSign,r as createGraphicMoveDragPipeline,a as shapeOrientation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../Color.js\";import a from\"../../../../../core/Evented.js\";import r from\"../../../../../core/Handles.js\";import{handlesGroup as e}from\"../../../../../core/handleUtils.js\";import{destroyMaybe as i,unwrap as o,isNone as s}from\"../../../../../core/maybe.js\";import{f as n,b as l,m as p,d as u,C as h}from\"../../../../../chunks/mat4.js\";import{c as m}from\"../../../../../chunks/mat4f64.js\";import{s as c}from\"../../../../../chunks/vec3.js\";import{f}from\"../../../../../chunks/vec3f64.js\";import{sv3d as d,sm4d as _}from\"../../../../../geometry/support/vectorStacks.js\";import{getGraphicEffectiveElevationInfo as g}from\"../../../../../support/elevationInfoUtils.js\";import{Manipulator3D as M}from\"../../Manipulator3D.js\";import{screenToMapXYAtLocation as w}from\"../dragEventPipeline3D.js\";import{ManipulatorType as v}from\"../ManipulatorType.js\";import{colors as j}from\"../settings.js\";import{DISC_RADIUS as y,DISC_TRANSLATE_ARROW_OFFSET as A,DISC_HEIGHT as b,DISC_TRANSLATE_ARROW_SIZE as I}from\"./config.js\";import{Manipulation as T}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as D}from\"./moveUtils.js\";import{CullFaceOptions as S}from\"../../../webgl-engine/lib/basicInterfaces.js\";import{createExtrudedTriangle as k,transformInPlace as E}from\"../../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as x}from\"../../../webgl-engine/lib/Material.js\";import{ColorMaterial as P}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as U,dragAtLocation as R,constrainToMapAxis as L,addScreenDelta as O}from\"../../../../interactive/dragEventPipeline.js\";import{ManipulatorStateFlags as q}from\"../../../../interactive/interfaces.js\";class C extends T{constructor(t){super(),this._handles=new r,this._arrowManipulatorInfos=new Array,this._opaqueMaterial=this._createMaterial(),this._transparentMaterial=this._createMaterial(.5),this._angle=0,this._scale=1,this._radius=y,this._updateAfterDrag=!1,this.events=new a,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this._createManipulators(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}set orthogonalAvailable(t){this._arrowManipulatorInfos[1].manipulator.available=t,this._arrowManipulatorInfos[3].manipulator.available=t}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._handles=i(this._handles),this._tool=null,this._view=null,this._arrowManipulatorInfos.length=0}forEachManipulator(t){for(const{manipulator:a}of this._arrowManipulatorInfos)t(a,v.TRANSLATE_XY)}createGraphicDragPipeline(t,a,r){const e=a.graphic,i=g(e),s=o(e.geometry).spatialReference;return D(a,r,(a=>this.createDragPipeline(((r,e,i,o,s)=>a(r,t(r,e,i,o,s),i)),i,s,e)),this._view.state.viewingMode)}createDragPipeline(t,a,r,i){return e(this._arrowManipulatorInfos.map((({manipulator:e},o)=>U(e,((e,s,n,l,p)=>{const u=s.next((t=>({...t,manipulatorType:v.TRANSLATE_XY}))).next(R(this._view,e.elevationAlignedLocation)).next(w(this._view,e.elevationAlignedLocation,a,r,i)).next(L(e.location,this.angle+(o+1)*Math.PI*.5)).next(O());t(e,u,n,l,p)})))))}get angle(){return this._angle}set angle(t){this._angle=t,this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get radius(){return this._radius}set radius(t){this._radius!==t&&(this._radius=t,this._updateManipulators())}_updateManipulators(){for(let t=0;t<this._arrowManipulatorInfos.length;t++)this._updateArrowManipulator(this._arrowManipulatorInfos[t],t);this._updateManipulatorTransform()}_updateArrowManipulator({manipulator:t,transform:a},r){const e=this._radius/y,i=I*e,o=i*Math.sqrt(3)/2,s=k(o,i/2,i/2,b);E(s,n(_.get(),c(d.get(),0,-o/3,0))),t.renderObjects=[{geometry:s,material:this._opaqueMaterial,stateMask:q.Focused},{geometry:s,material:this._transparentMaterial,stateMask:q.Unfocused}],t.radius=o/3*2*1.2;const u=l(_.get(),r*Math.PI/2),h=n(_.get(),c(d.get(),0,A*e,0));p(a,u,h)}_createManipulators(){for(let t=0;t<4;t++){const a=this._createArrowManipulator(t);this._arrowManipulatorInfos.push(a)}this._updateManipulatorTransform()}_updateManipulatorTransform(){const t=this.angle,a=u(_.get(),t,f(0,0,1));if(s(a))return;const r=h(_.get(),c(d.get(),this.displayScale,this.displayScale,this.displayScale)),e=p(_.get(),r,a);for(const i of this._arrowManipulatorInfos){const t=p(_.get(),e,i.transform);i.manipulator.modelTransform=t}}_createArrowManipulator(t){const a=new M({view:this._view,autoScaleRenderObjects:!1,worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:f(0,0,1)}}),r={manipulator:a,transform:m()};return this._updateArrowManipulator(r,t),this._handles.add(a.events.on(\"drag\",(t=>{this._updateAfterDrag&&\"end\"===t.action&&!this.dragging&&(this._updateManipulatorTransform(),this._updateAfterDrag=!1)}))),r}_createMaterial(a=1){const r=t.toUnitRGBA(j.main);return r[3]*=a,new P({color:r,transparent:1!==a,cullFace:S.Back,renderOccluded:x.Transparent})}get test(){return{arrowManipulators:this._arrowManipulatorInfos.map((({manipulator:t})=>t))}}}export{C as MoveXYAxisManipulation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{getZForElevationMode as e}from\"../../../../../support/elevationInfoUtils.js\";import{EventPipeline as n}from\"../../../../interactive/dragEventPipeline.js\";class a{constructor(){this._view=null,this._elevationInfo=null,this._lastDragEvent=null,this.next=new n,this._enabled=!1}get enabled(){return this._enabled}set enabled(e){if(this._enabled!==e&&t(this._lastDragEvent)){const n=this._lastDragEvent.mapEnd,a=this._snap(this._lastDragEvent.screenEnd);if(t(a)){const t={action:\"update\",mapStart:this._lastDragEvent.mapStart,mapEnd:!0===e?a:n,screenStart:this._lastDragEvent.screenEnd,screenEnd:this._lastDragEvent.screenEnd};this.next.execute(t)}}this._enabled=e}_snap(n){const a=t(this._view)?this._view.toMap(n,{exclude:[]}):null;return t(a)&&t(this._view)&&(a.z=e(a,this._view,this._elevationInfo)),a}createDragEventPipelineStep(e,n){return this._view=e,this._elevationInfo=n,this._lastDragEvent=null,e=>{if(this._lastDragEvent=\"end\"!==e.action?{...e}:null,this._enabled){const n=this._snap(e.screenEnd);return t(n)?{action:e.action,mapStart:e.mapStart,mapEnd:n,screenStart:e.screenStart,screenEnd:e.screenEnd}:null}return{action:e.action,mapStart:e.mapStart,mapEnd:e.mapEnd,screenStart:e.screenStart,screenEnd:e.screenEnd}}}}export{a as SnapToScene};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../Color.js\";import{unwrap as e}from\"../../../../../core/maybe.js\";import{C as i}from\"../../../../../chunks/mat4.js\";import{c as a}from\"../../../../../chunks/mat4f64.js\";import{s as r}from\"../../../../../chunks/vec3.js\";import{f as s}from\"../../../../../chunks/vec3f64.js\";import{sv3d as o,sm4d as n}from\"../../../../../geometry/support/vectorStacks.js\";import{getGraphicEffectiveElevationInfo as l}from\"../../../../../support/elevationInfoUtils.js\";import{Manipulator3D as p}from\"../../Manipulator3D.js\";import{screenToMapXYAtLocation as c}from\"../dragEventPipeline3D.js\";import{ManipulatorType as m}from\"../ManipulatorType.js\";import{colors as u}from\"../settings.js\";import{DISC_RADIUS as h,GEOMETRY_SEGMENTS as d,DISC_HEIGHT as _,DISC_COLLISION_RADIUS as f}from\"./config.js\";import{Manipulation as g}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as M}from\"./moveUtils.js\";import{SnapToScene as j}from\"../snapping/SnapToScene.js\";import{CullFaceOptions as T}from\"../../../webgl-engine/lib/basicInterfaces.js\";import{createCylinderGeometry as S}from\"../../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as v}from\"../../../webgl-engine/lib/Material.js\";import{ColorMaterial as w}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as y,dragAtLocation as b,addScreenDelta as k}from\"../../../../interactive/dragEventPipeline.js\";import{ManipulatorStateFlags as x}from\"../../../../interactive/interfaces.js\";class E extends g{constructor(t){super(),this._snapToScene=new j,this._discMaterial=this._createMaterial(),this._discMaterialTransparent=this._createMaterial(.5),this._scale=1,this._radius=h,this._view=t.view,this._tool=t.tool,null!=t.snapToScene&&(this.snapToScene=t.snapToScene),null!=t.radius&&(this._radius=t.radius),this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null}forEachManipulator(t){t(this._manipulator,m.TRANSLATE_XY)}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get snapToScene(){return this._snapToScene.enabled}set snapToScene(t){this._snapToScene.enabled=t}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._updateManipulator())}createGraphicDragPipeline(t,i,a){const r=i.graphic,s=l(r),o=e(r.geometry).spatialReference;return M(i,a,(e=>this.createDragPipeline(((i,a,r,s,o)=>e(i,t(i,a,r,s,o),r)),s,o,r)),this._view.state.viewingMode)}createDragPipeline(t,e,i,a){const r=this._view;return y(this._manipulator,((s,o,n,l,p)=>{const u=o.next(b(r,s.elevationAlignedLocation)).next(c(r,s.elevationAlignedLocation,e,i,a)).next(this._snapToScene.createDragEventPipelineStep(r,e),this._snapToScene.next).next((t=>({...t,manipulatorType:m.TRANSLATE_XY}))).next(k());t(s,u,n,l,p)}))}_updateManipulatorTransform(){const t=i(n.get(),r(o.get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=t}_createManipulator(){const t=this._view;this._manipulator=new p({view:t,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:s(0,0,1)},worldOriented:!0}),this._updateManipulator()}_updateManipulator(){const t=S(_,1,d,s(0,0,1),s(0,0,0)),e=i(a(),s(this._radius,this._radius,this._radius));this._manipulator.renderObjects=[{geometry:t,material:this._discMaterial,transform:e,stateMask:x.Focused},{geometry:t,material:this._discMaterialTransparent,transform:e,stateMask:x.Unfocused}],this._manipulator.radius=f*(this._radius/h)}_createMaterial(e=1){const i=t.toUnitRGBA(u.main);return i[3]*=e,new w({color:i,transparent:1!==e,cullFace:T.Back,renderOccluded:v.Transparent})}get test(){return{discManipulator:this._manipulator}}}export{E as MoveXYDiscManipulation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{darken as t}from\"../../../../../core/colorUtils.js\";import e from\"../../../../../core/Evented.js\";import{clamp as r}from\"../../../../../core/mathUtils.js\";import{unwrap as a}from\"../../../../../core/maybe.js\";import{v as i,r as o,k as s}from\"../../../../../chunks/mat4.js\";import{c as n}from\"../../../../../chunks/mat4f64.js\";import{j as l,b as m,n as p,e as u,f as c,g as d}from\"../../../../../chunks/vec3.js\";import{c as h,f}from\"../../../../../chunks/vec3f64.js\";import{Manipulator3D as M}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as _}from\"../../manipulatorUtils.js\";import{screenToZConstrained as g}from\"../dragEventPipeline3D.js\";import{ManipulatorType as j}from\"../ManipulatorType.js\";import{settings as v}from\"../settings.js\";import{DISC_RADIUS as y}from\"./config.js\";import{Manipulation as w}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as k}from\"./moveUtils.js\";import{createTubeGeometry as b,createConeGeometry as z}from\"../../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as U}from\"../../../webgl-engine/lib/Material.js\";import{createManipulatorDragEventPipeline as P,addScreenDelta as E}from\"../../../../interactive/dragEventPipeline.js\";import{ManipulatorStateFlags as O}from\"../../../../interactive/interfaces.js\";class T extends w{constructor(t){super(),this._radius=y,this.events=new e,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()}))}forEachManipulator(t){t(this._manipulator,j.TRANSLATE_Z)}createGraphicDragPipeline(t,e,r){const i=a(e.graphic.geometry).spatialReference;return k(e,r,(e=>this.createDragPipeline(((r,a,i,o,s)=>e(r,t(r,a,i,o,s),i)),i)),this._view.state.viewingMode)}createDragPipeline(t,e){const r=this._view;return P(this._manipulator,((a,i,o,s,n)=>{const l=i.next((t=>({...t,manipulatorType:j.TRANSLATE_Z}))).next(g(r,a.renderLocation,e)).next(E());t(a,l,o,s,n)}))}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._updateManipulator())}_updateManipulator(){const e=this._radius/y,r=v.zManipulator.height*e,a=v.zManipulator.coneHeight*e,l=v.zManipulator.coneWidth*e,m=v.zManipulator.width*e,p=[f(0,0,0),f(0,0,r)],u=b(p,m/2,16,!1),c=z(a,l/2,16,!1),d=[f(0,0,0),f(0,0,r+a)],h=t=>{const e=n();if(i(e,e,[0,0,r]),o(e,e,Math.PI/2),t){const r=1+2*t/l;s(e,e,[r,r,r])}return e},M=h(0),g=(e,r)=>{const a=t(v.zManipulator.color,r);return[a.r/255,a.g/255,a.b/255,v.zManipulator.color.a*e]},j=_(g(1,.25),U.Occlude),w=_(g(1,0),U.Occlude),k=_(g(.7,0),v.zManipulator.renderOccluded),P=_(g(.85,0),v.zManipulator.renderOccluded);this._manipulator.renderObjects=[{geometry:c,transform:M,material:j,stateMask:O.Unfocused},{geometry:u,material:j,stateMask:O.Unfocused},{geometry:c,transform:M,material:w,stateMask:O.Focused},{geometry:u,material:w,stateMask:O.Focused},{geometry:c,transform:M,material:k,stateMask:O.Unfocused},{geometry:u,material:k,stateMask:O.Unfocused},{geometry:c,transform:M,material:P,stateMask:O.Focused},{geometry:u,material:P,stateMask:O.Focused}],this._manipulator.radius=m/2+2,this._manipulator.collisionType={type:\"line\",paths:[d]}}_createManipulator(){const t=new M({view:this._view,autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:\"ns-resize\",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});t.applyObjectTransform=t=>{const e=this._view.state.camera,a=A;this._view.renderCoordsHelper.toRenderCoords(this._manipulator.elevationAlignedLocation,a);const i=l(e.eye,a),o=e.computeRenderPixelSizeAtDist(i),s=m(x,a,e.eye);p(s,s);const n=D;this._view.renderCoordsHelper.worldUpAtPosition(A,n);const h=Math.abs(u(s,n)),f=c(x,s,n),M=c(x,f,n),_=r(h,.01,1),g=1-Math.sqrt(1-_*_)/_/e.fullWidth,j=this._radius/y,w=v.zManipulator.width*j;d(M,p(M,M),(1/g-1)*i+o*w),t[12]-=x[0],t[13]-=x[1],t[14]-=x[2]},this._manipulator=t,this._updateManipulator()}get test(){return{manipulator:this._manipulator}}}const A=h(),x=h(),D=h();export{T as MoveZManipulation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport i from\"../../../../../core/Handles.js\";import{handlesGroup as a}from\"../../../../../core/handleUtils.js\";import has from\"../../../../../core/has.js\";import{isSome as t}from\"../../../../../core/maybe.js\";import{when as n}from\"../../../../../core/reactiveUtils.js\";import{ManipulatorType as e}from\"../ManipulatorType.js\";import{DISC_RADIUS_SMALL as s,DISC_RADIUS as o}from\"./config.js\";import{Manipulation as r}from\"./Manipulation.js\";import{MoveXYAxisManipulation as l}from\"./MoveXYAxisManipulation.js\";import{MoveXYDiscManipulation as p}from\"./MoveXYDiscManipulation.js\";import{MoveZManipulation as h}from\"./MoveZManipulation.js\";class u extends r{constructor(a){super(),this._handles=new i,this._interactive=!0;const{tool:t,view:n,snapToScene:e,radius:s}=a;this._view=n,this.xyManipulation=new p({tool:t,view:n,snapToScene:e,radius:s}),this.xyAxisManipulation=new l({tool:t,view:n,radius:s}),this.zManipulation=new h({tool:t,view:n,radius:s}),this.xyManipulation.available=a.xyAvailable,this.xyAxisManipulation.available=a.xyAxisAvailable,this.zManipulation.available=a.zAvailable,this._autoHideXYAxis(),this.forEachManipulator((i=>{this._handles.add(i.events.on(\"grab-changed\",(()=>this._updateManipulatorInteractivity())))}))}destroy(){this._handles.destroy(),this.xyManipulation.destroy(),this.xyAxisManipulation.destroy(),this.zManipulation.destroy()}createGraphicDragPipeline(i,t,n){return a([this.xyManipulation.createGraphicDragPipeline(((a,t,n,e,s)=>i(M.XY,a,t,n,e,s)),t,n),this.xyAxisManipulation.createGraphicDragPipeline(((a,t,n,e,s)=>i(M.XY_AXIS,a,t,n,e,s)),t,n),this.zManipulation.createGraphicDragPipeline(((a,t,n,e,s)=>i(M.Z,a,t,n,e,s)),t,n)])}createDragPipeline(i,t,n,e){return a([this.xyManipulation.createDragPipeline(((a,t,n,e,s)=>i(M.XY,a,t,n,e,s)),t,n,e),this.xyAxisManipulation.createDragPipeline(((a,t,n,e,s)=>i(M.XY_AXIS,a,t,n,e,s)),t,n,e),this.zManipulation.createDragPipeline(((a,t,n,e,s)=>i(M.Z,a,t,n,e,s)),n)])}set snapToScene(i){this.xyManipulation.snapToScene=i}set angle(i){this.xyAxisManipulation.angle=i}set interactive(i){this._interactive!==i&&(this._interactive=i,this._updateManipulatorInteractivity())}set radius(i){this.xyAxisManipulation.radius=i,this.xyManipulation.radius=i,this.zManipulation.radius=i}set displayScale(i){this.xyManipulation.displayScale=i,this.xyAxisManipulation.displayScale=i}forEachManipulator(i){this.xyManipulation.forEachManipulator((a=>i(a,e.TRANSLATE_XY))),this.xyAxisManipulation.forEachManipulator((a=>i(a,e.TRANSLATE_XY))),this.zManipulation.forEachManipulator((a=>i(a,e.TRANSLATE_Z)))}get _xyAxisVisible(){const i=this.xyManipulation.someManipulator((i=>i.focused))||this.xyAxisManipulation.someManipulator((i=>i.focused));return this._view.inputManager&&\"touch\"===this._view.inputManager.latestPointerType||i}_autoHideXYAxis(){const i=this.xyAxisManipulation,a=this.xyManipulation;if(has(\"esri-mobile\"))return;const t=[];a.forEachManipulator((i=>t.push(i))),i.forEachManipulator((i=>t.push(i)));const e=()=>{const a=[];this._xyAxisVisible||i.forEachManipulator((i=>a.push(i.disableDisplay()))),this._handles.remove(c),this._handles.add(a,c)};for(const n of t)this._handles.add(n.events.on(\"focus-changed\",e));this._view.inputManager&&this._handles.add(n((()=>this._view.inputManager?.latestPointerType),e)),e()}_updateManipulatorInteractivity(){const i=this.grabbing;this.forEachManipulator((a=>{a.interactive=!i&&this._interactive||a.grabbing}))}static radiusForSymbol(i){const a=t(i)&&\"point-3d\"===i.type&&i.symbolLayers;return!!a&&a.length>0&&a.some((i=>\"icon\"===i.type))?s:o}}const c=\"disable-xy-axis-display\";var M;!function(i){i[i.XY=0]=\"XY\",i[i.XY_AXIS=1]=\"XY_AXIS\",i[i.Z=2]=\"Z\"}(M||(M={}));export{M as ManipulationType,u as MoveManipulation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{screenToMapXYForGraphic as i}from\"../dragEventPipeline3D.js\";import{ManipulatorType as e}from\"../ManipulatorType.js\";import{Manipulation as r}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as a}from\"./moveUtils.js\";import{createManipulatorDragEventPipeline as o,addMapDelta as s,addScreenDelta as n}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as p}from\"../../../../interactive/GraphicManipulator.js\";class l extends r{constructor(t){super(),this._view=t.view,this._tool=t.tool,this._graphicState=t.graphicState,this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._graphicState=null}forEachManipulator(t){t(this._manipulator,e.TRANSLATE_XY)}createGraphicDragPipeline(t){return a(this._graphicState,t,(t=>this.createDragPipeline(t)),this._view.state.viewingMode)}createDragPipeline(e){const r=this._view,a=this._graphicState.graphic,p=t(a.geometry)?a.geometry.spatialReference:null;return o(this._manipulator,((t,o,l,h,c)=>{const m=o.next(i(c,r,a,p)).next(s()).next(n());e(t,m,l,h,c)}))}_createManipulator(){const t=this._view,i=this._graphicState.graphic;this._manipulator=new p({graphic:i,view:t,selectable:!0,cursor:\"move\"})}}export{l as MoveXYGraphicManipulation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import i from\"../../../../../core/Collection.js\";import e from\"../../../../../core/Evented.js\";import{HandleOwnerMixin as o}from\"../../../../../core/HandleOwner.js\";import{makeHandle as a}from\"../../../../../core/handleUtils.js\";import{destroyMaybe as n,isNone as s,unwrap as r,isSome as p}from\"../../../../../core/maybe.js\";import{scale as l,zeroMeters as h}from\"../../../../../core/quantityUtils.js\";import{watch as c,syncAndInitial as u}from\"../../../../../core/reactiveUtils.js\";import{property as m}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as d}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{makeDehydratedPoint as g}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{getGraphicEffectiveElevationInfo as v,getConvertedElevation as f}from\"../../../../../support/elevationInfoUtils.js\";import{getGraphicAttachmentOrigin as M}from\"../../manipulatorUtils.js\";import{SnappingVisualizer3D as y}from\"../../SnappingVisualizer3D.js\";import{SupportedGraphicResult as _}from\"../isSupportedGraphicUtils.js\";import{canMoveZ as w}from\"../manipulatorUtils.js\";import{createVisualElements as j}from\"../visualElementUtils.js\";import{DISC_RADIUS as b}from\"../manipulations/config.js\";import{ManipulationType as x,MoveManipulation as S}from\"../manipulations/MoveManipulation.js\";import{shapeOrientation as E,axisConstrainedDragSign as O}from\"../manipulations/moveUtils.js\";import{MoveXYGraphicManipulation as T}from\"../manipulations/MoveXYGraphicManipulation.js\";import{isSupportedGraphic as D}from\"./isSupportedGraphic.js\";import{OutlineVisualElement as P}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as X}from\"../../../layers/graphics/GraphicState.js\";import{dragGraphicMany as A,resetGraphicMany as Y}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as G}from\"../../../../interactive/InteractiveToolBase.js\";import{EditGeometryOperations as U}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";import k from\"../../../../interactive/sketch/SketchTooltipOptions.js\";import{SnappingContext as z}from\"../../../../interactive/snapping/SnappingContext.js\";import{SnappingPipeline as R}from\"../../../../interactive/snapping/SnappingDragPipelineStep.js\";import{Tooltip as I}from\"../../../../interactive/tooltip/Tooltip.js\";import{TranslateGraphicTooltipInfo as H,TranslateGraphicZTooltipInfo as Z,TranslateGraphicXYTooltipInfo as C}from\"../../../../interactive/tooltip/TranslateTooltipInfos.js\";import{autoHorizontalDistanceByElevationModeBetweenPoints as V}from\"../../../../support/automaticLengthMeasurementUtils.js\";import{verticalSignedDistanceBetweenPoints as F}from\"../../../../support/euclideanLengthMeasurementUtils.js\";class L{constructor(t){this.allGraphics=t,this.type=\"graphic-move-start\"}}class N{constructor(t,i,e){this.dx=t,this.dy=i,this.allGraphics=e,this.type=\"graphic-move\"}}class q{constructor(t){this.allGraphics=t,this.type=\"graphic-move-stop\"}}let B=class extends(o(e.EventedMixin(G))){constructor(t){super(t),this.graphics=new i,this.enableZ=!0,this.tooltipOptions=new k,this.type=\"move-3d\",this._snappingPipeline=new R,this._tooltip=null}initialize(){const{graphics:t,view:i}=this;this.addHandles([t.on(\"change\",(()=>this._refreshManipulators())),c((()=>this.tooltipOptions.enabled),(t=>{this._tooltip=t?new I({view:i}):n(this._tooltip)}),u)]),this._refreshManipulators(),this.finishToolCreation()}destroy(){this._tooltip=n(this._tooltip),this._moveManipulation=n(this._moveManipulation),this.graphics.removeAll(),this._set(\"view\",null)}get updating(){return this.updatingHandles.updating}reset(){}_refreshManipulators(){this.handles.removeAll(),this._moveManipulation&&this._moveManipulation.destroy(),this.manipulators.removeAll();const t=this.graphics.toArray().filter((t=>D(t)===_.SUPPORTED)).map((t=>new J(t)));t.length&&(this._createManipulators(t),this._createVisualElements(t),this.handles.add(t.map((t=>this.view.trackGraphicState(t.state)))),this._updateMoveManipulation(t))}_createManipulators(t){for(const i of t){const e=i.state;i.manipulationXY=new T({tool:this,view:this.view,graphicState:e}),i.manipulationXY.forEachManipulator((t=>this.handles.add([t.events.on(\"immediate-click\",(t=>{this.emit(\"immediate-click\",{...t,graphic:e.graphic}),t.stopPropagation()})),t.events.on(\"grab-changed\",(({action:t})=>{const{tooltipOptions:i,_tooltip:e}=this;s(e)||(\"start\"===t?e.info=new H({tooltipOptions:i}):e.clear())}))]))),this.handles.add(i.manipulationXY.createDragPipeline(((i,e,o,a)=>this._buildDragEventPipeline(t,x.XY,i,e,o,a))))}this._createMoveManipulation(t)}_createMoveManipulation(t){const i=new S({tool:this,view:this.view,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:1===t.length?S.radiusForSymbol(t[0].graphic.symbol):b});this._moveManipulation=i,i.elevationInfo={mode:\"absolute-height\",offset:0},i.forEachManipulator((t=>{this.handles.add(t.events.on(\"immediate-click\",(e=>{i.zManipulation.hasManipulator(t)||1!==this.graphics.length||this.emit(\"immediate-click\",{...e,graphic:this.graphics.getItemAt(0)}),e.stopPropagation()})))}));const e=i=>e=>{this.handles.add(e.events.on(\"focus-changed\",(({action:e})=>{const o=this._tooltip;s(o)||(\"focus\"===e?this._updateMoveTooltip(t,i):o.clear())})))};this._moveManipulation.xyManipulation.forEachManipulator(e(x.XY)),this._moveManipulation.xyAxisManipulation.forEachManipulator(e(x.XY_AXIS)),this._moveManipulation.zManipulation.forEachManipulator(e(x.Z));const o=()=>this._updateMoveManipulation(t);for(const n of t)this.handles.add([n.state.on(\"changed\",o),c((()=>n.state.displaying),o)]);const a=t[t.length-1];this.handles.add(a.state.on(\"changed\",(()=>this._updateMoveManipulationAngle(a)))),this.handles.add(i.createDragPipeline(((i,e,o,a,n)=>this._buildDragEventPipeline(t,i,e,o,a,n)),v(a.graphic),r(a.graphic.geometry).spatialReference,a.graphic)),this._updateMoveManipulationAngle(a)}_createVisualElements(t){for(const i of t){const e=i.graphic,o=j({view:this.view,graphic:e,forEachManipulator:t=>{i.manipulationXY.forEachManipulator(t),this._moveManipulation.forEachManipulator(t)},onManipulatorsChanged:()=>a()});s(o)||(i.geometryRepresentation=o.visualElement,i.geometryRepresentation instanceof P&&this.handles.add([i.geometryRepresentation.events.on(\"attachment-origin-changed\",(()=>{i.state.isDraped||this._updateMoveManipulation(t)})),c((()=>i.state.isDraped),(()=>this._updateMoveManipulation(t)))]),this.handles.add(o))}}_updateMoveManipulationAngle(t){this._moveManipulation.angle=E(t.graphic.geometry)}_updateMoveManipulation(t){const i=g(0,0,0,this.view.spatialReference);let e=0,o=!1;const a=this._moveManipulation;for(const n of t){if(!n.state.displaying)continue;const t=n.state.graphic;this.enableZ&&w(t)&&(o=!0);const a=n.geometryRepresentation instanceof P&&!n.state.isDraped?n.geometryRepresentation.attachmentOrigin:M(this.view,t);p(a)&&(i.x+=a.x,i.y+=a.y,i.z+=a.z,e++)}e>0?(i.x/=e,i.y/=e,i.z/=e,a.location=i,a.xyManipulation.available=!0,a.xyAxisManipulation.available=!0,a.zManipulation.available=o):a.available=!1}_buildDragEventPipeline(t,i,e,o,a,n){const s=[],r=[];let p=null,l=null;const h=()=>{for(const t of s)t.dragging=!1;s.length=0,r.length=0,p=null,l=null,this._moveManipulation.interactive=!0};if(a=a.next((t=>l(t))).next((()=>{if(this.emit(\"graphic-move-stop\",new q(r)),this.destroyed)return null;h()})),1===t.length&&i===x.XY){const i=t[0].graphic;o=this._buildSnappingPipelineSteps(i,v(i),o,a,n)}return o.next((i=>{if(\"start\"===i.action){s.length=0,r.length=0;for(const i of t)i.dragging||!i.manipulationXY.hasManipulator(e)&&i.manipulationXY.grabbing||(s.push(i),r.push(i.graphic),i.dragging=!0);if(0!==r.length&&(this._moveManipulation.interactive=!1,p=A(r,this.view.state.viewingMode),l=Y(r),this.emit(\"graphic-move-start\",new L(r)),this.destroyed))return null}return 0!==r.length?i:null})).next((t=>p(t))).next((e=>(this._updateMoveTooltip(t,i,e),e))).next((t=>{switch(t.action){case\"start\":case\"update\":if(t.translationX||t.translationY||t.translationZ){const i=this.view.toScreen(t.mapStart),e=this.view.toScreen(t.mapEnd),o=e.x-i.x,a=e.y-i.y;if(this.emit(\"graphic-move\",new N(o,a,r)),this.destroyed)return null}break;case\"end\":if(this.emit(\"graphic-move-stop\",new q(r)),this.destroyed)return null;h()}}))}_updateMoveTooltip(t,i,e){const{tooltipOptions:o,_tooltip:a}=this;if(s(a))return;a.clear();const n=0===t.length?\"absolute-height\":t[0].state.isDraped?\"on-the-ground\":\"absolute-height\";switch(i){case x.XY:a.info=new H({tooltipOptions:o}),this._updateMoveTooltipDistance(a.info,e,((t,i)=>V(t,i,n)));break;case x.XY_AXIS:a.info=new C({tooltipOptions:o}),this._updateMoveTooltipDistance(a.info,e,((t,i)=>{const o=V(t,i,n);return l(o,O(e))}));break;case x.Z:a.info=new Z({tooltipOptions:o}),this._updateMoveTooltipDistance(a.info,e,F)}}_updateMoveTooltipDistance(t,i,e){if(p(i)&&\"end\"!==i.action){const{mapStart:o,mapEnd:a}=i,n=e(o,a);t.distance=p(n)?n:h}}_buildSnappingPipelineSteps(t,i,e,o,a){const n=t.geometry;if(s(n)||\"point\"!==n.type&&\"mesh\"!==n.type)return e;const r=(\"point\"===n.type?n:n.anchor).clone(),p=new z({elevationInfo:i,pointer:a,editGeometryOperations:U.fromGeometry(r,this.view.state.viewingMode),visualizer:new y,excludeFeature:t}),l=this.snappingManager;return e.next((i=>{r.z=f(this.view,r,v(t),{mode:\"absolute-height\",offset:0});return{...i,snapOrigin:p.coordinateHelper.pointToVector(r)}})).next(this._snappingPipeline.createSnapDragEventPipelineStep({snappingContext:p,snappingManager:l,cancel:o,updatingHandles:this.updatingHandles}),this._snappingPipeline.next)}get test(){return{tooltip:this._tooltip}}};t([m({constructOnly:!0,nonNullable:!0})],B.prototype,\"view\",void 0),t([m()],B.prototype,\"graphics\",void 0),t([m({constructOnly:!0,nonNullable:!0})],B.prototype,\"enableZ\",void 0),t([m({constructOnly:!0,type:k})],B.prototype,\"tooltipOptions\",void 0),t([m({constructOnly:!0})],B.prototype,\"snappingManager\",void 0),t([m()],B.prototype,\"type\",void 0),t([m()],B.prototype,\"updating\",null),B=t([d(\"esri.views.3d.interactive.editingTools.graphicMove3D.GraphicMoveTool\")],B);class J{constructor(t){this.state=null,this.geometryRepresentation=null,this.manipulationXY=null,this.dragging=!1,this.state=new X({graphic:t})}get graphic(){return this.state.graphic}}export{N as GraphicMoveEvent,L as GraphicMoveStartEvent,q as GraphicMoveStopEvent,B as GraphicMoveTool};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as r}from\"../../../../../core/maybe.js\";import{createRenderScreenPointArray3 as o}from\"../../../../../core/screenUtils.js\";import{f as n}from\"../../../../../chunks/mat4f64.js\";import{f as t,r as s,p as c,b as i}from\"../../../../../chunks/vec3.js\";import{c as d}from\"../../../../../chunks/vec3f64.js\";import{normal as f,fromPositionAndNormal as p,create as m}from\"../../../../../geometry/support/plane.js\";import{makeDehydratedPoint as u}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{PlaneType as a,OffsetEdgeVertex as l}from\"../../../../interactive/editGeometry/operations/OffsetEdgeVertex.js\";function j(e,r,o){const n=\"on-the-ground\"===o.mode?a.XY:a.XYZ;return new l(e,n,r,0)}function h(r,o,n){const s=d();if(!r.renderCoordsHelper.toRenderCoords(o,s))return null;const c=y(r,o,f(n.plane)),i=y(r,o,n.edgeDirection);if(e(c)||e(i))return null;const u=t(d(),c,i);return p(s,u,m())}function y(e,r,o){const n=u(r.x+o[0],r.y+o[1],r.z+o[2],r.spatialReference),t=d(),c=d();return e.renderCoordsHelper.toRenderCoords(r,t)&&e.renderCoordsHelper.toRenderCoords(n,c)?s(c,t,c):null}function C(e,r,o){const c=f(e),i=s(d(),r,o),p=t(d(),i,c),m=t(d(),i,p);return n(i[0],i[1],i[2],0,p[0],p[1],p[2],0,m[0],m[1],m[2],0,0,0,0,1)}function R(e,n,t){const s=t.projectToRenderScreen(e,o()),d=t.projectToRenderScreen(n,o());return r(s)&&r(d)?c(i(s,s,d)):0}export{h as createEdgeOffsetIntersectionPlane,j as createEdgeOffsetOperation,C as edgeOffsetRotationMatrix,R as screenEdgeLengthSquared};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{zeroMeters as t}from\"../../../core/quantityUtils.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{SketchTooltipInfo as s}from\"./SketchTooltipInfo.js\";let p=class extends s{constructor(o){super(o),this.type=\"reshape-edge-offset\",this.distance=t,this.area=null,this.totalLength=null}};o([e()],p.prototype,\"type\",void 0),o([e()],p.prototype,\"distance\",void 0),o([e()],p.prototype,\"area\",void 0),o([e()],p.prototype,\"totalLength\",void 0),p=o([r(\"esri.views.interactive.tooltip.ReshapeEdgeOffsetTooltipInfo\")],p);export{p as ReshapeEdgeOffsetTooltipInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{removeUnordered as t}from\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import i from\"../../../../../core/Evented.js\";import{HandleOwner as a}from\"../../../../../core/HandleOwner.js\";import o from\"../../../../../core/Handles.js\";import{handlesGroup as n,destroyHandle as r}from\"../../../../../core/handleUtils.js\";import{destroyMaybe as s,isSome as l,isNone as p,unwrap as h,removeMaybe as d}from\"../../../../../core/maybe.js\";import{zeroMeters as u,scale as c,createLength as m}from\"../../../../../core/quantityUtils.js\";import{watch as g,when as _,initial as f}from\"../../../../../core/reactiveUtils.js\";import{getMetersPerUnitForSR as v}from\"../../../../../core/unitUtils.js\";import{property as M}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as y}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{I as x}from\"../../../../../chunks/mat4f64.js\";import{l as O,b,h as E,s as G,a as S,g as V}from\"../../../../../chunks/vec3.js\";import{f as I,c as T}from\"../../../../../chunks/vec3f64.js\";import w from\"../../../../../geometry/Polyline.js\";import{projectPoint as H}from\"../../../../../geometry/support/plane.js\";import{sv3d as A}from\"../../../../../geometry/support/vectorStacks.js\";import{makeDehydratedPoint as D}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{getGraphicEffectiveElevationInfo as L}from\"../../../../../support/elevationInfoUtils.js\";import{isVolumetricSymbol as P}from\"../../../../../symbols/support/utils.js\";import{Manipulator3D as j}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as U,createManipulatorOutlineMaterial as k,placeAtGraphic as N}from\"../../manipulatorUtils.js\";import{SegmentLabels3D as C}from\"../../SegmentLabels3D.js\";import{SnappingVisualizer3D as R}from\"../../SnappingVisualizer3D.js\";import{screenToRenderPlaneFromEvent as F,convertToMapCoordinates as z,screenToMapXYAtLocation as X,screenToMapXYForGraphicAtLocation as Z}from\"../dragEventPipeline3D.js\";import{ManipulatorType as Y}from\"../ManipulatorType.js\";import{canMoveZ as q}from\"../manipulatorUtils.js\";import{settings as W,colors as K}from\"../settings.js\";import{createVisualElements as B}from\"../visualElementUtils.js\";import{DISC_RADIUS_SMALL as J}from\"../manipulations/config.js\";import{ManipulationType as Q,MoveManipulation as $}from\"../manipulations/MoveManipulation.js\";import{shapeOrientation as ee,axisConstrainedDragSign as te}from\"../manipulations/moveUtils.js\";import{MoveXYGraphicManipulation as ie}from\"../manipulations/MoveXYGraphicManipulation.js\";import{createEdgeOffsetIntersectionPlane as ae,createEdgeOffsetOperation as oe,edgeOffsetRotationMatrix as ne,screenEdgeLengthSquared as re}from\"./edgeOffsetUtils.js\";import{OutlineVisualElement as se}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as le}from\"../../../layers/graphics/GraphicState.js\";import{createExtrudedTriangle as pe,createSphereGeometry as he}from\"../../../webgl-engine/lib/GeometryUtil.js\";import{MouseButton as de}from\"../../../../input/IViewEvents.js\";import{sceneSnappingAtLocation as ue,addMapDelta as ce,createManipulatorDragEventPipeline as me,dragAtLocation as ge,addScreenDelta as _e}from\"../../../../interactive/dragEventPipeline.js\";import{ManipulatorStateFlags as fe,ManipulatorStateCustomFlags as ve}from\"../../../../interactive/interfaces.js\";import{EditGeometryOperations as Me}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";import{AccumulationBehaviour as ye}from\"../../../../interactive/editGeometry/interfaces.js\";import{SnappingContext as xe}from\"../../../../interactive/snapping/SnappingContext.js\";import{SnappingPipeline as Oe}from\"../../../../interactive/snapping/SnappingDragPipelineStep.js\";import{ReshapeEdgeOffsetTooltipInfo as be}from\"../../../../interactive/tooltip/ReshapeTooltipInfos.js\";import{Tooltip as Ee}from\"../../../../interactive/tooltip/Tooltip.js\";import{TranslateGraphicZTooltipInfo as Ge,TranslateGraphicXYTooltipInfo as Se,TranslateGraphicTooltipInfo as Ve,TranslateVertexZTooltipInfo as Ie,TranslateVertexXYTooltipInfo as Te,TranslateVertexTooltipInfo as we}from\"../../../../interactive/tooltip/TranslateTooltipInfos.js\";import{autoAreaByElevationMode as He}from\"../../../../support/automaticAreaMeasurementUtils.js\";import{autoHorizontalDistanceByElevationModeBetweenPoints as Ae,autoLengthByElevationMode as De}from\"../../../../support/automaticLengthMeasurementUtils.js\";import{verticalSignedDistanceBetweenPoints as Le,elevationOfPoint as Pe}from\"../../../../support/euclideanLengthMeasurementUtils.js\";import{geodesicDistance as je}from\"../../../../support/geodesicLengthMeasurementUtils.js\";let Ue=class extends(i.EventedMixin(a)){constructor(e){super(e),this._vertexManipulatorMaterial=U(W.colorToVec4(W.reshapeManipulators.vertex.color),W.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorOutlineMaterial=k(W.colorToVec4(W.reshapeManipulators.vertex.outlineColor),W.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorHoverOutlineMaterial=k(W.colorToVec4(W.reshapeManipulators.vertex.hoverOutlineColor),W.reshapeManipulators.vertex.renderOccluded),this._edgeManipulatorMaterial=U(W.colorToVec4(W.reshapeManipulators.edge.color),W.reshapeManipulators.edge.renderOccluded),this._edgeManipulatorOutlineMaterial=k(W.colorToVec4(W.reshapeManipulators.edge.outlineColor),W.reshapeManipulators.edge.renderOccluded),this._edgeOffsetManipulatorMaterial=U(W.colorToVec4(W.reshapeManipulators.edgeOffset.color),W.reshapeManipulators.edgeOffset.renderOccluded,!1),this._edgeOffsetManipulatorHoverMaterial=U(W.colorToVec4(W.reshapeManipulators.edgeOffset.hoverColor),W.reshapeManipulators.edgeOffset.renderOccluded,!1),this._selectedManipulatorMaterial=U(W.colorToVec4(W.reshapeManipulators.selected.color),W.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorOutlineMaterial=k(W.colorToVec4(W.reshapeManipulators.selected.outlineColor),W.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorHoverOutlineMaterial=k(W.colorToVec4(W.reshapeManipulators.selected.hoverOutlineColor),W.reshapeManipulators.selected.renderOccluded),this._selectedIndex=0,this._vertexManipulatorGeometry=null,this._vertexManipulatorOutlineGeometry=null,this._edgeManipulatorGeometry=null,this._edgeManipulatorOutlineGeometry=null,this._edgeOffsetManipulatorGeometryInside=null,this._edgeOffsetManipulatorGeometryOutside=null,this._manipulatorHandles=new o,this._manipulatorInfos=[],this._editGeometryOperations=null,this._numGrabbing=0,this._numDragging=0,this._reshapeEventState=Xe.NONE,this._outlineVisualElement=null,this._segmentLabels=null,this.outputGeometry=null,this._snappingPipeline=new Oe,this._snappingPipelineHandle=new Oe,this._vertexLaserLineVisualElement=null}initialize(){const{graphic:e,view:t}=this,i=this._graphicState=new le({graphic:e});this._tooltip=new Ee({view:t}),this.addHandles([g((()=>i.displaying),(e=>{for(const t of this._manipulatorInfos)t.manipulator.available=e})),g((()=>({labels:this._segmentLabels,enabled:this._labelOptions.enabled,edgeOffsetEnabled:this.enableEdgeOffset})),(({labels:e,enabled:t,edgeOffsetEnabled:i})=>{l(e)&&(e.visible=t,e.edgeDistance=i?\"far\":\"default\")}),f),_((()=>!this._tooltipOptions.enabled),(()=>this._tooltip.clear()),f),this.view.trackGraphicState(i)])}destroy(){this._segmentLabels=s(this._segmentLabels),this._tooltip=s(this._tooltip),this._removeManipulators()}get inputGeometry(){return l(this._editGeometryOperations)?this._editGeometryOperations.data.geometry:null}set inputGeometry(e){this._recreateEditGeometryAndManipulators(e)}get updating(){return this.updatingHandles.updating}get manipulators(){return this.tool.manipulators}get view(){return this.tool.view}get graphic(){return this.tool.graphic}get enableZShape(){return this.tool.enableZShape}get enableZVertex(){return this.tool.enableZVertex}get enableMoveGraphic(){return this.tool.enableMoveGraphic}get enableMidpoints(){return this.tool.enableMidpoints}get enableEdgeOffset(){return this.tool.enableEdgeOffset}get _labelOptions(){return this.tool.labelOptions}get _tooltipOptions(){return this.tool.tooltipOptions}removeSelectedVertices(){const e=this._manipulatorInfos.filter((e=>e.manipulator.selected&&\"vertex\"===e.type));this._removeVertices(e)}onManipulatorSelectionChanged(){this.emit(\"manipulators-changed\")}_removeManipulators(){this._manipulatorHandles.removeAll(),this._moveManipulation=s(this._moveManipulation),this._graphicMoveManipulation=s(this._graphicMoveManipulation),this.manipulators.removeAll(),this._manipulatorInfos=[],this._numGrabbing=0,this._numDragging=0}_createManipulators(){if(p(this._editGeometryOperations))return;const e=L(this.graphic);for(const t of this._editGeometryOperations.data.components){for(const i of t.vertices)this._createVertexOrEdgeManipulator(i,e);for(const i of t.edges)this._createVertexOrEdgeManipulator(i,e)}this._createGraphicMoveManipulation(),this._createMoveManipulation(e),this._createVisualElements()}get canRedo(){return l(this._editGeometryOperations)&&this._editGeometryOperations.canRedo}get canUndo(){return l(this._editGeometryOperations)&&this._editGeometryOperations.canUndo}redo(){if(p(this._editGeometryOperations))return null;const e=this._editGeometryOperations.redo();return l(e)&&(this.outputGeometry=this._editGeometryOperations.data.geometry,this._recreateManipulators()),e}undo(){if(p(this._editGeometryOperations))return null;this.emit(\"undo\");const e=this._editGeometryOperations.undo();return l(e)&&(this.outputGeometry=this._editGeometryOperations.data.geometry,this._recreateManipulators()),e}_recreateManipulators(){this._removeManipulators(),this._tooltip.clear(),this._createManipulators()}_recreateEditGeometryAndManipulators(e=this.inputGeometry){this._removeManipulators(),this._tooltip.clear(),p(e)||(s(this._editGeometryOperations),this._editGeometryOperations=Me.fromGeometry(e,this.view.state.viewingMode),this._createManipulators(),s(this._segmentLabels),this._segmentLabels=new C({context:{view:this.view,editGeometryOperations:this._editGeometryOperations,elevationInfo:L(this.graphic),labelOptions:this._labelOptions,graphic:this.graphic,graphicState:this._graphicState},visible:this._labelOptions.enabled}))}_perGraphicManipulatorDragAction(e,t){if(\"end\"===t.action)return t;let i=0;const a=[],o=this._manipulatorInfos.some((e=>\"vertex\"===e.type&&e.manipulator.selected)),n=e===Ze.SELECTED_OR_ALL&&o;for(const r of this._manipulatorInfos)\"vertex\"===r.type&&(r.manipulator.grabbing||n&&!r.manipulator.selected||a.push(r),i++);if(0===a.length)return t;this._moveVertices(a,t);if(a.length===i){if(this._updateEventState(Xe.MOVING),this.destroyed)return t;this.emit(\"move\",{type:\"move\",dx:t.screenDeltaX,dy:t.screenDeltaY,mover:this.graphic})}else{if(this._updateEventState(Xe.RESHAPING),this.destroyed)return t;this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}return t}_isMultiVertexSelection(){let e=0;for(const t of this._manipulatorInfos)\"vertex\"===t.type&&t.manipulator.selected&&e++;return e>1}_perVertexManipulatorDragAction(e){if(this._updateEventState(Xe.RESHAPING),this.destroyed)return;const{mapDeltaX:t,mapDeltaY:i,mapDeltaZ:a}=e;if(!t&&!i&&!a)return;const o=[];for(const n of this._manipulatorInfos)\"vertex\"===n.type&&(n.manipulator.selected&&!n.manipulator.grabbing||n===e.info)&&o.push(n);this._moveVertices(o,e,ye.ACCUMULATE_STEPS),this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}_updateEventState(e){if(e===this._reshapeEventState)return!1;switch(e){case Xe.NONE:if(0!==this._numGrabbing||0!==this._numDragging)return!1;switch(this._reshapeEventState){case Xe.MOVING:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic});break;case Xe.RESHAPING:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic})}break;case Xe.MOVING:switch(this._reshapeEventState){case Xe.NONE:this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic});break;case Xe.RESHAPING:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic}),this.destroyed||this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic})}break;case Xe.RESHAPING:switch(this._reshapeEventState){case Xe.NONE:this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic});break;case Xe.MOVING:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic}),this.destroyed||this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic})}}if(this.destroyed)return!1;const t=this._reshapeEventState!==e;return this._reshapeEventState=e,t}_createGraphicMoveManipulation(){const{tool:e,view:t}=this,i=this._graphicState;if(this._graphicMoveManipulation=new ie({tool:e,view:t,graphicState:i}),this.enableMoveGraphic){let e=null;this._manipulatorHandles.add(this._graphicMoveManipulation.createDragPipeline(((t,i,a)=>{i.next((e=>this._trackNumDragging(e))).next((t=>(\"start\"===t.action&&(e=h(this._editGeometryOperations).createUndoGroup()),t))).next((e=>this._perGraphicManipulatorDragAction(Ze.ALL,e))).next((e=>(this._updateTranslateGraphicTooltip(Q.XY,e),e))).next((t=>{\"end\"===t.action&&(this._tooltip.clear(),e=d(e))})),a.next((()=>this._onDragCancel(!0,(()=>e=d(e)))))}))),this._graphicMoveManipulation.forEachManipulator((e=>this._manipulatorHandles.add(this._watchAndUpdateGrabState(e,!1))))}else this._graphicMoveManipulation.forEachManipulator((e=>{e.grabbable=!1,e.cursor=null}));this._graphicMoveManipulation.forEachManipulator((e=>this._manipulatorHandles.add(e.events.on(\"immediate-click\",(e=>{this._manipulatorInfos.some((e=>e.manipulator.selected))?this._clearSelection():this.emit(\"immediate-click\",{...e,graphic:this.graphic}),e.stopPropagation()})))))}_createMoveManipulation(e){const{graphic:t,handles:i,tool:a,view:o}=this,n=this._graphicState;this._moveManipulation=new $({tool:a,view:o,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZShape&&q(t),snapToScene:!1,radius:$.radiusForSymbol(t.symbol)}),this._moveManipulation.forEachManipulator((e=>i.add([e.events.on(\"immediate-click\",(i=>{this._moveManipulation.zManipulation.hasManipulator(e)||this._manipulatorInfos.some((e=>e.manipulator.selected))||this.emit(\"immediate-click\",{...i,graphic:t}),i.stopPropagation()})),this._watchAndUpdateGrabState(e,!1)])));const r=e=>t=>{i.add(t.events.on(\"focus-changed\",(({action:t})=>{\"focus\"===t&&this._tooltipOptions.enabled?this._updateTranslateTooltip(e):this._tooltip.clear()})))};this._moveManipulation.xyManipulation.forEachManipulator(r(Q.XY)),this._moveManipulation.xyAxisManipulation.forEachManipulator(r(Q.XY_AXIS)),this._moveManipulation.zManipulation.forEachManipulator(r(Q.Z)),this._moveManipulation.elevationInfo={mode:\"absolute-height\",offset:0};const s=h(t.geometry).spatialReference;i.add([this._moveManipulation.createDragPipeline(((i,o,n,r,s)=>{r=r.next((e=>(this._onDragCancel(),e)));return n.next((e=>this._trackNumDragging(e))).next((e=>{const t=this._manipulatorInfos.filter((e=>\"vertex\"===e.type&&e.manipulator.selected));return e.manipulatorType===Y.TRANSLATE_XY&&1===t.length?{...e,info:t[0],snapOrigin:t[0].handle.pos}:e})).next(ue(this.view,e,t)).next(this._snappingPipelineHandle.createSnapDragEventPipelineStep({predicate:e=>!!e.info,cancel:r,snappingManager:a.snappingManager,snappingContext:new xe({editGeometryOperations:h(this._editGeometryOperations),elevationInfo:e,pointer:s,excludeFeature:t,visualizer:new R}),updatingHandles:this.updatingHandles,useZ:!1}),this._snappingPipelineHandle.next).next(ce()).next((e=>this._perGraphicManipulatorDragAction(Ze.SELECTED_OR_ALL,e))).next((e=>(this._updateTranslateTooltip(i,e),e)))}),e,s,t),g((()=>n.displaying),(()=>{this._updateMoveManipulationPosition()}),f),n.on(\"changed\",(()=>this._updateMoveManipulationPosition())),g((()=>n.isDraped),(e=>{this._updateMoveManipulationPosition();const t=\"align-move-manipulation\";e?i.add(this.view.elevationProvider.on(\"elevation-change\",(()=>this._updateMoveManipulationPosition())),t):i.remove(t)}),f)])}_createVisualElements(){const{graphic:e,view:t}=this,i=B({view:t,graphic:e,forEachManipulator:e=>{if(!this.destroyed){this._graphicMoveManipulation.forEachManipulator(e),this._moveManipulation.forEachManipulator(e);for(const t of this._manipulatorInfos)e(t.manipulator,Y.TRANSLATE_XY)}},onManipulatorsChanged:e=>this.on(\"manipulators-changed\",e)});l(i)&&(this._outlineVisualElement=i.visualElement instanceof se?i.visualElement:null),l(this._outlineVisualElement)&&this._manipulatorHandles.add(this._outlineVisualElement.events.on(\"attachment-origin-changed\",(()=>{this._graphicState.isDraped||this._updateMoveManipulationPosition()}))),this._manipulatorHandles.add(i)}_createEdgeOffsetManipulator(e,t=L(this.graphic)){const i=W.reshapeManipulators.edgeOffset,a=i.size/2,o=a+i.collisionPadding;if(p(this._edgeOffsetManipulatorGeometryInside)||p(this._edgeOffsetManipulatorGeometryOutside)){const e=a/o,t=e*Math.sqrt(3)/2;this._edgeOffsetManipulatorGeometryInside=pe(t,e/2,e/2,i.height,i.offset),this._edgeOffsetManipulatorGeometryOutside=pe(-t,e/2,e/2,i.height,-i.offset)}const r=[{geometry:this._edgeOffsetManipulatorGeometryInside,material:this._edgeOffsetManipulatorMaterial,stateMask:fe.Unfocused},{geometry:this._edgeOffsetManipulatorGeometryInside,material:this._edgeOffsetManipulatorHoverMaterial,stateMask:fe.Focused},{geometry:this._edgeOffsetManipulatorGeometryOutside,material:this._edgeOffsetManipulatorMaterial,stateMask:fe.Unfocused},{geometry:this._edgeOffsetManipulatorGeometryOutside,material:this._edgeOffsetManipulatorHoverMaterial,stateMask:fe.Focused}],s=new j({view:this.view,renderObjects:r,elevationInfo:\"on-the-ground\"!==t.mode||P(this.graphic.symbol)?{mode:\"absolute-height\",offset:0}:t,worldOriented:!1,focusMultiplier:1,radius:o,available:!(!this.graphic.visible||!this.graphic.layer.visible),collisionType:{type:\"disc\",direction:I(0,0,1)},collisionPriority:1,metadata:{deleting:!1}}),h=new j({view:this.view,renderObjects:[],worldSized:!0,worldOriented:!1,available:!(!this.graphic.visible||!this.graphic.layer.visible),collisionPriority:-10,cursor:this.enableMoveGraphic?\"move\":\"default\",metadata:{deleting:!1}}),d={manipulator:s,handle:e,locationUpdateHandle:null,type:\"edge\",selectedIndex:0,edgeManipulator:h,elevationInfo:t,visibilityHandle:null};this._autoHideEdgeOffsetManipulator(d,i.minSquaredEdgeLength),this._updateEdgeOffsetManipulator(d);const u=[];for(const n of[d.handle.leftVertex,d.handle.rightVertex]){const e=this._getManipulatorInfoFromHandle(n);l(e)&&u.push(e.manipulator.events.on(\"location-update\",(()=>this._updateEdgeOffsetManipulator(d))))}d.locationUpdateHandle=n(u),this._manipulatorHandles.add(d.locationUpdateHandle,s),this._manipulatorHandles.add([this._watchAndUpdateGrabState(s,!0),this._watchAndUpdateGrabState(h,!0)],s),this._manipulatorHandles.add(me(s,this._createEdgeOffsetPipeline(d,t)),s),this._manipulatorHandles.add(me(h,((e,i,a,o)=>{if(\"touch\"===o){this._createEdgeOffsetPipeline(d,t)(e,i,a)}else if(this.enableMoveGraphic){const o=this.graphic,n=l(o.geometry)?o.geometry.spatialReference:null;i.next((e=>this._trackNumDragging(e))).next(ge(this.view,e.elevationAlignedLocation)).next(X(this.view,e.elevationAlignedLocation,t,n,o)).next(_e()).next(ce()).next((e=>this._perGraphicManipulatorDragAction(Ze.ALL,e))).next((e=>(this._updateTranslateGraphicTooltip(Q.XY,e),e))).next((e=>{\"end\"===e.action&&this._tooltip.clear()})),a.next((()=>this._onDragCancel(!e.metadata.deleting)))}})),s);const c=e=>{this._manipulatorInfos.some((e=>e.manipulator.selected))?this._clearSelection():this.emit(\"immediate-click\",{...e,graphic:this.graphic}),e.stopPropagation()};return this._manipulatorHandles.add([s.events.on(\"immediate-click\",c),h.events.on(\"immediate-click\",c),s.events.on(\"focus-changed\",(({action:e})=>{const t=this._tooltipOptions;if(\"focus\"===e&&t.enabled){const e=this._tooltip.info=new be({tooltipOptions:t});this._updateTooltipAreaOrTotalLength(e)}else this._tooltip.clear()}))],s),this._manipulatorInfos.push(d),this.manipulators.add(s),this.manipulators.add(h),this.emit(\"manipulators-changed\"),d}_autoHideEdgeOffsetManipulator(e,t){const i=e.manipulator,a=e.edgeManipulator,o=()=>{e.visibilityHandle=d(e.visibilityHandle);const o=this._getManipulatorInfoFromHandle(e.handle.leftVertex),r=this._getManipulatorInfoFromHandle(e.handle.rightVertex),s=l(o)&&l(r)&&re(o.manipulator.renderLocation,r.manipulator.renderLocation,this.view.state.camera)<t;(!i.focused&&!a.focused||s)&&(i.grabbable=!s,a.grabbable=!s,e.visibilityHandle=n([i.disableDisplay(),{remove:()=>{i.grabbable=!0,a.grabbable=this.enableMoveGraphic}}]))};this._manipulatorHandles.add([i.events.on(\"focus-changed\",o),a.events.on(\"focus-changed\",o),{remove:()=>{d(e.visibilityHandle),a.metadata.deleting=!0,this.manipulators.remove(a)}}],i),o()}_updateEdgeOffsetManipulator(e){this._updateManipulatorPosition(e);const{coordinateHelper:t}=h(this._editGeometryOperations).data,i=ae(this.view,e.manipulator.elevationAlignedLocation,oe(t,e.handle,h(e.manipulator.elevationInfo))),a=this._getManipulatorInfoFromHandle(e.handle.leftVertex),o=this._getManipulatorInfoFromHandle(e.handle.rightVertex);if(p(a)||p(o))return;const n=a.manipulator.renderLocation,r=o.manipulator.renderLocation,s=l(i)?ne(i,n,r):x;e.manipulator.modelTransform=s,e.edgeManipulator.elevationAlignedLocation=e.manipulator.elevationAlignedLocation,e.edgeManipulator.modelTransform=s;const d=O(b(Re,n,r))/2;e.edgeManipulator.collisionType={type:\"line\",paths:[[[-d,0,0],[d,0,0]]]}}_createEdgeOffsetPipeline(e,t){return(i,a,o)=>{this._clearSelection();const{step:n,cleanup:r}=this._initializeEdgeOffset(e,t);a.next((e=>this._trackNumDragging(e))).next(ge(this.view,i.elevationAlignedLocation)).next(n).next(F(this.view)).next(z(this.view,h(this._editGeometryOperations).data.spatialReference)).next(ce()).next(this._applyComputeEdgeOffsetDistanceStep()).next(this._applyEdgeOffsetStep(e)).next(this._showEdgeOffsetTooltip()).next((e=>{\"end\"===e.action&&r()})),o.next((()=>{i.metadata.deleting||(r(),this._onDragCancel())}))}}_initializeEdgeOffset(e,t){const i=h(this._editGeometryOperations),a=oe(i.data.coordinateHelper,e.handle,t),o=i.createUndoGroup(),s=ae(this.view,e.manipulator.elevationAlignedLocation,a);if(a.requiresSplitEdgeLeft){const t=this._getManipulatorInfoFromHandle(e.handle.leftVertex.leftEdge);l(t)&&this._splitEdgeManipulator(t,1)}if(a.requiresSplitEdgeRight){const t=this._getManipulatorInfoFromHandle(e.handle.rightVertex.rightEdge);l(t)&&this._splitEdgeManipulator(t,0)}const u=()=>new w({paths:[[e.handle.leftVertex.pos,e.handle.rightVertex.pos]],spatialReference:i.data.spatialReference}),c=new se({view:this.view,isDraped:this._graphicState.isDraped,geometry:u(),elevationInfo:e.elevationInfo,width:W.visualElements.lineGraphics.outline.width,color:W.colorToVec4(K.main),attached:!0});let m;const _=()=>{this._cleanEdgeOffsetCollapsedEdges(e),m=d(m)},f=this.on(\"undo\",_);return m=n([r(c),g((()=>this._graphicState.isDraped),(e=>c.isDraped=e)),this._graphicState.on(\"changed\",(()=>c.geometry=u())),o,f]),{step:e=>p(a)||p(s)?(_(),null):{...e,operation:a,plane:s},cleanup:_}}_applyEdgeOffsetStep(e){return t=>{if(this.destroyed||p(t.operation))return t;this._updateEventState(Xe.RESHAPING);const{mapDeltaX:i,mapDeltaY:a,mapDeltaZ:o}=t;return(i||a||o)&&(this._offsetEdge(e,t),this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})),t}}_applyComputeEdgeOffsetDistanceStep(){return e=>{const{operation:t,mapEnd:i}=e;return p(t)||p(i)?e:(\"start\"===e.action&&t.selectArrowFromStartPoint(i),{...e,signedDistance:t.signedDistanceToPoint(i)})}}_showEdgeOffsetTooltip(){return e=>{const{mapEnd:t,signedDistance:i,operation:a}=e,o=this._tooltip,n=this._tooltipOptions;if(!n.enabled||p(i))return o.clear(),e;let r=o.info;(p(r)||\"reshape-edge-offset\"!==r.type)&&(r=o.info=new be({tooltipOptions:n}));const{coordinateHelper:s}=h(this._editGeometryOperations).data;return r.distance=\"end\"===e.action?u:Ne(this._graphicState.isDraped,i*a.selectedArrow,t,a.plane,s),this._updateTooltipAreaOrTotalLength(r),e}}_cleanEdgeOffsetCollapsedEdges(e){const t=e.handle.leftVertex.leftEdge?.leftVertex,i=e.handle.leftVertex,a=e.handle.rightVertex.rightEdge?.rightVertex,o=e.handle.rightVertex,n=h(this._editGeometryOperations).data.coordinateHelper,r=[];if(t&&n.distance(t.pos,i.pos)<Fe){const e=this._getManipulatorInfoFromHandle(i);l(e)&&r.push(e)}if(n.distance(i.pos,o.pos)<Fe||a&&n.distance(a.pos,o.pos)<Fe){const e=this._getManipulatorInfoFromHandle(o);l(e)&&r.push(e)}r.length&&this._removeVertices(r)}_computeVertexManipulatorSizeAndOutline(e){const t=e.size/2,i=t+e.collisionPadding;return{size:t/i,outlineSize:(t+e.outlineSize)/i}}_createVertexOrEdgeManipulator(e,t=L(this.graphic)){if(\"edge\"===e.type){if(this.enableEdgeOffset)return this._createEdgeOffsetManipulator(e,t);if(!this.enableMidpoints)return null}if(p(this._vertexManipulatorGeometry)||p(this._vertexManipulatorOutlineGeometry)){const{size:e,outlineSize:t}=this._computeVertexManipulatorSizeAndOutline(W.reshapeManipulators.vertex);this._vertexManipulatorGeometry=he(e,16,16),this._vertexManipulatorOutlineGeometry=he(t,16,16)}if(p(this._edgeManipulatorGeometry)||p(this._edgeManipulatorOutlineGeometry)){const{size:e,outlineSize:t}=this._computeVertexManipulatorSizeAndOutline(W.reshapeManipulators.edge);this._edgeManipulatorGeometry=he(e,16,16),this._edgeManipulatorOutlineGeometry=he(t,16,16)}const i=l(this.graphic.geometry)&&\"point\"===this.graphic.geometry.type?[]:[{geometry:this._vertexManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:ze.Vertex|fe.Unselected},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorOutlineMaterial,stateMask:ze.Vertex|fe.Unfocused|fe.Unselected},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:ze.Vertex|fe.Focused|fe.Unselected},{geometry:this._vertexManipulatorGeometry,material:this._selectedManipulatorMaterial,stateMask:fe.Selected},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorOutlineMaterial,stateMask:fe.Selected|fe.Unfocused},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorHoverOutlineMaterial,stateMask:fe.Selected|fe.Focused}];this.enableMidpoints&&i.push({geometry:this._edgeManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:ze.Edge|fe.Focused|fe.Unselected},{geometry:this._edgeManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:ze.Edge|fe.Focused|fe.Unselected},{geometry:this._edgeManipulatorGeometry,material:this._edgeManipulatorMaterial,stateMask:ze.Edge|fe.Unfocused|fe.Unselected},{geometry:this._edgeManipulatorOutlineGeometry,material:this._edgeManipulatorOutlineMaterial,stateMask:ze.Edge|fe.Unfocused|fe.Unselected});const a=new j({view:this.view,renderObjects:i,elevationInfo:t,focusMultiplier:1,touchMultiplier:1,available:!(!this.graphic.visible||!this.graphic.layer.visible),metadata:{deleting:!1}});this._setTypeSpecificManipulatorSettings(a,e,t);const o=\"edge\"===e.type?{manipulator:a,handle:e,locationUpdateHandle:null,type:\"edge\",selectedIndex:0}:{manipulator:a,handle:e,type:\"vertex\",selectedIndex:0};if(this._manipulatorInfos.push(o),this.manipulators.add(a),this._updateManipulatorPosition(o),\"edge\"===o.type){const e=[];for(const t of[o.handle.leftVertex,o.handle.rightVertex]){const i=this._getManipulatorInfoFromHandle(t);l(i)&&e.push(i.manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(o))))}o.locationUpdateHandle=n(e),this._manipulatorHandles.add(o.locationUpdateHandle,a)}this._manipulatorHandles.add(this._watchAndUpdateGrabState(a,!0),a);const r=me(a,((e,i,a,n)=>{let r=null;a=a.next((t=>(this._onDragCancel(!e.metadata.deleting,(()=>r=d(r))),t))),i.next((e=>this._trackNumDragging(e))).next((e=>{if(\"start\"===e.action&&(r=h(this._editGeometryOperations).createUndoGroup()),\"edge\"===o.type){const t=this._splitEdgeManipulator(o);return{...e,info:t,snapOrigin:t.handle.pos}}return{...e,info:o,snapOrigin:o.handle.pos}})).next(ge(this.view,e.elevationAlignedLocation)).next(Z(this.view,this.graphic,e.elevationAlignedLocation,e.location.spatialReference,this.graphic)).next(ue(this.view,t,this.graphic)).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>!this._isMultiVertexSelection(),cancel:a,snappingManager:this.tool.snappingManager,snappingContext:new xe({editGeometryOperations:h(this._editGeometryOperations),elevationInfo:t,pointer:n,excludeFeature:this.graphic,visualizer:new R}),updatingHandles:this.updatingHandles,useZ:!1}),this._snappingPipeline.next).next(ce()).next((t=>{this._perVertexManipulatorDragAction(t),\"end\"===t.action&&(r=d(r)),this._updateTranslateVertexTooltip(e,Q.XY,t)}))}));return this._manipulatorHandles.add([r,a.events.on(\"immediate-click\",(e=>this._manipulatorClickCallback(e,o))),a.events.on(\"select-changed\",(()=>{o.selectedIndex=++this._selectedIndex,this._updateMoveManipulationPosition()})),a.events.on(\"focus-changed\",(({action:e})=>{\"focus\"===e&&\"edge\"!==o.type?this._updateTranslateVertexTooltip(a,Q.XY):this._tooltip.clear()}))],a),this.emit(\"manipulators-changed\"),o}_trackNumDragging(e){switch(e.action){case\"start\":this._numDragging++;break;case\"end\":this._numDragging--}return e}_onDragCancel(e=!0,t){switch(this._numDragging--,e&&(this.undo(),this.outputGeometry=l(this._editGeometryOperations)?this._editGeometryOperations.data.geometry:null),l(this.tool.snappingManager)&&this.tool.snappingManager.doneSnapping(),this._tooltip.clear(),this._reshapeEventState){case Xe.NONE:break;case Xe.MOVING:this.emit(\"move\",{type:\"move\",dx:0,dy:0,mover:this.graphic});break;case Xe.RESHAPING:this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}t&&t(),this.destroyed||this._updateEventState(Xe.NONE)}_setTypeSpecificManipulatorSettings(e,t,i){switch(t.type){case\"vertex\":e.state=ze.Vertex,e.selectable=!0,e.cursor=\"move\",e.collisionPriority=2,e.radius=W.reshapeManipulators.vertex.size/2+W.reshapeManipulators.vertex.collisionPadding,e.elevationInfo=i,e.interactive=l(this.graphic.geometry)&&\"point\"!==this.graphic.geometry.type;break;case\"edge\":e.state=ze.Edge,e.selectable=!1,e.cursor=\"copy\",e.collisionPriority=-1,e.radius=W.reshapeManipulators.edge.size/2+W.reshapeManipulators.edge.collisionPadding,e.elevationInfo=\"on-the-ground\"!==i.mode||P(this.graphic.symbol)?{mode:\"absolute-height\",offset:0}:i}}_watchAndUpdateGrabState(e,t){return e.events.on(\"grab-changed\",(i=>this._onGrabStateChanged(e,t,i.action,i.pointerType)))}_onGrabStateChanged(e,t,i,a=\"mouse\"){if(\"start\"===i)t&&this._updateSelection(e),this._numGrabbing++;else if(this._numGrabbing--,this._updateEventState(Xe.NONE),this.destroyed)return;this._moveManipulation.interactive=!this._numGrabbing,(\"touch\"!==a||this.enableEdgeOffset)&&(this._manipulatorInfos.forEach((e=>{e.manipulator.interactive=e.manipulator.grabbing||!this._numGrabbing&&l(this.graphic.geometry)&&\"point\"!==this.graphic.geometry.type,\"edgeManipulator\"in e&&(e.edgeManipulator.interactive=e.edgeManipulator.grabbing||!this._numGrabbing)})),this._graphicMoveManipulation.forEachManipulator((e=>{e.interactive=e.grabbing||!this._numGrabbing})))}_clearSelection(){for(const e of this._manipulatorInfos)e.manipulator.grabbing||(e.manipulator.selected=!1)}_updateSelection(e){e.grabbing&&!e.selected&&e.selectable&&(this._clearSelection(),e.selected=!0,this.emit(\"manipulators-changed\"))}_removeManipulator(e){p(e)||(e.manipulator.metadata.deleting=!0,this.manipulators.remove(e.manipulator),this._manipulatorHandles.remove(e.manipulator),t(this._manipulatorInfos,e),this.emit(\"manipulators-changed\"))}_getManipulatorInfoFromHandle(e){if(e)for(const t of this._manipulatorInfos)if(e===t.handle)return t;return null}_updateManipulatorPosition(e){if(p(e))return;const t=h(this._editGeometryOperations);if(\"vertex\"===e.type)e.manipulator.location=t.data.coordinateHelper.vectorToDehydratedPoint(e.handle.pos,Ce),e.manipulator.grabbing&&l(this._vertexLaserLineVisualElement)&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=e.manipulator.renderLocation);else if(\"edge\"===e.type){const i=this._getManipulatorInfoFromHandle(e.handle.leftVertex),a=this._getManipulatorInfoFromHandle(e.handle.rightVertex);if(p(i)||p(a))return;const o=i.manipulator,n=a.manipulator;if(l(e.manipulator.elevationInfo)&&\"on-the-ground\"===e.manipulator.elevationInfo.mode){const i=o.location,a=n.location,r=.5,s=i.x+r*(a.x-i.x),l=i.y+r*(a.y-i.y),p=i.hasZ&&a.hasZ?0:void 0;e.manipulator.location=D(s,l,p,t.data.spatialReference)}else E(Re,o.renderLocation,n.renderLocation,.5),e.manipulator.renderLocation=Re}}_splitEdgeManipulator(e,t=.5){const i=h(this._editGeometryOperations),a=h(i.splitEdge(e.handle,t).createdVertex);e.locationUpdateHandle.remove(),e.locationUpdateHandle=void 0;const o=L(this.graphic);let n;this.enableEdgeOffset?(this._removeManipulator(e),n=this._createVertexOrEdgeManipulator(a)):(n=e,n.handle=a,n.type=\"vertex\",this._setTypeSpecificManipulatorSettings(e.manipulator,e.handle,o)),a.leftEdge&&this._createVertexOrEdgeManipulator(a.leftEdge),a.rightEdge&&this._createVertexOrEdgeManipulator(a.rightEdge),this.outputGeometry=i.data.geometry,this._updateManipulatorPosition(n),this.enableEdgeOffset||this._updateTranslateVertexTooltip(n.manipulator,Q.XY),this._updateSelection(e.manipulator);const r=this._updateEventState(Xe.RESHAPING),s=i.data.coordinateHelper.vectorToArray(n.handle.pos),l=i.data.components.indexOf(a.component);return this.emit(\"vertex-add\",{type:\"vertex-add\",vertices:[{coordinates:s,componentIndex:l,vertexIndex:h(a.index)}],added:s}),r&&this._updateEventState(Xe.NONE),n}_updateMoveManipulationPosition(){const e=G(Re,0,0,0);let t=0,i=!1,a=null,o=null;for(const n of this._manipulatorInfos)\"vertex\"===n.type&&(n.manipulator.selected?(t++,S(e,e,n.manipulator.renderLocation),p(a)||n.selectedIndex>a.selectedIndex?(o=a,a=n):(p(o)||n.selectedIndex>o.selectedIndex)&&(o=n)):i=!0);if(0!==t){const e=this._graphicState.displaying;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.zManipulation.available=e&&this.enableZVertex&&q(this.graphic),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e&&1!==t}else{const e=this._graphicState.displaying&&this.enableMoveGraphic;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e,this._moveManipulation.zManipulation.available=e&&this.enableZShape&&q(this.graphic)}if(0!==t){let e=0;if(l(a)){const t=a.handle.pos,i=l(o)?o.handle.pos:a.handle.leftEdge&&a.handle.leftEdge.leftVertex?a.handle.leftEdge.leftVertex.pos:null,n=p(o)&&a.handle.rightEdge&&a.handle.rightEdge.rightVertex?a.handle.rightEdge.rightVertex.pos:null;i&&n?this._moveManipulation.xyAxisManipulation.available=!1:i?e=ke(i,t):n&&(e=ke(t,n))}this._moveManipulation.angle=e,this._moveManipulation.radius=J}else this._moveManipulation.angle=ee(h(this.graphic.geometry)),this._moveManipulation.radius=$.radiusForSymbol(this.graphic.symbol);0!==t&&i?(V(e,e,1/t),Ce.spatialReference=h(this._editGeometryOperations).data.spatialReference,Ce.hasZ=!0,this.view.renderCoordsHelper.fromRenderCoords(e,Ce),this._moveManipulation.elevationAlignedLocation=Ce):l(this._outlineVisualElement)&&!this._graphicState.isDraped&&l(this._outlineVisualElement.attachmentOrigin)?this._moveManipulation.elevationAlignedLocation=this._outlineVisualElement.attachmentOrigin:N(this.view,this._moveManipulation,this.graphic)}_removeVertices(e){const t=[],i=h(this._editGeometryOperations);for(const a of e)if(\"vertex\"===a.type&&i.canRemoveVertex()){t.push(a.handle),this._removeManipulator(a),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.leftEdge)),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.rightEdge));const e=h(i.removeVertices([a.handle]).removedVertices[0].createdEdge);e&&this._createVertexOrEdgeManipulator(e)}if(t.length>0){const e=t.map((e=>{const t=i.data.components.indexOf(e.component);return{coordinates:i.data.coordinateHelper.vectorToArray(e.pos),componentIndex:t,vertexIndex:h(e.index)}}));this.outputGeometry=i.data.geometry;const a=this._updateEventState(Xe.RESHAPING);if(this.destroyed)return;if(this.emit(\"vertex-remove\",{type:\"vertex-remove\",removed:e.map((e=>e.coordinates)),vertices:e}),this.destroyed)return;if(a&&(this._updateEventState(Xe.NONE),this.destroyed))return;this._updateMoveManipulationPosition()}}_moveVertices(e,t,i=(\"start\"===t.action?ye.NEW_STEP:ye.ACCUMULATE_STEPS)){const a=h(this._editGeometryOperations);a.moveVertices(e.map((e=>e.handle)),t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ,i),this.outputGeometry=a.data.geometry;for(const o of e)this._updateManipulatorPosition(o)}_offsetEdge(e,t){if(p(t.operation)||p(t.signedDistance))return;const i=h(this._editGeometryOperations),a=t.operation.clone();a.distance=t.signedDistance,i.updateVertices([e.handle.leftVertex,e.handle.rightVertex],a),this.outputGeometry=i.data.geometry,this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(e.handle.leftVertex)),this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(e.handle.rightVertex))}_manipulatorClickCallback(e,t){e.shiftKey||this._clearSelection(),\"vertex\"===t.type&&(t.manipulator.selected=!t.manipulator.selected,e.button===de.Right&&this._removeVertices([t])),\"edge\"===t.type&&e.button===de.Left&&this._splitEdgeManipulator(t),e.stopPropagation()}_updateTranslateTooltip(e,t){const i=this._manipulatorInfos.filter((e=>\"vertex\"===e.type&&e.manipulator.selected));1===i.length?this._updateTranslateVertexTooltip(i[0].manipulator,e,t):this._updateTranslateGraphicTooltip(e,t)}_updateTranslateGraphicTooltip(e,t){const i=this._tooltipOptions;if(!i.enabled)return;const a=this._graphicState.isDraped?\"on-the-ground\":\"absolute-height\";switch(e){case Q.XY:this._tooltip.info=new Ve({tooltipOptions:i}),this._updateTranslateTooltipDistance(this._tooltip.info,t,((e,t)=>Ae(e,t,a)));break;case Q.XY_AXIS:this._tooltip.info=new Se({tooltipOptions:i}),this._updateTranslateTooltipDistance(this._tooltip.info,t,((e,i)=>{const o=Ae(e,i,a);return c(o,te(t))}));break;case Q.Z:this._tooltip.info=new Ge({tooltipOptions:i}),this._updateTranslateTooltipDistance(this._tooltip.info,t,Le)}}_updateTranslateVertexTooltip(e,t,i){const a=this._tooltipOptions;if(!a.enabled)return;let o;const n=this._graphicState.isDraped?\"on-the-ground\":\"absolute-height\";switch(t){case Q.XY:o=new we({tooltipOptions:a}),this._updateTranslateTooltipDistance(o,i,((e,t)=>Ae(e,t,n))),this._updateTooltipAreaOrTotalLength(o);break;case Q.XY_AXIS:o=new Te({tooltipOptions:a}),this._updateTranslateTooltipDistance(o,i,((e,t)=>{const a=Ae(e,t,n);return c(a,te(i))})),this._updateTooltipAreaOrTotalLength(o);break;case Q.Z:o=new Ie({tooltipOptions:a}),this._updateTranslateTooltipDistance(o,i,Le)}const r=Pe(e.elevationAlignedLocation);l(r)&&(o.elevation={mode:\"absolute-height\",...r}),this._tooltip.info=o}_updateTranslateTooltipDistance(e,t,i){if(l(t)&&\"end\"!==t.action){const{mapStart:a,mapEnd:o}=t,n=i(a,o);e.distance=l(n)?n:u}}_updateTooltipAreaOrTotalLength(e){const{geometry:t}=this.graphic;if(p(t))return;const i=this._graphicState.isDraped?\"on-the-ground\":\"absolute-height\";e.area=\"polygon\"===t.type?He(t,i):null,e.totalLength=\"polyline\"===t.type?De(t,i):null}get test(){return{segmentLabels:this._segmentLabels,tooltip:this._tooltip}}};function ke(e,t){return Math.atan2(t[1]-e[1],t[0]-e[0])+Math.PI/2}function Ne(e,t,i,a,o){if(e){const e=o.toXYZ(o.pointToVector(i)),n=H(a,e,A.get()),r=je(n,e,o.spatialReference);if(l(r))return m(r.value*Math.sign(t),r.unit)}return m(t*v(i.spatialReference),\"meters\")}e([M()],Ue.prototype,\"_segmentLabels\",void 0),e([M({constructOnly:!0})],Ue.prototype,\"tool\",void 0),e([M()],Ue.prototype,\"_tooltip\",void 0),e([M()],Ue.prototype,\"inputGeometry\",null),e([M()],Ue.prototype,\"outputGeometry\",void 0),e([M({readOnly:!0})],Ue.prototype,\"updating\",null),e([M()],Ue.prototype,\"manipulators\",null),e([M()],Ue.prototype,\"view\",null),e([M()],Ue.prototype,\"graphic\",null),e([M()],Ue.prototype,\"enableZShape\",null),e([M()],Ue.prototype,\"enableZVertex\",null),e([M()],Ue.prototype,\"enableMoveGraphic\",null),e([M()],Ue.prototype,\"enableMidpoints\",null),e([M()],Ue.prototype,\"enableEdgeOffset\",null),e([M()],Ue.prototype,\"_labelOptions\",null),e([M()],Ue.prototype,\"_tooltipOptions\",null),Ue=e([y(\"esri.views.3d.interactive.editingTools.reshapeGraphic.ReshapeOperation\")],Ue);const Ce=D(0,0,null,null),Re=T(),Fe=1e-6;var ze,Xe,Ze;!function(e){e.Vertex=ve.Custom1,e.Edge=ve.Custom2}(ze||(ze={})),function(e){e[e.NONE=0]=\"NONE\",e[e.MOVING=1]=\"MOVING\",e[e.RESHAPING=2]=\"RESHAPING\"}(Xe||(Xe={})),function(e){e[e.ALL=0]=\"ALL\",e[e.SELECTED_OR_ALL=1]=\"SELECTED_OR_ALL\"}(Ze||(Ze={}));export{Ue as ReshapeOperation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Evented.js\";import o from\"../../../../../core/Handles.js\";import{destroyMaybe as r,isSome as i,isNone as n}from\"../../../../../core/maybe.js\";import{watch as a,syncAndInitial as p,sync as s}from\"../../../../../core/reactiveUtils.js\";import{property as h}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{SupportedGraphicResult as c}from\"../isSupportedGraphicUtils.js\";import{geometryOfSupportedGraphic as d,isSupportedGraphic as m}from\"./isSupportedGraphic.js\";import{ReshapeOperation as y}from\"./ReshapeOperation.js\";import{InteractiveToolBase as u}from\"../../../../interactive/InteractiveToolBase.js\";import g from\"../../../../interactive/sketch/SketchLabelOptions.js\";import _ from\"../../../../interactive/sketch/SketchTooltipOptions.js\";let v=class extends(t.EventedMixin(u)){constructor(e){super(e),this._handles=new o,this._internalGeometryUpdate=!1,this.enableZShape=!0,this.enableZVertex=!0,this.enableMoveGraphic=!0,this.enableMidpoints=!0,this.enableEdgeOffset=!1,this.type=\"reshape-3d\",this.labelOptions=new g,this.tooltipOptions=new _,this.snappingManager=null,this.automaticManipulatorSelection=!1}initialize(){const e=this._reshapeOperation=new y({tool:this});this.addHandles([e.on(\"reshape\",(e=>{\"reshape\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"reshape\",e)})),e.on(\"move\",(e=>{\"move\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"move\",e)})),e.on(\"vertex-add\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-add\",e)})),e.on(\"vertex-remove\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-remove\",e)})),e.on(\"immediate-click\",(e=>this.emit(\"immediate-click\",e))),this.view.on(\"pointer-down\",[\"Shift\"],(e=>{e.stopPropagation()})),a((()=>this.graphic),(()=>this._updateGraphic()),p)]),this.finishToolCreation()}destroy(){this._handles=r(this._handles),this._reshapeOperation=r(this._reshapeOperation)}get updating(){return this._reshapeOperation?.updating??!1}_updateGeometry(){const e=d(this.graphic);this._reshapeOperation.inputGeometry=i(e)?e.clone():null}_updateGraphic(){if(this._handles.remove(\"onGraphicGeometryChange\"),this._updateGeometry(),m(this.graphic)!==c.SUPPORTED)return;const e=a((()=>this.graphic?.geometry),(()=>{!1===this._internalGeometryUpdate&&this._updateGeometry()}),s);this._handles.add(e,\"onGraphicGeometryChange\")}onManipulatorSelectionChanged(){this._reshapeOperation&&this._reshapeOperation.onManipulatorSelectionChanged()}_updateGeometryInternally(e){this._internalGeometryUpdate=!0,this.graphic.geometry=e,this._internalGeometryUpdate=!1}_onReshapeGeometryChanged(){n(this.graphic)||this._updateGeometryInternally(this._reshapeOperation.outputGeometry.clone())}get canUndo(){return this._reshapeOperation.canUndo??!1}undo(){i(this.snappingManager)&&this.snappingManager.doneSnapping(),i(this._reshapeOperation.undo())&&this._updateGeometryInternally(this._reshapeOperation.outputGeometry.clone())}get canRedo(){return this._reshapeOperation.canRedo??!1}redo(){i(this.snappingManager)&&this.snappingManager.doneSnapping(),i(this._reshapeOperation.redo())&&this._updateGeometryInternally(this._reshapeOperation.outputGeometry.clone())}onInputEvent(e){\"key-down\"!==e.type||\"Delete\"!==e.key&&\"Backspace\"!==e.key||this._reshapeOperation.removeSelectedVertices()}reset(){}get test(){return{snappingManager:this.snappingManager,reshapeOperation:this._reshapeOperation}}};e([h()],v.prototype,\"_reshapeOperation\",void 0),e([h({constructOnly:!0,nonNullable:!0})],v.prototype,\"view\",void 0),e([h({constructOnly:!0})],v.prototype,\"graphic\",void 0),e([h({constructOnly:!0,nonNullable:!0})],v.prototype,\"enableZShape\",void 0),e([h({constructOnly:!0,nonNullable:!0})],v.prototype,\"enableZVertex\",void 0),e([h({constructOnly:!0,nonNullable:!0})],v.prototype,\"enableMoveGraphic\",void 0),e([h({constructOnly:!0,nonNullable:!0})],v.prototype,\"enableMidpoints\",void 0),e([h({constructOnly:!0,nonNullable:!0})],v.prototype,\"enableEdgeOffset\",void 0),e([h()],v.prototype,\"type\",void 0),e([h({constructOnly:!0,type:g})],v.prototype,\"labelOptions\",void 0),e([h({constructOnly:!0,type:_})],v.prototype,\"tooltipOptions\",void 0),e([h({constructOnly:!0})],v.prototype,\"snappingManager\",void 0),e([h()],v.prototype,\"updating\",null),e([h()],v.prototype,\"automaticManipulatorSelection\",void 0),v=e([l(\"esri.views.3d.interactive.editingTools.graphicReshape3D.GraphicReshapeTool\")],v);export{v as GraphicReshapeTool};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{SketchTooltipInfo as e}from\"./SketchTooltipInfo.js\";let r=class extends e{constructor(o){super(o),this.type=\"transform-rotate\",this.rotationType=\"geographic\"}};o([t()],r.prototype,\"type\",void 0),o([t()],r.prototype,\"rotation\",void 0),o([t()],r.prototype,\"rotationPrecision\",void 0),o([t()],r.prototype,\"orientation\",void 0),o([t()],r.prototype,\"orientationPrecision\",void 0),o([t()],r.prototype,\"rotationType\",void 0),r=o([i(\"esri.views.interactive.tooltip.TransformRotateTooltipInfo\")],r);let s=class extends e{constructor(o){super(o),this.type=\"transform-scale\",this.sizeUnit=null,this.sizePrecision=null}};o([t()],s.prototype,\"type\",void 0),o([t()],s.prototype,\"scale\",void 0),o([t()],s.prototype,\"size\",void 0),o([t()],s.prototype,\"sizeUnit\",void 0),o([t()],s.prototype,\"sizePrecision\",void 0),s=o([i(\"esri.views.interactive.tooltip.TransformScaleTooltipInfo\")],s);let p=class extends e{constructor(o){super(o),this.type=\"transform-absolute\",this.orientationEnabled=!0,this.orientationPrecision=null,this.rotationType=\"geographic\",this.sizeUnit=null,this.sizeEnabled=!0,this.sizePrecision=null}};o([t()],p.prototype,\"type\",void 0),o([t()],p.prototype,\"orientation\",void 0),o([t()],p.prototype,\"orientationEnabled\",void 0),o([t()],p.prototype,\"orientationPrecision\",void 0),o([t()],p.prototype,\"rotationType\",void 0),o([t()],p.prototype,\"size\",void 0),o([t()],p.prototype,\"sizeUnit\",void 0),o([t()],p.prototype,\"sizeEnabled\",void 0),o([t()],p.prototype,\"sizePrecision\",void 0),p=o([i(\"esri.views.interactive.tooltip.TransformAbsoluteTooltipInfo\")],p);export{p as TransformAbsoluteTooltipInfo,r as TransformRotateTooltipInfo,s as TransformScaleTooltipInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{cyclicalPI as t}from\"../../../../../core/Cyclical.js\";import e from\"../../../../../core/Evented.js\";import a from\"../../../../../core/Handles.js\";import{clamp as i,rad2deg as o}from\"../../../../../core/mathUtils.js\";import{isSome as s,destroyMaybe as r,unwrapOr as n,isNone as l}from\"../../../../../core/maybe.js\";import{createAngle as c,createLength as h}from\"../../../../../core/quantityUtils.js\";import{when as p,initial as u,watch as d}from\"../../../../../core/reactiveUtils.js\";import{addFrameTask as g}from\"../../../../../core/scheduling.js\";import{createScreenPointArray as m}from\"../../../../../core/screenUtils.js\";import{d as _,C as f,m as M,k as D,e as S}from\"../../../../../chunks/mat4.js\";import{c as v}from\"../../../../../chunks/mat4f64.js\";import{s as y,b,l as T,d as R,f as k,a as j}from\"../../../../../chunks/vec3.js\";import{a as w,f as O}from\"../../../../../chunks/vec3f64.js\";import{b as A}from\"../../../../../chunks/vec4f64.js\";import{fromPositionAndNormal as I,create as F,normal as P}from\"../../../../../geometry/support/plane.js\";import{wrap as E,distance2 as C}from\"../../../../../geometry/support/ray.js\";import{sv3d as U,sm4d as z}from\"../../../../../geometry/support/vectorStacks.js\";import{getGraphicEffectiveElevationInfo as L}from\"../../../../../support/elevationInfoUtils.js\";import{Manipulator3D as x}from\"../../Manipulator3D.js\";import{calculateInputRotationTransform as N}from\"../../manipulatorUtils.js\";import{screenToRenderPlane as H}from\"../dragEventPipeline3D.js\";import{ManipulatorType as V}from\"../ManipulatorType.js\";import{ROTATE_INDICATOR_DIRECTION_BUFFER as q,SCALE_INDICATOR_DIRECTION_BUFFER as B,ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE as G,RING_THICKNESS as J,HANDLE_COLOR as K,DRAG_THRESHOLD_PX as Q,RING_RADIUS as W,INNER_INDICATOR_RADIUS as X,OUTER_INDICATOR_RADIUS as Y,RING_HEIGHT as Z,ROTATE_INDICATOR_ARROW_TIP_RADIUS as $,ROTATE_INDICATOR_ARROW_TIP_LENGTH as tt,SCALE_INDICATOR_OFFSET1 as et,SCALE_INDICATOR_OFFSET2 as at,RING_INDICATOR_DELAY_MS as it,GEOMETRY_SEGMENTS as ot,ROTATE_INDICATOR_ARC_LENGTH as st,INDICATOR_THICKNESS as rt,RING_RESET_ANIMATION_SPEED_FACTOR as nt,SCALE_INDICATOR_ARC_LENGTH as lt}from\"../manipulations/config.js\";import{CullFaceOptions as ct}from\"../../../webgl-engine/lib/basicInterfaces.js\";import{createExtrudedTriangle as ht,transformInPlace as pt,createPathExtrusionGeometry as ut}from\"../../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as dt}from\"../../../webgl-engine/lib/Material.js\";import{ColorMaterial as gt}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as mt}from\"../../../../interactive/dragEventPipeline.js\";import{ManipulatorStateCustomFlags as _t,ManipulatorStateFlags as ft}from\"../../../../interactive/interfaces.js\";import{Tooltip as Mt}from\"../../../../interactive/tooltip/Tooltip.js\";import{TransformRotateTooltipInfo as Dt,TransformScaleTooltipInfo as St,TransformAbsoluteTooltipInfo as vt}from\"../../../../interactive/tooltip/TransformTooltipInfos.js\";var yt,bt;!function(t){t.ScaleIn=_t.Custom2,t.ScaleOut=_t.Custom3,t.RotateLeft=_t.Custom4,t.RotateRight=_t.Custom5,t.Unlocked=_t.Custom7,t.DelayedFocused=_t.Custom8,t.TouchInput=_t.Custom12}(yt||(yt={}));class Tt{constructor({adapter:t,tooltipOptions:i,mode:o,tool:r}){this._mode=null,this._handles=new a,this._scaleRotateDragData=null,this._activeAnimation=null,this.events=new e,this.getFocused=()=>this._ringManipulator.focused,this.getScale=()=>s(this._scaleRotateDragData)&&\"scale\"===this._scaleRotateDragData.mode?this._adapter.scale:1,this.tool=r,this._mode=o,this._adapter=t,this._tooltipOptions=i,this._tooltip=new Mt({view:r.view}),this._createManipulator(),this._updateDragState(),this._updateManipulatorTransform(),this._handles.add(p((()=>!this._tooltipOptions.enabled),(()=>this._tooltip.clear()),u))}get angle(){return this._adapter.angle}get scale(){return this._adapter.scale}set location(t){this._ringManipulator.location=t}set elevationAlignedLocation(t){this._ringManipulator.elevationAlignedLocation=t}get grabbing(){return this._ringManipulator.grabbing}set interactive(t){this._ringManipulator.interactive=t}destroy(){s(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=null),this._handles=r(this._handles),this.tool.manipulators.remove(this._ringManipulator),this._ringManipulator=null,this._tooltip=r(this._tooltip)}startAnimation(t){this.cancelActiveAnimation(),t.start();const e=g({update:({deltaTime:e})=>{t.update(e)&&this.cancelActiveAnimation()}});this._activeAnimation={...t,frameTask:e}}cancelActiveAnimation(){s(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=r(this._activeAnimation))}forEachManipulator(t){t(this._ringManipulator,V.SCALE_ROTATE)}_createManipulator(){const e=this._createRingManipulator();this._ringManipulator=e,this.tool.manipulators.add(e);const a=this.tool.graphicState.graphic,r=mt(e,((e,r,n)=>{this._scaleRotateDragData=null;const l=this._adapter.startInteraction(),c={mode:\"none\",origin:w(e.renderLocation),initialAngle:this._adapter.angle,angle:0,angleDir:0,scaleDir:0};this._scaleRotateDragData=c,this._updateDragState();const h=U.get();this.tool.view.renderCoordsHelper.worldUpAtPosition(e.renderLocation,h),r.next(H(this.tool.view,I(e.renderLocation,h,F()))).next((e=>{const r=P(e.plane),n=N(e.renderStart,e.renderEnd,c.origin,r),h=t.shortestSignedDiff(c.angle,n);c.angleDir=i(c.angleDir+h,-q,q),c.angle=n;const p=Rt(c,e),u=p-this._adapter.scale;if(c.scaleDir=i(c.scaleDir+u,-B,B),this._onScaleChanged(),\"none\"===c.mode){const t=this._mode||kt(e,e.plane,c.origin,this.tool.view.state.camera);if(s(t)){switch(t){case\"rotate\":this.tool.emit(\"graphic-rotate-start\",{graphic:a,angle:0}),this.tool.emit(\"record-undo\",{record:this._adapter.createUndoRecord()});break;case\"scale\":this.tool.emit(\"graphic-scale-start\",{graphic:a,xScale:1,yScale:1}),this.tool.emit(\"record-undo\",{record:this._adapter.createUndoRecord()})}c.mode=t}}switch(c.mode){case\"rotate\":l.state.angle=c.initialAngle+n;break;case\"scale\":l.state.scale=p,this._onScaleChanged()}switch(this._updateDragState(),this._updateManipulatorTransform(),e.action){case\"start\":case\"update\":switch(c.mode){case\"rotate\":this.tool.emit(\"graphic-rotate\",{graphic:a,angle:o(c.angle)});break;case\"scale\":this.tool.emit(\"graphic-scale\",{graphic:a,xScale:p,yScale:p})}break;case\"end\":switch(c.mode){case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:a,angle:o(c.angle)});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:a,xScale:p,yScale:p})}}return\"end\"===e.action&&(this.startAnimation(wt(this,(()=>this._onScaleChanged()))),this._scaleRotateDragData=null,this._updateDragState(),l.done()),e})).next(this._updateTooltipPipelineStep(c)),n.next((()=>{if(l.cancel(),s(this._scaleRotateDragData)){switch(this._scaleRotateDragData.mode){case\"none\":break;case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:a,angle:0});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:a,xScale:1,yScale:1})}this.startAnimation(wt(this,(()=>this._onScaleChanged()))),this._scaleRotateDragData=null,this._updateDragState()}this._updateFocusTooltip()}))}));this._handles.add([r,e.events.on(\"focus-changed\",(t=>{\"focus\"===t.action?this.startAnimation(Ot(this,(()=>this._updateDelayedFocusedState()))):this._updateDelayedFocusedState()})),e.events.on(\"immediate-click\",(t=>{t.stopPropagation()})),d((()=>this.tool.graphicState?.displaying),(t=>this._ringManipulator.available=t),u)])}_updateTooltipPipelineStep(t){return e=>{const a=this._tooltipOptions;if(!a.enabled)return e;if(\"end\"===e.action)return this._updateFocusTooltip(),e;const i=this._tooltip,o=this._tooltipOptions.visualVariables,r=s(o)?o.size:null,l=s(o)?o.rotation:null;switch(t.mode){case\"scale\":i.info=new St({tooltipOptions:a,scale:{value:this._adapter.scale},size:h(n(this._adapter.size,-1),\"meters\"),sizeUnit:s(r)?r.unit:null,sizePrecision:s(r)?At(r.valueType):null});break;case\"rotate\":{const t=s(l)?At(l.valueType):null,e=s(l)?l.rotationType:\"geographic\";i.info=new Dt({tooltipOptions:a,rotation:c(n(-this._adapter.relativeAngle,0),\"radians\",\"geographic\"),rotationPrecision:t,orientation:c(-this._adapter.angle,\"radians\",\"geographic\"),orientationPrecision:t,rotationType:e})}}return e}}_updateFocusTooltip(){if(!this._tooltipOptions.enabled)return;if(this.getFocused()){const t=this._tooltipOptions.visualVariables,e=s(t)?t.rotation:null,a=s(t)?t.size:null;this._tooltip.info=new vt({tooltipOptions:this._tooltipOptions,orientation:c(-this._adapter.angle,\"radians\",\"geographic\"),orientationEnabled:null==this._mode||\"rotate\"===this._mode,orientationPrecision:s(e)?At(e.valueType):null,rotationType:s(e)?e.rotationType:\"geographic\",size:h(n(this._adapter.size,-1),\"meters\"),sizeUnit:s(a)?a.unit:null,sizeEnabled:null==this._mode||\"scale\"===this._mode,sizePrecision:s(a)?At(a.valueType):null})}else this._tooltip.clear()}_onScaleChanged(){this.events.emit(\"scale-changed\"),this._updateManipulatorTransform()}_updateDelayedFocusedState(){this._ringManipulator.updateStateEnabled(yt.DelayedFocused,this.getFocused()),this._updateFocusTooltip()}_updateDragState(){if(this._ringManipulator.updateStateEnabled(yt.Unlocked,!(s(this._scaleRotateDragData)&&\"none\"!==this._scaleRotateDragData.mode)),s(this._scaleRotateDragData))switch(this._scaleRotateDragData.mode){case\"rotate\":this._ringManipulator.updateStateEnabled(yt.ScaleIn|yt.ScaleOut,!1),this._ringManipulator.updateStateEnabled(yt.RotateLeft,this._scaleRotateDragData.angleDir<0),this._ringManipulator.updateStateEnabled(yt.RotateRight,this._scaleRotateDragData.angleDir>=0);break;case\"scale\":this._ringManipulator.updateStateEnabled(yt.RotateLeft|yt.RotateRight,!1),this._ringManipulator.updateStateEnabled(yt.ScaleIn,this._scaleRotateDragData.scaleDir<0),this._ringManipulator.updateStateEnabled(yt.ScaleOut,this._scaleRotateDragData.scaleDir>=0)}else this._ringManipulator.updateStateEnabled(yt.ScaleIn|yt.ScaleOut|yt.RotateLeft|yt.RotateRight,!1)}_updateManipulatorTransform(){const t=_(z.get(),this._adapter.angle,O(0,0,1));if(l(t))return;const e=this.getScale(),a=f(z.get(),y(U.get(),e,e,e));this._ringManipulator.modelTransform=M(z.get(),a,t)}_createRingManipulator(){const t=(t,e,a)=>{const i=[],o=Math.ceil(ot*(e-t)/(2*Math.PI));for(let s=0;s<o+1;s++){const r=t+s*(e-t)/o;i.push(O(a*Math.cos(r),a*Math.sin(r),0))}return i},e=e=>t(0,2*Math.PI,e),a=t=>[[-t/2,0],[t/2,0],[t/2,Z/2],[-t/2,Z/2]],i=(t,e)=>ut(a(e),t,[],[],!1),o=e(W),s=i(o,J),r={left:[],right:[]},n=[];for(let k=0;k<2;k++){const e=k*Math.PI-Math.PI/4,a=Math.PI/2-st,o=e+a,s=e+Math.PI/2-a,l=t(o,s,X),c=i(l,rt);n.push(l),n.push(t(o,s,Y-J/2)),r.left.push(c),r.right.push(c);for(let t=0;t<2;t++){const e=0===t,a=v();if(e){D(a,a,[1,-1,1]),S(a,a,-o,[0,0,1]);const t=Math.round(G*(l.length-1));a[12]=l[t][0],a[13]=l[t][1],a[14]=l[t][2]}else{S(a,a,s,[0,0,1]);const t=Math.round((1-G)*(l.length-1));a[12]=l[t][0],a[13]=l[t][1],a[14]=l[t][2]}const i=ht(tt,0,$,Z);pt(i,a),(e?r.left:r.right).push(i)}}const l=[];for(let D=0;D<2;D++){const e=D*Math.PI-Math.PI/4,a=Math.PI/2-lt,o=e+a,s=e+Math.PI/2-a,r=t(o,s,Y);l.push(i(r,rt))}const c=e(W+et),h=e(W+at),p=i(c,rt),u=i(h,rt),d=e(W-et),g=e(W-at),m=i(d,rt),_=i(g,rt),f=this._createMaterial(),M=this._createMaterial(.66),y=this._createMaterial(.5),b=this._createMaterial(.33);let T=[{geometry:s,material:f,stateMask:yt.DelayedFocused},{geometry:s,material:y,stateMask:ft.None}];this._mode&&\"scale\"!==this._mode||(T=T.concat([{geometry:l,material:f,stateMask:yt.DelayedFocused|yt.Unlocked},{geometry:p,material:M,stateMask:yt.DelayedFocused|yt.ScaleIn},{geometry:u,material:b,stateMask:yt.DelayedFocused|yt.ScaleIn},{geometry:m,material:M,stateMask:yt.DelayedFocused|yt.ScaleOut},{geometry:_,material:b,stateMask:yt.DelayedFocused|yt.ScaleOut}])),this._mode&&\"rotate\"!==this._mode||(T=T.concat([{geometry:r.right,material:f,stateMask:yt.DelayedFocused|yt.Unlocked},{geometry:r.left,material:f,stateMask:yt.DelayedFocused|yt.RotateLeft},{geometry:r.right,material:f,stateMask:yt.DelayedFocused|yt.RotateRight}]));const R=[o,...n];return new x({view:this.tool.view,renderObjects:T,autoScaleRenderObjects:!1,worldOriented:!0,radius:J,focusMultiplier:1,touchMultiplier:1.5,elevationInfo:L(this.tool.graphicState.graphic),collisionType:{type:\"ribbon\",paths:R,direction:O(0,0,1)}})}_createMaterial(t=1){const e=A([...K,t]);return new gt({color:e,transparent:1!==t,cullFace:ct.Back,renderOccluded:dt.Transparent})}get test(){return{ringManipulator:this._ringManipulator,tooltip:this._tooltip}}}function Rt(t,e){const a=b(U.get(),e.renderStart,t.origin),i=b(U.get(),e.renderEnd,t.origin),o=T(a),s=T(i);return 0===o?0:s/o}function kt(t,e,a,i){const{renderStart:o,renderEnd:s}=t,r=jt(o,i,U.get()),n=jt(s,i,U.get());if(R(r,n)<Q*Q)return null;const l=b(U.get(),o,a),c=k(U.get(),l,P(e)),h=o,p=j(U.get(),h,c),u=jt(a,i,U.get()),d=r,g=jt(p,i,U.get()),m=b(U.get(),g,d),_=b(U.get(),r,u),f=E(d,m),M=E(u,_);return C(f,n)<C(M,n)?\"rotate\":\"scale\"}function jt(t,e,a){return e.projectToScreen(t,It),y(a,It[0],It[1],0)}function wt(t,e){let a=null,i=1;const o=()=>i;return{start:()=>{i=t.getScale(),a=t.getScale,t.getScale=o,e()},update:t=>(i+=((i+1)/2-i)*Math.min(t*nt,1),e(),Math.abs(i-1)<.01?bt.STOP:bt.CONTINUE),destroy:()=>{t.getScale=a,e()}}}function Ot(t,e){let a=0,i=null;const o=()=>!1;return{start:()=>{i=t.getFocused,t.getFocused=o,a=0,e()},update:t=>(a+=t,!i()||a>it?bt.STOP:bt.CONTINUE),destroy:()=>{t.getFocused=i,e()}}}function At(t){switch(t){case\"integer\":case\"long\":return 0;default:return null}}!function(t){t[t.CONTINUE=0]=\"CONTINUE\",t[t.STOP=1]=\"STOP\"}(bt||(bt={}));const It=m();export{Tt as GraphicScaleRotateTransform};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e,none as t}from\"../../../../../core/maybe.js\";function r(t){return e(t.geometry)&&\"mesh\"===t.geometry.type?o(t.geometry):n(t)}function o(t){return e(t.transform)?m(t,t.transform):i(t)}function n(e){let r=e.geometry,o=t;return{undo(e){o=e.geometry,e.geometry=r},redo(e){r=e.geometry,e.geometry=o}}}function m(t,r){let o=r.clone(),n=null;return{undo:r=>{n=e(t.transform)?t.transform.clone():null,t.transform=o,r.notifyGeometryChanged()},redo:r=>{o=e(t.transform)?t.transform.clone():null,t.transform=n,r.notifyGeometryChanged()}}}function i(e){let t,r=e.vertexAttributes.clonePositional();return{undo:o=>{t=e.vertexAttributes.clonePositional(),e.vertexAttributes=r,o.notifyGeometryChanged()},redo:o=>{r=e.vertexAttributes.clonePositional(),e.vertexAttributes=t,o.notifyGeometryChanged()}}}export{r as createGraphicGeometryUndoRecord};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Accessor.js\";import{HandleOwner as i}from\"../../../../../core/HandleOwner.js\";import{deg2rad as o,rad2deg as r}from\"../../../../../core/mathUtils.js\";import{isSome as s,isNone as a}from\"../../../../../core/maybe.js\";import{when as n,sync as c}from\"../../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{axis as h,angle as g}from\"../../../../../geometry/support/axisAngleDegrees.js\";import{ViewingMode as m}from\"../../../../ViewingMode.js\";import{createGraphicGeometryUndoRecord as u}from\"./undoRecords.js\";let d=class extends i{constructor(t){super(t),this._interactionState=null}initialize(){this.addHandles([n((()=>s(this._interactionState)&&this._interactionState.angle!==this._interactionState.previousAngle?{interactionState:this._interactionState,angle:this._interactionState.state.angle}:null),(({interactionState:t})=>{this._updateMeshRotation(t)}),c),n((()=>s(this._interactionState)&&this._interactionState.scale!==this._interactionState.previousScale?{interactionState:this._interactionState,scale:this._interactionState.state.scale}:null),(({interactionState:t})=>{this._updateMeshSize(t)}),c)])}get angle(){const t=this.geometry.transform;if(a(t))return 0;const e=h(t.rotation)[2];return Math.abs(e)>.999999?o(g(t.rotation))*Math.sign(e):0}get scale(){return s(this._interactionState)?this._interactionState.scale:1}startInteraction(){const t=new y({angle:this.angle});this._interactionState=t;const e=()=>this._interactionState=null;return{state:t,done:e,cancel:()=>{t.cancel(),e()}}}createUndoRecord(){return u(this.graphic)}_updateMeshRotation(t){const e=this.geometry.anchor,i=this.viewingMode===m.Global,{angle:o,previousAngle:a}=t;this.geometry.rotate(0,0,r(o-a),{origin:e,geographic:i}),t.previousAngle=o,s(this.geometry.transform)&&this.graphic.notifyMeshTransformChanged(),this.graphic.notifyGeometryChanged()}_updateMeshSize(t){const e=this.geometry.anchor,i=this.viewingMode===m.Global,{scale:o,previousScale:r}=t;this.geometry.scale(o/r,{origin:e,geographic:i}),t.previousScale=o,s(this.geometry.transform)&&this.graphic.notifyMeshTransformChanged(),this.graphic.notifyGeometryChanged()}};t([l({constructOnly:!0})],d.prototype,\"graphic\",void 0),t([l({constructOnly:!0})],d.prototype,\"geometry\",void 0),t([l({constructOnly:!0})],d.prototype,\"viewingMode\",void 0),t([l()],d.prototype,\"angle\",null),t([l()],d.prototype,\"scale\",null),t([l()],d.prototype,\"_interactionState\",void 0),d=t([p(\"esri.views.3d.interactive.editingTools.transformGraphic.ScaleRotateMeshAdapter\")],d);let y=class extends e{constructor(t){super(t),this.angle=0,this.initialAngle=0,this.previousAngle=0,this.previousScale=1,this.scale=1,this.initialAngle=t.angle,this.previousAngle=t.angle}get state(){const{angle:t,scale:e}=this;return{angle:t,scale:e}}cancel(){this.angle=this.initialAngle,this.scale=1}};t([l()],y.prototype,\"angle\",void 0),t([l()],y.prototype,\"initialAngle\",void 0),t([l()],y.prototype,\"previousAngle\",void 0),t([l()],y.prototype,\"previousScale\",void 0),t([l()],y.prototype,\"scale\",void 0),t([l()],y.prototype,\"state\",null),y=t([p(\"InteractionState\")],y);export{d as ScaleRotateMeshAdapter};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Accessor.js\";import{HandleOwner as i}from\"../../../../../core/HandleOwner.js\";import{rad2deg as o,deg2rad as r}from\"../../../../../core/mathUtils.js\";import{isSome as n,isNone as l,unwrapOr as s}from\"../../../../../core/maybe.js\";import{when as a,sync as c}from\"../../../../../core/reactiveUtils.js\";import{property as h}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../../../core/accessorSupport/decorators/subclass.js\";let y=class extends i{constructor(t){super(t),this.sizeAxis=null,this._interactionState=null}initialize(){this.addHandles(a((()=>n(this._interactionState)?this._interactionState.state:null),(t=>{this._updateSymbol(t)}),c))}get angle(){return n(this._interactionState)?this._interactionState.angle:n(this._orientationReferenceSymbolLayer)?g(this._orientationReferenceSymbolLayer.heading):0}get scale(){return n(this._interactionState)?this._interactionState.scale:1}get relativeAngle(){return this.angle-this.initialAngle}get initialAngle(){return n(this._interactionState)?this._interactionState.initialAngle:0}get size(){const t=this._sizeReferenceSymbolLayer;if(l(t))return null;const e=this.findLayerView(),i=this._graphicSymbol;if(l(e)||l(i)||\"point-3d\"!==i.type)return null;const o=e.getSymbolLayerSize(i,t);if(\"size\"in o&&n(o.size))return o.size;const r=this.sizeAxis;return\"width\"in o&&n(o.width)&&(l(r)||\"width\"===r||\"all\"===r||\"width-and-depth\"===r)?o.width:\"depth\"in o&&n(t.depth)&&(l(r)||\"depth\"===r||\"all\"===r||\"width-and-depth\"===r)?o.depth:\"height\"in o&&n(t.height)&&(l(r)||\"height\"===r||\"all\"===r)?o.height:null}get _sizeReferenceSymbolLayer(){const t=this._graphicSymbol;return l(t)||0===t.symbolLayers.length?null:t.symbolLayers.find((t=>\"object\"===t.type))}get _orientationReferenceSymbolLayer(){const t=this._graphicSymbol;return l(t)||0===t.symbolLayers.length?null:t.symbolLayers.find((t=>\"object\"===t.type&&n(t.heading)))}get _graphicSymbol(){return n(this.graphic)&&n(this.graphic.symbol)&&\"point-3d\"===this.graphic.symbol.type?this.graphic.symbol:null}set _graphicSymbol(t){this.graphic.symbol=t}startInteraction(){const t=this._graphicSymbol,e=this.findLayerView();if(n(this._interactionState)||l(t)||l(e))return m;const i=t.symbolLayers.map((i=>\"object\"===i.type?e.getSymbolLayerSize(t,i):null)).toArray(),o=t.clone(),r=this.angle,s=new d({originalSymbol:o,angle:r,initialSizes:i});this._interactionState=s;const a=()=>this._interactionState=null;return{state:s,done:a,cancel:()=>{this._graphicSymbol=o,a()}}}createUndoRecord(){let t=this.graphic.symbol,e=null;return{undo:i=>{e=i.symbol,i.symbol=t},redo:i=>{t=i.symbol,i.symbol=e}}}_updateSymbol({scale:t,angle:e,originalSymbol:i,initialSizes:r}){const a=this._graphicSymbol;if(l(a)||\"point-3d\"!==a.type)return;const c=a.clone(),h=-o(e-this.initialAngle);let p=!1;this._forEachObjectSymbolLayerPair(i,c,((e,i,o)=>{const l=s(e.heading,0)+h;i.heading!==l&&(i.heading=l,p=!0);const a=r[o];if(n(a)&&\"width\"in a){a.width=this.sizeFilter(a.width),a.height=this.sizeFilter(a.height),a.depth=this.sizeFilter(a.depth);const e=a.width*t;i.width!==e&&(i.width=e,p=!0);const o=a.depth*t;i.depth!==o&&(i.depth=o,p=!0);const r=a.height*t;i.height!==r&&(i.height=r,p=!0)}})),p&&(this._graphicSymbol=c)}_forEachObjectSymbolLayerPair(t,e,i){t.symbolLayers.forEach(((t,o)=>{const r=e.symbolLayers.getItemAt(o);\"object\"===t.type&&\"object\"===r.type&&i(t,r,o)}))}};function g(t){return-r(t)}t([h()],y.prototype,\"angle\",null),t([h()],y.prototype,\"scale\",null),t([h()],y.prototype,\"relativeAngle\",null),t([h()],y.prototype,\"initialAngle\",null),t([h()],y.prototype,\"size\",null),t([h()],y.prototype,\"sizeAxis\",void 0),t([h({constructOnly:!0})],y.prototype,\"graphic\",void 0),t([h()],y.prototype,\"_interactionState\",void 0),t([h({constructOnly:!0})],y.prototype,\"findLayerView\",void 0),t([h({constructOnly:!0})],y.prototype,\"sizeFilter\",void 0),t([h()],y.prototype,\"_sizeReferenceSymbolLayer\",null),t([h()],y.prototype,\"_orientationReferenceSymbolLayer\",null),t([h()],y.prototype,\"_graphicSymbol\",null),y=t([p(\"esri.views.3d.interactive.editingTools.transformGraphic.ScaleRotateObjectSymbol3DAdapter\")],y);const m={state:{angle:0,scale:0},done:()=>{},cancel:()=>{}};let d=class extends e{constructor(t){super(t),this.angle=0,this.initialAngle=0,this.scale=1,this.initialAngle=t.angle}get state(){const{originalSymbol:t,angle:e,initialAngle:i,scale:o,initialSizes:r}=this;return{originalSymbol:t,angle:e,initialAngle:i,scale:o,initialSizes:r}}};t([h()],d.prototype,\"originalSymbol\",void 0),t([h()],d.prototype,\"angle\",void 0),t([h()],d.prototype,\"initialAngle\",void 0),t([h()],d.prototype,\"initialSizes\",void 0),t([h()],d.prototype,\"scale\",void 0),t([h()],d.prototype,\"state\",null),d=t([p(\"InteractionState\")],d);export{y as ScaleRotateObjectSymbol3DAdapter,g as headingToAngle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Evented.js\";import{HandleOwnerMixin as i}from\"../../../../../core/HandleOwner.js\";import{makeHandle as a}from\"../../../../../core/handleUtils.js\";import{isSome as o,destroyMaybe as n,isNone as s}from\"../../../../../core/maybe.js\";import{scale as r,zeroMeters as p}from\"../../../../../core/quantityUtils.js\";import{watch as l,syncAndInitial as c}from\"../../../../../core/reactiveUtils.js\";import{property as h}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import u from\"../../../../../geometry/Point.js\";import{getGraphicEffectiveElevationInfo as d}from\"../../../../../support/elevationInfoUtils.js\";import{ViewingMode as g}from\"../../../../ViewingMode.js\";import{Manipulator3D as v}from\"../../Manipulator3D.js\";import{placeAtGraphic as _}from\"../../manipulatorUtils.js\";import{SnappingVisualizer3D as M}from\"../../SnappingVisualizer3D.js\";import{canMoveZ as f}from\"../manipulatorUtils.js\";import{createVisualElements as y}from\"../visualElementUtils.js\";import{ALIGN_ARROWS_SCALE_THRESHOLD as S}from\"../manipulations/config.js\";import{MoveManipulation as R,ManipulationType as b}from\"../manipulations/MoveManipulation.js\";import{axisConstrainedDragSign as w}from\"../manipulations/moveUtils.js\";import{GraphicScaleRotateTransform as j}from\"./GraphicScaleRotateTransform.js\";import{ScaleRotateMeshAdapter as A}from\"./ScaleRotateMeshAdapter.js\";import{ScaleRotateObjectSymbol3DAdapter as T}from\"./ScaleRotateObjectSymbol3DAdapter.js\";import{createGraphicGeometryUndoRecord as O}from\"./undoRecords.js\";import{GraphicState as x}from\"../../../layers/graphics/GraphicState.js\";import{InteractiveToolBase as E}from\"../../../../interactive/InteractiveToolBase.js\";import{EditGeometryOperations as G}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";import z from\"../../../../interactive/sketch/SketchTooltipOptions.js\";import{SnappingContext as U}from\"../../../../interactive/snapping/SnappingContext.js\";import{SnappingPipeline as D}from\"../../../../interactive/snapping/SnappingDragPipelineStep.js\";import{Tooltip as k}from\"../../../../interactive/tooltip/Tooltip.js\";import{TranslateGraphicZTooltipInfo as C,TranslateGraphicXYTooltipInfo as I,TranslateGraphicTooltipInfo as L}from\"../../../../interactive/tooltip/TranslateTooltipInfos.js\";import{autoHorizontalDistanceByElevationModeBetweenPoints as P}from\"../../../../support/automaticLengthMeasurementUtils.js\";import{verticalSignedDistanceBetweenPoints as Z}from\"../../../../support/euclideanLengthMeasurementUtils.js\";let V=class extends(i(e.EventedMixin(E))){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this.tooltipOptions=new z,this.type=\"transform-3d\",this._scaleRotate=null,this._snappingPipeline=new D,this._tooltip=null}initialize(){const{graphic:t,view:e}=this;this.graphicState=new x({graphic:t}),this.addHandles(l((()=>this.tooltipOptions.enabled),(t=>{this._tooltip=t?new k({view:e}):n(this._tooltip)}),c)),this._moveManipulation=new R({tool:this,view:e,snapToScene:this.snapToScene,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&f(t),radius:R.radiusForSymbol(t.symbol)}),this._moveManipulation.forEachManipulator((e=>this.handles.add(e.events.on(\"immediate-click\",(e=>{this.emit(\"immediate-click\",{...e,graphic:t}),e.stopPropagation()})))));const i=t=>e=>{this.handles.add(e.events.on(\"focus-changed\",(({action:e})=>{const i=this._tooltip;s(i)||(\"focus\"===e?this._updateMoveTooltip(t):i.clear())})))};this._moveManipulation.xyManipulation.forEachManipulator(i(b.XY)),this._moveManipulation.xyAxisManipulation.forEachManipulator(i(b.XY_AXIS)),this._moveManipulation.zManipulation.forEachManipulator(i(b.Z)),this._moveManipulation.elevationInfo=d(t);const r=t.geometry;if(this._moveManipulation.createGraphicDragPipeline(((i,a,n,s,p)=>(o(r)&&i===b.XY&&(n=n.next(this._snappingPipeline.createSnapDragEventPipelineStep({snappingContext:new U({elevationInfo:d(t),pointer:p,editGeometryOperations:G.fromGeometry(new u({spatialReference:r.spatialReference}),e.state.viewingMode),visualizer:new M,excludeFeature:t}),snappingManager:this.snappingManager,updatingHandles:this.updatingHandles,cancel:s,useZ:!1}),this._snappingPipeline.next)),n=n.next((t=>(this._updateMoveTooltip(i,t),t))))),this.graphicState,(t=>{const{action:e,graphic:i,dxScreen:a,dyScreen:o}=t,n={graphic:i,dxScreen:a,dyScreen:o};switch(e){case\"start\":this.emit(\"graphic-translate-start\",n),this.emit(\"record-undo\",{record:this._createGeometryUndoRecord()});break;case\"update\":this.emit(\"graphic-translate\",n);break;case\"end\":this.emit(\"graphic-translate-stop\",n)}})),this._moveManipulation.angle=o(this._scaleRotate)?this._scaleRotate.angle:0,this._scaleRotateAdapter=this._createScaleRotateAdapter(),this.handles.add(l((()=>this._scaleRotateAdapter.angle),(()=>this._updateMoveAngle()))),this.enableScaling||this.enableRotation){const t=this.enableScaling&&this.enableRotation?null:this.enableScaling?\"scale\":\"rotate\";this._scaleRotate=new j({tool:this,mode:t,adapter:this._scaleRotateAdapter,tooltipOptions:this.tooltipOptions}),this.handles.add(this._scaleRotate.events.on(\"scale-changed\",(()=>this._onScaleChanged())))}this.handles.add([y({view:this.view,graphic:this.graphic,forEachManipulator:t=>this._forEachManipulator(t),onManipulatorsChanged:()=>a()}),this.graphicState.on(\"changed\",(()=>this._onGeometryChanged())),this._hideManipulatorsForGraphicState(),l((()=>e.scale),(()=>this._updateMoveAngle()))]),this.handles.add(this.view.trackGraphicState(this.graphicState)),this._onGeometryChanged(),this._updateMoveAngle(),this._forEachManipulator((t=>{t instanceof v&&this.handles.add(t.events.on(\"grab-changed\",(()=>this._updateManipulatorsInteractive())))})),this.finishToolCreation()}destroy(){this._tooltip=n(this._tooltip),this._moveManipulation.destroy(),this._scaleRotate=n(this._scaleRotate),this._scaleRotateAdapter=n(this._scaleRotateAdapter),this._set(\"view\",null),this._set(\"graphic\",null)}_updateManipulatorsInteractive(){s(this._scaleRotate)||(this._scaleRotate.interactive=!this._moveManipulation.grabbing,this._moveManipulation.interactive=!this._scaleRotate.grabbing)}_createScaleRotateAdapter(){return o(this.graphic.geometry)&&\"mesh\"===this.graphic.geometry.type?new A({graphic:this.graphic,geometry:this.graphic.geometry,viewingMode:this.view.state.viewingMode}):new T({graphic:this.graphic,sizeFilter:t=>this._enforceNonZeroSize(t),findLayerView:()=>this.view.allLayerViews.find((t=>t.layer===this.graphic.layer)),sizeAxis:o(this.tooltipOptions.visualVariables)&&o(this.tooltipOptions.visualVariables.size)?this.tooltipOptions.visualVariables.size.axis:null})}_forEachManipulator(t){this._moveManipulation.forEachManipulator(t),o(this._scaleRotate)&&this._scaleRotate.forEachManipulator(t)}_hideManipulatorsForGraphicState(){return l((()=>this.graphicState.displaying),(t=>{this._forEachManipulator((e=>e.available=t)),this._moveManipulation.zManipulation.available=t&&this.enableZ&&f(this.graphic)}))}_createGeometryUndoRecord(){return O(this.graphic)}set snapToScene(t){this._moveManipulation&&(this._moveManipulation.snapToScene=t),this._set(\"snapToScene\",t)}get updating(){return this.updatingHandles.updating}set location(t){this._moveManipulation.location=t,o(this._scaleRotate)&&(this._scaleRotate.location=t)}set elevationAlignedLocation(t){this._moveManipulation.elevationAlignedLocation=t,o(this._scaleRotate)&&(this._scaleRotate.elevationAlignedLocation=t)}reset(){}onHide(){o(this._scaleRotate)&&this._scaleRotate.cancelActiveAnimation()}_onScaleChanged(){if(s(this._scaleRotate))return;const t=this._scaleRotate.getScale();this._moveManipulation.displayScale=t}_updateMoveAngle(){this.view.state.viewingMode===g.Local||this.view.scale<S?this._moveManipulation.angle=this._scaleRotateAdapter.angle:this._moveManipulation.angle=0}_onGeometryChanged(){_(this.view,this,this.graphic)}_enforceNonZeroSize(t){return t||this.view.state.camera.computeRenderPixelSizeAt(this._moveManipulation.renderLocation)}_updateMoveTooltip(t,e){const{tooltipOptions:i,_tooltip:a}=this;if(s(a))return;a.clear();const o=this.graphicState.isDraped?\"on-the-ground\":\"absolute-height\";switch(t){case b.XY:a.info=new L({tooltipOptions:i}),this._updateMoveTooltipDistance(a.info,e,((t,e)=>P(t,e,o)));break;case b.XY_AXIS:a.info=new I({tooltipOptions:i}),this._updateMoveTooltipDistance(a.info,e,((t,i)=>{const a=P(t,i,o);return r(a,w(e))}));break;case b.Z:a.info=new C({tooltipOptions:i}),this._updateMoveTooltipDistance(a.info,e,Z)}}_updateMoveTooltipDistance(t,e,i){if(o(e)&&\"end\"!==e.action){const{mapStart:a,mapEnd:n}=e,s=i(a,n);t.distance=o(s)?s:p}}get test(){return{discManipulator:this._moveManipulation.xyManipulation.test.discManipulator,zManipulator:this._moveManipulation.zManipulation.test.manipulator,ringManipulator:o(this._scaleRotate)?this._scaleRotate.test.ringManipulator:null,arrowManipulators:this._moveManipulation.xyAxisManipulation.test.arrowManipulators,scaleRotateAdapter:this._scaleRotateAdapter,scaleRotateTransform:this._scaleRotate,tooltip:this._tooltip}}};t([h({constructOnly:!0,nonNullable:!0})],V.prototype,\"view\",void 0),t([h({constructOnly:!0,nonNullable:!0})],V.prototype,\"graphic\",void 0),t([h({constructOnly:!0,nonNullable:!0})],V.prototype,\"enableZ\",void 0),t([h()],V.prototype,\"enableRotation\",void 0),t([h()],V.prototype,\"enableScaling\",void 0),t([h({constructOnly:!0,type:z})],V.prototype,\"tooltipOptions\",void 0),t([h()],V.prototype,\"graphicState\",void 0),t([h({value:!1})],V.prototype,\"snapToScene\",null),t([h({constructOnly:!0})],V.prototype,\"snappingManager\",void 0),t([h({readOnly:!0})],V.prototype,\"type\",void 0),t([h({readOnly:!0})],V.prototype,\"updating\",null),V=t([m(\"esri.views.3d.interactive.editingTools.graphicTransform3D.GraphicTransformTool\")],V);export{V as GraphicTransformTool};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import{ClonableMixin as t}from\"../core/Clonable.js\";import{cyclicalDegrees as r}from\"../core/Cyclical.js\";import{JSONSupport as e}from\"../core/JSONSupport.js\";import{equalsMaybe as i}from\"../core/maybe.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import{cast as p}from\"../core/accessorSupport/decorators/cast.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import{ensureNumber as l}from\"../core/accessorSupport/ensureType.js\";import{persistable as m}from\"../core/accessorSupport/decorators/persistable.js\";import n from\"../geometry/Point.js\";let c=class extends(t(e)){constructor(o){super(o),this.type=\"plane\",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}equals(o){return this.heading===o.heading&&this.tilt===o.tilt&&i(this.position,o.position)&&this.width===o.width&&this.height===o.height}};o([s({readOnly:!0,json:{read:!1,write:!0}})],c.prototype,\"type\",void 0),o([s({type:n}),m()],c.prototype,\"position\",void 0),o([s({type:Number,nonNullable:!0,range:{min:0,max:360}}),m(),p((o=>r.normalize(l(o),0,!0)))],c.prototype,\"heading\",void 0),o([s({type:Number,nonNullable:!0,range:{min:0,max:360}}),m(),p((o=>r.normalize(l(o),0,!0)))],c.prototype,\"tilt\",void 0),o([s({type:Number,nonNullable:!0}),m()],c.prototype,\"width\",void 0),o([s({type:Number,nonNullable:!0}),m()],c.prototype,\"height\",void 0),c=o([a(\"esri.analysis.SlicePlane\")],c);const h=c;export{h as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{deg2rad as o}from\"../../../../core/mathUtils.js\";import{f as s}from\"../../../../chunks/vec3f64.js\";import{b as t,f as r}from\"../../../../chunks/vec4f64.js\";const c=has(\"mac\")?\"Meta\":\"Control\",m=\"Shift\",a=2,f=1.15,h=1.15,e=2500,i=.02,p=Math.cos(o(45)),j=Math.cos(o(5)),n=.95,M=.3,k=.7,l=s(1,.5,0),u=2,v=1,b=t([...l,k]),x=[0,0,0,.04],C=t([...l,.5]),S=r(1,1,1,1),U=r(1,.8,.6,1),d=r(1,.93,.86,1),g=t([...l,1]),q=t([...l,1]),w=3,y=11,z=22.5,A=40,B=48,D=2.25,E=t([...l,1]),F=4,G=1,H=.3,I=6,J=4,K=1600,L=.4;export{a as DISPLAY_FOCUS_MULTIPLIER,C as GRID_COLOR,i as INITIAL_DEPTH_OFFSET_FRAC,L as INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION,x as PLANE_BACKGROUND_COLOR,K as PLANE_MIN_BASIS_SCREEN_LEN2,b as PLANE_OUTLINE_COLOR,v as PLANE_OUTLINE_WIDTH,u as PLANE_PREVIEW_OUTLINE_WIDTH,e as POINTER_MOVE_TIMER_MS,n as PREVIEW_FADE_DOT_THRESHOLD,M as PREVIEW_FADE_DURATION_SECONDS,E as RESIZE_HANDLE_COLOR,I as RESIZE_HANDLE_CORNER_INPUT_RADIUS,F as RESIZE_HANDLE_CORNER_WIDTH,J as RESIZE_HANDLE_EDGE_INPUT_RADIUS,H as RESIZE_HANDLE_EDGE_PADDING_FRAC,G as RESIZE_HANDLE_EDGE_WIDTH,U as SHIFT_RESTART_ARROW_CAP_COLOR,B as SHIFT_RESTART_ARROW_LENGTH,D as SHIFT_RESTART_ARROW_OUTLINE_WIDTH,S as SHIFT_RESTART_ARROW_TIP_COLOR,g as SHIFT_RESTART_CALLOUT_COLOR,A as SHIFT_RESTART_OFFSET_DISTANCE,q as SHIFT_RESTART_OUTLINE_COLOR,h as SHIFT_RESTART_TIP_FOCUS_MULTIPLIER,z as SHIFT_RESTART_TIP_LENGTH,y as SHIFT_RESTART_TIP_RADIUS,d as SHIFT_RESTART_TUBE_COLOR,f as SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER,w as SHIFT_RESTART_TUBE_RADIUS,j as SMALL_ANGLE_DOT_THRESHOLD,p as VERTICAL_DOT_THRESHOLD,c as forceHorizontalModifier,m as forceVerticalModifier};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrap as r}from\"../../../../core/maybe.js\";import{f as s}from\"../../../../chunks/mat4.js\";import{c as i}from\"../../../../chunks/mat4f64.js\";import{s as a,m as o}from\"../../../../chunks/vec3.js\";import{Z as l,c as n}from\"../../../../chunks/vec3f64.js\";import{f as h,a as m}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as p}from\"./Object3DVisualElement.js\";import{lineStripsToParameters as _,createGeometry as f}from\"../../support/engineContent/line.js\";import{RenderOccludedFlag as d}from\"../../webgl-engine/lib/Material.js\";import{RibbonLineMaterial as u}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class c extends p{constructor(t,r){super(t),this._hasExternalMaterial=!1,this._renderOccluded=d.OccludeAndTransparent,this._width=1,this._color=h(1,0,1,1),this._innerWidth=1,this._innerColor=null,this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._writeDepthEnabled=!0,this._falloff=0,this._polygonOffset=!1,this._material=r,this._hasExternalMaterial=e(r),this.applyProps(t)}setGeometryFromRenderSpacePoint(e,t=1e3){const r=[];r.push([[e[0]-t,e[1]+0,e[2]+0],[e[0]+t,e[1]+0,e[2]+0]]),r.push([[e[0]-0,e[1]-t,e[2]+0],[e[0]+0,e[1]+t,e[2]+0]]),r.push([[e[0]-0,e[1]+0,e[2]-t],[e[0]+0,e[1]+0,e[2]+t]]),this.geometry=r}setGeometryFromExtent(e){const t=this.view.spatialReference,r=n(),s=n(),i=100,o=[];a(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),a(r,e[2],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),a(r,e[2],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),a(r,e[0],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),a(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),a(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),this.geometry=[o]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromBoundedPlane(e){const t=[],r=e.origin,s=e.basis1,i=e.basis2,a=.5,o=n(),l=n(),h=n(),m=n();o[0]=r[0]-s[0]*a-i[0]*a,o[1]=r[1]-s[1]*a-i[1]*a,o[2]=r[2]-s[2]*a-i[2]*a,l[0]=r[0]-s[0]*a+i[0]*a,l[1]=r[1]-s[1]*a+i[1]*a,l[2]=r[2]-s[2]*a+i[2]*a,h[0]=r[0]+s[0]*a+i[0]*a,h[1]=r[1]+s[1]*a+i[1]*a,h[2]=r[2]+s[2]*a+i[2]*a,m[0]=r[0]+s[0]*a-i[0]*a,m[1]=r[1]+s[1]*a-i[1]*a,m[2]=r[2]+s[2]*a-i[2]*a,t.push([o[0],o[1],o[2]]),t.push([l[0],l[1],l[2]]),t.push([h[0],h[1],h[2]]),t.push([m[0],m[1],m[2]]),t.push([o[0],o[1],o[2]]),this.geometry=[t]}setGeometryFromSegment(e){const t=e.endRenderSpace;this.transform=s(g,t);const{points:r}=e.createRenderGeometry(t,this.view.renderCoordsHelper);this.geometry=[r]}setGeometryFromSegments(e,t=l){this.transform=s(g,t),this.geometry=e.map((e=>e.createRenderGeometry(t,this.view.renderCoordsHelper).points))}getTransformedGeometry(){return t(this._geometry)?null:this._geometry.map((e=>e.map((e=>o(n(),e,this.transform)))))}get renderOccluded(){return e(this._material)?this._material.parameters.renderOccluded:this._renderOccluded}set renderOccluded(t){this._renderOccluded=t,e(this._material)&&this._material.setParameters({renderOccluded:t})}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return e(this._material)?this._material.parameters.width:this._width}set width(t){this._width=t,e(this._material)&&this._material.setParameters({width:t})}get color(){return e(this._material)?this._material.parameters.color:this._color}set color(t){this._color=m(t),e(this._material)&&this._material.setParameters({color:this._color})}get innerWidth(){return e(this._material)?this._material.parameters.innerWidth:this._innerWidth}set innerWidth(t){this._innerWidth=t,e(this._material)&&this._material.setParameters({innerWidth:t})}get innerColor(){return e(this._material)?this._material.parameters.innerColor:this._innerColor}set innerColor(t){this._innerColor=e(t)?m(t):t,e(this._material)&&this._material.setParameters({innerColor:this._innerColor})}get stipplePattern(){return e(this._material)?this._material.parameters.stipplePattern:this._stipplePattern}set stipplePattern(t){this._stipplePattern=t,e(this._material)&&this._material.setParameters({stipplePattern:t})}get stippleOffColor(){return e(this._material)?this._material.parameters.stippleOffColor:this._stippleOffColor}set stippleOffColor(t){this._stippleOffColor=e(t)?m(t):null,e(this._material)&&this._material.setParameters({stippleOffColor:this._stippleOffColor})}get stipplePreferContinuous(){return e(this._material)?this._material.parameters.stipplePreferContinuous:this._stipplePreferContinuous}set stipplePreferContinuous(t){this._stipplePreferContinuous=t,e(this._material)&&this._material.setParameters({stipplePreferContinuous:t})}get writeDepthEnabled(){return e(this._material)?this._material.parameters.writeDepth:this._writeDepthEnabled}set writeDepthEnabled(t){this._writeDepthEnabled=t,e(this._material)&&this._material.setParameters({writeDepth:t})}get falloff(){return e(this._material)?this._material.parameters.falloff:this._falloff}set falloff(t){this._falloff=t,e(this._material)&&this._material.setParameters({falloff:t})}get polygonOffset(){return e(this._material)?this._material.parameters.hasPolygonOffset:this._polygonOffset}set polygonOffset(t){this._polygonOffset=t,e(this._material)&&this._material.setParameters({hasPolygonOffset:t})}createExternalResources(){this._hasExternalMaterial||(this._material=new u({width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,isClosed:!1,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,hasPolygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}))}destroyExternalResources(){this._hasExternalMaterial||(this._material=null)}createGeometries(e){for(const t of _(this.geometry)){const s=f(t);e.addGeometry(s,r(this._material))}}forEachExternalMaterial(e){this._hasExternalMaterial||e(r(this._material))}}const g=i();export{c as LineVisualElement};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{f as e}from\"../../../../chunks/vec4f64.js\";import{NoParameters as r}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as t}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as s}from\"../lib/Program.js\";import{S as a}from\"../../../../chunks/SlicePlaneMaterial.glsl.js\";import{BlendFactor as l,CompareFunction as n}from\"../../../webgl/enums.js\";import{makePipelineState as c,separateBlendingParams as m,defaultColorWriteParams as d}from\"../../../webgl/renderState.js\";class h extends r{constructor(){super(...arguments),this.backgroundColor=e(1,0,0,.5),this.gridColor=e(0,1,0,.5),this.gridWidth=4}}class u extends o{initializeProgram(e){return new s(e.rctx,u.shader.get().build(this.configuration),t)}initializePipeline(){return c({blending:m(l.ONE,l.ONE,l.ONE_MINUS_SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA),depthTest:{func:n.LESS},colorWrite:d})}}u.shader=new i(a,(()=>import(\"./SlicePlaneMaterial.glsl.js\")));export{h as SlicePlaneMaterialPassParameters,u as SlicePlaneMaterialTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../chunks/mat4.js\";import{s as n,e,c as o,n as r,f as u}from\"../../chunks/vec3.js\";import{c as i}from\"../../chunks/vec3f64.js\";import{getReferenceEllipsoid as a,getSphericalPCPF as s}from\"../projectionEllipsoid.js\";import c from\"../SpatialReference.js\";import{Axis as l}from\"./Axis.js\";import{f,b as p}from\"../../chunks/boundedPlane.js\";import{f as v,s as m}from\"../../chunks/sphere.js\";function h(t){const{value:n,operations:e}=t;return{operations:e,value:e.create(n)}}function j(t,n,e){return t.operations.setExtent(t.value,n,e.value),e}function d(t){return{operations:t,value:t.create()}}function A(t,n,e=d(t)){return e.operations=t,t.copy(n,e.value),e}function k(t){return A(m,v(0,0,0,a(t).radius))}const x=2**50;function y(){return A(p,f([0,0,0],[x,0,0],[0,x,0]))}function P(t,n){return B.operations=t,B.value=n,B}function R(t,n,e){return t.operations.axisAt(t.value,n,l.Z,e)}function S(t,n,e,o){return t.operations.axisAt(t.value,n,e,o)}function b(t,n,e){return t.operations.intersectRay(t.value,n,e)}function C(t,n){return t.operations.intersectRay(t.value,n,null)}function E(t,n,e){return t.operations.closestPoint(t.value,n,e)}function g(t,n,e){return t.operations.intersectRayClosestSilhouette(t.value,n,e)}function G(t,n,e){return t.operations.closestPointOnSilhouette(t.value,n,e)}function O(t,n){return t.operations.distanceToSilhouette(t.value,n)}function T(t,n){return t.operations.altitudeAt(t.value,n)}function Z(t,n,e,o){return t.operations.setAltitudeAt(t.value,n,e,o)}function q(e,o,r,u){return o!==u&&t(u,o),n(z,u[12],u[13],u[14]),Z(e,z,r,z),u[12]=z[0],u[13]=z[1],u[14]=z[2],u}function w(t,n,e){return t.operations.elevate(t.value,n,e.value)}const z=i(),B={operations:null,value:null};function D(t,n,o,r,u){return u[0]=e(t,n),u[1]=e(t,o),u[2]=e(t,r),u}function F(t,n,e,i,a){o(e,t),o(I,n),r(I,I),u(i,I,e),u(a,i,e)}function H(t,n){return t?s(n):n.isGeographic?c.PlateCarree:n}const I=i();export{T as altitudeAt,S as axisAt,E as closestPoint,G as closestPointOnSilhouette,F as coordinateSystemFromOneAxisAndNormalVector,h as create,d as createFromOperations,k as createGlobal,y as createLocal,O as distanceToSilhouette,w as elevate,A as fromValues,b as intersectRay,g as intersectRayClosestSilhouette,C as intersectsRay,R as normalAt,H as renderSRFromViewSR,Z as setAltitudeAt,q as setAltitudeOfTransformation,j as setExtent,D as vectorCoordinates,P as wrap};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import t from\"../../../../analysis/SlicePlane.js\";import\"../../../../core/has.js\";import e from\"../../../../core/Logger.js\";import{rad2deg as i,deg2rad as n}from\"../../../../core/mathUtils.js\";import{isNone as r,isSome as s}from\"../../../../core/maybe.js\";import{castRenderScreenPointArray3 as o}from\"../../../../core/screenUtils.js\";import{o as a,b as c,k as l,m as u,r as d,i as m,v as p,D as g}from\"../../../../chunks/mat4.js\";import{c as f}from\"../../../../chunks/mat4f64.js\";import{r as b}from\"../../../../chunks/quat.js\";import{g as h,c as T,e as E,f as O,n as I,a as R,l as w,b as A,s as j,p as y,y as M}from\"../../../../chunks/vec3.js\";import{a as L,c as _,f as k}from\"../../../../chunks/vec3f64.js\";import{tryProjectWithZConversion as C}from\"../../../../geometry/projection.js\";import{Axis as N}from\"../../../../geometry/support/Axis.js\";import{r as P,f as v,i as U,a as V,n as S,u as F}from\"../../../../chunks/boundedPlane.js\";import{fromVectorsAndPoint as H,fromPositionAndNormal as x}from\"../../../../geometry/support/plane.js\";import{create as G}from\"../../../../geometry/support/ray.js\";import{angleAroundAxis as D}from\"../../../../geometry/support/vector.js\";import{sv3d as X,sm4d as Y,sq4d as Z}from\"../../../../geometry/support/vectorStacks.js\";import{VERTICAL_DOT_THRESHOLD as W,SMALL_ANGLE_DOT_THRESHOLD as B,PLANE_MIN_BASIS_SCREEN_LEN2 as q,INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION as z,SHIFT_RESTART_OFFSET_DISTANCE as $,RESIZE_HANDLE_EDGE_PADDING_FRAC as J,SHIFT_RESTART_ARROW_TIP_COLOR as K,SHIFT_RESTART_ARROW_CAP_COLOR as Q,SHIFT_RESTART_TUBE_COLOR as tt,SHIFT_RESTART_OUTLINE_COLOR as et,SHIFT_RESTART_CALLOUT_COLOR as it,SHIFT_RESTART_TIP_RADIUS as nt,PLANE_OUTLINE_COLOR as rt,PLANE_OUTLINE_WIDTH as st,PLANE_BACKGROUND_COLOR as ot,GRID_COLOR as at,RESIZE_HANDLE_CORNER_INPUT_RADIUS as ct,RESIZE_HANDLE_EDGE_INPUT_RADIUS as lt,SHIFT_RESTART_TIP_LENGTH as ut,SHIFT_RESTART_ARROW_LENGTH as dt,SHIFT_RESTART_TUBE_RADIUS as mt,SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER as pt,SHIFT_RESTART_TIP_FOCUS_MULTIPLIER as gt,SHIFT_RESTART_ARROW_OUTLINE_WIDTH as ft,RESIZE_HANDLE_CORNER_WIDTH as bt,RESIZE_HANDLE_EDGE_WIDTH as ht,DISPLAY_FOCUS_MULTIPLIER as Tt,RESIZE_HANDLE_COLOR as Et}from\"./sliceToolConfig.js\";import{applyProjectionAndElevationAlignment as Ot}from\"../support/projectionUtils.js\";import{Manipulator3D as It}from\"../../interactive/Manipulator3D.js\";import{calculateTranslateRotateFromBases as Rt,createRotateManipulator as wt,worldScaledManipulatorSettings as At}from\"../../interactive/manipulatorUtils.js\";import{LineVisualElement as jt}from\"../../interactive/visualElements/LineVisualElement.js\";import{SlicePlaneVisualElement as yt}from\"../../interactive/visualElements/SlicePlaneVisualElement.js\";import{RenderCoordsHelper as Mt}from\"../../support/RenderCoordsHelper.js\";import{fromRender as Lt}from\"../../support/geometryUtils/ray.js\";import{CullFaceOptions as _t}from\"../../webgl-engine/lib/basicInterfaces.js\";import{createPolylineGeometry as kt,createExtrudedTriangle as Ct,createConeGeometry as Nt,createPathExtrusionGeometry as Pt}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as vt}from\"../../webgl-engine/lib/Material.js\";import{ColorMaterial as Ut}from\"../../webgl-engine/materials/ColorMaterial.js\";import{NativeLineMaterial as Vt}from\"../../webgl-engine/materials/NativeLineMaterial.js\";import{RibbonLineMaterial as St}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{ManipulatorStateCustomFlags as Ft,ManipulatorStateFlags as Ht}from\"../../../interactive/interfaces.js\";import xt from\"../../../../geometry/Extent.js\";function Gt(t,e,i,n,r,s,o,a){return Dt(e,o.worldUpAtPosition(t,X.get()),r,s,a.basis1,a.basis2),h(a.basis1,a.basis1,i),h(a.basis2,a.basis2,n),T(a.origin,t),H(a.basis2,a.basis1,a.origin,a.plane),a}function Dt(t,e,i,n,r,s){const o=E(t,e),a=X.get(),c=X.get();switch(n===we.HORIZONTAL_OR_VERTICAL?Math.abs(o)>W?we.HORIZONTAL:we.VERTICAL:n){case we.VERTICAL:{const n=Math.abs(o)<=B?t:i.viewUp;O(a,n,e),T(c,e);break}case we.HORIZONTAL:O(a,i.viewUp,e),O(c,e,a);break;case we.TILTED:{const n=Math.abs(o)<=B?e:i.viewUp;O(a,n,t),O(c,t,a);break}}const l=O(X.get(),a,c);E(l,i.viewForward)>0&&h(c,c,-1),I(r,a),I(s,c)}function Xt(t,e,i){const n=e.worldUpAtPosition(t.origin,X.get()),r=t.basis1,s=be(t,n),o=Math.round(s/ye)*ye;return P(t,o-s,r,i)}function Yt(t,e,i,n,r,s){const o=T(X.get(),r.origin);R(o,o,h(X.get(),r.basis1,t.direction[0]<0?1:-1)),R(o,o,h(X.get(),r.basis2,t.direction[1]<0?1:-1));const a=w(r.basis1),c=w(r.basis2),l=A(X.get(),i,o),u=A(X.get(),e,o);let d=0,m=0;if(se(t)){const e=re(r),i=re(s);d=a-.5*t.direction[0]*E(r.basis1,u)/a,m=c-.5*t.direction[1]*E(r.basis2,u)/c;const n=i/e;d*=n,m*=n}const p=d+.5*t.direction[0]*E(r.basis1,l)/a,g=m+.5*t.direction[1]*E(r.basis2,l)/c,f=h(X.get(),r.basis1,p/a),b=h(X.get(),r.basis2,g/c);(p<=0||ie(s.origin,f,n)<=q)&&T(f,s.basis1),(g<=0||ie(s.origin,b,n)<=q)&&T(b,s.basis2);const O=T(X.get(),o);return R(O,O,h(X.get(),f,t.direction[0]<0?-1:1)),R(O,O,h(X.get(),b,t.direction[1]<0?-1:1)),v(O,f,b,s)}function Zt(t,e){return z*Math.min(e.width,e.height)*e.computeRenderPixelSizeAt(t)}function Wt(t,e,i,n){const r=O(X.get(),e,i);return O(r,r,e),x(t,r,n)}function Bt(t,e){return Rt(t.basis1,t.basis2,t.origin,e)}function qt(t,e,i,n){const r=e.worldUpAtPosition(t.origin,X.get()),s=X.get();switch(i){case Re.HEADING:T(s,r);break;case Re.TILT:T(s,t.basis1)}return x(t.origin,s,n)}function zt(t,e,i,n){const r=ee(i,te.NEGATIVE_X),s=Y.get();a(s,e,r.edge*Math.PI/2);const c=I(X.get(),r.basis);let l=h(X.get(),c,r.direction*n.computeScreenPixelSizeAt(r.position)*$);R(l,l,r.position);const u=n.projectToRenderScreen(l,o(X.get())),d=$t(n,u);Lt(n,u,je),I(je.direction,je.direction);const m=X.get();!d&&U(i,je,m)&&(l=m),s[12]=0,s[13]=0,s[14]=0,t.modelTransform=s,t.renderLocation=L(l),d?t.state|=Ae:t.state&=~Ae}function $t(t,e){const[i,n,r,s]=t.viewport,o=Math.min(r,s)/16;let a=!0;return e[0]<i+o?(e[0]=i+o,a=!1):e[0]>i+r-o&&(e[0]=i+r-o,a=!1),e[1]<n+o?(e[1]=n+o,a=!1):e[1]>n+s-o&&(e[1]=n+s-o,a=!1),a}function Jt(t,e,i,n){const r=w(n.basis1),s=w(n.basis2),o=ne(n),a=re(n),d=j(X.get(),0,0,0);R(d,h(X.get(),n.basis1,e.direction[0]),h(X.get(),n.basis2,e.direction[1])),R(d,n.origin,d);let m=0,p=1;if(se(e))1===e.direction[0]&&-1===e.direction[1]?m=ye:1===e.direction[0]&&1===e.direction[1]?m=Math.PI:-1===e.direction[0]&&1===e.direction[1]&&(m=3*Math.PI/2),p=a;else{const t=0!==e.direction[0]?1:2;m=1===t?ye:0,p=(1===t?s:r)-o}const g=c(Y.get(),m);l(g,g,j(X.get(),p,p,p)),u(g,i,g),g[12]=0,g[13]=0,g[14]=0,t.modelTransform=g,t.renderLocation=d}function Kt(t,e,i,n){const r=n.worldUpAtPosition(i.origin,X.get()),s=ee(i,te.POSITIVE_X),o=c(Y.get(),s.edge*Math.PI/2);d(o,o,-be(i,r)),u(o,e,o),o[12]=0,o[13]=0,o[14]=0,t.modelTransform=o,t.renderLocation=s.position}function Qt(t,e,i){const n=ee(i,te.POSITIVE_Y),r=c(Y.get(),n.edge*Math.PI/2);d(r,r,ye),u(r,e,r),r[12]=0,r[13]=0,r[14]=0,t.modelTransform=r,t.renderLocation=n.position}var te;function ee(t,e){switch(e){case te.POSITIVE_X:return{basis:t.basis1,direction:1,position:R(X.get(),t.origin,t.basis1),edge:e};case te.POSITIVE_Y:return{basis:t.basis2,direction:1,position:R(X.get(),t.origin,t.basis2),edge:e};case te.NEGATIVE_X:return{basis:t.basis1,direction:-1,position:A(X.get(),t.origin,t.basis1),edge:e};case te.NEGATIVE_Y:return{basis:t.basis2,direction:-1,position:A(X.get(),t.origin,t.basis2),edge:e}}}function ie(t,e,i){const n=i.projectToRenderScreen(R(X.get(),t,e),o(X.get())),r=i.projectToRenderScreen(A(X.get(),t,e),o(X.get()));return y(A(n,n,r))}function ne(t){const e=w(t.basis1),i=w(t.basis2);return J*Math.min(e,i)}function re(t){return ne(t)}function se(t){return 0!==t.direction[0]&&0!==t.direction[1]}function oe(t,e=_e.CENTER_ON_ARROW){const i=e===_e.CENTER_ON_CALLOUT?$:0,n=[k(i,0,-dt/2),k(i,0,dt/2)],r=pe(n,!0),s=(t,e)=>de(n,n,{tubeRadius:mt,tipRadius:nt,tipLength:ut,tubeFocusMultiplier:pt,tipFocusMultiplier:gt,padding:t,bothEnds:!0,flat:null,focusTipLength:!0,addCap:e}),o=s(0,!1),a=s(ft,!0),c=new Ut({color:K,cullFace:_t.Back,renderOccluded:vt.Opaque}),l=new Ut({color:Q,cullFace:_t.Back,renderOccluded:vt.Opaque}),u=new Ut({color:tt,cullFace:_t.Back,renderOccluded:vt.Opaque}),d=new Ut({color:et,transparent:!0,writeDepth:!1,cullFace:_t.Front,renderOccluded:vt.Transparent}),m=kt([[i,0,0],[i-$,0,0]]),p=kt([[i,0,0],[i-$,0,0]]),g=new Vt({color:it,renderOccluded:vt.OccludeAndTransparent});return new It({view:t,renderObjects:[...o.normal.map((({part:t,geometry:e,transform:i})=>({geometry:e,material:\"tip\"===t?c:\"cap\"===t?l:u,transform:i,stateMask:Ht.Unfocused|Ie}))),...a.normal.map((({geometry:t,transform:e})=>({geometry:t,material:d,transform:e,stateMask:Ht.Unfocused|Ie}))),{geometry:m,material:g,stateMask:Ht.Unfocused|Ie|Ae},...o.focused.map((({part:t,geometry:e,transform:i})=>({geometry:e,material:\"tip\"===t?c:\"cap\"===t?l:u,transform:i,stateMask:Ht.Focused|Ie}))),...a.focused.map((({geometry:t,transform:e})=>({geometry:t,material:d,transform:e,stateMask:Ht.Focused|Ie}))),{geometry:p,material:g,stateMask:Ht.Focused|Ie|Ae}],autoScaleRenderObjects:!1,collisionType:{type:\"line\",paths:[r]},collisionPriority:1,radius:nt,state:Ie})}function ae(t,e){const i=wt(t,{customStateMask:Ie,texture:e});return i.state=Ie,i}function ce(t){const e=[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]];return new jt({view:t,attached:!1,color:rt,width:st,writeDepthEnabled:!1,renderOccluded:vt.OccludeAndTransparent,geometry:[e]})}function le(t){return new yt({view:t,attached:!1,backgroundColor:[...ot],gridColor:at,gridWidth:4,renderOccluded:vt.OccludeAndTransparent})}function ue(t,e){const i=se(e),n=i?[k(1,0,0),k(0,0,0),k(0,1,0)]:[k(1,0,0),k(-1,0,0)],r=kt(n),s=Et,o=t=>new St({color:s,width:t,renderOccluded:vt.OccludeAndTransparent}),a=()=>new Vt({color:s,renderOccluded:vt.OccludeAndTransparent}),c=i?bt:ht,l=c*Tt,u=ht,d=t=>t>1?o(t):a(),m=[{geometry:r,material:d(c),stateMask:Ht.Unfocused|Me},{geometry:r,material:d(l),stateMask:Ht.Focused|Me},{geometry:r,material:d(u),stateMask:Le}],p=new It({view:t,renderObjects:m,collisionType:{type:\"line\",paths:[n]},radius:i?ct:lt,...At});return p.state=Me,p}function de(t,e,i){const n=n=>{const r=(n?e:t).slice(0),o=A(X.get(),r[0],r[1]);I(o,o);const a=A(X.get(),r[r.length-1],r[r.length-2]);if(I(a,a),i.padding>0){const t=h(_(),a,-i.padding);if(r[r.length-1]=R(t,t,r[r.length-1]),i.bothEnds){const t=h(_(),o,-i.padding);r[0]=R(t,t,r[0])}}const c=n?i.tipFocusMultiplier:1,d=i.tipLength*(i.focusTipLength?c:1),T=i.tipRadius*c,E=m(Y.get());if(i.padding>0){const t=d/4,e=j(X.get(),0,t,0),n=1+i.padding/t;p(E,E,e),l(E,E,j(X.get(),n,n,n)),p(E,E,h(e,e,-1/n))}const O=m(f()),w=k(0,1,0),y=g(f(),b(Z.get(),w,a));y[12]=r[r.length-1][0],y[13]=r[r.length-1][1],y[14]=r[r.length-1][2],u(y,y,E);const M=[{part:\"tube\",geometry:me(i.tubeRadius*(n?i.tubeFocusMultiplier:1)+i.padding,i.flat,r),transform:O}];let L,C;if(s(i.flat)?L=Ct(d,T,T,i.flat.thickness):(L=Nt(d,T,24,!1,!1,!0),C=Nt(d,T,24,!1,!0,!1)),M.push({part:\"tip\",geometry:L,transform:y}),C&&M.push({part:\"cap\",geometry:C,transform:y}),i.bothEnds){const t=g(f(),b(Z.get(),w,o));t[12]=r[0][0],t[13]=r[0][1],t[14]=r[0][2],u(t,t,E),M.push({part:\"tip\",geometry:L,transform:t}),C&&M.push({part:\"cap\",geometry:C,transform:t})}return M};return{normal:n(!1),focused:n(!0)}}function me(t,e,i){const n=[];if(s(e))n.push([t,e.thickness/2],[-t,e.thickness/2],[-t,-e.thickness/2],[t,-e.thickness/2]);else{const e=12;for(let i=0;i<e;i++){const r=i/e*2*Math.PI;n.push([Math.cos(r)*t,Math.sin(r)*t])}}return Pt(n,i,[],[],!1)}function pe(t,e){const i=A(_(),t[t.length-1],t[t.length-2]);if(I(i,i),h(i,i,ut),R(i,i,t[t.length-1]),e){const e=A(_(),t[0],t[1]);return I(e,e),h(e,e,ut),R(e,e,t[0]),[e,...t,i]}return[...t,i]}function ge(e,n,s,o=new t){if(r(e))return null;const{renderCoordsHelper:a}=n,c=a.fromRenderCoords(e.origin,n.spatialReference);if(r(c))return null;const l=C(c,s);if(r(l))return null;o.position=l;const u=2*w(e.basis1),d=2*w(e.basis2),m=Mt.renderUnitScaleFactor(n.spatialReference,s);o.width=u*m,o.height=d*m;const p=a.worldUpAtPosition(e.origin,X.get());return o.tilt=i(be(e,p)),o.heading=a.headingAtPosition(e.origin,e.basis1)-90,o}function fe(t,e,i){if(r(t))return null;const n=t.origin,s=X.get(),o=X.get(),a=X.get(),c=X.get();let l,u,d,m,p,g;R(s,n,t.basis1),R(s,s,t.basis2),R(o,n,t.basis1),M(o,o,t.basis2),M(a,n,t.basis1),M(a,a,t.basis2),M(c,n,t.basis1),R(c,c,t.basis2);for(const f of[s,o,a,c]){const t=e.fromRenderCoords(f,f,i);if(r(t))return null;l=null==l?t[0]:Math.min(l,t[0]),u=null==u?t[0]:Math.max(u,t[0]),d=null==d?t[1]:Math.min(d,t[1]),m=null==m?t[1]:Math.max(m,t[1]),p=null==p?t[2]:Math.min(p,t[2]),g=null==g?t[2]:Math.max(g,t[2])}return new xt({xmin:l,xmax:u,ymin:d,ymax:m,zmin:p,zmax:g,spatialReference:i})}function be(t,e){return D(e,t.basis2,t.basis1)+ye}function he(t,i,r,s,o,a,c=V()){return a.toRenderCoords(t,c.origin)?(a.worldBasisAtPosition(c.origin,N.X,c.basis1),a.worldBasisAtPosition(c.origin,N.Y,c.basis2),H(c.basis2,c.basis1,c.origin,c.plane),P(c,-n(i),S(c),c),P(c,n(r),c.basis1,c),h(c.basis1,c.basis1,s/2),h(c.basis2,c.basis2,o/2),F(c),c):(e.getLogger(\"esri.views.3d.analysis.Slice.sliceToolUtils\").error(`Failed to project slice plane position, projection from ${t.spatialReference.wkid} is not supported`),null)}function Te(t,e){if(r(t)||r(t.position))return null;const i=Ot(t.position,e.spatialReference,e.elevationProvider);if(r(i))return null;const n=Mt.renderUnitScaleFactor(t.position.spatialReference,e.spatialReference),s=t.width*n,o=t.height*n;return{position:i,heading:t.heading,tilt:t.tilt,renderWidth:s,renderHeight:o}}function Ee(t,e,i,n=V()){const s=Te(t,e);return r(s)?null:Oe(s,e,i,n)}function Oe(t,e,i,n=V()){if(r(t))return null;const o=he(t.position,t.heading,t.tilt,t.renderWidth,t.renderHeight,e.renderCoordsHelper,n);return!i.tiltEnabled&&s(o)&&Xt(o,e.renderCoordsHelper,o),o}!function(t){t[t.POSITIVE_X=0]=\"POSITIVE_X\",t[t.POSITIVE_Y=1]=\"POSITIVE_Y\",t[t.NEGATIVE_X=2]=\"NEGATIVE_X\",t[t.NEGATIVE_Y=3]=\"NEGATIVE_Y\"}(te||(te={}));const Ie=Ft.Custom1;var Re,we;!function(t){t[t.HEADING=1]=\"HEADING\",t[t.TILT=2]=\"TILT\"}(Re||(Re={})),function(t){t[t.HORIZONTAL_OR_VERTICAL=0]=\"HORIZONTAL_OR_VERTICAL\",t[t.HORIZONTAL=1]=\"HORIZONTAL\",t[t.VERTICAL=2]=\"VERTICAL\",t[t.TILTED=3]=\"TILTED\"}(we||(we={}));const Ae=Ft.Custom2,je=G(),ye=Math.PI/2,Me=Ft.Custom1,Le=Ft.Custom2;var _e;function ke(t){const e=\"building-scene-3d\"===t.type?t:null;return s(e)}!function(t){t[t.CENTER_ON_CALLOUT=0]=\"CENTER_ON_CALLOUT\",t[t.CENTER_ON_ARROW=1]=\"CENTER_ON_ARROW\"}(_e||(_e={}));export{Ie as DidPointerMoveRecentlyFlag,Ae as IsShiftEdgeOnScreenFlag,_e as OffsetMode,Re as RotationAxis,we as SliceOrientation,pe as addArrowTips,Bt as calculateBoundedPlaneTranslateRotate,re as calculateDiagonalResizeHandleScale,Zt as calculatePlaneHalfSize,ne as calculateResizeHandlePadding,ie as calculateScreenSpaceBasisLength2,de as createArrowGeometry,le as createGridVisualElement,ce as createOutlineVisualElement,Gt as createPlane,ue as createResizeManipulator,ae as createRotateManipulator,qt as createRotatePlane,oe as createShiftManipulator,Wt as createShiftPlane,Xt as forceHorizontalOrVertical,se as isDiagonalResizeHandle,ke as isIBuildingSceneLayerView3D,Dt as normalToBases,fe as planeToExtent,ge as planeToShape,Te as projectAndElevationAlignShape,Oe as projectedShapeToPlane,Me as resizeNormal,Le as resizeOutlineOnly,Yt as resizePlane,Ee as shapeToPlane,Jt as updateResizeHandle,Kt as updateRotateHeadingHandle,Qt as updateRotateTiltHandle,zt as updateShiftRestartHandle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nconst A=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAnFBMVEUAAAD/gAD/gAD/cAD/gAD/eAD/gAD/eQD/gAD/egD/gAD/ewD/gAD/fAD/gAD/fAD/gAD/fAD/fQD/fQD/fQD/fQD/fQD/fgD/jR7/mjn/mjf/p1H/plH/smf/sWb/vHr/u3n/xYz/xIv/zZz/zJv/zJr/1Kv/1Kr/06r/06n/27n/27f/4cX/4cT/59D/7dr/8uX/9u7/+/f////u2EN0AAAAM3RSTlMACBAQICAoKDAwODhAQEhIUFBYYGhweICIkJCXmJ+gp6ivsLe4uL+/wMDHx8/P19/n7/cWvjXwAAACeUlEQVR42tWX3XqiMBCGY2pbtbrUnzhhdak/lHWliJD7v7fdJ+KG5AMhh30P8zCTmS+TycDaeBoHi5Wgf4jVYvbKmRfPgSAHMX9mPRnM1tSIGHM/c2QddLp4c8wxCvYIvqROBPfbHlm/sRYC6smMNTKn3sxZAyvyYNW1v38MM/IkcPQnZHPMLtciz9P9hhqwzoLD+cnfpTIUaYinyZlBkE2YKZcMXCyN/YhsPkuFlMfWJLiwo89VMxfpJDForMCwuG+Zx7ttGO2S/w4LJ42ZURDty5M0a4dqsZAQAihQfXqWdlhnpcmdEPAI0tv2EbnsbsKmdgi6/1GN7T1XJLx5sF0P9SWABMC+co5JBE4Ge/1NTM3EGIJgjFONXCdAbeQYwhN7pRrRV20LJNIhWOczdu+xPFzIBiQ62iIsyIOTvlZUY+HXySLQaMUEeSC1CPYxENIlwk+q8e0clFAIfiKG+qpaIvod4wfU8sqvkDLda+xCCqgDaAk7uyeNqD+feFlfGCcg3Hzsk+xS7Nz1Aq4CcauhhMc0uxaqIgcFsF0J+1WQyoCN7Y9ezeCVH5LhSxmyRvsihKbK1m7LafpSpkpj6yJgtsiVBh6AX5UyCVmMbrNpcwj5/h6DPN79JjAiQAhXVeN6SZI0q5bQnn4wBiHEqpUybp1ZJzWxStVCHhKhAhVLp/Emh6trHpGLaB6yZHk7wu3Z+ChOxhwUNEmYYjpUvqJDksSHraQmJm2DdqQK6sGUObybYtpSN+8Phm3pN2xjDH33R6b0CKxAZNLvl8foD3BBnSw5e8RI+G2P8GD9wHw6YN3wkfA0R4Zz8CGCIfOCv8zM738walXuLw6nXBvPr8wvAAAAAElFTkSuQmCC\";export{A as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"./heading-rotate-png.js\";import r from\"./tilt-rotate-png.js\";import{Texture as e}from\"../../../webgl-engine/lib/Texture.js\";const n={mipmap:!0,preMultiplyAlpha:!0,width:64,height:64};function o(r){return r.fromData(t,(()=>new e(t,n)))}function i(t){return t.fromData(r,(()=>new e(r,n)))}export{o as getRotateHeadingTexture,i as getTiltRotateTexture};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{isDiagonalResizeHandle as a}from\"../../../analysis/Slice/sliceToolUtils.js\";import{EventPipeline as e}from\"../../../../interactive/dragEventPipeline.js\";class s{constructor(){this._lastDragEvent=null,this.next=new e,this._enabled=!1}get enabled(){return this._enabled}set enabled(a){if(this._enabled!==a&&t(this._lastDragEvent)){const t={...this._lastDragEvent,action:\"update\"};a&&this._adjustScaleFactors(t),this.next.execute(t)}this._enabled=a}createDragEventPipelineStep(){return this._lastDragEvent=null,t=>(this._lastDragEvent=\"end\"!==t.action?{...t}:null,this._enabled&&this._adjustScaleFactors(t),t)}_adjustScaleFactors(t){const e=a(t.handle)?Math.max(Math.abs(t.factor1),Math.abs(t.factor2)):0===t.handle.direction[0]?Math.abs(t.factor2):Math.abs(t.factor1);t.factor1=t.factor1<0?-e:e,t.factor2=t.factor2<0?-e:e}get test(){return{_adjustScaleFactors:t=>this._adjustScaleFactors(t)}}}export{s as PreserveAspectRatio};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as s}from\"../../../../core/maybe.js\";import{max as o}from\"../../../../core/quantityUtils.js\";import{u as i,s as t,h as n,y as r,z as a,a as e,j as c,b as g}from\"../../../../chunks/vec2.js\";import{a as b,I as f,g as u,b as m,h as p,f as I,n as d,e as N,l as j,z as h}from\"../../../../chunks/vec3.js\";import{f as l,Z as x}from\"../../../../chunks/vec3f64.js\";import{a as E,u as T}from\"../../../../chunks/boundedPlane.js\";import{sv2d as V,sv3d as v}from\"../../../../geometry/support/vectorStacks.js\";import{MoveVertex as R}from\"../operations/MoveVertex.js\";import{RotateVertex as k}from\"../operations/RotateVertex.js\";import{ScaleVertex as y}from\"../operations/ScaleVertex.js\";import{UpdateVertices as C}from\"../operations/UpdateVertices.js\";import{autoHorizontalDistanceByElevationMode as F}from\"../../../support/automaticLengthMeasurementUtils.js\";function S(s,o){return _(s,o,!1)}function Y(s,o){return _(s,o,!0)}function _(s,o,i){if(s instanceof C){if(s.operation instanceof R)return z(s.operation,o,i),!0;if(s.operation instanceof k)return P(s.operation,o,i),!0;if(s.operation instanceof y)return U(s.operation,o,i),!0}return!1}function z(s,o,i=!1){const t=i?-1:1,n=l(t*s.dx,t*s.dy,t*s.dz);b(o.origin,o.origin,n)}function P(s,o,i=!1){const t=i?-s.angle:s.angle;f(o.basis1,o.basis1,x,t),f(o.basis2,o.basis2,x,t)}function U(s,o,t=!1){const n=t?1/s.factor1:s.factor1,r=t?1/s.factor2:s.factor2;u(o.basis1,o.basis1,n),u(o.basis2,o.basis2,r),i(o.origin,o.origin,s.origin,s.axis1,n),i(o.origin,o.origin,s.origin,s.axis2,r)}function A(s,o,i,b){b||(b=E());const f=t(V.get(),s[1],-s[0]),u=t(V.get(),Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),m=t(V.get(),Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),p=V.get();o.components.forEach((o=>o.vertices.forEach((o=>{const i=o.pos;t(p,n(s,i),n(f,i)),r(u,u,p),a(m,m,p)}))));const I=1e-6,d=t(V.get(),m[0]-u[0]<I?i/2:0,m[1]-u[1]<I?i/2:0);return e(u,u,d),c(m,m,d),g(b.basis1,s,(m[0]-u[0])/2),g(b.basis2,f,(m[1]-u[1])/2),t(b.origin,u[0]*s[0]+u[1]*f[0],u[0]*s[1]+u[1]*f[1]),c(b.origin,b.origin,b.basis1),c(b.origin,b.origin,b.basis2),b}function G(s,o,i,t=0,n){n||(n=E()),o.toRenderCoords(s.origin,i,n.origin);const r=v.get();b(r,s.origin,s.basis1),b(r,r,s.basis2),o.toRenderCoords(r,i,r);const a=v.get();b(a,s.origin,s.basis1),m(a,a,s.basis2),o.toRenderCoords(a,i,a);const e=v.get();m(e,s.origin,s.basis1),m(e,e,s.basis2),o.toRenderCoords(e,i,e);const c=v.get();m(c,s.origin,s.basis1),b(c,c,s.basis2),o.toRenderCoords(c,i,c);const g=p(v.get(),r,a,.5);m(g,g,n.origin);const f=p(v.get(),e,c,.5);m(f,n.origin,f),p(n.basis1,g,f,.5);const h=p(v.get(),c,r,.5);m(h,h,n.origin);const l=p(v.get(),a,e,.5);m(l,n.origin,l),p(n.basis2,h,l,.5);const x=I(v.get(),n.basis1,n.basis2),V=I(x,x,n.basis1);return d(V,V),u(n.basis2,V,N(n.basis2,V)),u(n.basis1,n.basis1,1+t/j(n.basis1)),u(n.basis2,n.basis2,1+t/j(n.basis2)),T(n),n}function M(i,t,n,r){const a=v.get();m(a,m(a,i.origin,i.basis1),i.basis2);const e=v.get();h(e,a,i.basis1,2);const c=v.get();h(c,e,i.basis2,2);const g=v.get();h(g,a,i.basis2,2),a[2]=e[2]=c[2]=g[2]=t;const b=r?\"on-the-ground\":\"absolute-height\",f=o(F(a,e,n,b),F(g,c,n,b)),u=o(F(e,c,n,b),F(a,g,n,b));return s(u)||s(f)?null:[f,u]}export{S as apply,A as calculateOrientedBounds,M as mapPlaneAutoHorizontalSizeByElevationMode,G as mapPlaneToRenderPlane,Y as unapply};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Evented.js\";import i from\"../../../../../core/Handles.js\";import{makeHandle as a}from\"../../../../../core/handleUtils.js\";import{rad2deg as s}from\"../../../../../core/mathUtils.js\";import{isSome as o,unwrapOr as r,isNone as n,unwrap as p}from\"../../../../../core/maybe.js\";import{createLength as l}from\"../../../../../core/quantityUtils.js\";import{watch as h,initial as c}from\"../../../../../core/reactiveUtils.js\";import{screenPointObjectToArray as d}from\"../../../../../core/screenUtils.js\";import{lengthUnitFromSpatialReference as u,getMetersPerUnitForSR as m}from\"../../../../../core/unitUtils.js\";import{property as _}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as g}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{o as v}from\"../../../../../chunks/mat4.js\";import{s as y,a as f,f as S}from\"../../../../../chunks/vec2.js\";import{a as M}from\"../../../../../chunks/vec2f64.js\";import{c as b,z as T,b as x,n as E,l as B,e as A}from\"../../../../../chunks/vec3.js\";import{c as O,a as R}from\"../../../../../chunks/vec3f64.js\";import{containsXY as j}from\"../../../../../geometry/support/aaBoundingRect.js\";import{a as G,c as D}from\"../../../../../chunks/boundedPlane.js\";import{intersectRay as w,create as z,normal as P}from\"../../../../../geometry/support/plane.js\";import{create as I}from\"../../../../../geometry/support/ray.js\";import{sv2d as U,sv3d as Z,sm4d as C}from\"../../../../../geometry/support/vectorStacks.js\";import{getGraphicEffectiveElevationInfo as k}from\"../../../../../support/elevationInfoUtils.js\";import{createShiftManipulator as X,OffsetMode as Y,IsShiftEdgeOnScreenFlag as L,createResizeManipulator as N,resizeNormal as V,resizeOutlineOnly as H,isDiagonalResizeHandle as F,calculateDiagonalResizeHandleScale as q,createRotatePlane as W,RotationAxis as J,calculateBoundedPlaneTranslateRotate as K,updateRotateHeadingHandle as Q,updateResizeHandle as $}from\"../../../analysis/Slice/sliceToolUtils.js\";import{getRotateHeadingTexture as tt}from\"../../../analysis/Slice/images/Factory.js\";import{Manipulator3D as et}from\"../../Manipulator3D.js\";import{createRotateManipulator as it,getGraphicAttachmentOrigin as at,calculateInputRotationTransform as st}from\"../../manipulatorUtils.js\";import{screenToZConstrained as ot,screenToRenderPlane as rt}from\"../dragEventPipeline3D.js\";import{ManipulatorType as nt}from\"../ManipulatorType.js\";import{canMoveZ as pt}from\"../manipulatorUtils.js\";import{createVisualElements as lt}from\"../visualElementUtils.js\";import{ManipulationType as ht}from\"../manipulations/MoveManipulation.js\";import{MoveXYGraphicManipulation as ct}from\"../manipulations/MoveXYGraphicManipulation.js\";import{PreserveAspectRatio as dt}from\"./PreserveAspectRatio.js\";import{OutlineVisualElement as ut}from\"../../visualElements/OutlineVisualElement.js\";import{evaluateElevationAlignmentAtPoint as mt}from\"../../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as _t}from\"../../../layers/graphics/ElevationContext.js\";import{GraphicState as gt}from\"../../../layers/graphics/GraphicState.js\";import{fromScreen as vt}from\"../../../support/geometryUtils/ray.js\";import{createManipulatorDragEventPipeline as yt,addMapDelta as ft,addScreenDelta as St}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as Mt}from\"../../../../interactive/InteractiveToolBase.js\";import{EditGeometryOperations as bt}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";import{AccumulationBehaviour as Tt}from\"../../../../interactive/editGeometry/interfaces.js\";import{AccumulationType as xt}from\"../../../../interactive/editGeometry/operations/UpdateVertices.js\";import{mapPlaneAutoHorizontalSizeByElevationMode as Et,calculateOrientedBounds as Bt,mapPlaneToRenderPlane as At,apply as Ot,unapply as Rt}from\"../../../../interactive/editGeometry/support/editPlaneUtils.js\";import jt from\"../../../../interactive/sketch/SketchTooltipOptions.js\";import{ExtentRotateTooltipInfo as Gt,ExtentScaleTooltipInfo as Dt}from\"../../../../interactive/tooltip/ExtentTooltipInfos.js\";import{Tooltip as wt}from\"../../../../interactive/tooltip/Tooltip.js\";import{TranslateGraphicTooltipInfo as zt,TranslateGraphicZTooltipInfo as Pt}from\"../../../../interactive/tooltip/TranslateTooltipInfos.js\";import{autoHorizontalDistanceByElevationModeBetweenPoints as It}from\"../../../../support/automaticLengthMeasurementUtils.js\";import{verticalSignedDistance as Ut}from\"../../../../support/euclideanLengthMeasurementUtils.js\";let Zt=class extends(e.EventedMixin(Mt)){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this.tooltipOptions=new jt,this._preserveAspectRatio=new dt,this.grabbing=!1,this.inputState=null,this.type=\"transform-3d\",this._handles=new i,this._moveZManipulator=null,this._resizeManipulators=null,this._rotateManipulator=null,this._attachmentOrigin=null,this._outlineVisualElement=null,this._mapBounds=G(),this._mapBoundsStart=G(),this._zmax=0,this._sizeStart=null,this._displayBounds=G(),this._displayBoundsStart=G(),this._displayBoundsMarginStart=0,this._resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}],this._moveXYTooltipInfo=null,this._moveZTooltipInfo=null,this._rotateTooltipInfo=null,this._scaleTooltipInfo=null,this._startAngle=0,this._endAngle=0,this._startScale=M(),this._endScale=M()}initialize(){const{view:t,graphic:e,manipulators:i,_handles:s}=this,r=this._graphicState=new gt({graphic:e}),n=e.geometry;this._editGeometryOperations=bt.fromGeometry(n,t.state.viewingMode),this._graphicMoveManipulation=new ct({tool:this,view:t,graphicState:r}),this._moveZManipulator=X(t,Y.CENTER_ON_CALLOUT),this._moveZManipulator.state|=L,s.add([this._createMoveXYGraphicDragPipeline(),h((()=>this.enableZ),(()=>this._updateManipulatorAvailability(this._moveZManipulator,nt.TRANSLATE_Z))),this._createMoveZDragPipeline()]),i.add(this._moveZManipulator),this._resizeManipulators=this._resizeHandles.map((e=>{const i=N(t,e);return s.add([h((()=>this.enableScaling),(()=>this._updateManipulatorAvailability(i,nt.SCALE))),i.events.on(\"grab-changed\",(t=>this._onResizeGrab(t))),this._createResizeDragPipeline(i,e)]),i})),i.addMany(this._resizeManipulators),this._rotateManipulatorTexture=tt(t.toolViewManager.textures),this._rotateManipulator=it(t,{texture:this._rotateManipulatorTexture.texture}),s.add([h((()=>this.enableRotation),(()=>this._updateManipulatorAvailability(this._rotateManipulator,nt.ROTATE))),this._rotateManipulator.events.on(\"grab-changed\",(t=>{this._onRotateGrab(t)})),this._createRotateDragPipeline(this._rotateManipulator)]),i.add(this._rotateManipulator),this._calculateMapBounds(),this._updateDisplayBounds();const p=lt({view:t,graphic:e,forEachManipulator:t=>this._forEachManipulator(t),onManipulatorsChanged:()=>a()});o(p)&&(this._outlineVisualElement=p.visualElement instanceof ut?p.visualElement:null),o(this._outlineVisualElement)&&s.add(this._outlineVisualElement.events.on(\"attachment-origin-changed\",(()=>this._updateDisplayBounds()))),s.add(p),s.add([r.on(\"changed\",(()=>this._onGeometryChanged())),h((()=>r.displaying),(()=>this._updateAllManipulatorAvailability())),h((()=>r.isDraped),(()=>this._graphicDrapedChanged()),c),t.trackGraphicState(r)]);const l=t.pointsOfInterest;l&&s.add(h((()=>l.centerOnSurfaceFrequent.location),(()=>this._updateDisplayBounds())));const d=t=>{s.add(t.events.on(\"grab-changed\",(()=>{this.grabbing=t.grabbing,this._updateAllManipulatorAvailability()})))};this._forEachManipulator(d);const u=(t,i)=>{s.add(t.events.on(\"immediate-click\",(t=>{i===nt.TRANSLATE_XY&&this.emit(\"immediate-click\",{...t,graphic:e}),t.stopPropagation()})))};this._forEachManipulator(u),this._onGeometryChanged(),this._updateAllManipulatorAvailability(),this._initializeTooltip(),this.finishToolCreation()}destroy(){this._mapBounds=null,this._displayBounds=null,this._rotateManipulatorTexture.release(),this._handles.destroy(),this._graphicMoveManipulation.destroy(),this._editGeometryOperations.destroy(),this._tooltip.destroy(),this._set(\"view\",null),this._set(\"graphic\",null)}_initializeTooltip(){const{_handles:t,view:e}=this,i=this._tooltip=new wt({view:e}),a=()=>{i.info=this._getUpdatedTooltipInfo()};t.add([this.on(\"graphic-translate-start\",a),this.on(\"graphic-translate\",a),this.on(\"graphic-translate-stop\",(()=>{this._moveXYTooltipInfo=null,this._moveZTooltipInfo=null,this._tooltip.clear()})),this.on(\"graphic-rotate-start\",(t=>{this._startAngle=t.angle,a()})),this.on(\"graphic-rotate\",(t=>{this._endAngle=t.angle,a()})),this.on(\"graphic-rotate-stop\",(()=>{this._startAngle=0,this._endAngle=0,a()})),this.on(\"graphic-scale-start\",(t=>{y(this._startScale,t.xScale,t.yScale),y(this._endScale,t.xScale,t.yScale),a()})),this.on(\"graphic-scale\",(t=>{y(this._endScale,t.xScale,t.yScale),a()})),this.on(\"graphic-scale-stop\",(()=>{y(this._startScale,0,0),y(this._endScale,0,0),a()}))]),this._forEachManipulator((e=>{t.add([e.events.on(\"focus-changed\",a),e.events.on(\"grab-changed\",a),e.events.on(\"drag\",(t=>{\"cancel\"===t.action?this._tooltip.clear():a()}))])}))}_getUpdatedTooltipInfo(){return this.tooltipOptions.enabled?this._graphicMoveManipulation.grabbing||this._graphicMoveManipulation.dragging?this._computeMoveXYTooltipInfo():this._moveZManipulator.focused?this._computeMoveZTooltipInfo():this._rotateManipulator.focused?this._computeRotateTooltipInfo():this._resizeManipulators.some((t=>t.focused))?this._computeScaleTooltipInfo():null:null}_computeMoveXYTooltipInfo(){return this._moveXYTooltipInfo=r(this._moveXYTooltipInfo,(()=>new zt({tooltipOptions:this.tooltipOptions})))}_computeMoveZTooltipInfo(){const t=this._moveZTooltipInfo=r(this._moveZTooltipInfo,(()=>new Pt({tooltipOptions:this.tooltipOptions}))),e=this._moveUnit;if(this._moveZManipulator.dragging){const e=this._mapBoundsStart.origin,i=this._mapBounds.origin,a=Ut(e,i,this.view.spatialReference);if(n(a))return null;t.distance=a}else t.distance=l(0,e);return t}_computeRotateTooltipInfo(){const t=this._rotateTooltipInfo=r(this._rotateTooltipInfo,(()=>new Gt({tooltipOptions:this.tooltipOptions})));return t.angle=this._startAngle-this._endAngle,t}_computeScaleTooltipInfo(){const t=this.graphic.geometry;if(n(t))return null;const e=this._scaleTooltipInfo=r(this._scaleTooltipInfo,(()=>new Dt({tooltipOptions:this.tooltipOptions}))),i=Et(this._mapBounds,this._zmax,t.spatialReference,this._graphicState.isDraped);return n(i)?null:(e.xSize=i[0],e.ySize=i[1],o(this._sizeStart)&&this._resizeManipulators.some((t=>t.dragging))?(e.xScale=i[0].value/this._sizeStart[0].value,e.yScale=i[1].value/this._sizeStart[1].value):(e.xScale=1,e.yScale=1),e)}_graphicDrapedChanged(){this._handles.remove(Ct),this._updateDisplayBounds(),this._graphicState.isDraped&&this._handles.add(this.view.elevationProvider.on(\"elevation-change\",(t=>{o(this._attachmentOrigin)&&j(t.extent,this._attachmentOrigin.x,this._attachmentOrigin.y)&&this._updateDisplayBounds()})),Ct)}_updateAllManipulatorAvailability(){this._forEachManipulator(((t,e)=>this._updateManipulatorAvailability(t,e)))}_updateManipulatorAvailability(t,e){const i=this.grabbing&&!t.grabbing;if(t.interactive=!i,t instanceof et){const a=this._graphicState.displaying,s=this.enableZ&&pt(this.graphic);switch(e){case nt.ROTATE:t.available=a&&this.enableRotation;break;case nt.SCALE:t.available=a&&(this.enableScaling||this.enableRotation||s),t.interactive=!i&&this.enableScaling,t.state=this.enableScaling?V:H;break;case nt.TRANSLATE_Z:t.available=a&&s;break;default:t.available=a}}}_forEachManipulator(t){this._graphicMoveManipulation.forEachManipulator(t),this._resizeManipulators.forEach((e=>t(e,nt.SCALE))),t(this._rotateManipulator,nt.ROTATE),t(this._moveZManipulator,nt.TRANSLATE_Z)}get preserveAspectRatio(){return this._preserveAspectRatio.enabled}set preserveAspectRatio(t){this._preserveAspectRatio.enabled=t,this._set(\"preserveAspectRatio\",t)}get _moveUnit(){return r(u(this.view.spatialReference),\"meters\")}reset(){}_onGeometryChanged(){this._updateDisplayBounds()}_calculateMapBounds(){const t=this.graphic.geometry,e=this._editGeometryOperations.data,i=e.components[0].edges[0],a=f(U.get(),i.leftVertex.pos,i.rightVertex.pos);S(a,a);const s=r(at(this.view,this.graphic),(()=>t.extent.center));let o=Xt*this.view.pixelSizeAt(s);const n=this.view.spatialReference,p=t.spatialReference;n.equals(p)||(o*=m(n)/m(p)),Bt(a,e,o,this._mapBounds),this._updateZMax()}_updateZMax(){const t=this._editGeometryOperations.data;if(!t.geometry.hasZ)return void(this._zmax=0);const e=t.coordinateHelper;let i=Number.NEGATIVE_INFINITY;for(const a of t.components)for(const t of a.vertices){const a=e.getZ(t.pos);i=Math.max(a,i)}this._zmax=i}_updateDisplayBounds(){const t=this.graphic.geometry;if(n(t))return;const e=o(this._outlineVisualElement)&&!this._graphicState.isDraped&&o(this._outlineVisualElement.attachmentOrigin)?this._outlineVisualElement.attachmentOrigin:at(this.view,this.graphic);this._attachmentOrigin=r(e,t.extent.center);const i=o(e)?e.z:mt(this._mapBounds.origin,this.view.elevationProvider,_t.fromElevationInfo(k(this.graphic)),this.view.renderCoordsHelper),a=D(this._mapBounds);a.origin[2]=i,At(a,this.view.renderCoordsHelper,t.spatialReference,this._displayBoundsMargin,this._displayBounds),this._updateManipulators()}get _displayBoundsMargin(){const t=this.view.pointsOfInterest,e=t?t.centerOnSurfaceFrequent.location:this._editGeometryOperations.data.geometry.extent.center;return kt*this.view.pixelSizeAt(e)}_createMoveXYGraphicDragPipeline(){return this._graphicMoveManipulation.createDragPipeline(((t,e,i)=>this._applyGraphicMoveSteps(e,i,ht.XY)))}_createMoveZDragPipeline(){const t=this.view,e=this._editGeometryOperations.data.spatialReference;return yt(this._moveZManipulator,((i,a,s)=>{const o=R(i.renderLocation),r=a.next(ot(t,o,e)).next(St());this._applyGraphicMoveSteps(r,s,ht.Z)}))}_applyGraphicMoveSteps(t,e,i){const a=t.next((t=>(\"start\"===t.action&&(this.inputState={type:\"move\"},this._updateOperationStartProperties(),this.emit(\"graphic-translate-start\",{graphic:this.graphic,dxScreen:t.screenDeltaX,dyScreen:t.screenDeltaY})),t))).next(ft()).next(this._moveDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,dxScreen:t.screenDeltaX,dyScreen:t.screenDeltaY};switch(t.action){case\"start\":case\"update\":(t.mapEnd.x-t.mapStart.x||t.mapEnd.y-t.mapStart.y||t.mapEnd.z-t.mapStart.z)&&this.emit(\"graphic-translate\",e);break;case\"end\":this.inputState=null,this.emit(\"graphic-translate-stop\",e)}return t})).next((t=>this._updateMoveTooltip(t,i)));return e.next((()=>{o(this.inputState)&&this.emit(\"graphic-translate-stop\",{graphic:this.graphic,dxScreen:0,dyScreen:0}),this._cancel()})),a}_updateOperationStartProperties(){D(this._displayBounds,this._displayBoundsStart),D(this._mapBounds,this._mapBoundsStart),n(this.graphic.geometry)?this._sizeStart=null:this._sizeStart=Et(this._mapBoundsStart,this._zmax,this.graphic.geometry.spatialReference,this._graphicState.isDraped)}_moveDragUpdateGeometry(){return t=>{if(n(this.inputState)||\"move\"!==this.inputState.type)return t;const e=[];for(const s of this._editGeometryOperations.data.components)e.push(...s.vertices);const i=\"start\"===t.action?Tt.NEW_STEP:Tt.ACCUMULATE_STEPS,a=this._editGeometryOperations.moveVertices(e,t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ,i);return Ot(a,this._mapBounds),this.graphic.geometry=this._editGeometryOperations.data.geometry,t}}_updateMoveTooltip(t,e){if(e===ht.XY||e===ht.XY_AXIS){const e=It(t.mapStart,t.mapEnd,this._graphicState.isDraped?\"on-the-ground\":\"absolute-height\");o(e)&&o(this._moveXYTooltipInfo)&&(this._moveXYTooltipInfo.distance=e)}return t}_onResizeGrab(t){if(\"start\"!==t.action)return;const e=this._calculatePickRay(t.screenPoint);w(this._displayBounds.plane,e,Z.get())&&(this._updateOperationStartProperties(),this._displayBoundsMarginStart=this._displayBoundsMargin,this.inputState={type:\"resize\"})}_createResizeDragPipeline(t,e){return yt(t,((t,i,a)=>{n(this.inputState)||(i.next((t=>(\"start\"===t.action&&this.emit(\"graphic-scale-start\",{graphic:this.graphic,xScale:1,yScale:1}),t))).next(rt(this.view,this._displayBoundsStart.plane)).next((t=>({...t,handle:e}))).next(this._resizeDragRenderPlaneToFactors()).next(this._preserveAspectRatio.createDragEventPipelineStep(),this._preserveAspectRatio.next).next(this._resizeDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,xScale:t.factor1,yScale:t.factor2};switch(t.action){case\"start\":case\"update\":this.emit(\"graphic-scale\",e);break;case\"end\":this.inputState=null,this.emit(\"graphic-scale-stop\",e)}return t})),a.next((()=>{o(this.inputState)&&this.emit(\"graphic-scale-stop\",{graphic:this.graphic,xScale:1,yScale:1}),this._cancel()})))}))}_resizeDragRenderPlaneToFactors(){return t=>{const e=this._displayBoundsStart,i=t.handle.direction,a=this._displayBoundsMargin,s=this._displayBoundsMarginStart,o=b(Z.get(),e.origin);T(o,o,e.basis1,-i[0]),T(o,o,e.basis2,-i[1]);const r=x(Z.get(),t.renderEnd,o),n=x(Z.get(),t.renderStart,o),p=F(t.handle),l=q(e),h=q(this._displayBounds)/l,c=(t,e)=>{if(0===t)return 1;let i=B(e),o=.5*t*A(e,r)/i;const l=o<0?-1:1;if(p){o+=(i-.5*t*A(e,n)/i)*l*h}const c=i<1.5*s?1:Yt;return i=Math.max(i-s,Yt),l>0&&(o-=a),l*Math.max(l*(o/i),c)};return{...t,factor1:c(i[0],e.basis1),factor2:c(i[1],e.basis2)}}}_resizeDragUpdateGeometry(){return t=>{const e=b(O(),this._mapBoundsStart.origin);T(e,e,this._mapBoundsStart.basis1,-t.handle.direction[0]),T(e,e,this._mapBoundsStart.basis2,-t.handle.direction[1]);const i=y(M(),this._mapBoundsStart.basis1[0],this._mapBoundsStart.basis1[1]);S(i,i);const a=[];for(const r of this._editGeometryOperations.data.components)a.push(...r.vertices);const s=\"start\"===t.action?Tt.NEW_STEP:Tt.ACCUMULATE_STEPS,o=this._editGeometryOperations.scaleVertices(a,e,i,t.factor1,t.factor2,s,xt.REPLACE);return D(this._mapBoundsStart,this._mapBounds),Ot(o,this._mapBounds),this.graphic.geometry=this._editGeometryOperations.data.geometry,t}}_onRotateGrab(t){if(\"start\"!==t.action)return;const e=W(this._displayBounds,this.view.renderCoordsHelper,J.HEADING,z()),i=this._calculatePickRay(t.screenPoint);w(e,i,Z.get())&&(this._updateOperationStartProperties(),this.inputState={type:\"rotate\",rotatePlane:e})}_createRotateDragPipeline(t){return yt(t,((t,e,i)=>{const a=this.inputState;n(a)||(e.next((t=>(\"start\"===t.action&&this.emit(\"graphic-rotate-start\",{graphic:this.graphic,angle:0}),t))).next(rt(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,angle:s(t.rotateAngle)};switch(t.action){case\"start\":case\"update\":this.emit(\"graphic-rotate\",e);break;case\"end\":this.inputState=null,this.emit(\"graphic-rotate-stop\",e)}return t})),i.next((()=>{o(this.inputState)&&this.emit(\"graphic-rotate-stop\",{graphic:this.graphic,angle:0}),this._cancel()})))}))}_rotateDragRenderPlaneToRotate(t){return e=>{const i=P(t.rotatePlane),a=st(e.renderStart,e.renderEnd,this._displayBounds.origin,i);return{...e,rotateAxis:i,rotateAngle:a}}}_rotateDragUpdateGeometry(){return t=>{const e=b(O(),this._mapBoundsStart.origin),i=[];for(const o of this._editGeometryOperations.data.components)i.push(...o.vertices);const a=\"start\"===t.action?Tt.NEW_STEP:Tt.ACCUMULATE_STEPS,s=this._editGeometryOperations.rotateVertices(i,e,t.rotateAngle,a,xt.REPLACE);return D(this._mapBoundsStart,this._mapBounds),Ot(s,this._mapBounds),this.graphic.geometry=this._editGeometryOperations.data.geometry,t}}_calculatePickRay(t){const e=I(),i=d(t);return vt(this.view.state.camera,i,e),E(e.direction,e.direction),e}_updateManipulators(){if(!this.visible)return;const t=K(this._displayBounds,C.get());Q(this._rotateManipulator,t,this._displayBounds,this.view.renderCoordsHelper),this._updateZMoveHandle(this._moveZManipulator,t),this._resizeManipulators.forEach(((e,i)=>{$(e,this._resizeHandles[i],t,this._displayBounds)}))}_updateZMoveHandle(t,e){const i=this._displayBounds,a={basis:i.basis1,direction:-1,position:x(Z.get(),i.origin,i.basis1),edge:2},s=C.get();v(s,e,a.edge*Math.PI/2),s[12]=0,s[13]=0,s[14]=0,t.modelTransform=s,t.renderLocation=a.position}_cancel(){const t=this._editGeometryOperations.lastOperation;n(t)||(this._editGeometryOperations.undo(),this.graphic.geometry=this._editGeometryOperations.data.geometry,Rt(t,this._mapBounds),this._updateDisplayBounds(),this.inputState=null)}get canUndo(){return this._editGeometryOperations.canUndo}undo(){if(o(this.inputState))this.view.activeTool=null;else if(this.canUndo){const t=this._editGeometryOperations.undo();this.graphic.geometry=this._editGeometryOperations.data.geometry,Rt(p(t),this._mapBounds),this._updateDisplayBounds()}}get canRedo(){return this._editGeometryOperations.canRedo}redo(){if(this.canRedo){const t=this._editGeometryOperations.redo();this.graphic.geometry=this._editGeometryOperations.data.geometry,Ot(p(t),this._mapBounds),this._updateDisplayBounds()}}get test(){return{resizeManipulators:this._resizeManipulators,rotateManipulator:this._rotateManipulator,moveZManipulator:this._moveZManipulator,tooltip:this._tooltip}}};t([_({constructOnly:!0,nonNullable:!0})],Zt.prototype,\"view\",void 0),t([_({constructOnly:!0,nonNullable:!0})],Zt.prototype,\"graphic\",void 0),t([_({constructOnly:!0,nonNullable:!0})],Zt.prototype,\"enableZ\",void 0),t([_()],Zt.prototype,\"enableRotation\",void 0),t([_()],Zt.prototype,\"enableScaling\",void 0),t([_({constructOnly:!0,type:jt})],Zt.prototype,\"tooltipOptions\",void 0),t([_()],Zt.prototype,\"preserveAspectRatio\",null),t([_()],Zt.prototype,\"grabbing\",void 0),t([_()],Zt.prototype,\"inputState\",void 0),t([_({readOnly:!0})],Zt.prototype,\"type\",void 0),t([_()],Zt.prototype,\"_moveUnit\",null),Zt=t([g(\"esri.views.3d.interactive.editingTools.graphicTransform3D.ExtentTransformTool\")],Zt);const Ct=\"draped-elevation-changes\",kt=10,Xt=80,Yt=1e-6;export{Yt as EPSILON,Zt as ExtentTransformTool};\n"],
  "mappings": "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",
  "names": ["e", "r", "t", "o", "n", "l", "i", "l", "n", "m", "t", "e", "o", "i", "r", "s", "h", "a", "x", "p", "d", "c", "y", "S", "w", "P", "m", "e", "j", "t", "u", "f", "l", "a", "n", "s", "o", "i", "c", "p", "h", "C", "d", "G", "b", "x", "v", "r", "V", "A", "k", "y", "a", "P", "e", "t", "o", "s", "i", "m", "d", "c", "n", "t", "l", "e", "s", "m", "e", "o", "h", "s", "R", "_", "t", "w", "O", "_", "e", "n", "t", "r", "s", "o", "h", "V", "E", "F", "i", "f", "u", "b", "a", "d", "c", "T", "O", "e", "t", "f", "t", "r", "n", "v", "p", "e", "o", "E", "s", "R", "_", "H", "n", "e", "D", "e", "t", "l", "S", "f", "E", "r", "h", "_", "B", "u", "n", "i", "m", "p", "T", "a", "v", "A", "s", "d", "t", "e", "C", "n", "v", "r", "i", "o", "m", "h", "D", "n", "t", "e", "s", "r", "l", "i", "x", "G", "n", "t", "d", "r", "V", "o", "F", "e", "H", "l", "i", "q", "h", "a", "s", "T", "b", "p", "W", "v", "L", "A", "S", "O", "v", "n", "t", "r", "o", "e", "a", "H", "l", "q", "s", "i", "A", "V", "M", "c", "O", "d", "P", "m", "k", "u", "E", "u", "e", "r", "s", "t", "i", "l", "n", "x", "_", "h", "S", "e", "r", "u", "t", "a", "s", "O", "o", "z", "b", "i", "Q", "x", "m", "h", "n", "c", "l", "S", "n", "t", "o", "r", "e", "a", "i", "m", "H", "l", "c", "q", "x", "w", "d", "O", "_", "r", "t", "o", "a", "S", "p", "i", "e", "l", "s", "c", "f", "m", "g", "v", "n", "G", "V", "H", "E", "w", "r", "h", "c", "t", "e", "i", "a", "l", "o", "s", "y", "n", "p", "d", "u", "P", "g", "f", "w", "C", "m", "O", "A", "W", "V", "b", "z", "h", "e", "r", "n", "s", "E", "m", "i", "y", "S", "t", "v", "n", "r", "o", "u", "e", "h", "d", "a", "W", "s", "O", "i", "f", "T", "H", "m", "A", "M", "x", "t", "e", "o", "l", "r", "i", "s", "n", "a", "f", "c", "g", "e", "o", "v", "r", "i", "h", "c", "A", "I", "a", "E", "_", "t", "j", "s", "n", "O", "v", "d", "e", "x", "j", "t", "s", "a", "c", "l", "u", "h", "O", "p", "n", "o", "L", "w", "E", "g", "r", "T", "i", "m", "y", "_", "n", "e", "o", "y", "a", "r", "i", "s", "t", "h", "c", "p", "m", "l", "v", "T", "e", "n", "r", "y", "T", "Z", "e", "t", "x", "s", "i", "r", "l", "h", "C", "q", "c", "o", "_", "a", "u", "y", "G", "n", "M", "b", "m", "S", "s", "e", "n", "o", "u", "p", "c", "t", "a", "m", "g", "e", "n", "w", "u", "i", "x", "t", "h", "Z", "pe", "s", "r", "b", "a", "c", "o", "ue", "y", "l", "d", "_", "g", "q", "m", "M", "F", "v", "p", "_", "e", "o", "E", "r", "i", "s", "h", "C", "A", "l", "a", "f", "t", "w", "R", "n", "p", "d", "e", "w", "t", "S", "r", "a", "s", "i", "n", "x", "h", "E", "m", "v", "f", "_", "A", "e", "t", "o", "r", "a", "n", "v", "m", "I", "L", "R", "T", "_e", "p", "i", "c", "d", "O", "l", "q", "u", "H", "F", "f", "x", "z", "e", "t", "i", "c", "s", "u", "D", "f", "h", "d", "r", "a", "o", "N", "C", "n", "V", "A", "p", "t", "o", "f", "N", "A", "a", "N", "s", "A", "b", "t", "a", "n", "i", "e", "l", "j", "r", "S", "o", "L", "f", "y", "s", "p", "m", "d", "E", "G", "T", "A", "D", "N", "M", "C", "O", "M", "t", "n", "i", "o", "e", "a", "r", "C", "P", "s", "p", "m", "u", "f", "G", "y", "b", "d", "A", "h", "R", "U", "D", "I", "T", "V", "N", "g", "B", "Z", "j", "l", "S", "c", "w", "i", "M", "b", "t", "a", "e", "h", "M", "c", "o", "I", "P", "i", "l", "n", "p", "r", "s", "x", "b", "d", "f", "g", "j", "k", "m", "q", "u", "v", "w", "t", "a", "i", "o", "C", "e", "r", "D", "T", "t", "s", "c", "n", "l", "i", "a", "u", "L", "q", "p", "m", "M", "o", "N", "d", "P", "f", "h", "k", "J", "_", "G", "A", "F", "e", "q", "J", "n", "L", "d", "r", "t", "a", "i", "c", "s", "e", "o", "h", "M", "n", "C", "t", "e", "n", "a", "A", "r", "i", "f", "s", "o", "d", "l", "p", "u", "N", "g", "U", "c", "Z", "M", "B", "x", "h", "q", "m", "a", "G", "e", "n", "t", "d", "E", "t", "a", "e", "A", "i", "r", "s", "f", "o", "d", "n", "l", "p", "u", "N", "U", "q", "c", "M", "h", "m", "T", "t", "e", "n", "A", "r", "i", "a", "o", "s", "d", "l", "G", "U", "y", "m", "p", "u", "X", "c", "C", "h", "b", "M", "g", "q", "j", "w", "k", "P", "x", "D", "f", "_", "u", "t", "a", "n", "e", "s", "E", "C", "T", "i", "r", "M", "A", "c", "f", "I", "l", "t", "A", "r", "e", "a", "p", "d", "o", "h", "c", "m", "P", "U", "i", "C", "L", "t", "N", "i", "e", "q", "B", "a", "n", "p", "j", "u", "l", "m", "w", "P", "J", "r", "o", "M", "f", "S", "v", "s", "h", "D", "y", "_", "g", "j", "e", "r", "o", "n", "A", "P", "h", "s", "c", "y", "Y", "i", "u", "_", "p", "v", "t", "C", "m", "R", "x", "d", "p", "e", "o", "j", "y", "n", "n", "d", "e", "A", "y", "I", "t", "u", "i", "m", "l", "h", "f", "a", "o", "r", "E", "M", "s", "X", "_", "P", "S", "Z", "N", "U", "c", "p", "R", "j", "C", "T", "F", "v", "x", "H", "v", "n", "p", "e", "t", "c", "l", "w", "m", "P", "U", "y", "r", "e", "o", "y", "n", "s", "p", "t", "u", "i", "o", "r", "n", "m", "f", "h", "e", "A", "a", "d", "l", "c", "C", "_", "p", "Y", "z", "q", "s", "g", "k", "P", "b", "Z", "x", "B", "D", "j", "M", "y", "T", "R", "v", "r", "t", "o", "n", "m", "i", "e", "d", "t", "f", "U", "e", "g", "l", "y", "r", "i", "o", "a", "n", "m", "y", "d", "t", "f", "U", "g", "e", "i", "o", "r", "m", "s", "a", "c", "h", "p", "l", "n", "V", "a", "n", "p", "t", "u", "e", "l", "m", "w", "i", "M", "f", "r", "s", "_", "o", "d", "y", "C", "v", "j", "c", "i", "l", "o", "e", "y", "w", "g", "s", "a", "n", "c", "a", "f", "h", "p", "j", "k", "l", "r", "b", "e", "l", "k", "C", "e", "l", "S", "r", "U", "d", "g", "q", "w", "y", "z", "A", "B", "D", "E", "F", "G", "H", "I", "J", "g", "e", "u", "e", "o", "E", "l", "R", "I", "_", "t", "g", "x", "z", "n", "I", "n", "t", "e", "D", "i", "n", "r", "c", "s", "Re", "_", "t", "e", "i", "n", "r", "s", "o", "ne", "a", "re", "d", "c", "m", "p", "se", "g", "f", "u", "b", "be", "t", "e", "c", "ne", "t", "e", "s", "i", "H", "re", "se", "oe", "_e", "A", "n", "r", "B", "pe", "de", "w", "y", "z", "f", "h", "o", "a", "D", "c", "m", "S", "l", "U", "u", "d", "q", "p", "g", "F", "ue", "t", "e", "i", "se", "n", "r", "q", "s", "E", "o", "H", "a", "F", "c", "G", "l", "u", "d", "m", "p", "I", "J", "x", "de", "T", "f", "O", "w", "y", "M", "me", "L", "C", "Z", "k", "pe", "z", "be", "t", "e", "i", "t", "u", "Re", "d", "_e", "t", "_e", "A", "n", "o", "r", "A", "s", "G", "a", "t", "e", "se", "S", "s", "o", "_", "Y", "i", "t", "z", "P", "c", "U", "n", "r", "w", "A", "b", "G", "f", "u", "m", "p", "j", "M", "I", "d", "l", "a", "e", "g", "h", "x", "V", "H", "n", "p", "t", "s", "G", "e", "i", "r", "l", "oe", "_e", "A", "ue", "o", "R", "S", "h", "d", "u", "m", "a", "D", "M", "w", "v", "N", "f", "kt", "U", "P", "E", "q", "c", "C", "se", "re", "Re", "Y", "z", "y"]
}
