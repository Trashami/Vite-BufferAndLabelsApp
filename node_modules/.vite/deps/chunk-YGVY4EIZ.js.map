{
  "version": 3,
  "sources": ["../../@arcgis/core/support/timeUtils.js", "../../@arcgis/core/layers/support/commonProperties.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../TimeExtent.js\";import{unwrap as t,isSome as n,isNone as i}from\"../core/maybe.js\";import{eachAlways as o}from\"../core/promiseUtils.js\";import{offsetDate as r}from\"../core/timeUtils.js\";function m(e){return void 0!==e.timeInfo}async function s(n,r){if(0===n.length)return e.allTime;const s=n.filter(m);await Promise.all(s.map((e=>e.load({signal:r}))));const a=[],f=[];for(const e of s)\"feature\"!==e?.type&&\"map-image\"!==e?.type||!e.timeInfo.hasLiveData?f.push(e):a.push(e);const u=e=>i(e)||e.isAllTime,c=f.map((e=>e.timeInfo.fullTimeExtent));if(c.some(u))return e.allTime;const l=a.map((async e=>{const{timeExtent:n}=await e.fetchRecomputedExtents({signal:r});return n||t(e.timeInfo.fullTimeExtent)})),p=(await o(l)).map((e=>e.value));if(p.some(u))return e.allTime;return p.concat(c).reduce(((e,t)=>e.union(t)))}function a(t){if(!t)return t;const{start:i,end:o}=t;return new e({start:n(i)?r(i,-i.getTimezoneOffset(),\"minutes\"):i,end:n(o)?r(o,-o.getTimezoneOffset(),\"minutes\"):o})}function f(t){if(!t)return t;const{start:i,end:o}=t;return new e({start:n(i)?r(i,i.getTimezoneOffset(),\"minutes\"):i,end:n(o)?r(o,o.getTimezoneOffset(),\"minutes\"):o})}export{s as getTimeExtentFromLayers,f as toLocalTimeExtent,a as toUTCTimeExtent};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../TimeExtent.js\";import r from\"../../geometry/Extent.js\";import i from\"../../geometry/SpatialReference.js\";import{w as n}from\"../../chunks/persistableUrlUtils.js\";import{toLocalTimeExtent as t,toUTCTimeExtent as o}from\"../../support/timeUtils.js\";import a from\"../../symbols/support/ElevationInfo.js\";import{transparencyToOpacity as s}from\"../../webdoc/support/opacityUtils.js\";const l={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},\"web-map\":{read:!1,write:!1}},name:\"screenSizePerspective\",write:!0}},p={type:Boolean,value:!0,json:{name:\"disablePopup\",read:{reader:(e,r)=>!r.disablePopup},write:{enabled:!0,writer(e,r,i){r[i]=!e}}}},m={type:Boolean,value:!0,nonNullable:!0,json:{name:\"showLabels\",write:!0}},f={type:String,json:{origins:{\"portal-item\":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:n}}},c={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:\"showLegend\",write:!0}},d={value:null,type:a,json:{origins:{service:{name:\"elevationInfo\",write:!0}},name:\"layerDefinition.elevationInfo\",write:!0}};function y(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const w={type:Number,json:{origins:{\"web-document\":{write:!0,read:!0},\"portal-item\":{write:!0}}}},u={...w,json:{...w.json,origins:{\"web-document\":{...w.json.origins[\"web-document\"],write:{enabled:!0,target:{opacity:{type:Number},\"layerDefinition.drawingInfo.transparency\":{type:Number}}}}},read:{source:[\"layerDefinition.drawingInfo.transparency\",\"drawingInfo.transparency\"],reader:(e,r,i)=>i&&\"service\"!==i.origin||!r.drawingInfo||void 0===r.drawingInfo.transparency?r.layerDefinition&&r.layerDefinition.drawingInfo&&void 0!==r.layerDefinition.drawingInfo.transparency?s(r.layerDefinition.drawingInfo.transparency):void 0:s(r.drawingInfo.transparency)}}},g={type:e,readOnly:!0,get(){if(!this.layer?.timeInfo)return null;const{datesInUnknownTimezone:e,timeOffset:r,useViewTime:i}=this.layer,n=this.view?.timeExtent;let a=this.layer.timeExtent;e&&(a=t(a));let s=i?n&&a?n.intersection(a):n||a:a;if(!s||s.isEmpty||s.isAllTime)return s;r&&(s=s.offset(-r.value,r.unit)),e&&(s=o(s));const l=this._get(\"timeExtent\");return s.equals(l)?l:s}},b={type:r,readOnly:!0,json:{origins:{service:{read:{source:[\"fullExtent\",\"spatialReference\"],reader:(e,n)=>{const t=r.fromJSON(e);return null!=n.spatialReference&&\"object\"==typeof n.spatialReference&&(t.spatialReference=i.fromJSON(n.spatialReference)),t}}}},read:!1}},j={type:String,json:{origins:{service:{read:!1},\"portal-item\":{read:!1}}}},v={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:\"layerDefinition.minScale\"},write:{target:\"layerDefinition.minScale\"}}},I={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:\"layerDefinition.maxScale\"},write:{target:\"layerDefinition.maxScale\"}}},D={json:{write:{ignoreOrigin:!0},origins:{\"web-map\":{read:!1,write:!1}}}};export{g as combinedViewLayerTimeExtentProperty,d as elevationInfo,j as id,m as labelsVisible,c as legendEnabled,D as listMode,I as maxScale,v as minScale,w as opacity,u as opacityDrawingInfo,p as popupEnabled,y as readOnlyService,b as sceneLayerFullExtent,l as screenSizePerspectiveEnabled,f as url};\n"],
  "mappings": "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",
  "names": ["t", "f", "e", "r", "f", "w", "n", "a", "l", "t"]
}
