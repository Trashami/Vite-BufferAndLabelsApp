import {
  n2 as n
} from "./chunk-HVKDYDPP.js";

// node_modules/@arcgis/core/layers/support/labelUtils.js
var n2 = "__begin__";
var r = "__end__";
var s = new RegExp(n2, "ig");
var t = new RegExp(r, "ig");
var o = new RegExp("^" + n2, "i");
var i = new RegExp(r + "$", "i");
var l = '"';
var a = l + " + ";
var c = " + " + l;
function p(e) {
  return e.replace(new RegExp("\\[", "g"), "{").replace(new RegExp("\\]", "g"), "}");
}
function u(e) {
  return e.replace(new RegExp("\\{", "g"), "[").replace(new RegExp("\\}", "g"), "]");
}
function x(e) {
  const n3 = { expression: "", type: "none" };
  return e.labelExpressionInfo ? e.labelExpressionInfo.value ? (n3.expression = e.labelExpressionInfo.value, n3.type = "conventional") : e.labelExpressionInfo.expression && (n3.expression = e.labelExpressionInfo.expression, n3.type = "arcade") : null != e.labelExpression && (n3.expression = p(e.labelExpression), n3.type = "conventional"), n3;
}
function f(e) {
  const n3 = x(e);
  if (!n3)
    return null;
  switch (n3.type) {
    case "conventional":
      return w(n3.expression);
    case "arcade":
      return n3.expression;
  }
  return null;
}
function g(e) {
  const n3 = x(e);
  if (!n3)
    return null;
  switch (n3.type) {
    case "conventional":
      return $(n3.expression);
    case "arcade":
      return _(n3.expression);
  }
  return null;
}
function w(p2) {
  let u2;
  return p2 ? (u2 = n(p2, (e) => n2 + '$feature["' + e + '"]' + r), u2 = o.test(u2) ? u2.replace(o, "") : l + u2, u2 = i.test(u2) ? u2.replace(i, "") : u2 + l, u2 = u2.replace(s, a).replace(t, c)) : u2 = '""', u2;
}
var E = /^\s*\{([^}]+)\}\s*$/i;
function $(e) {
  const n3 = e.match(E);
  return n3 && n3[1].trim() || null;
}
var b = /^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i;
var m = /^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i;
var R = /^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;
function _(e) {
  if (!e)
    return null;
  let n3 = b.exec(e) || m.exec(e);
  return n3 ? n3[1] || n3[3] : (n3 = R.exec(e), n3 ? n3[2] : null);
}

export {
  u,
  x,
  f,
  g,
  w,
  _
};
//# sourceMappingURL=chunk-76CXRT5P.js.map
