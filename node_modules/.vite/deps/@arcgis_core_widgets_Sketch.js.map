{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/interactive/editingTools/transformGraphic/isSupportedGraphic.js", "../../@arcgis/core/views/interactive/snapping/candidates/RightAngleSnappingCandidate.js", "../../@arcgis/core/views/interactive/snapping/FeatureSnappingEngine.js", "../../@arcgis/core/views/interactive/snapping/SnappingAlgorithm.js", "../../@arcgis/core/views/interactive/snapping/candidates/LineSnappingCandidate.js", "../../@arcgis/core/views/interactive/snapping/LineSnapper.js", "../../@arcgis/core/views/interactive/snapping/candidates/ParallelLineSnappingCandidate.js", "../../@arcgis/core/views/interactive/snapping/ParallelLineSnapper.js", "../../@arcgis/core/views/interactive/snapping/RightAngleSnapper.js", "../../@arcgis/core/views/interactive/snapping/candidates/RightAngleTriangleSnappingCandidate.js", "../../@arcgis/core/views/interactive/snapping/RightAngleTriangleSnapper.js", "../../@arcgis/core/views/interactive/snapping/SelfSnappingEngine.js", "../../@arcgis/core/views/interactive/snapping/snappingFactory.js", "../../@arcgis/core/views/interactive/snapping/FeatureSnappingLayerSource.js", "../../@arcgis/core/views/interactive/snapping/SnappingOptions.js", "../../@arcgis/core/views/interactive/snapping/candidates/IntersectionSnappingCandidate.js", "../../@arcgis/core/views/interactive/snapping/SnappingManager.js", "../../@arcgis/core/views/support/hitTestSelectUtils.js", "../../@arcgis/core/widgets/Sketch/support/OperationHandle.js", "../../@arcgis/core/widgets/Sketch/SketchViewModel.js", "../../@arcgis/core/widgets/support/Selector2D/selectorUtils.js", "../../@arcgis/core/widgets/support/Selector2D/SelectionOperation2D.js", "../../@arcgis/core/widgets/support/Selector2D.js", "../../@arcgis/core/widgets/support/SelectionToolbar/SelectionToolbarViewModel.js", "../../@arcgis/core/widgets/support/SelectionToolbar.js", "../../@arcgis/core/widgets/support/SnappingControls/snappingLayerListUtils.js", "../../@arcgis/core/widgets/support/SnappingControls/SnappingListItem.js", "../../@arcgis/core/widgets/support/SnappingControls/SnappingLayerListViewModel.js", "../../@arcgis/core/widgets/support/SnappingControls/SnappingControlsViewModel.js", "../../@arcgis/core/widgets/support/SnappingControls.js", "../../@arcgis/core/widgets/Sketch.js", "dep:@arcgis_core_widgets_Sketch"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import{isNone as e,isSome as t}from\"../../../../../core/maybe.js\";import{getGraphicEffectiveElevationMode as o,hasGraphicFeatureExpressionInfo as r}from\"../../../../../support/elevationInfoUtils.js\";import{SupportedGraphicResult as s}from\"../isSupportedGraphicUtils.js\";function i(i){if(\"graphics\"!==i.layer?.type)return s.GRAPHICS_LAYER_MISSING;if(e(i.geometry))return s.GEOMETRY_MISSING;switch(i.geometry.type){case\"point\":break;case\"polygon\":case\"polyline\":case\"multipoint\":case\"extent\":case\"mesh\":return s.SUPPORTED;default:return s.GEOMETRY_TYPE_UNSUPPORTED}const n=t(i.symbol)&&\"point-3d\"===i.symbol.type&&i.symbol.symbolLayers;if(!(n&&n.length>0&&n.some((e=>\"object\"===e.type))))return s.SYMBOL_TYPE_UNSUPPORTED;return\"on-the-ground\"!==o(i)&&r(i)?s.ELEVATION_MODE_UNSUPPORTED:s.SUPPORTED}export{i as isSupportedGraphic};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{SnappingDomain as t}from\"../SnappingDomain.js\";import{LineSegmentHintType as e}from\"../snappingUtils.js\";import{SnappingCandidate as i}from\"./SnappingCandidate.js\";import{LineSnappingHint as r}from\"../hints/LineSnappingHint.js\";import{RightAngleSnappingHint as o}from\"../hints/RightAngleSnappingHint.js\";class n extends i{constructor({coordinateHelper:e,targetPoint:i,constraint:r,previousVertex:o,otherVertex:n,otherVertexType:s,objectId:h,elevationInfo:p}){super(e,i,r,p,t.SELF),this.previousVertex=o,this.otherVertex=n,this.otherVertexType=s,this.objectId=h}get hints(){const t=this.previousVertex,i=this.otherVertexType===s.CENTER?this.otherVertex:this.targetPoint,n=this.otherVertexType===s.CENTER?this.targetPoint:this.otherVertex,h=this.elevationInfo;return[new r(e.TARGET,i,n,h,this.domain),new r(e.REFERENCE,t,i,h,this.domain),new o(this.previousVertex,i,n,h,this.domain)]}}var s;!function(t){t[t.NEXT=0]=\"NEXT\",t[t.CENTER=1]=\"CENTER\"}(s||(s={}));export{s as OtherVertexType,n as RightAngleSnappingCandidate};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{HandleOwner as t}from\"../../../core/HandleOwner.js\";import r from\"../../../core/Handles.js\";import{someMap as o}from\"../../../core/MapUtils.js\";import{isSome as n,isNone as s,unwrap as a}from\"../../../core/maybe.js\";import{eachAlwaysValues as i,throwIfAborted as c}from\"../../../core/promiseUtils.js\";import{sync as u,watch as l,syncAndInitial as p}from\"../../../core/reactiveUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import{o as g}from\"../../../chunks/vec2.js\";import{c as y}from\"../../../chunks/vec3.js\";import{c as S}from\"../../../chunks/vec3f64.js\";import{SnappingTypes as m}from\"../../../layers/graphics/data/QueryEngineResult.js\";import{absoluteHeightElevationInfo as f,getConvertedElevationFromVector as v}from\"../../../support/elevationInfoUtils.js\";import{VerticalHalfPlaneConstraint as w}from\"./SnappingConstraint.js\";import{SnappingDomain as _}from\"./SnappingDomain.js\";import{sortCandidatesInPlace as j,convertPointElevation as C,screenDistance as F}from\"./snappingUtils.js\";import{EdgeSnappingCandidate as x}from\"./candidates/EdgeSnappingCandidate.js\";import{FeatureSnappingCandidate as H}from\"./candidates/FeatureSnappingCandidate.js\";import{RightAngleSnappingCandidate as b,OtherVertexType as R}from\"./candidates/RightAngleSnappingCandidate.js\";import{vectorToScreenPoint as L}from\"../support/viewUtils.js\";let M=class extends t{constructor(e){super(e),this.options=null,this._domain=_.FEATURE,this._sourceModules={featureService:{module:null,loader:null},featureCollection:{module:null,loader:null},graphics:{module:null,loader:null},notes:{module:null,loader:null},scene:{module:null,loader:null}}}get updating(){return o(this.snappingSources,(({snappingSource:e})=>e.updating))||this.updatingHandles.updating}get snappingSources(){const e=this._get(\"snappingSources\")||new Map,t=new Map;if(n(this.options)&&n(this.options.featureSources))for(const r of this.options.featureSources.items){const o=r.layer.uid,s=e.get(o);if(s){e.delete(o),t.set(o,s);continue}if(!r.layer.loaded){this.updatingHandles.addPromise(r.layer.load());continue}const a=this._createSourceInfo(r);n(a)&&t.set(o,a)}for(const[,r]of e)r.destroy();return t}initialize(){this.updatingHandles.add((()=>this.snappingSources),(()=>this.notifyChange(\"updating\")),u),n(this.view)&&this.handles.add([this.view.on(\"layerview-create\",(e=>this._updateLayerView(e.layer,e.layerView))),this.view.on(\"layerview-destroy\",(e=>this._updateLayerView(e.layer,null)))])}_updateLayerView(e,t){for(const[,r]of this.snappingSources)r.snappingSource.layerSource.layer===e&&(r.layerView=t)}destroy(){this._set(\"options\",null);for(const[,e]of this.snappingSources)e.destroy()}async fetchCandidates(e,t,r,o){if(!(t&this._domain)||s(this.options)||!this.options.effectiveFeatureEnabled)return[];const a=[],u=this._computeScreeenSizeDistanceParameters(e,r),l={distance:u,point:e,coordinateHelper:r.coordinateHelper,types:this._types};for(const[,{snappingSource:s,layerView:i}]of this.snappingSources)!s.layerSource.enabled||n(i)&&i.suspended||a.push(s.fetchCandidates(l,o).then((e=>e.filter((e=>!this._candidateIsExcluded(s,e,r.excludeFeature))))));const p=(await i(a)).flat();return this._addRightAngleCandidates(p,e,u,r),c(o),j(e,p,r.coordinateHelper),p}_addRightAngleCandidates(e,t,r,o){const s=n(o.vertexHandle)?o.vertexHandle.rightEdge?.rightVertex?.pos:n(o.editGeometryOperations)&&\"polygon\"===o.editGeometryOperations.data.type?a(o.editGeometryOperations.data.components[0]?.getFirstVertex())?.pos:null,i=n(o.vertexHandle)?o.vertexHandle.leftEdge?.leftVertex?.pos:n(o.editGeometryOperations)?a(o.editGeometryOperations.data.components[0]?.getLastVertex())?.pos:null,{view:c}=this,u=C(s,c,o),l=C(i,c,o),p=e.length;for(let n=0;n<p;n++)this._addRightAngleCandidate(e[n],l,t,r,o,e),this._addRightAngleCandidate(e[n],u,t,r,o,e)}_addRightAngleCandidate(e,t,r,o,n,a){const i=e instanceof x,c=i&&g(e.constraint.start,e.constraint.end);if(s(t)||!i||c)return;const u=e.constraint.closestTo(t),l=(u[0]-r[0])/o.x,p=(u[1]-r[1])/o.y;if(l*l+p*p<=1){const r=n.coordinateHelper,o=new b({coordinateHelper:r,targetPoint:u,otherVertex:t,otherVertexType:R.NEXT,previousVertex:e.constraint.start,constraint:new w(r,t,u),objectId:e.objectId,elevationInfo:e.elevationInfo});a.push(o)}}_computeScreeenSizeDistanceParameters(e,t){let r=n(this.options)?this.options.distance*(\"touch\"===t.pointer?this.options.touchSensitivityMultiplier:1):0;return s(this.view)?{x:r,y:r,z:r,distance:r}:\"2d\"===this.view.type?(r*=this.view.resolution,{x:r,y:r,z:r,distance:r}):this._computeScreenSizeDistanceParameters3D(e,r,this.view,t)}_computeScreenSizeDistanceParameters3D(e,t,r,o){const{coordinateHelper:n,elevationInfo:s}=o,{spatialReference:a}=n,i=n.hasZ()?f:s,c=n.toXYZ(e,E);c[2]=v(r,c,a,i,f),r.renderCoordsHelper.toRenderCoords(c,a,G);const u=r.state.camera.computeScreenPixelSizeAt(G),l=u*r.renderCoordsHelper.unitInMeters/r.mapCoordsHelper.unitInMeters,p=t*l,d=L(c,a,f,r),h=V(d,c,l,0,0,r,o),g=V(d,c,0,l,0,r,o),y=V(d,c,0,0,l,r,o);return{x:0===h?0:p/h,y:0===g?0:p/g,z:0===y?0:p/y,distance:u*t}}get _types(){return m.EDGE|m.VERTEX}_candidateIsExcluded(e,t,r){if(s(r))return!1;const o=this._getCandidateObjectId(t);if(s(o))return!1;const n=e.layerSource.layer;return\"graphics\"===n.type?r.uid===o:r.sourceLayer===n&&(!(!r.attributes||!(\"objectIdField\"in n))&&r.attributes[n.objectIdField]===o)}_getCandidateObjectId(e){return e instanceof H?e.objectId:null}_createSourceInfo(e){const t=this._createFeatureSnappingSourceType(e);if(s(t))return null;if(\"loading\"in t)return this.updatingHandles.addPromise(t.loading.then((()=>{this.destroyed||this.notifyChange(\"snappingSources\")}))),null;const r=n(this.view)?this.view.allLayerViews.find((t=>t.layer===e.layer)):null;return new I(t.source,r)}_createFeatureSnappingSourceType(e){switch(e.layer.type){case\"feature\":case\"geojson\":case\"csv\":case\"oriented-imagery\":case\"subtype-group\":case\"wfs\":return this._createFeatureSnappingSourceFeatureLayer(e);case\"graphics\":return this._createFeatureSnappingSourceGraphicsLayer(e);case\"map-notes\":return this._createFeatureSnappingSourceMapNotesLayer(e);case\"scene\":case\"building-scene\":return this._createFeatureSnappingSourceSceneLayer(e)}return null}_createFeatureSnappingSourceSceneLayer(e){const{view:t}=this;if(s(t)||\"3d\"!==t.type)return null;const r=this._getSourceModule(\"scene\");return n(r.module)?{source:new r.module.SceneLayerSnappingSource({layerSource:e,view:t})}:{loading:r.loader}}_createFeatureSnappingSourceFeatureLayer(e){switch(e.layer.source.type){case\"feature-layer\":case\"oriented-imagery\":{const t=this._getSourceModule(\"featureService\");return n(t.module)?{source:new t.module.FeatureServiceSnappingSource({spatialReference:this.spatialReference,view:this.view,layerSource:e})}:{loading:t.loader}}case\"memory\":case\"csv\":case\"geojson\":case\"wfs\":{if(\"mesh\"===e.layer.geometryType)return null;const t=this._getSourceModule(\"featureCollection\");return n(t.module)?{source:new t.module.FeatureCollectionSnappingSource({layerSource:e,view:this.view})}:{loading:t.loader}}}return null}_createFeatureSnappingSourceGraphicsLayer(e){const t=this._getSourceModule(\"graphics\");return n(t.module)?{source:new t.module.GraphicsSnappingSource({getGraphicsLayers:()=>[e.layer],spatialReference:this.spatialReference,view:this.view,layerSource:e})}:{loading:t.loader}}_createFeatureSnappingSourceMapNotesLayer(e){const t=this._getSourceModule(\"notes\");return n(t.module)?{source:new t.module.GraphicsSnappingSource({getGraphicsLayers:()=>n(e.layer.sublayers)?e.layer.sublayers.toArray():[],spatialReference:this.spatialReference,view:this.view,layerSource:e})}:{loading:t.loader}}_getSourceModule(e){const t=this._sourceModules[e];if(s(t.loader)){const r=this._loadSourceModule(e).then((e=>{t.module=e}));return t.loader=r,{module:t.module,loader:r}}return{module:t.module,loader:t.loader}}_loadSourceModule(e){const t=this.updatingHandles;switch(e){case\"featureService\":return t.addPromise(import(\"./featureSources/FeatureServiceSnappingSource.js\"));case\"featureCollection\":return t.addPromise(import(\"./featureSources/FeatureCollectionSnappingSource.js\"));case\"graphics\":case\"notes\":return t.addPromise(import(\"./featureSources/GraphicsSnappingSource.js\"));case\"scene\":return t.addPromise(import(\"./featureSources/SceneLayerSnappingSource.js\"))}return null}};e([d({constructOnly:!0})],M.prototype,\"spatialReference\",void 0),e([d({constructOnly:!0})],M.prototype,\"view\",void 0),e([d()],M.prototype,\"options\",void 0),e([d({readOnly:!0})],M.prototype,\"updating\",null),e([d({readOnly:!0})],M.prototype,\"snappingSources\",null),M=e([h(\"esri.views.interactive.snapping.FeatureSnappingEngine\")],M);class I{constructor(e,t){this.snappingSource=e,this.layerView=t,this.handles=new r;const o=this.snappingSource.layerSource.layer;if(\"refresh\"in o){const t=o;this.handles.add(t.on(\"refresh\",(()=>e.refresh())))}this.handles.add([l((()=>e.updating),(t=>e.layerSource.updating=t),p),l((()=>e.availability),(t=>e.layerSource.availability=t),p)])}destroy(){this.snappingSource.destroy(),this.handles.destroy()}}function V(e,t,r,o,n,s,{coordinateHelper:a}){const i=y(O,t);i[0]+=r,i[1]+=o,i[2]+=n;const c=L(i,a.spatialReference,f,s);return F(c,e)}const E=S(),G=S(),O=S();export{M as FeatureSnappingEngine};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{defaults as t}from\"./Settings.js\";import{squaredScreenDistance as r}from\"./snappingUtils.js\";import{anyMapPointToScreenPoint as s}from\"../support/viewUtils.js\";class i{constructor(e,r){this.view=e,this.options=r,this.squaredShortLineThreshold=t.shortLineThreshold*t.shortLineThreshold}snap(t,r){return e(r.vertexHandle)?\"vertex\"!==r.vertexHandle.type?[]:this.snapExistingVertex(t,r):this.snapNewVertex(t,r)}edgeExceedsShortLineThreshold(e,t){return this.exceedsShortLineThreshold(e.leftVertex.pos,e.rightVertex.pos,t)}exceedsShortLineThreshold(e,t,{elevationInfo:i,editGeometryOperations:o}){const h=o.data.coordinateHelper;return 0===this.squaredShortLineThreshold||r(s(t,h,i,this.view),s(e,h,i,this.view))>this.squaredShortLineThreshold}squaredProximityThreshold(e){return\"touch\"===e?this._squaredTouchProximityThreshold:this._squaredMouseProximityTreshold}get _squaredMouseProximityTreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:e,touchSensitivityMultiplier:t}=this.options,r=e*t;return r*r}}export{i as SnappingAlgorithm};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{VerticalPlaneConstraint as n}from\"../SnappingConstraint.js\";import{SnappingDomain as t}from\"../SnappingDomain.js\";import{LineSegmentHintType as i}from\"../snappingUtils.js\";import{SnappingCandidate as e}from\"./SnappingCandidate.js\";import{LineSnappingHint as o}from\"../hints/LineSnappingHint.js\";class r extends e{constructor({coordinateHelper:e,lineStart:r,lineEnd:s,targetPoint:a,elevationInfo:p}){super(e,a,new n(e,r,s),p,t.SELF),this._referenceLineHint=new o(i.REFERENCE_EXTENSION,r,s,p,this.domain)}get hints(){return[this._referenceLineHint,new o(i.TARGET,this._lineEndClosestToTarget(),this.targetPoint,this.elevationInfo,this.domain)]}_lineEndClosestToTarget(){return this.constraint.closestEndTo(this.targetPoint)}}export{r as LineSnappingCandidate};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../core/maybe.js\";import{c as t}from\"../../../chunks/vec3f64.js\";import{absoluteHeightElevationInfo as o}from\"../../../support/elevationInfoUtils.js\";import{SnappingAlgorithm as r}from\"./SnappingAlgorithm.js\";import{editEdgeToSnappingEdge as s,convertPointElevation as i,squaredScreenDistance as n}from\"./snappingUtils.js\";import{LineSnappingCandidate as d}from\"./candidates/LineSnappingCandidate.js\";import{anyMapPointToScreenPoint as p}from\"../support/viewUtils.js\";import{projectPointToLineLike as h}from\"../../support/geometry3dUtils.js\";import{LineType as l}from\"../../support/geometry2dUtils.js\";class a extends r{snapNewVertex(e,t){const r=t.editGeometryOperations.data.components[0],i=r.edges.length,n=[];if(i<1)return n;const d=t.coordinateHelper,h=p(e,d,o,this.view),{view:l}=this,a=r.edges[i-1];let g=a;do{if(this.edgeExceedsShortLineThreshold(g,t)){const o=s(g,l,t);this._processCandidateProposal(o.left,o.right,e,h,t,n)}g=g.leftVertex.leftEdge}while(g&&g!==a);return n}snapExistingVertex(t,r){const n=[],d=e(r.vertexHandle),h=d.component;if(h.edges.length<2)return n;const{view:l}=this,{coordinateHelper:a}=r,g=p(t,a,o,l),c=d.leftEdge,m=d.rightEdge;c&&m&&this.edgeExceedsShortLineThreshold(c,r)&&this.edgeExceedsShortLineThreshold(m,r)&&this._processCandidateProposal(i(c.leftVertex.pos,l,r),i(m.rightVertex.pos,l,r),t,g,r,n);const f=h.edges[0];let x=f;do{if(x!==d.leftEdge&&x!==d.rightEdge&&this.edgeExceedsShortLineThreshold(x,r)){const e=s(x,l,r);this._processCandidateProposal(e.left,e.right,t,g,r,n)}x=x.rightVertex.rightEdge}while(x&&x!==f);return n}_processCandidateProposal(e,t,r,s,i,l){const{coordinateHelper:a,pointer:x}=i;a.toXYZ(e,g),a.toXYZ(t,c);const E=a.toXYZ(r,f),u=h(E,m),j=a.fromXYZ(u);n(s,p(j,a,o,this.view))<this.squaredProximityThreshold(x)&&l.push(new d({coordinateHelper:a,lineStart:e,lineEnd:t,targetPoint:j,elevationInfo:a.hasZ()?o:null}))}}const g=t(),c=t(),m={start:g,end:c,type:l.LINE},f=t();export{a as LineSnapper};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{b as e,a as t}from\"../../../../chunks/vec3.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{VerticalPlaneConstraint as n}from\"../SnappingConstraint.js\";import{SnappingDomain as r}from\"../SnappingDomain.js\";import{LineSegmentHintType as s}from\"../snappingUtils.js\";import{SnappingCandidate as a}from\"./SnappingCandidate.js\";import{LineSnappingHint as f}from\"../hints/LineSnappingHint.js\";import{ParallelSnappingHint as o}from\"../hints/ParallelSnappingHint.js\";class h extends a{constructor({coordinateHelper:i,referenceLine:s,lineStart:a,targetPoint:f,elevationInfo:o}){const h=i.toXYZ(a,d),c=i.toXYZ(s.left,g),m=i.toXYZ(s.right,p);e(h,t(h,h,m),c),super(i,f,new n(i,a,i.fromXYZ(h)),o,r.SELF),this._referenceLines=[{edge:s,fadeLeft:!0,fadeRight:!0}]}get hints(){const e=this.elevationInfo;return[new f(s.TARGET,this.constraint.start,this.targetPoint,e,this.domain),new o(this.constraint.start,this.targetPoint,e,this.domain),...this._referenceLines.map((t=>new f(s.REFERENCE,t.edge.left,t.edge.right,e,this.domain,t.fadeLeft,t.fadeRight)))]}addReferenceLine(e){const t={edge:e,fadeLeft:!0,fadeRight:!0},{coordinateHelper:i}=this;this._referenceLines.forEach((n=>{i.equals(e.right,n.edge.left)&&(n.fadeLeft=!1,t.fadeRight=!1),i.equals(e.right,n.edge.right)&&(n.fadeRight=!1,t.fadeRight=!1),i.equals(e.left,n.edge.right)&&(n.fadeRight=!1,t.fadeLeft=!1),i.equals(e.left,n.edge.left)&&(n.fadeLeft=!1,t.fadeLeft=!1)})),this._referenceLines.push(t)}}const d=i(),g=i(),p=i();export{h as ParallelLineSnappingCandidate};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../core/maybe.js\";import{k as t}from\"../../../chunks/vec2.js\";import{a as r}from\"../../../chunks/vec2f64.js\";import{absoluteHeightElevationInfo as i}from\"../../../support/elevationInfoUtils.js\";import{defaults as s}from\"./Settings.js\";import{SnappingAlgorithm as o}from\"./SnappingAlgorithm.js\";import{convertPointElevation as n,editEdgeToSnappingEdge as l,squaredScreenDistance as a}from\"./snappingUtils.js\";import{ParallelLineSnappingCandidate as c}from\"./candidates/ParallelLineSnappingCandidate.js\";import{anyMapPointToScreenPoint as h}from\"../support/viewUtils.js\";import{projectPointToLine as d}from\"../../support/geometry2dUtils.js\";class p extends o{snapNewVertex(e,t){const r=t.editGeometryOperations.data.components[0],s=r.edges.length,o=r.vertices.length,a=[];if(s<2)return a;const{view:c}=this,d=h(e,t.coordinateHelper,i,c),p=n(r.vertices[o-1].pos,c,t),g=n(r.vertices[0].pos,c,t),f=r.edges[s-1];let m=f;do{if(this.edgeExceedsShortLineThreshold(m,t)){const r=l(m,c,t);this._checkEdgeForParalleLines(r,p,e,d,t,a),this._checkEdgeForParalleLines(r,g,e,d,t,a)}m=m.leftVertex.leftEdge}while(m&&m!==f);return a}snapExistingVertex(t,r){const s=[],o=e(r.vertexHandle),a=o.component;if(a.edges.length<3)return s;const{view:c}=this,d=h(t,r.coordinateHelper,i,c),p=o.leftEdge,g=o.rightEdge,f=a.vertices[0],m=n(f.pos,c,r),u=a.vertices.length,v=a.vertices[u-1],E=n(v.pos,c,r),L=a.edges[0];let x=L;do{if(x!==p&&x!==g&&this.edgeExceedsShortLineThreshold(x,r)){const e=l(x,c,r);p&&this._checkEdgeForParalleLines(e,n(p.leftVertex.pos,c,r),t,d,r,s),g&&this._checkEdgeForParalleLines(e,n(g.rightVertex.pos,c,r),t,d,r,s),o===f?this._checkEdgeForParalleLines(e,E,t,d,r,s):o===v&&this._checkEdgeForParalleLines(e,m,t,d,r,s)}x=x.rightVertex.rightEdge}while(x&&x!==L);return s}_checkEdgeForParalleLines(e,r,o,n,l,p){const f=e.left,m=e.right;if(d(g,r,f,m),t(g,r)<s.parallelLineThreshold)return;d(g,o,f,m,r);const{coordinateHelper:u,pointer:v}=l,E=u.fromXYZ(g,u.getZ(o,0));if(a(n,h(E,u,i,this.view))<this.squaredProximityThreshold(v)){if(this._parallelToPreviousCandidate(e,p))return;p.push(new c({coordinateHelper:u,referenceLine:e,lineStart:r,targetPoint:E,elevationInfo:u.hasZ()?i:null}))}}_parallelToPreviousCandidate(e,r){const i=e.left,o=e.right;for(const n of r)if(d(g,o,n.constraint.start,n.constraint.end,i),t(g,o)<s.parallelLineThreshold)return n.addReferenceLine(e),!0;return!1}}const g=r();export{p as ParallelLineSnapper};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../core/maybe.js\";import{a as t,h as r,v as i,w as s}from\"../../../chunks/vec2.js\";import{a as o}from\"../../../chunks/vec2f64.js\";import{s as n,z as h}from\"../../../chunks/vec3.js\";import{c}from\"../../../chunks/vec3f64.js\";import{absoluteHeightElevationInfo as d}from\"../../../support/elevationInfoUtils.js\";import{SnappingAlgorithm as a}from\"./SnappingAlgorithm.js\";import{VerticalHalfPlaneConstraint as g}from\"./SnappingConstraint.js\";import{convertPointElevation as p,editEdgeToSnappingEdge as f,squaredScreenDistance as l}from\"./snappingUtils.js\";import{RightAngleSnappingCandidate as m,OtherVertexType as x}from\"./candidates/RightAngleSnappingCandidate.js\";import{anyMapPointToScreenPoint as E}from\"../support/viewUtils.js\";class v extends a{snapNewVertex(e,t){const r=t.editGeometryOperations.data.components[0],i=r.vertices.length,s=[];if(i<2)return s;const{view:o}=this,n=E(e,t.coordinateHelper,d,o),h=r.vertices[i-1];if(this.edgeExceedsShortLineThreshold(h.leftEdge,t)){const r=p(h.pos,o,t),i=f(h.leftEdge,o,t);this._checkForSnappingCandidate(s,i,r,e,i.left,r,t,e,n)}const c=r.vertices[0];if(this.edgeExceedsShortLineThreshold(c.rightEdge,t)){const r=p(c.pos,o,t),i=f(c.rightEdge,o,t);this._checkForSnappingCandidate(s,i,r,e,i.right,r,t,e,n)}return s}snapExistingVertex(t,r){const i=[],s=e(r.vertexHandle),o=s.component,n=o.vertices.length;if(n<3)return i;const{view:h}=this,c=E(t,r.coordinateHelper,d,h),a=s.leftEdge,g=s.rightEdge,l=o.vertices[0],m=o.vertices[n-1];if(!a){const e=l.rightEdge.rightVertex.rightEdge;if(this.edgeExceedsShortLineThreshold(e,r)){const s=f(e,h,r),o=p(l.rightEdge.rightVertex.pos,h,r);this._checkForSnappingCandidate(i,s,o,t,s.right,o,r,t,c)}return i}if(!g){const e=m.leftEdge.leftVertex.leftEdge;if(this.edgeExceedsShortLineThreshold(e,r)){const s=f(e,h,r),o=p(m.leftEdge.leftVertex.pos,h,r);this._checkForSnappingCandidate(i,s,o,t,s.left,o,r,t,c)}return i}if(a&&a.leftVertex.leftEdge){const e=a.leftVertex.leftEdge;if(this.edgeExceedsShortLineThreshold(e,r)){const s=f(e,h,r),o=p(a.leftVertex.pos,h,r);this._checkForSnappingCandidate(i,s,o,t,s.left,o,r,t,c)}}if(g&&g.rightVertex.rightEdge){const e=g.rightVertex.rightEdge;if(this.edgeExceedsShortLineThreshold(e,r)){const s=f(e,h,r),o=p(g.rightVertex.pos,h,r);this._checkForSnappingCandidate(i,s,o,t,s.right,o,r,t,c)}}return i}_checkForSnappingCandidate(e,o,c,a,p,f,v,k,C){const{coordinateHelper:T,pointer:w}=v;t(u,o.right,o.left);const F=n(j,u[1],-u[0],0),_=r(F,t(u,a,c))/i(F),L=T.fromXYZ(s(u,f,F,_),T.getZ(k,0));if(l(C,E(L,T,d,this.view))<this.squaredProximityThreshold(w)){const t=T.toXYZ(f,S),r=h(V,t,F,Math.sign(_)),i=T.fromXYZ(r);e.push(new m({coordinateHelper:T,targetPoint:L,constraint:new g(T,f,i),previousVertex:p,otherVertex:f,otherVertexType:x.CENTER,elevationInfo:T.hasZ()?d:null}))}}}const u=o(),S=c(),V=c(),j=c();export{v as RightAngleSnapper};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{l as t,d as i}from\"../../../../chunks/vec2.js\";import{a as n}from\"../../../../chunks/vec2f64.js\";import{PlanarCircleConstraint as o}from\"../SnappingConstraint.js\";import{SnappingDomain as s}from\"../SnappingDomain.js\";import{LineSegmentHintType as r}from\"../snappingUtils.js\";import{SnappingCandidate as p}from\"./SnappingCandidate.js\";import{LineSnappingHint as a}from\"../hints/LineSnappingHint.js\";import{RightAngleSnappingHint as e}from\"../hints/RightAngleSnappingHint.js\";class m extends p{constructor({coordinateHelper:n,targetPoint:r,point1:p,point2:a,elevationInfo:e}){super(n,r,new o(n,n.arrayToVector(t(h,p,a,.5)),.5*i(p,a)),e,s.SELF),this._p1=p,this._p2=a}get hints(){const t=this.elevationInfo;return[new a(r.REFERENCE,this.targetPoint,this._p1,t,this.domain),new a(r.REFERENCE,this.targetPoint,this._p2,t,this.domain),new e(this._p1,this.targetPoint,this._p2,t,this.domain)]}}const h=n();export{m as RightAngleTriangleSnappingCandidate};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../core/maybe.js\";import{l as t,d as o}from\"../../../chunks/vec2.js\";import{a as r}from\"../../../chunks/vec2f64.js\";import{absoluteHeightElevationInfo as s}from\"../../../support/elevationInfoUtils.js\";import{SnappingAlgorithm as i}from\"./SnappingAlgorithm.js\";import{convertPointElevation as n,squaredScreenDistance as p}from\"./snappingUtils.js\";import{RightAngleTriangleSnappingCandidate as a}from\"./candidates/RightAngleTriangleSnappingCandidate.js\";import{anyMapPointToScreenPoint as d}from\"../support/viewUtils.js\";import{projectPointToCircle as l}from\"../../support/geometry2dUtils.js\";class m extends i{snapNewVertex(e,t){const o=t.editGeometryOperations.data.components[0],r=[],s=o.vertices.length;if(\"polygon\"!==t.editGeometryOperations.data.type||s<2)return r;const{view:i}=this,p=o.vertices[0],a=o.vertices[s-1],d=n(p.pos,i,t),l=n(a.pos,i,t);return this._processCandidateProposal(d,l,e,t,r),r}snapExistingVertex(t,o){const r=[],s=e(o.vertexHandle),i=s.component;if(i.edges.length<2)return r;if(\"polyline\"===o.editGeometryOperations.data.type&&(0===s.index||s.index===i.vertices.length-1))return r;const{view:p}=this,a=n(s.leftEdge.leftVertex.pos,p,o),d=n(s.rightEdge.rightVertex.pos,p,o);return this._processCandidateProposal(a,d,t,o,r),r}_processCandidateProposal(e,r,i,n,m){if(!this.exceedsShortLineThreshold(e,r,n))return;const g=t(c,e,r,.5),f=.5*o(e,r),u=l(h,i,g,f),{coordinateHelper:v,pointer:x}=n,y=v.fromXYZ(u,v.getZ(i,0)),j=d(i,v,s,this.view);p(j,d(y,v,s,this.view))<this.squaredProximityThreshold(x)&&m.push(new a({coordinateHelper:v,targetPoint:y,point1:e,point2:r,elevationInfo:v.hasZ()?s:null}))}}const c=r(),h=r();export{m as RightAngleTriangleSnapper};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Accessor.js\";import t from\"../../../core/Collection.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LineSnapper as e}from\"./LineSnapper.js\";import{ParallelLineSnapper as p}from\"./ParallelLineSnapper.js\";import{RightAngleSnapper as n}from\"./RightAngleSnapper.js\";import{RightAngleTriangleSnapper as a}from\"./RightAngleTriangleSnapper.js\";import{SnappingDomain as c}from\"./SnappingDomain.js\";import{sortCandidatesInPlace as m}from\"./snappingUtils.js\";let f=class extends s{constructor(o){super(o),this.updating=!1,this._snappers=new t,this._domain=c.SELF}initialize(){this._snappers.push(new p(this.view,this.options),new e(this.view,this.options),new n(this.view,this.options),new a(this.view,this.options))}set options(o){this._set(\"options\",o);for(const s of this._snappers)s.options=o}async fetchCandidates(o,s,t){if(!(s&this._domain&&this.options.effectiveSelfEnabled))return[];const i=[];for(const r of this._snappers.items)for(const s of r.snap(o,t))i.push(s);return m(o,i,t.coordinateHelper),i}};o([i({readOnly:!0})],f.prototype,\"updating\",void 0),o([i({constructOnly:!0})],f.prototype,\"view\",void 0),o([i()],f.prototype,\"options\",null),f=o([r(\"esri.views.interactive.snapping.SelfSnappingEngine\")],f);export{f as SelfSnappingEngine};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{FeatureSnappingEngine as e}from\"./FeatureSnappingEngine.js\";import{SelfSnappingEngine as n}from\"./SelfSnappingEngine.js\";function i(i,p){return[new n({view:i,options:p}),new e({view:i,options:p,spatialReference:i.spatialReference})]}export{i as defaultSnappingEnginesFactory};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import o from\"../../../core/Accessor.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";let s=class extends o{constructor(r){super(r),this.layer=null,this.enabled=!0,this.updating=!1,this.availability=1}};r([t({constructOnly:!0})],s.prototype,\"layer\",void 0),r([t()],s.prototype,\"enabled\",void 0),r([t()],s.prototype,\"updating\",void 0),r([t()],s.prototype,\"availability\",void 0),s=r([e(\"esri.views.interactive.snapping.FeatureSnappingLayerSource\")],s);const p=s;export{p as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import o from\"../../../core/Collection.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"./FeatureSnappingLayerSource.js\";import{defaults as a}from\"./Settings.js\";let l=class extends t{constructor(e){super(e),this.enabled=!1,this.enabledToggled=!1,this.selfEnabled=!0,this.featureEnabled=!0,this.featureSources=new o,this.distance=a.distance,this.touchSensitivityMultiplier=a.touchSensitivityMultiplier}get effectiveEnabled(){return this.enabledToggled?!this.enabled:this.enabled}get effectiveSelfEnabled(){return this.effectiveEnabled&&this.selfEnabled}get effectiveFeatureEnabled(){return this.effectiveEnabled&&this.featureEnabled}};e([r()],l.prototype,\"enabled\",void 0),e([r()],l.prototype,\"enabledToggled\",void 0),e([r()],l.prototype,\"selfEnabled\",void 0),e([r()],l.prototype,\"featureEnabled\",void 0),e([r({type:o.ofType(s)})],l.prototype,\"featureSources\",void 0),e([r()],l.prototype,\"distance\",void 0),e([r()],l.prototype,\"touchSensitivityMultiplier\",void 0),e([r({readOnly:!0})],l.prototype,\"effectiveEnabled\",null),e([r({readOnly:!0})],l.prototype,\"effectiveSelfEnabled\",null),e([r({readOnly:!0})],l.prototype,\"effectiveFeatureEnabled\",null),l=e([i(\"esri.views.interactive.snapping.SnappingOptions\")],l);const n=l;export{n as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{IntersectionConstraint as t}from\"../SnappingConstraint.js\";import{SnappingDomain as i}from\"../SnappingDomain.js\";import{SnappingCandidate as n}from\"./SnappingCandidate.js\";import{IntersectionSnappingHint as s}from\"../hints/IntersectionSnappingHint.js\";class o extends n{constructor(n,s,o,r,e){super(n,s,new t(n,s,o.constraint,r.constraint),e,i.ALL),this.first=o,this.second=r}get hints(){return this.first.targetPoint=this.targetPoint,this.second.targetPoint=this.targetPoint,[...this.first.hints,...this.second.hints,new s(this.targetPoint,this.elevationInfo,this.domain)]}}export{o as IntersectionSnappingCandidate};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Evented.js\";import{HandleOwner as n}from\"../../../core/HandleOwner.js\";import{clone as i}from\"../../../core/lang.js\";import{isNone as s,isSome as r}from\"../../../core/maybe.js\";import{isAborted as o}from\"../../../core/promiseUtils.js\";import{watch as a,sync as c,syncAndInitial as p}from\"../../../core/reactiveUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import{project as l,initializeProjection as u}from\"../../../geometry/projection.js\";import{absoluteHeightElevationInfo as f,getConvertedElevation as _}from\"../../../support/elevationInfoUtils.js\";import{SnappingDomain as g}from\"./SnappingDomain.js\";import{defaultSnappingEnginesFactory as v}from\"./snappingFactory.js\";import S from\"./SnappingOptions.js\";import{sortCandidatesInPlace as m,squaredScreenDistance as y}from\"./snappingUtils.js\";import{IntersectionSnappingCandidate as P}from\"./candidates/IntersectionSnappingCandidate.js\";import{anyMapPointToScreenPoint as C}from\"../support/viewUtils.js\";let E=class extends(e.EventedMixin(n)){constructor(t){super(t),this.options=new S,this.snappingEnginesFactory=v,this._engines=[],this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=T.MAIN}initialize(){this.handles.add([a((()=>{const{effectiveFeatureEnabled:t,effectiveSelfEnabled:e,touchSensitivityMultiplier:n,distance:i}=this.options;return{effectiveFeatureEnabled:t,effectiveSelfEnabled:e,touchSensitivityMultiplier:n,distance:i}}),(()=>{this.doneSnapping(),this.emit(\"changed\")}),c),a((()=>this.options),(t=>{for(const e of this._engines)e.options=t}),c),a((()=>({viewReady:this.view.ready,viewSpatialReference:this.view.spatialReference,snappingEnginesFactory:this.snappingEnginesFactory})),(({viewReady:t,snappingEnginesFactory:e})=>this._recreateEngines(t,e)),p)])}destroy(){this._destroyEngines()}get updating(){return this._engines.some((t=>t.updating))}_recreateEngines(t,e){if(this._destroyEngines(),!t)return;const{view:n,options:i}=this;this._engines=e(n,i)}_destroyEngines(){for(const t of this._engines)t.destroy();this._engines=[]}get _squaredMouseProximityTreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:t,touchSensitivityMultiplier:e}=this.options,n=t*e;return n*n}async snap(t){return I(t)?this._snapMultiPoint(t):this._snapSinglePoint(t)}update(t){const{point:e,context:n}=t;this._removeVisualization();const i=this._currentMainCandidate;if(s(i))return e;const o=this._selectUpdateInput(t);if(s(o))return e;const{coordinateHelper:{spatialReference:a}}=n,c=l(this._convertPointElevation(o,n),a);if(s(c))return e;const{view:p}=this,{coordinateHelper:d,elevationInfo:h,visualizer:u}=n,_=[],g=d.pointToVector(c),v=i.constraint.closestTo(g);if(!this._arePointsWithinScreenThreshold(g,v,n))return this._resetSnappingState(),e;i.targetPoint=v,_.push(...i.hints);for(const s of this._currentOtherActiveCandidates)s.targetPoint=v,_.push(...s.hints);r(u)&&this.handles.add(u.draw(_,{coordinateHelper:d,elevationInfo:M(n),view:p,selfSnappingZ:n.selfSnappingZ}),w);const S=d.vectorToDehydratedPoint(v);return this._convertPointElevation(S,n,f,h)}doneSnapping(){this._removeVisualization(),this._resetSnappingState()}_selectUpdateInput({point:t,scenePoint:e}){switch(this._currentSnappedType){case T.MAIN:return t;case T.SCENE:return e}}_resetSnappingState(){this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=T.MAIN}_removeVisualization(){this.handles.remove(w)}async _snapSinglePoint({point:t,context:e,signal:n}){const{coordinateHelper:i}=e,{view:s}=this,r=this._convertPointElevation(t,e),o=i.pointToVector(r),a=await this._fetchCandidates(o,g.ALL,e,n);return this._createSnapResult(o,T.MAIN,a,s,e,n)}async _snapMultiPoint({point:t,scenePoint:e,context:n,signal:i}){const{view:s}=this,{coordinateHelper:r}=n,{spatialReference:o}=r;await u(e.spatialReference,o);const a=l(this._convertPointElevation(e,n),o),c=r.pointToVector(a),p=await this._fetchCandidates(c,g.FEATURE,n,i);if(p.length>0){const t=await this._fetchCandidates(c,g.SELF,n,i);return this._createSnapResult(c,T.SCENE,[...p,...t],s,n,i)}const d=this._convertPointElevation(t,n),h=r.pointToVector(d),f=await this._fetchCandidates(h,g.SELF,n,i);return this._createSnapResult(h,T.MAIN,f,s,n,i)}async _fetchCandidates(t,e,n,i){return(await Promise.all(this._engines.map((s=>s.fetchCandidates(t,e,n,i))))).flat()}_createSnapResult(t,e,n,i,s,a){return{get valid(){return!o(a)},apply:()=>{const{elevationInfo:o,coordinateHelper:a}=s,{snappedPoint:c,hints:p}=this._processCandidates(t,e,n,s);return this._removeVisualization(),r(s.visualizer)&&this.handles.add(s.visualizer.draw(p,{coordinateHelper:a,elevationInfo:M(s),view:i,selfSnappingZ:s.selfSnappingZ}),w),this._convertPointElevation(c,s,f,o)}}}_processCandidates(t,e,n,i){const{coordinateHelper:s}=i;if(n.length<1)return this.doneSnapping(),{snappedPoint:s.vectorToDehydratedPoint(t),hints:[]};this._currentSnappedType!==e&&this._resetSnappingState(),m(t,n,s);const o=this._currentMainCandidate;if(r(o)){const s=this._findOldConstraintInNewCandidates(o,n);if(s>=0){if(!(n[s]instanceof P))return this._intersectWithOtherCandidates(s,n,t,e,i);if(this._arePointsWithinScreenThreshold(t,o.targetPoint,i))return this._updateSnappingCandidate(o,e,n,i)}}return this._intersectWithOtherCandidates(0,n,t,e,i)}_findOldConstraintInNewCandidates(t,e){return t instanceof P?this._findOldCandidateIndex(e,t.first)>=0&&this._findOldCandidateIndex(e,t.second)>=0?0:-1:this._findOldCandidateIndex(e,t)}_intersectWithOtherCandidates(t,e,n,i,s){const{coordinateHelper:r}=s,o=e[t],a=[];for(let c=0;c<e.length;++c){if(c===t)continue;const i=e[c];for(const t of o.constraint.intersect(i.constraint)){const e=r.fromXYZ(t.closestTo(o.targetPoint),o.targetPoint[2]);a.push([new P(r,e,o,i,i.elevationInfo),this._squaredScreenDistance(n,e,r)])}}return a.length>0&&(a.sort(((t,e)=>t[1]-e[1])),a[0][1]<this._squaredPointProximityThreshold(s.pointer))?this._updateSnappingCandidate(a[0][0],i,e,s):this._updateSnappingCandidate(o,i,e,s)}_updateSnappingCandidate(t,e,n,i){this.doneSnapping(),this._currentMainCandidate=t,this._currentSnappedType=e;const s=this._currentMainCandidate.targetPoint,r=[];r.push(...t.hints);for(const o of n){if(t instanceof P){if(o.constraint.equals(t.first.constraint)||o.constraint.equals(t.second.constraint))continue}else if(o.constraint.equals(t.constraint))continue;o.constraint.check(s)&&(o.targetPoint=s,this._currentOtherActiveCandidates.push(o),r.push(...o.hints))}return{snappedPoint:i.coordinateHelper.vectorToDehydratedPoint(s),hints:r}}_squaredPointProximityThreshold(t){return\"touch\"===t?this._squaredTouchProximityThreshold:this._squaredMouseProximityTreshold}_arePointsWithinScreenThreshold(t,e,n){return this._squaredScreenDistance(t,e,n.coordinateHelper)<this._squaredPointProximityThreshold(n.pointer)}_squaredScreenDistance(t,e,n){return y(this._toScreen(t,n),this._toScreen(e,n))}_toScreen(t,e){return C(t,e,f,this.view)}_findOldCandidateIndex(t,e){let n=-1;for(let i=0;i<t.length;++i)if(e.constraint.equals(t[i].constraint)){n=i;break}return n}_convertPointElevation(t,e,n=e.elevationInfo,s=f){const{view:o}=this;if(!(r(t)&&e.coordinateHelper.hasZ()&&r(o)&&\"3d\"===o.type))return t;const a=i(t);return a.z=_(o,a,n,s),a}get test(){return{visualizationsActive:this.handles.has(w),engines:this._engines}}};var T;t([d({constructOnly:!0})],E.prototype,\"view\",void 0),t([d()],E.prototype,\"options\",void 0),t([d({readOnly:!0})],E.prototype,\"updating\",null),t([d()],E.prototype,\"snappingEnginesFactory\",void 0),t([d()],E.prototype,\"_engines\",void 0),t([d()],E.prototype,\"_squaredMouseProximityTreshold\",null),t([d()],E.prototype,\"_squaredTouchProximityThreshold\",null),E=t([h(\"esri.views.interactive.snapping.SnappingManager\")],E),function(t){t[t.MAIN=0]=\"MAIN\",t[t.SCENE=1]=\"SCENE\"}(T||(T={}));const w=\"visualization-handle\";function I(t){return r(t.scenePoint)}function M({coordinateHelper:t,elevationInfo:e}){return t.hasZ()?f:e}export{E as SnappingManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../core/maybe.js\";async function n(n,r){if(\"2d\"===n.type)return n.hitTest(r);const s=await n.hitTest(r);if(0===s.results.length)return s;const i=s.results[0],u=t(i.distance)?i.distance*(1+e):i.distance,c=s.results.findIndex((t=>t.distance>u));return-1!==c&&(s.results=s.results.slice(0,c)),s}const e=.05;function r(n){return t(n)&&\"graphic\"===n.type}function s(t){return t.find(r)??null}function i(t){return t.filter(r)}export{i as filterGraphicHits,s as findFirstGraphicHit,n as hitTestSelectSimilarDistance};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{neverReached as t}from\"../../../core/compilerUtils.js\";import o from\"../../../core/Evented.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";let p=class extends o.EventedAccessor{constructor(e){super(e),this.cancelled=!1,this.history={undo:[],redo:[]},this.type=null}get tool(){if(!this.activeComponent)return null;switch(this.activeComponent.type){case\"graphic-mover\":case\"move-3d\":return\"move\";case\"box\":case\"transform-3d\":return\"transform\";case\"reshape\":case\"reshape-3d\":return\"reshape\";case\"draw-2d\":case\"draw-3d\":return this.activeComponent.geometryType;default:t(this.activeComponent)}return null}addToHistory(e){this.history.redo=[],this.history.undo.push(e)}resetHistory(){this.history.redo=[],this.history.undo=[]}canUndo(){return this.history.undo.length>0}canRedo(){return this.history.redo.length>0}complete(){this._reset(),this.onEnd(),this.emit(\"complete\")}cancel(){this.cancelled=!0,this.complete()}_reset(){this.activeComponent.reset()}refreshComponent(){const e=this.activeComponent;e&&(\"box\"!==e.type&&\"reshape\"!==e.type&&\"graphic-mover\"!==e.type||e.refresh())}set undo(e){this._set(\"undo\",(()=>{this.canUndo()&&e()}))}set redo(e){this._set(\"redo\",(()=>{this.canRedo()&&e()}))}};e([r()],p.prototype,\"activeComponent\",void 0),e([r()],p.prototype,\"cancelled\",void 0),e([r()],p.prototype,\"history\",void 0),e([r()],p.prototype,\"tool\",null),e([r()],p.prototype,\"type\",void 0),e([r()],p.prototype,\"canUndo\",null),e([r()],p.prototype,\"canRedo\",null),e([r()],p.prototype,\"onEnd\",void 0),e([r()],p.prototype,\"undo\",null),e([r()],p.prototype,\"redo\",null),e([r()],p.prototype,\"toggleTool\",void 0),e([r()],p.prototype,\"addToSelection\",void 0),e([r()],p.prototype,\"removeFromSelection\",void 0),p=e([s(\"esri.widgets.Sketch.support.OperationHandle\")],p);let n=class extends p{};e([r()],n.prototype,\"activeComponent\",void 0),n=e([s(\"esri.widgets.Sketch.support.CreateOperationHandle\")],n);let i=class extends p{};e([r()],i.prototype,\"activeComponent\",void 0),i=e([s(\"esri.widgets.Sketch.support.UpdateOperationHandle\")],i);export{n as CreateOperationHandle,p as OperationHandle,i as UpdateOperationHandle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{symbolTypes as t}from\"../../symbols.js\";import o from\"../../core/Collection.js\";import\"../../core/has.js\";import i from\"../../core/Error.js\";import a from\"../../core/Evented.js\";import r from\"../../core/Handles.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n,isSome as p,unwrap as l,abortMaybe as h,isNone as c,unwrapOr as d,get as u}from\"../../core/maybe.js\";import{createAbortError as y,whenOrAbort as m}from\"../../core/promiseUtils.js\";import{on as g,watch as v,when as f,whenOnce as _,syncAndInitial as w}from\"../../core/reactiveUtils.js\";import{property as b}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as G}from\"../../core/accessorSupport/decorators/subclass.js\";import{canProjectWithoutEngine as T,isLoaded as O,load as E,project as S}from\"../../geometry/projection.js\";import{getReferenceEllipsoid as A}from\"../../geometry/projectionEllipsoid.js\";import{geometryToCoordinates as k}from\"../../geometry/support/coordsUtils.js\";import{equals as C}from\"../../geometry/support/spatialReferenceUtils.js\";import H from\"../../layers/GraphicsLayer.js\";import{SupportedGraphicResult as I,isSupportedGraphicResultMessage as R}from\"../../views/3d/interactive/editingTools/isSupportedGraphicUtils.js\";import{isSupportedGraphic as D}from\"../../views/3d/interactive/editingTools/moveGraphic/isSupportedGraphic.js\";import{isSupportedGraphic as M}from\"../../views/3d/interactive/editingTools/reshapeGraphic/isSupportedGraphic.js\";import{isSupportedGraphic as U}from\"../../views/3d/interactive/editingTools/transformGraphic/isSupportedGraphic.js\";import{addUniqueLayer as P}from\"../../views/draw/support/layerUtils.js\";import{ViewEventPriorities as x}from\"../../views/input/InputManager.js\";import{SKETCH_KEYS as j}from\"../../views/interactive/keybindings.js\";import L from\"../../views/interactive/sketch/SketchLabelOptions.js\";import F from\"../../views/interactive/sketch/SketchTooltipOptions.js\";import{SnappingManager as V}from\"../../views/interactive/snapping/SnappingManager.js\";import W from\"../../views/interactive/snapping/SnappingOptions.js\";import{findFirstGraphicHit as K}from\"../../views/support/hitTestSelectUtils.js\";import{createScreenPointFromEvent as q}from\"../../views/support/screenUtils.js\";import{CreateOperationHandle as Z,UpdateOperationHandle as z}from\"./support/OperationHandle.js\";import N from\"../../symbols/SimpleMarkerSymbol.js\";import B from\"../../symbols/SimpleFillSymbol.js\";import $ from\"../../symbols/SimpleLineSymbol.js\";const Y={defaultZ:0},J={reshapeOptions:{edgeOperation:\"split\",shapeOperation:\"move\",vertexOperation:\"move\"},enableMoveAllGraphics:!0,enableRotation:!0,enableScaling:!0,multipleSelectionEnabled:!0,preserveAspectRatio:!1,toggleToolOnClick:!0,enableZ:!0,tool:\"transform\"};let Q=class extends a.EventedAccessor{constructor(e){super(e),this._numUpdating=0,this._handles=new r,this._internalGraphicsLayer=new H({listMode:\"hide\",internal:!0,title:\"SVM Internal\"}),this._operationHandle=null,this._viewHandles=new r,this.activeFillSymbol=null,this.activeLineSymbol=null,this.activeVertexSymbol=null,this.allowDeleteKey=!0,this.labelOptions=new L,this.layer=null,this.pointSymbol=new N({style:\"circle\",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),this.polygonSymbol=new B({color:[150,150,150,.2],outline:{color:[50,50,50],width:2}}),this.polylineSymbol=new $({color:[130,130,130,1],width:2}),this._snappingManager=null,this.tooltipOptions=new F,this.updateGraphics=new o,this.updateOnGraphicClick=!0,this.updatePointSymbol=new N({size:10,color:[0,200,255,.5],outline:{color:\"black\",width:1}}),this.updatePolygonSymbol=new B({color:[12,207,255,.2],outline:{join:\"round\",color:[12,207,255],width:2}}),this.updatePolylineSymbol=new $({color:[12,207,255],width:2}),this.vertexSymbol=new N({style:\"circle\",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),this._moduleLoaderAbortController=null,this._viewReadyAbortController=null,this._originalAutoOpenEnabled=null,this.defaultCreateOptions=Y,this.defaultUpdateOptions=J,this.snappingOptions=new W}initialize(){this._handles.add([g((()=>this.view?.map?.layers),\"change\",(e=>{e.removed.includes(this.layer)&&this.cancel()})),g((()=>this.layer?.graphics),\"change\",(e=>{if(p(this._operationHandle))for(const t of e.removed)this.updateGraphics.includes(t)&&(this.updateGraphics.length>1?this._operationHandle.removeFromSelection(t):this._operationHandle.cancel())})),v((()=>this.layer?.elevationInfo??null),(e=>{e!==this._internalGraphicsLayer.elevationInfo&&(this.cancel(),this._internalGraphicsLayer.elevationInfo=e)}),w),v((()=>this.view),(e=>{n(this._snappingManager),e&&(this._snappingManager=new V({view:e,options:this.snappingOptions}),\"2d\"===e.type?import(\"../../views/2d/interactive/editingTools.js\"):\"3d\"===e.type&&(import(\"../../views/3d/interactive/editingTools.js\"),import(\"../../views/3d/layers/GraphicsLayerView3D.js\")))}),w),v((()=>this.view?.spatialReference),((e,t)=>{e&&t&&!e.equals(t)&&this.cancel()}))])}destroy(){this.cancel(),this._handles=n(this._handles),this._viewHandles=n(this._viewHandles),this._removeDefaultLayer(),this._snappingManager=n(this._snappingManager),this._set(\"view\",null),this.emit(\"destroy\")}get _defaultUpdateTool(){return\"3d\"===this.view.type?\"move\":\"transform\"}get updating(){return this._numUpdating>0}get activeTool(){return this._operationHandle&&this._operationHandle.tool?this._operationHandle.tool:null}get activeComponent(){return this._operationHandle?this._operationHandle.activeComponent:null}get createGraphic(){return!p(this.activeComponent)||\"draw-3d\"!==this.activeComponent.type&&\"draw-2d\"!==this.activeComponent.type?this._get(\"createGraphic\"):l(this.activeComponent.graphic)}get defaultCreateOptions(){return this._get(\"defaultCreateOptions\")}set defaultCreateOptions(e){this._set(\"defaultCreateOptions\",{...Y,...e})}get defaultUpdateOptions(){return this._get(\"defaultUpdateOptions\")}set defaultUpdateOptions(e){this._set(\"defaultUpdateOptions\",{...J,...e,reshapeOptions:{...J.reshapeOptions,...e?.reshapeOptions}})}set snappingOptions(e){p(this._snappingManager)&&(this._snappingManager.options=e),this._set(\"snappingOptions\",e)}get state(){const e=!(!this.view?.ready||!this.layer),t=this._operationHandle;return e&&t?\"active\":e?\"ready\":\"disabled\"}get view(){return this._get(\"view\")}set view(e){const t=this._get(\"view\");if(t){const{container:e,map:o}=t;e&&(t.cursor=null),o&&o.remove(this._internalGraphicsLayer),this._viewHandles.removeAll(),this.cancel()}const o=\"view-ready\";this._handles.remove(o),e&&this._handles.add(f((()=>e.ready),(t=>{this._viewHandles.removeAll(),t&&this._viewHandles.add(this._generateViewHandles(e))}),w),o),this._set(\"view\",e)}cancel(){this._moduleLoaderAbortController=h(this._moduleLoaderAbortController),this._viewReadyAbortController=h(this._viewReadyAbortController),this._operationHandle&&this._operationHandle.cancel()}complete(){this._operationHandle&&this._operationHandle.complete()}delete(){const{state:e,updateGraphics:t}=this;if(\"active\"===e&&t.length){const{activeTool:e,layer:o}=this,i=t.toArray();o.removeMany(i),this.cancel(),this._emitDeleteEvent({graphics:i,tool:e})}}async create(e,t){if(this.cancel(),await this._waitViewReady(),\"disabled\"===this.state)throw this.layer||this._logError(\"sketch:missing-property\",\"Property 'layer' is missing on SketchViewModel.\"),this.view||this._logError(\"sketch:missing-property\",\"Property 'view' is missing on SketchViewModel.\"),y();if(p(this.view.activeTool)&&(this.view.activeTool=null),!e)return void this._logError(\"sketch:missing-parameter\",\"Missing parameter 'tool'.\");P(this.view,this._internalGraphicsLayer);const o=await this._setupCreateOperation(e,t);if(c(o)||this.destroyed)return void this.view.map.remove(this._internalGraphicsLayer);const i=()=>{if(o===this._operationHandle){const t=this.createGraphic,i=this._operationHandle.cancelled;this._operationHandle.destroy(),this._operationHandle=null,this._set(\"createGraphic\",null),this.view&&this.view.map&&this.view.map.remove(this._internalGraphicsLayer),o.cancelled||null==t||this.layer.add(t),this.emit(\"create\",{graphic:t,state:i?\"cancel\":\"complete\",tool:e,toolEventInfo:null,type:\"create\"})}};o.on(\"complete\",i),this._operationHandle=o,this.view.ready&&this.view.focus()}async update(e,t){this.cancel(),await this._waitViewReady();const{layer:o,view:i,state:a}=this;if(\"disabled\"===a)throw i||this._logError(\"sketch:missing-property\",\"Property 'view' is missing on SketchViewModel.\"),o||this._logError(\"sketch:missing-property\",\"Property 'layer' is missing on SketchViewModel.\"),y();p(this.view.activeTool)&&(this.view.activeTool=null);const r=Array.isArray(e)?e:[e];if(null==e||!r||!r.length)return void this._logError(\"sketch:missing-parameter\",\"Missing parameter 'graphics'.\");if(r.some((e=>e.layer!==o?(this._logError(\"sketch:invalid-parameter\",\"Parameter 'graphics' contains one or more graphics missing from the supplied GraphicsLayer.\"),!0):!!c(e.geometry)&&(this._logError(\"sketch:invalid-parameter\",\"Parameter 'graphics' contains one or more graphics with an unsupported geometry.\"),!0))))return;const s=await this._setupUpdateOperation(r,t);this.destroyed||c(s)||ae(s)||(P(this.view,this._internalGraphicsLayer),this._setUpdateOperationHandle(s,t),this.emit(\"update\",{graphics:r,state:\"start\",aborted:!1,tool:s.tool,toolEventInfo:null,type:\"update\"}))}async _updateSpatialReference(e){this._beginAsyncOperation(),e=Array.isArray(e)?e:[e];for(const t of e)p(t.geometry)&&\"mesh\"!==t.geometry.type&&!C(t.geometry.spatialReference,this.view.spatialReference)&&(T(t.geometry.spatialReference,this.view.spatialReference)||O()||await E(),t.geometry=S(t.geometry,this.view.spatialReference));this._endAsyncOperation()}undo(){this.canUndo()&&this._operationHandle.undo()}redo(){this.canRedo()&&this._operationHandle.redo()}canUndo(){return!(!this._operationHandle||!this._operationHandle.canUndo())}canRedo(){return!(!this._operationHandle||!this._operationHandle.canRedo())}toggleUpdateTool(){this._operationHandle&&this._operationHandle.toggleTool&&this._operationHandle.toggleTool()}async _getFirstHit(e){const t=this.view;if(\"2d\"===t.type){const t=[];this.view.map.allLayers.forEach((e=>{\"vector-tile\"!==e.type&&\"imagery\"!==e.type||t.push(e)}));const o=await this.view.hitTest(e,{exclude:t});return K(o.results)}const o=[this.view.map.ground];t.map.allLayers.forEach((e=>{\"integrated-mesh\"===e.type&&o.push(e)}));const i=await t.hitTest(e,{exclude:o});if(i.results.length>0){const e=i.results[0];if(p(e)&&\"graphic\"===e.type&&e.graphic&&(!i.ground.mapPoint||t.map.ground.opacity<1||i.ground.distance-d(e.distance,0)>-Math.min(3*i.ground.distance,\"global\"===t.viewingMode?A(t.renderCoordsHelper.spatialReference).radius/t.renderCoordsHelper.unitInMeters:Number.POSITIVE_INFINITY)))return e}return null}_generateViewHandles(e){return[e.on(\"immediate-click\",(async t=>{const o=\"active\"===this.state&&\"create\"===this._operationHandle.type;if(\"disabled\"===this.state||o||!this.updateOnGraphicClick)return;this._beginAsyncOperation();const i=await t.async((()=>this._getFirstHit(q(t))));let a=null;if(p(i)){const o=i.graphic;this.updateGraphics.includes(o)||o.layer===this.layer?(t.stopPropagation(),a=o):\"2d\"!==e.type||this._isComponentGraphic(o)||\"active\"!==this.state||this.cancel()}else\"active\"===this.state&&this.cancel();p(a)&&!this.updateGraphics.includes(a)&&await this.update([a],{...this.defaultUpdateOptions,reshapeOptions:{...this.defaultUpdateOptions.reshapeOptions}}),this._endAsyncOperation()}),x.WIDGET)]}async _setupCreateOperation(e,t){const o={hasZ:\"3d\"===this.view.type,...this.defaultCreateOptions,...t},i=await this._setupDrawGraphicTool(e,this.view,o);return c(i)?null:(this.view.tools.add(i),this.view.activeTool=i,this._setupCreateOperationHandle(i))}async _setupDrawGraphicTool(e,t,o){if(\"multipoint\"===e&&\"3d\"===t.type)return this._logError(\"sketch:create\",\"Multipoint geometries are not supported in SceneView.\"),null;const i=\"rectangle\"!==e,a=\"rectangle\"!==e;this.snappingOptions.enabledToggled=!1;const r={view:t,mode:\"rectangle\"===e||\"circle\"===e?\"hybrid\":\"click\",...o,snapToScene:!1,geometryType:e,graphicSymbol:this._getGraphicSymbolFromTool(e),snappingManager:this._snappingManager,forceUniformSize:a,centered:i};return\"2d\"===this.view.type?this._makeDrawGraphicTool2D(r):this._makeDrawGraphicTool3D(r)}async _makeDrawGraphicTool2D(e){const t=await this._requireModule(import(\"../../views/2d/interactive/editingTools.js\"));return ae(t)||this.destroyed?null:new t.module.DrawGraphicTool2D({...e,activeVertexSymbol:this.activeVertexSymbol,regularVerticesSymbol:this.vertexSymbol,activeLineSymbol:this.activeLineSymbol,activeFillSymbol:X(e.geometryType)?this.activeFillSymbol:null,tooltipOptions:this.tooltipOptions})}async _makeDrawGraphicTool3D(e){const t=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(ae(t)||this.destroyed)return null;const{elevationInfo:o}=this.layer;return new t.module.DrawGraphicTool3D({...e,elevationInfo:o,snapToScene:!p(o)||\"absolute-height\"===o.mode,labelOptions:this.labelOptions,tooltipOptions:this.tooltipOptions})}_setupCreateOperationHandle(e){let t=null;const o=e.forceUniformSize,i=e.centered,a=[this.view.on(\"key-down\",(t=>{if(t.key===j.pan)t.stopPropagation(),t.repeat||(e.enabled=!1);else if(t.key===j.complete)t.stopPropagation(),e.completeCreateOperation();else if(t.key!==j.vertexAdd||t.repeat)t.key===j.undo?(t.stopPropagation(),r.undo()):t.key===j.redo?(t.stopPropagation(),r.redo()):t.key!==j.snappingToggle||\"rectangle\"===e.geometryType||\"circle\"===e.geometryType||t.repeat?t.key!==j.constraint||\"rectangle\"!==e.geometryType&&\"circle\"!==e.geometryType||t.repeat?t.key===j.center&&(t.repeat||(e.centered=!i,t.stopPropagation())):(e.forceUniformSize=!o,t.stopPropagation()):(this.snappingOptions.enabledToggled=!0,t.stopPropagation());else{const o=e.drawOperation.geometryType;\"polyline\"!==o&&\"polygon\"!==o&&\"multipoint\"!==o||(t.stopPropagation(),e.drawOperation.commitStagedVertex())}}),x.WIDGET),this.view.on(\"key-up\",(t=>{t.key===j.pan?e.enabled=!0:t.key===j.snappingToggle&&\"rectangle\"!==e.geometryType&&\"circle\"!==e.geometryType?(this.snappingOptions.enabledToggled=!1,t.stopPropagation()):t.key!==j.constraint||\"rectangle\"!==e.geometryType&&\"circle\"!==e.geometryType?t.key===j.center&&(e.centered=i,t.stopPropagation()):(e.forceUniformSize=o,t.stopPropagation())}),x.WIDGET),e.on(\"vertex-add\",(o=>{switch(t=c(t)?\"start\":\"active\",o.operation){case\"apply\":this.emit(\"create\",{graphic:l(e.graphic),state:t,tool:this.activeTool,toolEventInfo:o,type:\"create\"});break;case\"undo\":this._emitUndoEvent({graphics:[l(e.graphic)],tool:e.geometryType});break;case\"redo\":this._emitRedoEvent({graphics:[l(e.graphic)],tool:e.geometryType})}})),e.on(\"cursor-update\",(t=>{e.drawOperation.numCommittedVertices>0&&this.emit(\"create\",{graphic:l(e.graphic),state:\"active\",tool:this.activeTool,toolEventInfo:{coordinates:t.vertices[0].coordinates,type:\"cursor-update\"},type:\"create\"})})),e.on(\"vertex-remove\",(t=>{switch(t.operation){case\"apply\":this.emit(\"create\",{graphic:l(e.graphic),state:\"active\",tool:this.activeTool,toolEventInfo:t,type:\"create\"});break;case\"undo\":this._emitUndoEvent({graphics:[l(e.graphic)],tool:e.geometryType});break;case\"redo\":this._emitRedoEvent({graphics:[l(e.graphic)],tool:e.geometryType})}})),e.on(\"complete\",(e=>{this._set(\"createGraphic\",l(e.graphic)),t=\"complete\",e.aborted?r&&r.cancel():r&&r.complete()})),v((()=>this._getGraphicSymbolFromTool(e.geometryType)),(t=>{e.graphicSymbol=t}))],r=new Z({activeComponent:e,tool:e.geometryType,type:\"create\",onEnd:()=>{a.forEach((e=>e.remove())),a.length=0,this.view.tools?.remove(e)},undo:()=>{e.canUndo&&e.undo()},redo:()=>{e.canRedo&&e.redo()},canUndo:()=>e.canUndo,canRedo:()=>e.canRedo});return r}_getGraphicSymbolFromTool(e){switch(e){case\"point\":case\"multipoint\":return this.pointSymbol;case\"polyline\":return this.polylineSymbol;case\"circle\":case\"rectangle\":case\"polygon\":return this.polygonSymbol;default:return null}}async _setupUpdateOperation(e,t){const{layer:o,view:i}=this,a={tool:this._defaultUpdateTool,...this.defaultUpdateOptions,...t,reshapeOptions:{...this.defaultUpdateOptions.reshapeOptions,...t?.reshapeOptions}};let r=a.tool;for(const s of e)o.remove(s),o.add(s);if(\"3d\"===i.type){if(0===e.length)return null;switch(r){case\"move\":return this._setupMove3DOperation(e,a,i,r);case\"reshape\":{if(e.length>1)return this._logError(\"sketch:reshape-multiple\",\"Reshape operation does not support multiple graphics.\"),null;const t=M(e[0]);return t===I.SUPPORTED?this._setupReshape3DOperation(e[0],a,i):(this._logError(\"sketch:reshape\",`Reshape operation not supported for provided graphic(s) (${R(t)}).`),null)}case\"transform\":return this._setupGraphicTransform3DOperation(e,a,i)}}switch(r){case\"move\":return this._setupMove2DOperation(e,a,i);case\"reshape\":{if(e.length>1)return this._logError(\"sketch:reshape-multiple\",\"Reshape operation does not support multiple graphics.\"),null;const t=M(e[0]);return t===I.SUPPORTED?this._setupTransformOrReshape2DOperation(e,r,a,i):(this._logError(\"sketch:reshape\",`Reshape operation not supported for provided graphic(s) (${R(t)}).`),null)}case\"transform\":if(1===e.length){const t=u(e[0].geometry,\"type\");\"point\"!==t&&\"multipoint\"!==t||(r=\"reshape\")}return this._setupTransformOrReshape2DOperation(e,r,a,i)}}async _setupMove3DOperation(e,t,o,i,a=!1){for(const l of e){const e=D(l);if(e!==I.SUPPORTED)return this._logError(\"sketch:move\",`Move operation not supported for provided graphic(s) (${R(e)}).`),null}const r=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(ae(r))return r;const s=new r.module.GraphicMoveTool({view:o,enableZ:t.enableZ,snappingManager:this._snappingManager,tooltipOptions:this.tooltipOptions});this.view.tools.add(s),s.graphics.addMany(e),a||this.updateGraphics.addMany(e);const n=[],p=new z({activeComponent:s,tool:i,type:\"update\",onEnd:()=>{n.forEach((e=>e.remove())),n.length=0,this.view.tools?.remove(s),s.destroyed||s.destroy()},undo:()=>{ee(p,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:i})},redo:()=>{te(p,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:i})},addToSelection:e=>{this.updateGraphics.push(e),s.graphics.push(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"})},removeFromSelection:e=>{const t=this.updateGraphics.indexOf(e);p.history.undo.forEach((e=>e.updates.splice(t,1))),p.history.redo.forEach((e=>e.updates.splice(t,1))),this.updateGraphics.remove(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),0!==this.updateGraphics.length?s.graphics.remove(e):p.complete()},toggleTool:async()=>{if(1!==this.updateGraphics.length||!1===t.toggleToolOnClick)return;if(\"transform\"!==i)return;const e=this.updateGraphics.getItemAt(0);if(M(e)!==I.SUPPORTED)return;const a=await this._setupReshape3DOperation(e,t,o,!0);ae(a)||(p.onEnd(),p.destroy(),this._setUpdateOperationHandle(a,t))}});return n.push(...this._getHandlesForComponent(p,t),this.view.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(p,e,t)),x.WIDGET),o.on(\"key-down\",(e=>{this._getCommonUpdateOperationKeyDownHandlers(p,e),e.key===j.snappingToggle&&(this.snappingOptions.enabledToggled=!0,e.stopPropagation())}),x.WIDGET),o.on(\"key-up\",(e=>{e.key===j.snappingToggle&&(this.snappingOptions.enabledToggled=!1,e.stopPropagation())}),x.WIDGET)),p}_setupGraphicTransform3DOperation(e,t,o,i=!1){if(1===e.length&&U(e[0])===I.SUPPORTED){const a=e[0],r=a.geometry;if(p(r)&&(\"point\"===r.type||\"mesh\"===r.type))return this._setupPointTransform3DOperation(a,t,o);if(p(r)&&(\"polygon\"===r.type||\"polyline\"===r.type))return this._setupPolyTransform3DOperation(a,t,o,i)}return this._setupMove3DOperation(e,t,o,\"transform\",i)}async _setupPointTransform3DOperation(e,t,o){const i=\"transform\",{enableRotation:a,enableScaling:r,enableZ:s}=t,n=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(ae(n))return n;const p=new n.module.GraphicTransformTool({graphic:e,view:o,enableRotation:a,enableScaling:r,enableZ:s,snappingManager:this._snappingManager,tooltipOptions:this.tooltipOptions});this.view.tools.add(p),this.updateGraphics.add(e);const l=[],h=new z({activeComponent:p,tool:i,type:\"update\",onEnd:()=>{l.forEach((e=>e.remove())),l.length=0,this.view.tools?.remove(p),p.destroyed||p.destroy()},undo:()=>{ee(h,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:i})},redo:()=>{te(h,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:i})},addToSelection:async e=>{this.updateGraphics.add(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"});const i=await this._setupMove3DOperation(this.updateGraphics.toArray(),t,o,\"transform\",!0);ae(i)||(h.onEnd(),h.destroy(),this._setUpdateOperationHandle(i,t))},removeFromSelection:e=>{this.updateGraphics.remove(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),h.complete()},toggleTool:()=>{}});return l.push(...this._getHandlesForComponent(h,t),this.view.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(h,e,t)),x.WIDGET),o.on(\"key-down\",(e=>{this._getCommonUpdateOperationKeyDownHandlers(h,e),e.key===j.snappingToggle&&(this.snappingOptions.enabledToggled=!0,e.stopPropagation())}),x.WIDGET),o.on(\"key-up\",(e=>{e.key===j.snappingToggle&&(this.snappingOptions.enabledToggled=!1,e.stopPropagation())}),x.WIDGET)),h}async _setupPolyTransform3DOperation(e,t,o,i=!1){const a=\"transform\",{enableRotation:r,enableScaling:s,enableZ:n,preserveAspectRatio:p}=t,l=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(ae(l))return l;const h=new l.module.ExtentTransformTool({graphic:e,view:o,enableRotation:r,enableScaling:s,enableZ:n,preserveAspectRatio:p,tooltipOptions:this.tooltipOptions});this.view.tools.add(h),i||this.updateGraphics.add(e);const c=[],d=new z({activeComponent:h,tool:a,type:\"update\",onEnd:()=>{c.forEach((e=>e.remove())),c.length=0,this.view.tools?.remove(h),h.destroyed||h.destroy()},canUndo:()=>h.canUndo,undo:()=>{h.undo(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:a})},canRedo:()=>h.canRedo,redo:()=>{h.redo(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:a})},addToSelection:async e=>{this.updateGraphics.add(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"});const i=await this._setupMove3DOperation(this.updateGraphics.toArray(),t,o,\"transform\",!0);ae(i)||(d.onEnd(),d.destroy(),this._setUpdateOperationHandle(i,t))},removeFromSelection:e=>{this.updateGraphics.remove(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),d.complete()},toggleTool:async()=>{if(1!==this.updateGraphics.length||!1===t.toggleToolOnClick)return;const e=this.updateGraphics.getItemAt(0);if(M(e)!==I.SUPPORTED)return;const i=await this._setupReshape3DOperation(e,t,o,!0);ae(i)||(d.onEnd(),d.destroy(),this._setUpdateOperationHandle(i,t))}});return c.push(...this._getHandlesForComponent(d,t),this.view.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(d,e,t)),x.WIDGET),this.view.on(\"key-down\",(e=>this._getCommonUpdateOperationKeyDownHandlers(d,e)),x.WIDGET),this.view.on(\"key-down\",(e=>{e.key!==j.constraint||e.repeat||(h.preserveAspectRatio=!h.preserveAspectRatio,e.stopPropagation())}),x.WIDGET),this.view.on(\"key-up\",(e=>{e.key===j.constraint&&(h.preserveAspectRatio=!h.preserveAspectRatio,e.stopPropagation())}),x.WIDGET)),d}async _setupMove2DOperation(e,t,o){const i=\"move\";this.updateGraphics.addMany(e),await this._updateSpatialReference(e);const a=await this._getGraphicMover(e,t,o);if(ae(a))return a;const r=new z({activeComponent:a,tool:i,type:\"update\",onEnd:()=>{this._displayDefaultCursor(),p.forEach((e=>e.remove())),n.forEach((e=>e.remove())),p=[],n=[],a.destroy(),this._internalGraphicsLayer?.removeMany([...this.updateGraphics.toArray()])},undo:()=>{const e=this.updateGraphics.toArray();ee(r,e),r.refreshComponent(),this._emitUndoEvent({graphics:e,tool:i})},redo:()=>{const e=this.updateGraphics.toArray();te(r,e),r.refreshComponent(),this._emitRedoEvent({graphics:e,tool:i})},addToSelection:async e=>{await this._updateSpatialReference(e),this.updateGraphics.push(e),a.graphics=this.updateGraphics.toArray(),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"})},removeFromSelection:e=>{const t=this.updateGraphics.indexOf(e);r.history.undo.forEach((e=>e.updates.splice(t,1))),r.history.redo.forEach((e=>e.updates.splice(t,1))),this.updateGraphics.remove(e);const o=this.updateGraphics.toArray();this.emit(\"update\",{graphics:o,state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),0!==this.updateGraphics.length?a.graphics=o:r.complete()}});let s=!1,n=[o.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(r,e,t)),x.WIDGET),o.on(\"key-down\",(e=>{this._getCommonUpdateOperationKeyDownHandlers(r,e),e.key!==j.constraint||e.repeat||(s=!0,a.enableMoveAllGraphics=!a.enableMoveAllGraphics)}),x.WIDGET),o.on(\"key-up\",(e=>{e.key===j.constraint&&s&&(s=!1,a.enableMoveAllGraphics=!a.enableMoveAllGraphics)}),x.WIDGET)],p=this._getHandlesForComponent(r,t);return r}async _setupReshape3DOperation(e,t,o,i=!1){const a=\"reshape\",r=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(ae(r))return r;this.snappingOptions.enabledToggled=!1;const s=new r.module.GraphicReshapeTool({view:o,graphic:e,enableZVertex:t.enableZ&&\"move\"===t.reshapeOptions.vertexOperation,enableZShape:t.enableZ&&\"move\"===t.reshapeOptions.shapeOperation,enableMoveGraphic:\"move\"===t.reshapeOptions.shapeOperation||\"move-xy\"===t.reshapeOptions.shapeOperation,enableMidpoints:\"split\"===t.reshapeOptions.edgeOperation,enableEdgeOffset:\"offset\"===t.reshapeOptions.edgeOperation,snappingManager:this._snappingManager,labelOptions:this.labelOptions,tooltipOptions:this.tooltipOptions});o.tools.add(s),i||this.updateGraphics.add(e);const n=[],p=new z({activeComponent:s,tool:a,type:\"update\",onEnd:()=>{n.forEach((e=>e.remove())),n.length=0,this.view.tools?.remove(s),s.destroyed||s.destroy()},canUndo:()=>s.canUndo,undo:()=>{s.undo(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:a})},canRedo:()=>s.canRedo,redo:()=>{s.redo(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:a})},addToSelection:async e=>{this.updateGraphics.add(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"});const i=await this._setupMove3DOperation(this.updateGraphics.toArray(),t,o,\"transform\",!0);ae(i)||(p.onEnd(),p.destroy(),this._setUpdateOperationHandle(i,t))},removeFromSelection:e=>{this.updateGraphics.remove(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),p.complete()},toggleTool:async()=>{if(!1===t.toggleToolOnClick)return;const e=await this._setupGraphicTransform3DOperation(this.updateGraphics.toArray(),t,o,!0);ae(e)||(p.onEnd(),p.destroy(),this._setUpdateOperationHandle(e,t))}});return n.push(...this._getHandlesForComponent(p,t),o.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(p,e,t)),x.WIDGET),o.on(\"key-down\",(e=>{this._getCommonUpdateOperationKeyDownHandlers(p,e),e.key===j.snappingToggle&&(this.snappingOptions.enabledToggled=!0,e.stopPropagation())}),x.WIDGET),o.on(\"key-up\",(e=>{e.key===j.snappingToggle&&(this.snappingOptions.enabledToggled=!1,e.stopPropagation())}),x.WIDGET)),p}async _setupTransformOrReshape2DOperation(e,t,o,i){this.updateGraphics.addMany(e),await this._updateSpatialReference(e);const a=\"transform\"===t?await this._getBox(e,o,i):await this._getReshape(e,o,i);if(ae(a))return a;const r=new z({activeComponent:a,type:\"update\",onEnd:()=>{n.forEach((e=>e.remove())),s.forEach((e=>e.remove())),n=[],s=[],r.activeComponent&&!r.activeComponent.destroyed&&r.activeComponent.destroy(),this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray())},undo:()=>{ee(r,this.updateGraphics.toArray()),r.refreshComponent(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:r.tool})},redo:()=>{te(r,this.updateGraphics.toArray()),r.refreshComponent(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:r.tool})},addToSelection:async e=>{let t=r.activeComponent;if(\"reshape\"===t.type){const t=[...this.updateGraphics,e];this.updateGraphics.removeAll();const a=await this._setupMove2DOperation(t,o,i);if(ae(a))return;r.onEnd(),r.destroy(),this._setUpdateOperationHandle(a,o)}else this.updateGraphics.add(e),t.graphics=this.updateGraphics.toArray(),t.refresh(),r.resetHistory();this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"})},removeFromSelection:async e=>{const t=this.updateGraphics.indexOf(e);r.history.undo.forEach((e=>e.updates.splice(t,1))),r.history.redo.forEach((e=>e.updates.splice(t,1))),this.updateGraphics.remove(e);const o=this.updateGraphics.toArray();if(0===o.length)r.complete();else{const e=o[0].geometry;1!==o.length||!p(e)||\"point\"!==e.type&&\"multipoint\"!==e.type?r.activeComponent.graphics=o:r.toggleTool()}this.emit(\"update\",{graphics:o,state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"})},toggleTool:async()=>{if(this.updateGraphics.length>1)return;const e=this.updateGraphics.getItemAt(0),t=e.geometry;if(p(t)&&(\"reshape\"===r.tool&&(\"point\"===t.type||\"multipoint\"===t.type)||\"transform\"===r.tool&&\"extent\"===t.type))return;let a=null;\"transform\"===r.tool?a=await this._getReshape([e],o,i):\"reshape\"===r.tool&&(a=await this._getBox([e],o,i)),ae(a)||(r.activeComponent.destroy(),r.activeComponent=a,r.activeComponent&&(n.forEach((e=>e.remove())),n=this._getHandlesForComponent(r,o)))}});let s=[i.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(r,e,o)),x.WIDGET),i.on(\"key-down\",(e=>{if(this._getCommonUpdateOperationKeyDownHandlers(r,e),e.key!==j.snappingToggle||e.repeat||(this.snappingOptions.enabledToggled=!0,e.stopPropagation()),e.key===j.constraint&&!e.repeat&&r){const e=r.activeComponent;e&&\"box\"===e.type&&(e.preserveAspectRatio=!e.preserveAspectRatio)}}),x.WIDGET),i.on(\"key-up\",(e=>{if(e.key===j.snappingToggle&&\"reshape\"===r?.activeComponent?.type&&(this.snappingOptions.enabledToggled=!1,e.stopPropagation()),e.key===j.constraint&&r){const e=r.activeComponent;e&&\"box\"===e.type&&(e.preserveAspectRatio=!e.preserveAspectRatio)}}),x.WIDGET)],n=this._getHandlesForComponent(r,o);return r}async _getGraphicMover(e,t,o){const{enableMoveAllGraphics:i}=t,a=await this._requireModule(import(\"../../views/draw/support/GraphicMover.js\"));return ae(a)?a:new a.module.default({enableMoveAllGraphics:i,highlightsEnabled:!0,indicatorsEnabled:!1,graphics:e,view:o,callbacks:{onGraphicMoveStart:({dx:e,dy:t,graphic:o})=>{this._displayGrabbingCursor(),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:\"move-start\"},type:\"update\"})},onGraphicMove:({dx:e,dy:t,graphic:o})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:\"move\"},type:\"update\"}),onGraphicMoveStop:({dx:e,dy:t,graphic:o})=>{this._displayPointerCursor(),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:\"move-stop\"},type:\"update\"})},onGraphicPointerOver:()=>this._displayPointerCursor(),onGraphicPointerOut:()=>this._displayDefaultCursor()}})}async _getBox(e,t,o){const{enableRotation:i,enableScaling:a,preserveAspectRatio:r}=t,s=await this._requireModule(import(\"../../views/draw/support/Box.js\"));return ae(s)?s:new s.module.default({graphics:e,enableRotation:i,enableScaling:a,preserveAspectRatio:r,layer:this._internalGraphicsLayer,view:o,tooltipOptions:this.tooltipOptions,callbacks:{onMoveStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onMove:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onMoveStop:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onScaleStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onScale:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onScaleStop:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onRotateStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onRotate:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onRotateStop:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"})}})}async _getReshape(e,t,o){const i=\"split\"===t.reshapeOptions?.edgeOperation,a=\"move\"===t.reshapeOptions?.shapeOperation,r=await this._requireModule(import(\"../../views/draw/support/Reshape.js\"));return ae(r)?r:new r.module.default({enableMidpoints:i,enableMovement:a,graphic:e[0],layer:this._internalGraphicsLayer,snappingManager:this._snappingManager,tooltipOptions:this.tooltipOptions,view:o,callbacks:{onReshapeStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onReshape:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onReshapeStop:({mover:e,type:t})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e,type:t},type:\"update\"}),onMoveStart:({dx:e,dy:t,mover:o,type:i})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:i},type:\"update\"}),onMove:({dx:e,dy:t,mover:o,type:i})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:i},type:\"update\"}),onMoveStop:({dx:e,dy:t,mover:o,type:i})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:i},type:\"update\"}),onVertexAdd:({added:e,type:t,vertices:o})=>{const i=e.map((e=>k(e.geometry)));this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:i,vertices:o,type:t},type:\"update\"})},onVertexRemove:({removed:e,type:t,vertices:o})=>{const i=e.map((e=>k(e.geometry)));this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{removed:i,vertices:o,type:t},type:\"update\"})}}})}_getHandlesForComponent(e,t){const o=e.activeComponent;switch(o.type){case\"graphic-mover\":return[o.on(\"graphic-click\",(({graphic:t,viewEvent:o})=>{o.native?.shiftKey&&(o.stopPropagation(),e.removeFromSelection(t))})),o.on(\"graphic-move-start\",(t=>e.addToHistory(ie(t.allGraphics))))];case\"box\":return[o.on(\"graphic-click\",(o=>this._onTransformOrReshape2DGraphicClick(e,t,o))),o.on(\"move-start\",(t=>e.addToHistory(ie(t.graphics)))),o.on(\"rotate-start\",(t=>e.addToHistory(ie(t.graphics)))),o.on(\"scale-start\",(t=>e.addToHistory(ie(t.graphics))))];case\"reshape\":return[o.on(\"graphic-click\",(o=>this._onTransformOrReshape2DGraphicClick(e,t,o))),o.on(\"move-start\",(t=>e.addToHistory(ie([t.mover])))),o.on(\"reshape-start\",(t=>e.addToHistory(ie([t.graphic])))),o.on(\"vertex-add\",(t=>e.addToHistory(ie([t.oldGraphic])))),o.on(\"vertex-remove\",(t=>e.addToHistory(ie([t.oldGraphic]))))];case\"move-3d\":return[o.on(\"graphic-move-start\",(t=>{e.addToHistory(ie(t.allGraphics)),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:0,dy:0,mover:t.allGraphics.length>0?t.allGraphics[0]:null,type:\"move-start\"},type:\"update\"})})),o.on(\"graphic-move\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e.dx,dy:e.dy,mover:e.allGraphics.length>0?e.allGraphics[0]:null,type:\"move\"},type:\"update\"})})),o.on(\"graphic-move-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:0,dy:0,mover:e.allGraphics.length>0?e.allGraphics[0]:null,type:\"move-stop\"},type:\"update\"})})),o.on(\"immediate-click\",(o=>{o.shiftKey?this._toggleSelection([o.graphic],e,t):e.toggleTool()}))];case\"transform-3d\":return[o.on(\"record-undo\",(({record:t})=>{e.addToHistory({updates:[t]})})),o.on(\"graphic-translate-start\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.graphic,dx:e.dxScreen,dy:e.dyScreen,type:\"move-start\"},type:\"update\"})})),o.on(\"graphic-translate-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.graphic,dx:e.dxScreen,dy:e.dyScreen,type:\"move-stop\"},type:\"update\"})})),o.on(\"graphic-rotate-start\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.graphic,angle:e.angle,type:\"rotate-start\"},type:\"update\"})})),o.on(\"graphic-rotate-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.graphic,angle:e.angle,type:\"rotate-stop\"},type:\"update\"})})),o.on(\"graphic-scale-start\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.graphic,xScale:e.xScale,yScale:e.yScale,type:\"scale-start\"},type:\"update\"})})),o.on(\"graphic-scale-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.graphic,xScale:e.xScale,yScale:e.yScale,type:\"scale-stop\"},type:\"update\"})})),o.on(\"graphic-translate\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.graphic,dx:e.dxScreen,dy:e.dyScreen,type:\"move\"},type:\"update\"})})),o.on(\"graphic-rotate\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.graphic,angle:e.angle,type:\"rotate\"},type:\"update\"})})),o.on(\"graphic-scale\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.graphic,xScale:e.xScale,yScale:e.yScale,type:\"scale\"},type:\"update\"})})),o.on(\"immediate-click\",(o=>{o.shiftKey?this._toggleSelection([o.graphic],e,t):e.toggleTool()}))];case\"reshape-3d\":return[o.on(\"reshape\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:e,type:\"update\"})})),o.on(\"move\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:e,type:\"update\"})})),o.on(\"vertex-add\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:e,type:\"update\"})})),o.on(\"vertex-remove\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:e,type:\"update\"})})),o.on(\"immediate-click\",(o=>{o.shiftKey?this._toggleSelection([o.graphic],e,t):e.toggleTool()}))];default:return}}_onTransformOrReshape2DGraphicClick(e,t,o){const{graphic:i,viewEvent:a}=o;return a.native?.shiftKey&&i.layer===this.layer?(a.stopPropagation(),e.removeFromSelection(i)):t.toggleToolOnClick?(a.stopPropagation(),e.toggleTool()):void 0}_setUpdateOperationHandle(e,t){this._operationHandle=e;const o=this.view.map;this._disablePopup(t);const i=()=>{if(e===this._operationHandle){const i=this.updateGraphics.toArray(),a=this._operationHandle.tool;this._operationHandle.destroy(),this._operationHandle=null,this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray()),this.updateGraphics.removeAll(),o&&o.remove(this._internalGraphicsLayer),this._restorePopup(t),this.emit(\"update\",{graphics:i,state:\"complete\",aborted:e.cancelled,tool:a,toolEventInfo:null,type:\"update\"})}};e.on(\"complete\",i)}async _getCommonUpdateOperationClickHandlers(e,t,o){const i=q(t),a=await t.async((()=>this._getFirstHit(i)));if(c(a))return void e.complete();if(t.native.shiftKey&&this._toggleSelection([a.graphic],e,o))return void t.stopPropagation();this.updateGraphics.includes(a.graphic)?t.stopPropagation():e.complete()}_toggleSelection(e,t,o){const i=!!o.multipleSelectionEnabled;return e.some((e=>null!=e&&(!(!i||e.layer!==this.layer)&&(this.updateGraphics.includes(e)?t.removeFromSelection(e):t.addToSelection(e),!0))))}_getCommonUpdateOperationKeyDownHandlers(e,t){if(!e)return;const o=t.key;o===j.undo&&e.canUndo()?(t.stopPropagation(),e.undo()):o===j.redo&&e.canRedo()?(t.stopPropagation(),e.redo()):o===j.cancel?(t.stopPropagation(),e.cancel()):this.allowDeleteKey&&j.delete.includes(o)&&this._onDeleteKey(t)}_onDeleteKey(e){if(!this._operationHandle||\"update\"!==this._operationHandle.type)return;const t=this.activeComponent,o=this.updateGraphics.toArray();c(t)||\"reshape-3d\"===t.type||(\"reshape\"!==t.type||1===o.length&&\"point\"===u(o[0].geometry,\"type\"))&&(e.stopPropagation(),this.delete())}_removeDefaultLayer(){this._internalGraphicsLayer&&(this.view&&this.view.map&&this.view.map.remove(this._internalGraphicsLayer),this._internalGraphicsLayer=n(this._internalGraphicsLayer))}_isComponentGraphic(e){const{activeComponent:t}=this;return!(!e||c(t))&&(e.attributes&&e.attributes.esriSketchTool||\"draw-2d\"===t.type&&t.graphic===e||(\"box\"===t.type||\"reshape\"===t.type)&&t.isUIGraphic(e))}_displayPointerCursor(){this.view&&this.view.container&&\"pointer\"!==this.view.cursor&&(this.view.cursor=\"pointer\")}_displayGrabbingCursor(){this.view&&this.view.container&&\"grabbing\"!==this.view.cursor&&(this.view.cursor=\"grabbing\")}_displayDefaultCursor(){this.view&&this.view.container&&null!==this.view.cursor&&(this.view.cursor=null)}_logError(e,t,o){s.getLogger(this.declaredClass).error(new i(e,t,o))}async _requireModule(e){const t=new AbortController;this._moduleLoaderAbortController=t;const o=await e;return this._moduleLoaderAbortController!==t||t.signal.aborted?{requireError:\"aborted\"}:{module:o}}_emitUndoEvent(e){this.emit(\"undo\",{...e,type:\"undo\"})}_emitRedoEvent(e){this.emit(\"redo\",{...e,type:\"redo\"})}_emitDeleteEvent(e){this.emit(\"delete\",{...e,type:\"delete\"})}get test(){return{operationHandle:this._operationHandle,defaultUpdateOptions:J}}wait(){return _((()=>!this.updating))}_beginAsyncOperation(){this._numUpdating+=1,this.notifyChange(\"updating\")}_endAsyncOperation(){this._numUpdating-=1,this.notifyChange(\"updating\")}_disablePopupEnabled(e){return\"3d\"!==this.view?.type||this.updateOnGraphicClick||p(e)&&e.toggleToolOnClick}_disablePopup(e){if(!this._disablePopupEnabled(e))return;const t=this.view.popup;t&&c(this._originalAutoOpenEnabled)&&(this._originalAutoOpenEnabled=t.autoOpenEnabled,t.autoOpenEnabled=!1)}_restorePopup(e){if(!this._disablePopupEnabled(e))return;const t=this.view.popup;t&&p(this._originalAutoOpenEnabled)&&(t.autoOpenEnabled=this._originalAutoOpenEnabled,this._originalAutoOpenEnabled=null)}async _waitViewReady(){const e=this.view;e&&(h(this._viewReadyAbortController),this._viewReadyAbortController=new AbortController,await m(_((()=>e?.ready)),this._viewReadyAbortController.signal))}};function X(e){return\"polygon\"===e||\"rectangle\"===e||\"circle\"===e}function ee(e,t){oe(\"undo\",e.history.undo,e.history.redo,t)}function te(e,t){oe(\"redo\",e.history.redo,e.history.undo,t)}function oe(e,t,o,i){const a=t.pop().updates,r=[];i.forEach(((t,o)=>{const i=a[o];null!=i&&(\"geometry\"in i&&p(i.geometry)&&(r.push({geometry:t.geometry}),t.geometry=i.geometry),\"symbol\"in i&&p(i.symbol)&&(r.push({symbol:t.symbol}),t.symbol=i.symbol),\"undo\"in i&&(r.push(i),i[e](t)))})),o.push({updates:r})}function ie(e){return{updates:e.map((e=>({geometry:e.geometry})))}}function ae(e){return\"requireError\"in e&&\"aborted\"===e.requireError}e([b()],Q.prototype,\"updating\",null),e([b()],Q.prototype,\"_operationHandle\",void 0),e([b({readOnly:!0})],Q.prototype,\"activeTool\",null),e([b()],Q.prototype,\"activeFillSymbol\",void 0),e([b()],Q.prototype,\"activeLineSymbol\",void 0),e([b()],Q.prototype,\"activeVertexSymbol\",void 0),e([b()],Q.prototype,\"allowDeleteKey\",void 0),e([b({readOnly:!0})],Q.prototype,\"createGraphic\",null),e([b()],Q.prototype,\"defaultCreateOptions\",null),e([b()],Q.prototype,\"defaultUpdateOptions\",null),e([b({type:L,nonNullable:!0})],Q.prototype,\"labelOptions\",void 0),e([b()],Q.prototype,\"layer\",void 0),e([b({types:t})],Q.prototype,\"pointSymbol\",void 0),e([b({types:t})],Q.prototype,\"polygonSymbol\",void 0),e([b({types:t})],Q.prototype,\"polylineSymbol\",void 0),e([b({type:W,nonNullable:!0})],Q.prototype,\"snappingOptions\",null),e([b()],Q.prototype,\"_snappingManager\",void 0),e([b({readOnly:!0})],Q.prototype,\"state\",null),e([b({type:F,nonNullable:!0})],Q.prototype,\"tooltipOptions\",void 0),e([b({readOnly:!0})],Q.prototype,\"updateGraphics\",void 0),e([b()],Q.prototype,\"updateOnGraphicClick\",void 0),e([b({types:t})],Q.prototype,\"updatePointSymbol\",void 0),e([b({types:t})],Q.prototype,\"updatePolygonSymbol\",void 0),e([b({types:t})],Q.prototype,\"updatePolylineSymbol\",void 0),e([b({types:t})],Q.prototype,\"vertexSymbol\",void 0),e([b({value:null})],Q.prototype,\"view\",null),Q=e([G(\"esri.widgets.Sketch.SketchViewModel\")],Q);const re=Q;export{re as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nasync function e(){return import(\"../../../geometry/geometryEngineJSON.js\")}async function n(){return e().then((({contains:e,intersects:n,overlaps:t,simplify:r})=>({contains:e,intersects:n,overlaps:t,simplify:r})))}async function t(e){const{selector:t,candidates:r,currentSelection:s,options:o,view:i}=e;if(!(r&&r.length&&s&&i))return{added:[],removed:[]};const{overlaps:c,intersects:a,contains:d}=o,{spatialReference:l}=i;if(!t){return{added:[],removed:s.removeAll()}}const p=t,u=await n(),m=[],v=[];return r.forEach((e=>{const n=e.geometry,t=c&&!!u.overlaps(l,p,n),r=a&&!!u.intersects(l,p,n),o=d&&!!u.contains(l,p,n),i=s.includes(e);t||r||o?!i&&m.push(e):i&&v.push(e)})),s.removeMany(v),s.addMany(m),{added:m,removed:v}}export{n as getGeometryEngineOperations,e as importGeometryEngine,t as updateSelection};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../symbols.js\";import t from\"../../../core/Collection.js\";import o from\"../../../core/Evented.js\";import s from\"../../../core/Handles.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import r from\"../../../layers/GraphicsLayer.js\";import n from\"../../Sketch/SketchViewModel.js\";import{updateSelection as c}from\"./selectorUtils.js\";import a from\"../../../symbols/SimpleFillSymbol.js\";import p from\"../../../symbols/SimpleLineSymbol.js\";import h from\"../../../symbols/SimpleMarkerSymbol.js\";let d=class extends o.EventedAccessor{constructor({candidates:e,options:o,view:i}){super(),this._activeOptions=null,this._dashedFillSymbol=new a({color:[0,0,0,0],outline:{style:\"dash\",color:[12,207,255],width:2}}),this._dashedLineSymbol=new p({style:\"dash\",color:[12,207,255],width:2}),this._defaultOptions={createTool:\"rectangle\",createOptions:null,selectionOptions:{overlaps:!0,intersects:!0,contains:!1}},this._completed=!1,this._handles=new s,this._sketchViewModel=new n,this._sketchGraphicsLayer=new r({listMode:\"hide\",internal:!0}),this._transparentPointSymbol=new h({color:[0,0,0,0],outline:{style:\"none\",width:0}}),this.candidates=null,this.geometry=null,this.options=null,this.selection=new t,this.view=null,this.candidates=e,this.options=o,this.view=i;const{_dashedFillSymbol:l,_dashedLineSymbol:c,_sketchViewModel:d,_sketchGraphicsLayer:m,_transparentPointSymbol:y}=this;d.set({layer:m,view:this.view,activePointSymbol:y,activeLineSymbol:c,activeVertexSymbol:y,activeFillSymbol:l,pointSymbol:y,polygonSymbol:l,polylineSymbol:c,vertexSymbol:y}),this._handles.add([d.on(\"create\",(e=>this._onSketchEvent(e))),d.on([\"undo\",\"redo\"],(e=>this._onSketchEvent(e)))])}initialize(){this._load()}destroy(){this._handles.destroy(),this._handles=null}get state(){const{_completed:e,_sketchViewModel:{state:t}}=this;return e?\"complete\":\"active\"===t?\"active\":\"disabled\"}cancel(){return this._sketchViewModel.cancel()}async _load(){await this.view.whenReady();const{options:e}=this,{createTool:t,createOptions:o}=this._activeOptions={...this._defaultOptions,...e};this._sketchViewModel.create(t,o)}_onSketchEvent(e){const t=(\"create\"===e.type?e.graphic:e.graphics[0])?.geometry||null,o=\"create\"===e.type&&\"cancel\"===e.state,s=\"create\"===e.type&&\"complete\"===e.state;this._processSelectionGeometry(t,s,o)}_processSelectionGeometry(e,t,o){if(this._set(\"geometry\",e),(t||o)&&(this._completed=!0),o)return void this._onComplete([],!0);const{_activeOptions:s,candidates:i,selection:l,view:r}=this;c({selector:e,candidates:i,currentSelection:l,options:s.selectionOptions,view:r}).then((({added:e,removed:o})=>{t?this._onComplete(this.selection.toArray(),!1):(e.length||o.length)&&this.emit(\"selection-change\",{added:e,removed:o,type:\"selection-change\"})}))}_onComplete(e,t){this._handles.removeAll(),this.notifyChange(\"state\"),this.emit(\"complete\",{aborted:t,selection:e,type:\"complete\"})}};e([i()],d.prototype,\"_completed\",void 0),e([i()],d.prototype,\"candidates\",void 0),e([i({readOnly:!0})],d.prototype,\"geometry\",void 0),e([i()],d.prototype,\"options\",void 0),e([i({readOnly:!0})],d.prototype,\"selection\",void 0),e([i({readOnly:!0})],d.prototype,\"state\",null),e([i({value:null})],d.prototype,\"view\",void 0),d=e([l(\"esri.widgets.support.Selector2D.SelectionOperation2D\")],d);const m=d;export{m as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import e from\"../../core/Collection.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import c from\"./Selector2D/SelectionOperation2D.js\";import{updateSelection as n}from\"./Selector2D/selectorUtils.js\";let p=class extends(s(t)){constructor(o){super(o),this._defaultSelectionOptions={intersects:!0,overlaps:!0,contains:!0},this.candidates=null,this.options=null,this.view=null}draw(o){const{_defaultSelectionOptions:t,candidates:e,options:s,view:r}=this,i={...t,...s,...o?.selectionOptions};return new c({candidates:e,options:{...o,selectionOptions:i},view:r})}async selectionFrom(o,t){const{_defaultSelectionOptions:s,candidates:r,options:i,view:c}=this,p=new e,a={...s,...i,...t};return await n({selector:o,candidates:r,currentSelection:p,options:a,view:c}),p.toArray()}};o([r()],p.prototype,\"candidates\",void 0),o([r()],p.prototype,\"options\",void 0),o([r({value:null})],p.prototype,\"view\",void 0),p=o([i(\"esri.widgets.support.Selector2D\")],p);const a=p;export{a as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Evented.js\";import{handlesGroup as o}from\"../../../core/handleUtils.js\";import{removeMaybe as r}from\"../../../core/maybe.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../Selector2D.js\";let n=class extends t.EventedAccessor{constructor(e){super(e),this._operationHandlesGroup=null,this.activeOperation=null,this.layers=null,this.selector=new a}destroy(){this._operationHandlesGroup=r(this._operationHandlesGroup),this.selector.destroy()}get state(){return this.activeOperation?\"active\":this.view?.ready&&this.layers?.length?\"ready\":\"disabled\"}set view(e){this.selector.view=e,this._set(\"view\",e)}cancel(){\"active\"===this.state&&(this.activeOperation.cancel(),this.activeOperation=null),this.selector.candidates=null}activate(e){const{state:t}=this;if(\"disabled\"===t)return;\"active\"===t&&this.cancel(),this.selector.candidates=this._getCandidates();const r=this.selector.draw(e);return this._operationHandlesGroup=o([r.once(\"complete\",(e=>this._onOperationComplete(e))),r.on(\"selection-change\",(e=>this._onOperationSelectionChange(e)))]),this.activeOperation=r,r}_getCandidates(){let e=[];return this.layers.forEach((t=>{e=e.concat(...t.graphics.toArray())})),e}_onOperationSelectionChange(e){this.emit(\"selection-change\",e)}_onOperationComplete(e){this._operationHandlesGroup=r(this._operationHandlesGroup),this.activeOperation=null,this.emit(\"complete\",e)}};e([s()],n.prototype,\"activeOperation\",void 0),e([s()],n.prototype,\"layers\",void 0),e([s({readOnly:!0})],n.prototype,\"selector\",void 0),e([s({readOnly:!0})],n.prototype,\"state\",null),e([s()],n.prototype,\"view\",null),n=e([i(\"esri.widgets.support.SelectionToolbar.SelectionToolbarViewModel\")],n);const c=n;export{c as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{handlesGroup as o}from\"../../core/handleUtils.js\";import{removeMaybe as t}from\"../../core/maybe.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import{cast as l}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import a from\"../Widget.js\";import\"./widgetUtils.js\";import{messageBundle as c}from\"./decorators/messageBundle.js\";import{tsx as r}from\"./jsxFactory.js\";import n from\"./SelectionToolbar/SelectionToolbarViewModel.js\";const d={lassoTool:!0,rectangleTool:!0},p={createTool:\"polygon\",createOptions:{mode:\"freehand\"}},m={createTool:\"rectangle\"},h={base:\"esri-selection-toolbar\",container:\"esri-selection-toolbar__container\",toolButton:\"esri-selection-toolbar__tool-button\",disabled:\"esri-disabled\",esriWidget:\"esri-widget\",widgetIcon:\"esri-icon-vertex-gps\"};let g=class extends a{constructor(e,t){super(e,t),this._viewModelHandlesGroup=null,this.activeToolInfo=null,this.messages=null,this.toolConfigs=[],this.viewModel=new n,this.visibleElements={...d},this._viewModelHandlesGroup=o([this.viewModel.on(\"selection-change\",(e=>this.emit(\"selection-change\",e))),this.viewModel.on(\"complete\",(e=>{this._set(\"activeToolInfo\",null),this.emit(\"complete\",e)}))])}destroy(){this._viewModelHandlesGroup=t(this._viewModelHandlesGroup)}loadDependencies(){return Promise.all([import(\"@esri/calcite-components/dist/components/calcite-action.js\"),import(\"@esri/calcite-components/dist/components/calcite-icon.js\")])}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get layers(){return this.viewModel.layers}set layers(e){this.viewModel.layers=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}castVisibleElements(e){return{...d,...e}}activate(e){switch(this.cancel(),e){case\"lasso\":this._activateTool(\"lasso\");case\"rectangle\":this._activateTool(\"rectangle\");default:this._activateTool(e)}}cancel(){this.viewModel.cancel(),this._set(\"activeToolInfo\",null)}render(){return r(\"div\",{\"aria-label\":this.label,class:this.classes(h.base,h.esriWidget)},r(\"div\",{class:h.container},this.renderDefaultTools(),this.renderCustomTools()))}renderDefaultTools(){if(\"2d\"===this.view?.type)return[this.renderRectangleTool(),this.renderLassoTool()]}renderCustomTools(){if(this.toolConfigs&&this.toolConfigs.length)return this.toolConfigs.map((e=>r(\"calcite-action\",{active:this.activeToolInfo?.toolName===e.toolName,bind:this,class:h.toolButton,label:e.toolName,onclick:()=>this._onCustomToolClick(e.toolName),scale:\"s\",text:e.toolName,title:e.toolName},r(\"calcite-icon\",{scale:\"s\",icon:e.icon||\"selection\"}))))}renderLassoTool(){const{activeToolInfo:e,messages:o,visibleElements:t}=this;if(t.lassoTool)return r(\"calcite-action\",{active:\"lasso\"===e?.toolName,bind:this,label:o.selectByLasso,onclick:this._onLassoToolClick,scale:\"s\",text:o.selectByLasso,title:o.selectByLasso},r(\"calcite-icon\",{scale:\"s\",icon:\"lasso\"}))}renderRectangleTool(){const{activeToolInfo:e,messages:o,visibleElements:t}=this;if(t.rectangleTool)return r(\"calcite-action\",{active:\"rectangle\"===e?.toolName,bind:this,label:o.selectByRectangle,onclick:this._onRectangleToolClick,scale:\"s\",text:o.selectByRectangle,title:o.selectByRectangle},r(\"calcite-icon\",{scale:\"s\",icon:\"cursor-marquee\"}))}_onCustomToolClick(e){this._toggleTool(e)}_onLassoToolClick(){this._toggleTool(\"lasso\")}_onRectangleToolClick(){this._toggleTool(\"rectangle\")}_activateTool(e){const o=this._getToolOptions(e);if(!o)return;const t=this.viewModel.activate(o);this._set(\"activeToolInfo\",{toolName:e,operation:t})}_toggleTool(e){if(this.activeToolInfo){const o=this.activeToolInfo.toolName;if(this.cancel(),o===e)return}this._activateTool(e)}_getToolOptions(e){if(\"lasso\"===e)return p;if(\"rectangle\"===e)return m;const o=this.toolConfigs.find((o=>o.toolName===e));if(!o)return;const{createTool:t,createOptions:s,selectionOptions:l}=o;return{createTool:t,createOptions:s,selectionOptions:l}}};e([s({readOnly:!0})],g.prototype,\"activeToolInfo\",void 0),e([s()],g.prototype,\"label\",null),e([s()],g.prototype,\"layers\",null),e([s(),c(\"esri/widgets/support/SelectionToolbar/t9n/SelectionToolbar\")],g.prototype,\"messages\",void 0),e([s()],g.prototype,\"toolConfigs\",void 0),e([s()],g.prototype,\"view\",null),e([s()],g.prototype,\"viewModel\",void 0),e([s()],g.prototype,\"visibleElements\",void 0),e([l(\"visibleElements\")],g.prototype,\"castVisibleElements\",null),g=e([i(\"esri.widgets.support.SelectionToolbar\")],g);const v=g;export{v as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getNormalizedChildLayerProperty as s}from\"../../LayerList/support/layerListUtils.js\";const r=e=>t(e)||a(e),t=e=>{if(!(\"type\"in e))return!1;switch(e.type){case\"feature\":case\"geojson\":case\"csv\":case\"graphics\":case\"wfs\":case\"map-notes\":case\"oriented-imagery\":case\"scene\":case\"building-scene\":return!0;default:return!1}},a=t=>{const a=s(t);if(t.hasOwnProperty(a)&&e(t[a]))for(const e of t[a])if(r(e))return!0;return!1};export{r as isValidSnappingLayer,a as isValidSnappingLayerGroup,t as isValidSnappingLayerSource};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Collection.js\";import{isSome as t}from\"../../../core/maybe.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../LayerList/ListItem.js\";import{canDisplayLayer as p}from\"../../LayerList/support/layerListUtils.js\";import{isValidSnappingLayer as a}from\"./snappingLayerListUtils.js\";var n;let u=n=class extends i{constructor(e){super(e),this.children=new r}get enabled(){return!!t(this.featureSource)&&this.featureSource.enabled}get featureSource(){const{layer:e,getFeatureSnappingSources:r}=this;return r().find((r=>r.layer===e))}_initializeChildLayers(e){if(!e)return;const r=e.filter(a);super._initializeChildLayers(r)}_makeChildren(e){return e.map((e=>p(e)?new n({layer:e,parent:this,view:this.view,getFeatureSnappingSources:this.getFeatureSnappingSources}):null)).reverse()}};e([o()],u.prototype,\"children\",void 0),e([o()],u.prototype,\"enabled\",null),e([o({constructOnly:!0})],u.prototype,\"getFeatureSnappingSources\",void 0),e([o()],u.prototype,\"featureSource\",null),e([o()],u.prototype,\"parent\",void 0),u=n=e([s(\"esri.widgets.support.SnappingControls.SnappingListItem\")],u);export{u as SnappingListItem};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Collection.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../LayerList/LayerListViewModel.js\";import{isValidSnappingLayer as i}from\"./snappingLayerListUtils.js\";import{SnappingListItem as p}from\"./SnappingListItem.js\";let a=class extends o{constructor(){super(...arguments),this.featureSnappingSources=new t}get operationalItemsFlat(){return this.operationalItems.flatten((e=>e.children))}_compileList(){const e=this.get(\"view.map.layers\");if(!e)return;const t=e.filter(i);this._watchLayersListMode(t);const r=this._getViewableLayers(t);r&&r.length?(this._createNewItems(r),this._removeItems(r),this._sortItems(r)):this._removeAllItems()}_createListItem(e){return new p({layer:e,view:this.view,getFeatureSnappingSources:()=>this.featureSnappingSources})}};e([r()],a.prototype,\"featureSnappingSources\",void 0),e([r()],a.prototype,\"operationalItems\",void 0),a=e([s(\"esri.widgets.support.SnappingControls.SnappingLayerListViewModel\")],a);export{a as SnappingLayerListViewModel};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import o from\"../../../core/Error.js\";import{HandleOwnerMixin as s}from\"../../../core/HandleOwner.js\";import{watch as i,initial as t}from\"../../../core/reactiveUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../views/interactive/snapping/FeatureSnappingLayerSource.js\";import{canDisplayLayer as l}from\"../../LayerList/support/layerListUtils.js\";import{SnappingLayerListViewModel as c}from\"./SnappingLayerListViewModel.js\";const u=\"esri.widgets.support.SnappingControls.SnappingControlsViewModel\";let d=class extends(s(r)){constructor(e){super(e),this.layerListViewModel=new c,this.snappingOptions=null,this.view=null}initialize(){this.handles.add([i((()=>({viewModel:this.layerListViewModel,view:this.view})),(({viewModel:e,view:r})=>{e.view=r}),t),i((()=>({viewModel:this.layerListViewModel,sources:this.snappingOptions?.featureSources})),(({viewModel:e,sources:r})=>{e.featureSnappingSources=r}),t)])}get state(){return this.get(\"snappingOptions\")?\"ready\":\"disabled\"}enableSnappingForLayer(e){(this._findSnappingSourceForLayer(e)??this._makeSnappingSourceForLayer(e)).enabled=!0}disableSnappingForLayer(e){const r=this._findSnappingSourceForLayer(e);r&&(r.enabled=!1)}updateEnabledFeatureSources(e){for(const r of this.snappingOptions.featureSources)l(r.layer)&&(r.enabled=e.includes(r.layer.id))}_findSnappingSourceForLayer(e){return this.snappingOptions.featureSources.find((r=>r.layer.id===e))}_makeSnappingSourceForLayer(e){const{layer:r}=this.layerListViewModel.operationalItemsFlat.find((r=>r.layer.id===e));if(!r)throw new o(\"snapping-controls:layer-not-found\",`cannot enable snapping for layer with id ${e} because no such layer was found in the view`);const s=new p({layer:r});return this.snappingOptions.featureSources.add(s),s}};e([n({constructOnly:!0})],d.prototype,\"layerListViewModel\",void 0),e([n({constructOnly:!0})],d.prototype,\"snappingOptions\",void 0),e([n()],d.prototype,\"state\",null),e([n({constructOnly:!0})],d.prototype,\"view\",void 0),d=e([a(u)],d);const y=d;export{y as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{destroyMaybe as t,isNone as i,unwrap as s}from\"../../core/maybe.js\";import{generateUID as l}from\"../../core/uid.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import{cast as a}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../Widget.js\";import\"./widgetUtils.js\";import{messageBundle as c}from\"./decorators/messageBundle.js\";import{tsx as p}from\"./jsxFactory.js\";import d from\"./SnappingControls/SnappingControlsViewModel.js\";const g={header:!0,enabledToggle:!0,selfEnabledToggle:!0,featureEnabledToggle:!0,layerList:!0},h={base:\"esri-snapping-controls\",container:\"esri-snapping-controls__container\",panel:\"esri-snapping-controls__panel\",item:\"esri-snapping-controls__item\",toggleBlock:\"esri-snapping-controls__toggle-block\",layerListBlock:\"esri-snapping-controls__layer-list-block\",layerList:\"esri-snapping-controls__layer-list\",layerListFilter:\"esri-snapping-controls__layer-list__filter\",layerListItem:\"esri-snapping-controls__layer-list__item\",layerListItemCheckbox:\"esri-snapping-controls__layer-list__item__checkbox\",layerListItemLabel:\"esri-snapping-controls__layer-list__item__label\",nestedContainer:\"esri-snapping-controls__nested-container\",disabled:\"esri-disabled\",esriWidget:\"esri-widget\",widgetIcon:\"esri-icon-vertex-gps\"};let m=class extends o{constructor(e,t){super((()=>{const{view:t,viewModel:i,snappingOptions:s,...l}=e;return l})(),t),this._layerListFilter=null,this.messages=null,this.messagesCommon=null,this.visibleElements={...g},this._defaultViewModel=null,e?.viewModel?this.viewModel=e.viewModel:(this._defaultViewModel=new d({snappingOptions:e.snappingOptions,view:e.view}),this.viewModel=this._defaultViewModel)}destroy(){this._defaultViewModel=t(this._defaultViewModel)}loadDependencies(){return Promise.all([import(\"@esri/calcite-components/dist/components/calcite-accordion.js\"),import(\"@esri/calcite-components/dist/components/calcite-accordion-item.js\"),import(\"@esri/calcite-components/dist/components/calcite-block.js\"),import(\"@esri/calcite-components/dist/components/calcite-checkbox.js\"),import(\"@esri/calcite-components/dist/components/calcite-input.js\"),import(\"@esri/calcite-components/dist/components/calcite-label.js\"),import(\"@esri/calcite-components/dist/components/calcite-list.js\"),import(\"@esri/calcite-components/dist/components/calcite-list-item.js\"),import(\"@esri/calcite-components/dist/components/calcite-panel.js\"),import(\"@esri/calcite-components/dist/components/calcite-switch.js\")])}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get snappingOptions(){return this.viewModel.snappingOptions}set snappingOptions(e){this.viewModel.snappingOptions=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}set viewModel(e){e!==this._get(\"viewModel\")&&((i(this._defaultViewModel)||this._defaultViewModel!==e)&&(this._defaultViewModel=t(this._defaultViewModel)),this._set(\"viewModel\",e))}castVisibleElements(e){return{...g,...e}}render(){const{label:e,visibleElements:{header:t}}=this;return p(\"div\",{\"aria-label\":e,class:this.classes(h.base,h.esriWidget)},p(\"div\",{class:h.container},t?this.renderHeaderView():this.renderContent()))}renderHeaderView(){return p(\"calcite-panel\",{heading:this.label,class:h.panel},this.renderContent())}renderContent(){return[this.renderToggles(),this.renderLayerList()]}renderToggles(){const{visibleElements:{enabledToggle:e,selfEnabledToggle:t,featureEnabledToggle:i}}=this;if(e||t||i)return p(\"calcite-block\",{class:h.toggleBlock,key:\"toggle-block\",heading:\"\",open:!0},this.renderEnabledToggle(),p(\"div\",{class:h.nestedContainer},this.renderSelfEnabledToggle(),this.renderFeatureEnabledToggle()))}renderEnabledToggle(){if(!this.visibleElements.enabledToggle)return;const{messages:{enableSnapping:e},viewModel:{snappingOptions:{enabled:t,enabledToggled:i}}}=this;return p(\"calcite-label\",{layout:\"inline-space-between\"},e,p(\"calcite-switch\",{checked:t,disabled:i,bind:this,onCalciteSwitchChange:this._enableSnappingSwitchChange}))}renderSelfEnabledToggle(){if(!this.visibleElements.selfEnabledToggle)return;const{messages:{geometryGuides:e},viewModel:{snappingOptions:{enabled:t,selfEnabled:i,enabledToggled:s}}}=this;return p(\"calcite-label\",{layout:\"inline-space-between\",key:\"self-enabled-toggle\"},e,p(\"calcite-switch\",{checked:i,disabled:s||!t,bind:this,onCalciteSwitchChange:this._selfEnabledSwitchChange}))}renderFeatureEnabledToggle(){if(!this.visibleElements.featureEnabledToggle)return;const{messages:{featureToFeature:e},viewModel:{snappingOptions:{enabled:t,featureEnabled:i,enabledToggled:s}}}=this;return p(\"calcite-label\",{layout:\"inline-space-between\",key:\"feature-enabled-toggle\"},e,p(\"calcite-switch\",{checked:i,disabled:s||!t,bind:this,onCalciteSwitchChange:this._featureEnabledSwitchChange}))}renderLayerList(){if(!this.visibleElements.layerList)return;const{messages:e,messagesCommon:t}=this,i=({target:{value:e}})=>this._layerListFilter=\"\"===e?null:new RegExp(e,\"i\"),l=this.viewModel.layerListViewModel.operationalItems.length>9?p(\"calcite-input\",{class:h.layerListFilter,clearable:!0,placeholder:e?.searchLayers,onCalciteInputInput:i}):null;return p(\"calcite-block\",{key:\"list-block\",\"intl-collapse\":t?.collapse,\"intl-expand\":t?.expand,heading:e.snappingLayers,class:h.layerListBlock,open:!0,collapsible:!0},l,p(\"calcite-list\",{class:h.layerList},this.renderLayerListItemCollection(this.viewModel.layerListViewModel.operationalItems,s(this._layerListFilter))))}renderLayerListItemCollection(e,t){return e.map((e=>{if(!t||this._itemTitleMatchesFilter(e,t))return e.children.length>0?this.renderLayerListItemGroup(e):this.renderLayerListItem(e);const i=e.children.filter((e=>this._itemTitleMatchesFilter(e,t)));return i.length>0?this.renderLayerListItemGroup(e,i):null})).toArray()}renderLayerListItem(e){const{messages:{untitledLayer:t}}=this,i=e.title||t,s=e.enabled,l=p(\"calcite-checkbox\",{value:e.layer.id,checked:s,bind:this,onCalciteCheckboxChange:e=>this._handleLayerListItemChange(e.target)}),n=()=>{const e=!l.properties.checked;this._handleLayerListItemChange({checked:e,value:l.properties.value})};return p(\"calcite-list-item\",{key:`${this.id}-list-item-${e.uid}`,onclick:n},p(\"calcite-label\",{class:h.layerListItem,slot:\"content-start\",tabIndex:-1,layout:\"inline\",\"disable-spacing\":\"true\"},p(\"div\",{class:h.layerListItemCheckbox},l),p(\"div\",{class:h.layerListItemLabel},i)))}renderLayerListItemGroup(e,t){const i=e.title||this.messages.untitledLayer,s=e.title&&\"\"!==e.title?e.title:l(),n=!!t,a=t??e.children;return p(\"calcite-list-item\",{key:s},p(\"calcite-accordion\",{\"icon-position\":\"start\",appearance:\"transparent\",afterCreate:e=>{e.append(...Array.from(e.children).map((e=>(e.remove(),e))))}},p(\"calcite-accordion-item\",{active:n,\"item-title\":i,key:e.uid},p(\"calcite-list\",null,[...this.renderLayerListItemCollection(a)]))))}_enableSnappingSwitchChange(e){this.snappingOptions.enabled=e.target.checked}_featureEnabledSwitchChange(e){this.snappingOptions.featureEnabled=e.target.checked}_itemTitleMatchesFilter(e,t){return t.test(e.title)}_selfEnabledSwitchChange(e){this.snappingOptions.selfEnabled=e.target.checked}async _handleLayerListItemChange(e){e.checked?this.viewModel.enableSnappingForLayer(e.value):this.viewModel.disableSnappingForLayer(e.value)}};e([n()],m.prototype,\"_layerListFilter\",void 0),e([n()],m.prototype,\"label\",null),e([n(),c(\"esri/widgets/support/SnappingControls/t9n/SnappingControls\")],m.prototype,\"messages\",void 0),e([n(),c(\"esri/t9n/common\")],m.prototype,\"messagesCommon\",void 0),e([n()],m.prototype,\"snappingOptions\",null),e([n()],m.prototype,\"view\",null),e([n()],m.prototype,\"viewModel\",null),e([n()],m.prototype,\"visibleElements\",void 0),e([a(\"visibleElements\")],m.prototype,\"castVisibleElements\",null),m=e([r(\"esri.widgets.support.SnappingControls\")],m);const b=m;export{b as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../intl.js\";import{handlesGroup as t}from\"../core/handleUtils.js\";import{removeMaybe as o,destroyMaybe as i,isSome as s}from\"../core/maybe.js\";import{watch as n,syncAndInitial as l,when as r}from\"../core/reactiveUtils.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import{cast as c}from\"../core/accessorSupport/decorators/cast.js\";import{subclass as p}from\"../core/accessorSupport/decorators/subclass.js\";import d from\"./Widget.js\";import u from\"./Sketch/SketchViewModel.js\";import h from\"./support/SelectionToolbar.js\";import g from\"./support/SnappingControls.js\";import{isRTL as v}from\"./support/widgetUtils.js\";import{messageBundle as m}from\"./support/decorators/messageBundle.js\";import{vmEvent as _}from\"./support/decorators/vmEvent.js\";import{tsx as b}from\"./support/jsxFactory.js\";import{substitute as w}from\"../intl/substitute.js\";const f={base:\"esri-sketch\",verticalLayout:\"esri-sketch--vertical\",panel:\"esri-sketch__panel\",infoPanel:\"esri-sketch__info-panel\",section:\"esri-sketch__section\",toolSection:\"esri-sketch__tool-section\",infoSection:\"esri-sketch__info-section\",infoCountSection:\"esri-sketch__info-count-section\",menuContainer:\"esri-sketch__menu-container\",menuHeader:\"esri-sketch__menu-header\",menuTitle:\"esri-sketch__menu-title\",featureCountBadge:\"esri-sketch__feature-count-badge\",featureCountText:\"esri-sketch__feature-count-text\",featureCountNumber:\"esri-sketch__feature-count-number\",actionToggle:\"esri-sketch__action-toggle\",actionToggleOn:\"esri-sketch__action-toggle--on\",actionTitle:\"esri-sketch__item-action-title\",actionIcon:\"esri-sketch__item-action-icon\",disabled:\"esri-disabled\",esriWidget:\"esri-widget\",rotating:\"esri-rotating\",widgetIcon:\"esri-icon-edit\"},y={createTools:{point:!0,polyline:!0,polygon:!0,rectangle:!0,circle:!0},selectionTools:{\"rectangle-selection\":!0,\"lasso-selection\":!0},undoRedoMenu:!0,settingsMenu:!0,snappingControls:!0,snappingControlsElements:{header:!1,enabledToggle:!0,selfEnabledToggle:!0,featureEnabledToggle:!0,layerList:!0}};let C=class extends d{constructor(e,t){super(e,t),this._activeCreateOptions=null,this._menuOpen=!1,this._selectionToolbar=null,this._snappingControls=null,this._viewModelHandlesGroup=null,this.availableCreateTools=[\"point\",\"polyline\",\"polygon\",\"rectangle\",\"circle\"],this.creationMode=\"continuous\",this.iconClass=f.widgetIcon,this.layout=\"horizontal\",this.messages=null,this.visibleElements={...y},this._activateCreateTool=this._activateCreateTool.bind(this),this.viewModel=e?.viewModel||new u}initialize(){const{layer:e,view:i}=this,s=new h({view:\"2d\"===i?.type?i:null,layers:e?[e]:null});this.addHandles([n((()=>this.viewModel),(e=>{this._viewModelHandlesGroup=o(this._viewModelHandlesGroup),e&&(this._viewModelHandlesGroup=t([e.on(\"create\",(e=>{this.scheduleRender(),this._onCreateOperation(e)})),e.on(\"update\",(()=>this.scheduleRender())),e.on(\"delete\",(e=>this.emit(\"delete\",e))),e.on(\"undo\",(()=>this.scheduleRender())),e.on(\"redo\",(()=>this.scheduleRender())),n((()=>e.layer),(e=>{this._selectionToolbar.layers=e?[e]:null})),n((()=>e.view),(e=>{this._selectionToolbar.view=\"2d\"===e?.type?e:null,this._setUpSnappingControls()})),n((()=>e.state),(()=>this.notifyChange(\"state\")))]))}),l),r((()=>s.activeToolInfo),(()=>this.viewModel.cancel())),s.on(\"complete\",(e=>this._onSelectionOperationComplete(e)))]),this._selectionToolbar=s,this._setUpSnappingControls()}loadDependencies(){return Promise.all([import(\"@esri/calcite-components/dist/components/calcite-action.js\"),import(\"@esri/calcite-components/dist/components/calcite-icon.js\")])}destroy(){this._selectionToolbar.destroy(),this._viewModelHandlesGroup=o(this._viewModelHandlesGroup),this._snappingControls=i(this._snappingControls)}get activeTool(){const e=this._selectionToolbar.activeToolInfo;if(e)switch(e.toolName){case\"lasso\":return\"lasso-selection\";case\"rectangle\":return\"rectangle-selection\";case\"default\":return\"custom-selection\"}return this.viewModel.activeTool}get createGraphic(){return this.viewModel.createGraphic}get defaultCreateOptions(){return this.viewModel.defaultCreateOptions}set defaultCreateOptions(e){this.viewModel.defaultCreateOptions=e}get defaultUpdateOptions(){return this.viewModel.defaultUpdateOptions}set defaultUpdateOptions(e){this.viewModel.defaultUpdateOptions=e}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get labelOptions(){return this.viewModel.labelOptions}set labelOptions(e){this.viewModel.labelOptions=e}get layer(){return this.viewModel.layer}set layer(e){this.viewModel.layer=e}get snappingOptions(){return this.viewModel.snappingOptions}set snappingOptions(e){this.viewModel.snappingOptions=e}get state(){return this._selectionToolbar.activeToolInfo?\"active\":this.viewModel.state}get tooltipOptions(){return this.viewModel.tooltipOptions}set tooltipOptions(e){this.viewModel.tooltipOptions=e}get updateGraphics(){return this.viewModel.updateGraphics}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}set viewModel(e){const t=this._get(\"viewModel\");e!==t&&(t&&i(t),this._set(\"viewModel\",e))}castVisibleElements(e){const t={...y,...e,createTools:{...y.createTools,...e?.createTools},selectionTools:{...y.selectionTools,...e?.selectionTools},snappingControlsElements:{...y.snappingControlsElements,...e?.snappingControlsElements}};return s(this._snappingControls)&&(this._snappingControls.visibleElements=t.snappingControlsElements),t}create(e,t){this._activeCreateOptions=t||null,this.viewModel.create(e,t)}update(e,t){return this.viewModel.update(e,t)}complete(){this.viewModel.complete()}cancel(){this._selectionToolbar.cancel(),this.viewModel.cancel()}undo(){this.viewModel.undo(),this.view?.focus()}redo(){this.viewModel.redo(),this.view?.focus()}delete(){this.viewModel.delete()}render(){const{label:e,layout:t,viewModel:{state:o}}=this;return b(\"div\",{\"aria-label\":e,class:this.classes(f.base,f.esriWidget,{[f.disabled]:\"disabled\"===o,[f.verticalLayout]:\"vertical\"===t})},b(\"div\",{role:\"toolbar\",class:f.panel},this.renderTopPanelContents()),b(\"div\",{class:this.classes(f.panel,f.infoPanel)},this.renderInfoPanelContents()))}renderTopPanelContents(){const e=this.classes(f.section,f.toolSection),{availableCreateTools:t,visibleElements:o}=this;return[b(\"div\",{role:\"menu\",key:\"selection-button-container\",class:e},this.renderDefaultSelectionButton(),this.renderSelectionToolbar()),t&&t.length?b(\"div\",{role:\"menu\",class:e},this.renderDrawButtons()):null,o.undoRedoMenu?b(\"div\",{role:\"menu\",key:\"undo-redo-menu-button-container\",class:e},this.renderUndoRedoMenuButtons()):null,o.settingsMenu?b(\"div\",{key:\"settings-menu-button-container\",class:f.section},this.renderSettingsMenuButton()):null]}renderInfoPanelContents(){return this._menuOpen?this.renderSettingsMenu():this.updateGraphics.length?[b(\"div\",{class:this.classes(f.section,f.infoSection,f.infoCountSection),key:\"feature-count-container\"},this.renderFeatureCount()),b(\"div\",{class:this.classes(f.section,f.infoSection),key:\"delete-button-container\"},this.renderDeleteButton())]:void 0}renderSettingsMenu(){const{settings:e}=this.messages;return[b(\"div\",{role:\"menu\",class:f.menuContainer,key:\"settings-menu-container\"},b(\"header\",{class:f.menuHeader,key:\"settings-menu-header\"},b(\"span\",{class:f.menuTitle},e)),this.renderSnappingControls())]}renderSnappingControls(){const{snappingControls:e}=this.visibleElements;if(s(this._snappingControls)&&e)return this._snappingControls.render()}renderFeatureCount(){const{layout:e,messages:t,updateGraphics:{length:o}}=this,i=w(1===o?t.featureCount:t.featuresCount,{count:o});return b(\"div\",{class:f.featureCountBadge,\"aria-label\":i},b(\"span\",{class:f.featureCountNumber},\"vertical\"===e?o:i))}renderDeleteButton(){const e=this.messages.deleteFeature;return b(\"calcite-action\",{bind:this,label:e,onclick:this.delete,scale:\"s\",text:e,title:e},b(\"calcite-icon\",{scale:\"s\",icon:\"trash\"}))}renderDefaultSelectionButton(){if(!this.viewModel.updateOnGraphicClick)return;const e=this.messages.selectFeature;return b(\"calcite-action\",{active:\"ready\"===this.state,bind:this,label:e,onclick:this._activateDefaultSelectTool,scale:\"s\",text:e,title:e},b(\"calcite-icon\",{scale:\"s\",icon:\"cursor\"}))}renderSelectionToolbar(){if(\"2d\"!==this.view?.type)return;const e=this.visibleElements.selectionTools;return this._selectionToolbar.visibleElements={lassoTool:!!e[\"lasso-selection\"],rectangleTool:!!e[\"rectangle-selection\"]},this._selectionToolbar.render()}renderDrawButtons(){const e=this.visibleElements.createTools;return this.availableCreateTools.map((t=>\"point\"===t&&e.point?this.renderPointButton():\"polyline\"===t&&e.polyline?this.renderPolylineButton():\"polygon\"===t&&e.polygon?this.renderPolygonButton():\"rectangle\"===t&&e.rectangle?this.renderRectangleButton():\"circle\"===t&&e.circle?this.renderCircleButton():void 0))}renderPointButton(){const e=\"point\",t=this.messages.drawPoint;return b(\"calcite-action\",{active:this.activeTool===e,bind:this,label:t,onclick:()=>this._activateCreateTool(e),scale:\"s\",text:t,title:t},b(\"calcite-icon\",{scale:\"s\",icon:\"pin\"}))}renderPolygonButton(){const e=\"polygon\",t=this.messages.drawPolygon;return b(\"calcite-action\",{active:this.activeTool===e,bind:this,label:t,onclick:()=>this._activateCreateTool(e),scale:\"s\",text:t,title:t},b(\"calcite-icon\",{scale:\"s\",icon:\"polygon\"}))}renderPolylineButton(){const e=\"polyline\",t=this.messages.drawPolyline;return b(\"calcite-action\",{active:this.activeTool===e,bind:this,label:t,onclick:()=>this._activateCreateTool(e),scale:\"s\",text:t,title:t},b(\"calcite-icon\",{scale:\"s\",icon:\"line\"}))}renderCircleButton(){const e=\"circle\",t=this.messages.drawCircle;return b(\"calcite-action\",{active:this.activeTool===e,bind:this,label:t,onclick:()=>this._activateCreateTool(e),scale:\"s\",text:t,title:t},b(\"calcite-icon\",{scale:\"s\",icon:\"circle\"}))}renderRectangleButton(){const e=\"rectangle\",t=this.messages.drawRectangle;return b(\"calcite-action\",{active:this.activeTool===e,bind:this,label:t,onclick:()=>this._activateCreateTool(e),scale:\"s\",text:t,title:t},b(\"calcite-icon\",{scale:\"s\",icon:\"rectangle\"}))}renderUndoRedoMenuButtons(){return[this.renderUndoButton(),this.renderRedoButton()]}renderUndoButton(){const e=this.messages.undo;return b(\"calcite-action\",{disabled:!this.viewModel.canUndo(),bind:this,label:e,onclick:this.undo,scale:\"s\",text:e,title:e},b(\"calcite-icon\",{scale:\"s\",icon:v(this.container)?\"redo\":\"undo\"}))}renderRedoButton(){const e=this.messages.redo;return b(\"calcite-action\",{disabled:!this.viewModel.canRedo(),bind:this,label:e,onclick:this.redo,scale:\"s\",text:e,title:e},b(\"calcite-icon\",{scale:\"s\",icon:v(this.container)?\"undo\":\"redo\"}))}renderSettingsMenuButton(){const e=this.messages.settings;return b(\"calcite-action\",{active:this._menuOpen,bind:this,label:e,onclick:this._toggleMenu,scale:\"s\",text:e,title:e},b(\"calcite-icon\",{scale:\"s\",icon:\"gear\"}))}_activateCreateTool(e){this.activeTool!==e?(this._selectionToolbar.cancel(),this.create(e)):this.cancel()}_onCreateOperation(e){if(\"complete\"!==e.state)return;const{creationMode:t}=this,{type:o}=e;if(\"create\"===o){const{tool:o,graphic:i}=e,s=this._activeCreateOptions;this._activeCreateOptions=null,\"continuous\"===t?this.create(o,s):\"update\"===t&&this.update([i])}}_toggleMenu(){this._menuOpen=!this._menuOpen,this.scheduleRender()}_onSelectionOperationComplete(e){const{viewModel:{defaultUpdateOptions:t}}=this,{selection:o}=e;if(!e.aborted&&o.length){const e=t.tool,i=o.length>1&&\"reshape\"===e?\"transform\":e;this.update(o,{...t,tool:i})}this.notifyChange(\"state\")}_activateDefaultSelectTool(){this.cancel(),this.view?.focus()}_setUpSnappingControls(){const{snappingOptions:e,view:t}=this;if(this._snappingControls=i(this._snappingControls),!e||!t)return;const o=new g({snappingOptions:e,view:t,visibleElements:this.visibleElements.snappingControlsElements});this._snappingControls=o}};e([a()],C.prototype,\"activeTool\",null),e([a({cast:e=>{if(!e||!e.length)return null;const t=new Set([\"point\",\"polyline\",\"polygon\",\"rectangle\",\"circle\"]);return e.filter((e=>t.has(e)))}})],C.prototype,\"availableCreateTools\",void 0),e([a({readOnly:!0})],C.prototype,\"createGraphic\",null),e([a()],C.prototype,\"creationMode\",void 0),e([a()],C.prototype,\"defaultCreateOptions\",null),e([a()],C.prototype,\"defaultUpdateOptions\",null),e([a()],C.prototype,\"iconClass\",void 0),e([a()],C.prototype,\"label\",null),e([a()],C.prototype,\"labelOptions\",null),e([a()],C.prototype,\"layer\",null),e([a({type:[\"horizontal\",\"vertical\"]})],C.prototype,\"layout\",void 0),e([a(),m(\"esri/widgets/Sketch/t9n/Sketch\")],C.prototype,\"messages\",void 0),e([a()],C.prototype,\"snappingOptions\",null),e([a()],C.prototype,\"state\",null),e([a()],C.prototype,\"tooltipOptions\",null),e([a({readOnly:!0})],C.prototype,\"updateGraphics\",null),e([a()],C.prototype,\"view\",null),e([a(),_([\"create\",\"update\",\"undo\",\"redo\"])],C.prototype,\"viewModel\",null),e([a()],C.prototype,\"visibleElements\",void 0),e([c(\"visibleElements\")],C.prototype,\"castVisibleElements\",null),C=e([p(\"esri.widgets.Sketch\")],C);const T=C;export{T as default};\n", "import d from \"./node_modules/@arcgis/core/widgets/Sketch.js\";export default d;"],
  "mappings": "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",
  "names": ["i", "P", "n", "e", "l", "n", "t", "e", "i", "r", "o", "s", "h", "p", "E", "l", "M", "e", "E", "n", "t", "r", "o", "s", "a", "u", "l", "i", "p", "c", "v", "h", "G", "d", "g", "y", "q", "i", "e", "r", "p", "t", "o", "h", "u", "l", "r", "t", "e", "s", "a", "p", "E", "l", "a", "i", "e", "t", "r", "n", "d", "h", "l", "E", "g", "o", "c", "m", "f", "s", "u", "j", "b", "h", "t", "i", "s", "a", "f", "o", "d", "c", "g", "m", "p", "e", "E", "l", "r", "n", "p", "i", "e", "t", "r", "s", "o", "a", "c", "d", "l", "E", "g", "f", "m", "u", "v", "L", "n", "h", "v", "i", "e", "t", "r", "s", "o", "n", "l", "E", "h", "c", "a", "g", "m", "p", "f", "k", "C", "T", "w", "u", "F", "j", "L", "d", "S", "q", "V", "m", "t", "n", "r", "p", "a", "e", "P", "h", "E", "s", "l", "m", "i", "e", "t", "o", "r", "s", "p", "a", "d", "l", "n", "g", "c", "f", "u", "h", "v", "y", "j", "E", "f", "o", "j", "E", "p", "a", "v", "m", "s", "t", "i", "r", "e", "y", "n", "i", "p", "f", "M", "s", "r", "e", "y", "n", "p", "l", "e", "j", "p", "y", "n", "o", "t", "n", "s", "r", "e", "E", "E", "n", "t", "i", "e", "I", "o", "a", "c", "p", "d", "h", "u", "g", "v", "s", "M", "w", "S", "r", "f", "l", "y", "r", "n", "s", "t", "p", "n", "e", "y", "i", "n", "e", "t", "h", "c", "y", "m", "p", "j", "a", "E", "o", "f", "i", "r", "s", "u", "l", "P", "d", "e", "n", "t", "r", "s", "o", "i", "c", "a", "d", "l", "p", "u", "m", "v", "d", "n", "e", "o", "i", "m", "t", "h", "y", "j", "l", "c", "s", "r", "p", "a", "o", "t", "e", "s", "r", "i", "m", "c", "j", "y", "n", "n", "e", "a", "t", "r", "y", "c", "d", "p", "m", "h", "g", "e", "t", "c", "r", "n", "o", "s", "l", "y", "v", "r", "e", "t", "a", "u", "n", "u", "L", "e", "j", "r", "l", "y", "a", "j", "e", "t", "r", "u", "y", "n", "u", "d", "a", "e", "r", "h", "l", "s", "p", "y", "n", "g", "h", "m", "e", "t", "i", "s", "l", "y", "n", "a", "b", "f", "y", "e", "t", "i", "s", "v", "r", "o", "n", "b", "T", "T"]
}
