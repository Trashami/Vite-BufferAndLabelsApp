{
  "version": 3,
  "sources": ["../../@arcgis/core/views/2d/layers/GraphicsLayerView2D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import e from\"../../../Graphic.js\";import t from\"../../../core/Collection.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LayerView2DMixin as r}from\"./LayerView2D.js\";import a from\"./graphics/GraphicContainer.js\";import p from\"./graphics/GraphicsView2D.js\";import o from\"../../layers/LayerView.js\";const g={remove(){},pause(){},resume(){}};let c=class extends(r(o)){constructor(){super(...arguments),this._highlightIds=new Map}attach(){this.graphicsView=new p({requestUpdateCallback:()=>this.requestUpdate(),view:this.view,graphics:this.layer.graphics,container:new a(this.view.featuresTilingScheme)}),this._updateHighlight(),this.container.addChild(this.graphicsView.container),this.handles.add(this.layer.on(\"graphic-update\",this.graphicsView.graphicUpdateHandler),\"graphicslayerview2d\")}detach(){this.container.removeAllChildren(),this.graphicsView.destroy(),this.graphicsView=null,this.handles.remove(\"graphicslayerview2d\")}async hitTest(i){return this.graphicsView?this.graphicsView.hitTest(i).map((e=>({type:\"graphic\",graphic:e,mapPoint:i,layer:this.layer}))):null}async fetchPopupFeatures(i){if(this.graphicsView)return this.graphicsView.hitTest(i).filter((i=>!!i.popupTemplate))}queryGraphics(){return Promise.resolve(this.graphicsView.graphics)}update(i){this.graphicsView.processUpdate(i)}moveStart(){}viewChange(){this.graphicsView.viewChange()}moveEnd(){}isUpdating(){return!this.graphicsView||this.graphicsView.updating}highlight(i){let s;return\"number\"==typeof i?s=[i]:i instanceof e?s=[i.uid]:Array.isArray(i)&&i.length>0?s=\"number\"==typeof i[0]?i:i.map((i=>i&&i.uid)):t.isCollection(i)&&i.length>0&&(s=i.map((i=>i&&i.uid)).toArray()),s=s?.filter((i=>null!=i)),s.length?(this._addHighlight(s),{remove:()=>this._removeHighlight(s)}):g}_addHighlight(i){for(const e of i)if(this._highlightIds.has(e)){const i=this._highlightIds.get(e);this._highlightIds.set(e,i+1)}else this._highlightIds.set(e,1);this._updateHighlight()}_removeHighlight(i){for(const e of i)if(this._highlightIds.has(e)){const i=this._highlightIds.get(e)-1;0===i?this._highlightIds.delete(e):this._highlightIds.set(e,i)}this._updateHighlight()}_updateHighlight(){this.graphicsView?.setHighlight(Array.from(this._highlightIds.keys()))}};i([s()],c.prototype,\"graphicsView\",void 0),c=i([h(\"esri.views.2d.layers.GraphicsLayerView2D\")],c);const l=c;export{l as default};\n"],
  "mappings": "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",
  "names": ["g", "y", "i", "e"]
}
