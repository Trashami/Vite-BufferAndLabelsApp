import {
  a as a2,
  c,
  e as e3,
  i2 as i,
  n as n4,
  o,
  p,
  t as t2,
  t2 as t3
} from "./chunk-IIUWTGWW.js";
import {
  autoTheme,
  darkTheme
} from "./chunk-K6AYGXUT.js";
import {
  setAssetPath
} from "./chunk-IS4TIT4N.js";
import {
  n as n3
} from "./chunk-I4RYNNL6.js";
import {
  u
} from "./chunk-GOYVJTGW.js";
import {
  a
} from "./chunk-ZPYDYUP5.js";
import {
  f as f2,
  h,
  l
} from "./chunk-5NXILPDI.js";
import {
  n as n2
} from "./chunk-THVR7IAM.js";
import {
  m
} from "./chunk-ZWJJTUFL.js";
import {
  Q
} from "./chunk-KAN4HXCG.js";
import {
  s as s5
} from "./chunk-4FEGON7M.js";
import {
  s as s4
} from "./chunk-VWYWOOPX.js";
import {
  e,
  f,
  n2 as n,
  s7 as s3,
  t5 as t,
  y as y2
} from "./chunk-OOLCFNXJ.js";
import {
  E,
  b,
  e as e2,
  r2 as r,
  x
} from "./chunk-MJXQTGI2.js";
import {
  s2
} from "./chunk-UA3YPL2R.js";
import {
  y
} from "./chunk-HVKDYDPP.js";
import {
  s
} from "./chunk-MIHB3CIK.js";

// node_modules/@arcgis/core/core/domUtils.js
function e4(e10) {
  return "string" == typeof e10 ? document.getElementById(e10) : e10 != null ? e10 : null;
}
function t4(e10) {
  for (; e10.hasChildNodes(); )
    e10.removeChild(e10.firstChild);
}
function o2(e10, t5) {
  const n7 = t5.parentNode;
  n7 && n7.insertBefore(e10, t5);
}
function r2(e10, t5) {
  for (; ; ) {
    const n7 = e10.firstChild;
    if (!n7)
      break;
    t5.appendChild(n7);
  }
}
function l2(e10) {
  e10.parentNode && e10.parentNode.removeChild(e10);
}
var i2 = (() => {
  if ("function" == typeof Element.prototype.closest)
    return (e11, t5) => e11.closest(t5);
  const e10 = Element.prototype.matches || Element.prototype.msMatchesSelector;
  return (t5, n7) => {
    let o4 = t5;
    do {
      if (e10.call(o4, n7))
        return o4;
      o4 = o4.parentElement;
    } while (null !== o4 && 1 === o4.nodeType);
    return null;
  };
})();

// node_modules/@arcgis/core/libs/maquette-advanced-projector/advanced-projector-options.js
var e5 = { handleInterceptedEvent: (e10, p2, t5, n7) => (e10.scheduleRender(), p2.properties[`on${n7.type}`].apply(p2.properties.bind || t5, [n7])) };

// node_modules/@arcgis/core/libs/maquette-advanced-projector/utils.js
var e6 = { namespace: void 0, performanceLogger: () => {
}, eventHandlerInterceptor: void 0, styleApplyer: (e10, r5, o4) => {
  e10.style[r5] = o4;
} };
var r3 = (r5) => ({ ...e6, ...r5 });

// node_modules/@arcgis/core/libs/maquette-advanced-projector/projector.js
var o3 = (e10, t5) => {
  const r5 = [];
  for (; e10 && e10 !== t5; )
    r5.push(e10), e10 = e10.parentNode;
  return r5;
};
var n5 = (e10, t5) => e10.find(t5);
var d = (e10, t5, r5 = false) => {
  let o4 = e10;
  return t5.forEach((e11, d2) => {
    const s7 = (o4 == null ? void 0 : o4.children) ? n5(o4.children, (t6) => t6.domNode === e11) : void 0;
    r5 && !s7 && d2 !== t5.length - 1 || (o4 = s7);
  }), o4;
};
var s6 = (n7) => {
  let s7;
  const i3 = { ...e5, ...n7 }, c2 = r3(i3), a3 = c2.performanceLogger;
  let m2, p2 = true, l3 = false;
  const f3 = [], u2 = [], h2 = (e10, t5, r5) => {
    var _a;
    let n8;
    c2.eventHandlerInterceptor = (e11, t6, r6, c3) => function(e12) {
      let t7;
      a3("domEvent", e12);
      const r7 = o3(e12.currentTarget, n8.domNode), c4 = r7.some((e13) => {
        var _a2;
        return customElements.get((_a2 = e13 == null ? void 0 : e13.tagName) == null ? void 0 : _a2.toLowerCase());
      });
      if (e12.eventPhase === Event.CAPTURING_PHASE || !c4)
        r7.reverse(), t7 = d(n8.getLastRender(), r7);
      else {
        const r8 = e12.composedPath(), o4 = r8.slice(r8.indexOf(e12.currentTarget), r8.indexOf(n8.domNode)).filter((e13) => e13.getRootNode() === e13.ownerDocument).reverse();
        t7 = d(n8.getLastRender(), o4, true);
      }
      let m4;
      return t7 && (m4 = i3.handleInterceptedEvent(s7, t7, this, e12)), a3("domEventProcessed", e12), m4;
    }, (_a = i3.postProcessProjectionOptions) == null ? void 0 : _a.call(i3, c2);
    const m3 = r5();
    n8 = e10(t5, m3, c2), f3.push(n8), u2.push(r5), i3.afterFirstVNodeRendered && i3.afterFirstVNodeRendered(n8, m3);
  };
  let v = () => {
    if (m2 = void 0, p2) {
      p2 = false, a3("renderStart", void 0);
      for (let e10 = 0; e10 < f3.length; e10++) {
        const t5 = u2[e10]();
        a3("rendered", void 0), f3[e10].update(t5), a3("patched", void 0);
      }
      a3("renderDone", void 0), p2 = true;
    }
  };
  return i3.modifyDoRenderImplementation && (v = i3.modifyDoRenderImplementation(v, f3, u2)), s7 = { renderNow: v, scheduleRender: () => {
    m2 || l3 || (m2 = requestAnimationFrame(v));
  }, stop: () => {
    m2 && (cancelAnimationFrame(m2), m2 = void 0), l3 = true;
  }, resume: () => {
    l3 = false, p2 = true, s7.scheduleRender();
  }, append: (t5, r5) => {
    h2(n4.append, t5, r5);
  }, insertBefore: (t5, r5) => {
    h2(n4.insertBefore, t5, r5);
  }, merge: (t5, r5) => {
    h2(n4.merge, t5, r5);
  }, replace: (t5, r5) => {
    h2(n4.replace, t5, r5);
  }, detach: (e10) => {
    for (let t5 = 0; t5 < u2.length; t5++)
      if (u2[t5] === e10)
        return u2.splice(t5, 1), f3.splice(t5, 1)[0];
    throw new Error("renderFunction was not found");
  } }, s7;
};

// node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/index.js
function initThemeChangeEvent() {
  const { classList } = document.body;
  const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
  const getTheme = () => classList.contains(darkTheme) || classList.contains(autoTheme) && prefersDark ? "dark" : "light";
  const emitThemeChange = (theme) => document.body.dispatchEvent(new CustomEvent("calciteThemeChange", { bubbles: true, detail: { theme } }));
  const themeChangeHandler = (newTheme) => {
    currentTheme !== newTheme && emitThemeChange(newTheme);
    currentTheme = newTheme;
  };
  let currentTheme = getTheme();
  emitThemeChange(currentTheme);
  window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", (event) => themeChangeHandler(event.matches ? "dark" : "light"));
  new MutationObserver(() => themeChangeHandler(getTheme())).observe(document.body, {
    attributes: true,
    attributeFilter: ["class"]
  });
}
function appGlobalScript() {
  const isBrowser = typeof window !== "undefined" && typeof location !== "undefined" && typeof document !== "undefined" && window.location === location && window.document === document;
  if (isBrowser) {
    if (document.readyState === "interactive") {
      initThemeChangeEvent();
    } else {
      document.addEventListener("DOMContentLoaded", () => initThemeChangeEvent(), { once: true });
    }
  }
}
var globalScripts = appGlobalScript;
globalScripts();

// node_modules/@arcgis/core/widgets/support/componentsUtils.js
var e7;
function r4() {
  setAssetPath(Q(a(e7)));
}
e7 = "components/assets";

// node_modules/@arcgis/core/widgets/support/tests.js
var e8 = /* @__PURE__ */ new Set();
function n6(n7) {
  e8.add(n7), n7.finally(() => e8.delete(n7));
}

// node_modules/@arcgis/core/widgets/Widget.js
var U = "esri.widgets.Widget";
var $ = 0;
var x2 = { widgetIcon: "esri-icon-checkbox-unchecked" };
function z(e10, t5) {
  for (const r5 in t5)
    null != e10[r5] && ("object" == typeof e10[r5] && "object" == typeof t5[r5] ? z(e10[r5], t5 == null ? void 0 : t5[r5]) : e10[r5] = t5[r5]);
  return e10;
}
var A = s6({ postProcessProjectionOptions(e10) {
  const t5 = e10.eventHandlerInterceptor, r5 = /capture$/i;
  e10.eventHandlerInterceptor = (e11, o4, s7, i3) => {
    const n7 = t5 == null ? void 0 : t5(e11, o4, s7, i3), a3 = r5.test(e11);
    if (!((e11 = e11.replace(r5, "")).toLowerCase() in s7) || a3) {
      const t6 = e11[2].toLowerCase() + e11.slice(3), r6 = (e12) => n7 == null ? void 0 : n7.call(s7, e12);
      s7.addEventListener(t6, r6, a3);
      const o5 = () => s7.removeEventListener(t6, r6, a3), c2 = i3.afterRemoved;
      i3.afterRemoved = (e12) => {
        c2 == null ? void 0 : c2(e12), o5();
      };
    }
    return n7;
  };
}, handleInterceptedEvent(e10, t5, r5, o4) {
  const { eventPhase: s7, type: i3 } = o4, n7 = s7 === Event.CAPTURING_PHASE;
  let a3 = `on${i3}${n7 ? "capture" : ""}`;
  const c2 = t5.properties;
  (c2 && a3 in c2 || (a3 = `on${i3[0].toUpperCase()}${i3.slice(1)}${n7 ? "Capture" : ""}`, c2 && a3 in c2)) && (t2(), e10.scheduleRender(), c2[a3].call(c2.bind || r5, o4));
} });
var B = false;
var D = class extends m(n2.EventedAccessor) {
  constructor(e10, t5) {
    super(e10, t5), this._attached = false, this._internalHandles = new t(), this._projector = A, this._readyForTrueRender = false, this.iconClass = x2.widgetIcon, this.key = this, this._loadLocale = x(async () => {
      if (this._messageBundleProps && this._messageBundleProps.length) {
        const e11 = await E(this._messageBundleProps.map(async ({ bundlePath: e12, propertyName: t6 }) => {
          let r6 = await u(e12);
          this.uiStrings && Object.keys(this.uiStrings) && (r6 = z(y(r6), this.uiStrings)), this[t6] = r6;
        }));
        for (const t6 of e11)
          t6.error && s2.getLogger(this.declaredClass).error("widget-intl:locale-error", this.declaredClass, t6.error);
      }
      await this.loadLocale();
    }), r4();
    const r5 = "esri-widget-uid-" + n3(), o4 = this.render.bind(this);
    this._trackingTarget = new s3(() => this.scheduleRender());
    const s7 = () => {
      var _a;
      if (!this._readyForTrueRender || this.destroyed)
        return null;
      if (!this.visible)
        return { vnodeSelector: "div", properties: { key: r5, class: "", styles: { display: "none" } }, domNode: null, children: void 0, text: void 0 };
      const e11 = o4();
      let { properties: t6 } = e11;
      t6 || (e11.properties = t6 = {});
      let { key: s8, styles: i3 } = t6;
      s8 || (t6.key = r5), i3 || (t6.styles = i3 = {}), i3.display || (i3.display = "");
      let n7 = 0;
      return (_a = e11.children) == null ? void 0 : _a.forEach((e12) => {
        if (a2(e12.vnodeSelector))
          return;
        let { properties: t7 } = e12;
        t7 || (e12.properties = t7 = {}), t7.key || (t7.key = `${this.id}--${n7++}`);
      }), i(this, e11);
    };
    this.render = () => {
      var _a;
      if (B)
        return s7();
      let e11 = (_a = e3(this)) != null ? _a : null;
      if (e11)
        return e11;
      this._trackingTarget.clear(), B = true;
      try {
        e11 = f(this._trackingTarget, s7);
      } catch (t6) {
        throw console.error(t6), t6;
      } finally {
        B = false;
      }
      return e11 && c(this, e11), e11;
    }, this.addResolvingPromise(this._resourcesFetch = this.beforeFirstRender().then(() => {
      this._readyForTrueRender = true, this._postInitialize();
    })), n6(this._resourcesFetch);
  }
  normalizeCtorArgs(e10, t5) {
    const r5 = { ...e10 };
    return t5 && (r5.container = t5), r5;
  }
  postInitialize() {
  }
  beforeFirstRender() {
    return Promise.all([this.loadDependencies(), this._loadLocale()]).then(() => {
    }).catch(b);
  }
  async loadDependencies() {
  }
  async loadLocale() {
  }
  destroy() {
    this.destroyed || (s(this._trackingTarget), s(this.viewModel), this._detach(this.container), this._set("container", null), this._internalHandles.destroy(), this._emitter.clear(), this.render = () => null, this._projector = null, o(this));
  }
  set container(e10) {
    this._get("container") || this._set("container", e10);
  }
  castContainer(e10) {
    return e4(e10);
  }
  get domNode() {
    return this.container;
  }
  set domNode(e10) {
    this.container = e10;
  }
  get id() {
    return this._get("id") || this.get("container.id") || Date.now().toString(16) + "-widget-" + $++;
  }
  set id(e10) {
    e10 && this._set("id", e10);
  }
  get label() {
    return this.declaredClass.split(".").pop();
  }
  set label(e10) {
    this._overrideIfSome("label", e10);
  }
  get renderable() {
    return this._resourcesFetch;
  }
  get visible() {
    return this._get("visible");
  }
  set visible(e10) {
    this._set("visible", e10);
  }
  get test() {
    return { projector: this._projector };
  }
  render() {
    throw new Error("not implemented");
  }
  scheduleRender() {
    this.destroyed || (o(this), this._projector.scheduleRender());
  }
  classes(...e10) {
    return p.apply(this, e10);
  }
  renderNow() {
    o(this), this._projector.renderNow();
  }
  _postInitialize() {
    var _a;
    if (this.destroyed)
      return;
    this.scheduleRender(), ((_a = this._delegatedEventNames) == null ? void 0 : _a.length) && this._internalHandles.add(l(() => this.viewModel, (e11, t5) => {
      t5 && this._internalHandles.remove("delegated-events"), e11 && e2(e11) && this._internalHandles.add(this._delegatedEventNames.map((t6) => r(e11, t6, (e12) => {
        this.emit(t6, e12);
      })), "delegated-events");
    }, h)), this.postInitialize();
    const e10 = async () => {
      await this._loadLocale().catch(b), this.scheduleRender();
    };
    this._internalHandles.add([s5(e10), l(() => this.uiStrings, e10), f2(() => this.container, (e11) => {
      this.destroyed || this._attach(e11);
    }, { initial: true, once: true })]);
  }
  _attach(e10) {
    e10 && (this._projector.merge(e10, this.render), this._attached = true);
  }
  _detach(e10) {
    var _a;
    this._attached && (this._projector.detach(this.render), this._attached = false), (_a = e10 == null ? void 0 : e10.parentNode) == null ? void 0 : _a.removeChild(e10);
  }
};
D[t3] = true, e([y2()], D.prototype, "_readyForTrueRender", void 0), e([y2({ value: null })], D.prototype, "container", null), e([s4("container")], D.prototype, "castContainer", null), e([y2()], D.prototype, "domNode", null), e([y2()], D.prototype, "iconClass", void 0), e([y2()], D.prototype, "id", null), e([y2()], D.prototype, "label", null), e([y2()], D.prototype, "renderable", null), e([y2()], D.prototype, "uiStrings", void 0), e([y2()], D.prototype, "viewModel", void 0), e([y2({ value: true })], D.prototype, "visible", null), e([y2()], D.prototype, "key", void 0), e([y2()], D.prototype, "children", void 0), e([y2()], D.prototype, "afterCreate", void 0), e([y2()], D.prototype, "afterUpdate", void 0), e([y2()], D.prototype, "afterRemoved", void 0), D = e([n(U)], D);
var M = D;

// node_modules/@arcgis/core/widgets/support/decorators/messageBundle.js
function e9(e10) {
  return (s7, r5) => {
    s7.hasOwnProperty("_messageBundleProps") || (s7._messageBundleProps = s7._messageBundleProps ? s7._messageBundleProps.slice() : []);
    s7._messageBundleProps.push({ bundlePath: e10, propertyName: r5 });
  };
}

export {
  e4 as e,
  t4 as t,
  o2 as o,
  r2 as r,
  l2 as l,
  M,
  e9 as e2
};
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.0-beta.97
 */
//# sourceMappingURL=chunk-NWBHRPMR.js.map
