{
  "version": 3,
  "sources": ["../../@arcgis/core/core/Promise.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../chunks/tslib.es6.js\";import e from\"./Accessor.js\";import{assumeNonNull as i}from\"./maybe.js\";import{createDeferred as r,createAbortError as t,isAbortError as o}from\"./promiseUtils.js\";import{subclass as l}from\"./accessorSupport/decorators/subclass.js\";var h;!function(s){s[s.PENDING=0]=\"PENDING\",s[s.RESOLVED=1]=\"RESOLVED\",s[s.REJECTED=2]=\"REJECTED\"}(h||(h={}));class n{constructor(s){this.instance=s,this._resolver=r(),this._status=h.PENDING,this._resolvingPromises=[],this._resolver.promise.then((()=>{this._status=h.RESOLVED,this._cleanUp()}),(()=>{this._status=h.REJECTED,this._cleanUp()}))}addResolvingPromise(s){this._resolvingPromises.push(s),this._tryResolve()}isResolved(){return this._status===h.RESOLVED}isRejected(){return this._status===h.REJECTED}isFulfilled(){return this._status!==h.PENDING}abort(){this._resolver.reject(t())}when(s,e){return this._resolver.promise.then(s,e)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const s=r(),e=[...this._resolvingPromises,i(s.promise)],t=this._allPromise=Promise.all(e);t.then((()=>{this.isFulfilled()||this._allPromise!==t||this._resolver.resolve(this.instance)}),(s=>{this.isFulfilled()||this._allPromise!==t||o(s)||this._resolver.reject(s)})),s.resolve()}}const m=e=>{let i=class extends e{constructor(...s){super(...s),this._promiseProps=new n(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(s,e){return new Promise(((s,e)=>{this._promiseProps.when(s,e)})).then(s,e)}catch(s){return this.when(null,s)}addResolvingPromise(s){s&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise(\"_promiseProps\"in s?s.when():s)}};return i=s([l(\"esri.core.Promise\")],i),i};let _=class extends(m(e)){};_=s([l(\"esri.core.Promise\")],_);export{_ as EsriPromise,m as EsriPromiseMixin};\n"],
  "mappings": "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",
  "names": ["n", "e", "s", "m"]
}
