{
  "version": 3,
  "sources": ["../../@arcgis/core/views/2d/engine/imagery/RasterTile.js", "../../@arcgis/core/views/2d/engine/imagery/RasterTileContainer.js", "../../@arcgis/core/views/2d/layers/imagery/BaseImageryTileSubView2D.js", "../../@arcgis/core/views/2d/layers/imagery/ImageryTileView2D.js", "../../@arcgis/core/views/2d/engine/imagery/RasterVFTile.js", "../../@arcgis/core/views/2d/engine/imagery/RasterVFTileContainer.js", "../../@arcgis/core/views/2d/layers/imagery/VectorFieldTileView2D.js", "../../@arcgis/core/views/layers/ImageryTileLayerView.js", "../../@arcgis/core/views/2d/layers/ImageryTileLayerView2D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../../chunks/mat3f32.js\";import{RasterBitmap as s}from\"./RasterBitmap.js\";import{TiledDisplayObject as e}from\"../webgl/TiledDisplayObject.js\";class i extends e{constructor(t,e,i,r,a,n,m=null){super(t,e,i,r,a,n),this.bitmap=new s(m,null,null),this.bitmap.coordScale=[a,n],this.bitmap.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy(),this.bitmap=null,this.stage=null}set stencilRef(t){this.bitmap.stencilRef=t}get stencilRef(){return this.bitmap.stencilRef}setTransform(t){super.setTransform(t),this.bitmap.transforms.dvs=this.transforms.dvs}_createTransforms(){return{dvs:t(),tileMat3:t()}}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap.stage=null}}export{i as RasterTile};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../../geometry/support/aaBoundingRect.js\";import{getWorldWidth as s}from\"../../viewpointUtils.js\";import{brushes as i}from\"../brushes.js\";import{RasterTile as t}from\"./RasterTile.js\";import{WGLDrawPhase as r}from\"../webgl/enums.js\";import o from\"../webgl/TileContainer.js\";class n extends o{constructor(){super(...arguments),this.isCustomTilingScheme=!1}createTile(e){const s=this._getTileBounds(e),[i,r]=this._tileInfoView.tileInfo.size,o=this._tileInfoView.getTileResolution(e.level);return new t(e,o,s[0],s[3],i,r)}prepareRenderPasses(e){const s=e.registerRenderPass({name:\"imagery (tile)\",brushes:[i.raster],target:()=>this.children.map((e=>e.bitmap)),drawPhase:r.MAP});return[...super.prepareRenderPasses(e),s]}doRender(e){this.visible&&e.drawPhase===r.MAP&&super.doRender(e)}_getTileBounds(i){const t=this._tileInfoView.getTileBounds(e(),i);if(this.isCustomTilingScheme&&i.world){const{tileInfo:e}=this._tileInfoView,r=s(e.spatialReference);if(r){const{resolution:s}=e.lodAt(i.level),o=r/s%e.size[0],n=o?(e.size[0]-o)*s:0;t[0]-=n*i.world,t[2]-=n*i.world}}return t}}export{n as RasterTileContainer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import{HandleOwner as t}from\"../../../../core/HandleOwner.js\";import i from\"../../../../core/Logger.js\";import{isSome as s,unwrap as r}from\"../../../../core/maybe.js\";import{debounce as l,isAbortError as a,eachAlways as o}from\"../../../../core/promiseUtils.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import c from\"../../../../geometry/Point.js\";import u from\"../../../../layers/support/PixelBlock.js\";import p from\"../../../../layers/support/TileInfo.js\";import{update as y,unregister as d,register as g,getRasterId as m}from\"../../../../layers/support/rasterDatasets/RawBlockCache.js\";import{extractBands as _}from\"../../../../layers/support/rasterFunctions/pixelUtils.js\";import{getWorldWidth as f,computeProjectedScales as b}from\"../../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import\"../../tiling/PagedTileQueue.js\";import w from\"../../tiling/TileInfoView.js\";import\"../../tiling/TileKey.js\";import P from\"../../tiling/TileQueue.js\";import C from\"../../tiling/TileStrategy.js\";import{getWebGLCapabilities as I}from\"../../../webgl/capabilities.js\";import R from\"../../../../geometry/Extent.js\";const v=[0,0];let T=class extends t{constructor(){super(...arguments),this._emptyTilePixelBlock=null,this._tileStrategy=null,this._tileInfoView=null,this._fetchQueue=null,this._blockCacheRegistryUrl=null,this._blockCacheRegistryId=null,this._srcResolutions=null,this.previousLOD=null,this._needBlockCacheUpdate=!1,this._globalSymbolizerParams=null,this._symbolizerParams=null,this._abortController=null,this._isCustomTilingScheme=!1,this._globalUpdateRequested=!1,this.attached=!1,this.container=null,this.layer=null,this.timeExtent=null,this.redrawOrRefetch=l(((e,t)=>!this.previousLOD||this.layerView.suspended?Promise.resolve():e?this.updatingHandles.addPromise(this.doRefresh()):this.updatingHandles.addPromise(this._redrawImage(t))))}get useWebGLForProcessing(){return this._get(\"useWebGLForProcessing\")??!0}set useWebGLForProcessing(e){this._set(\"useWebGLForProcessing\",e)}get useProgressiveUpdate(){return null==this._get(\"useProgressiveUpdate\")||this._get(\"useProgressiveUpdate\")}set useProgressiveUpdate(e){if(this._tileStrategy&&this.useProgressiveUpdate!==e){this._tileStrategy.destroy(),this.container.removeAllChildren();const t=this._getCacheSize(e);this._tileStrategy=new C({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:t,tileInfoView:this._tileInfoView}),this._set(\"useProgressiveUpdate\",e),this.layerView.requestUpdate()}}update(e){this._fetchQueue.pause(),this._fetchQueue.state=e.state,this._tileStrategy.update(e),this._fetchQueue.resume();const{extent:t,resolution:i,scale:s}=e.state,r=this._tileInfoView.getClosestInfoForScale(s);if(this.layer.raster){if(!this.useProgressiveUpdate||this._needBlockCacheUpdate){const e=this._srcResolutions[r.level],s=t.toJSON?t:R.fromJSON(t);y(this._blockCacheRegistryUrl,this._blockCacheRegistryId,s,i,e,this.layer.raster.ioConfig.sampling)}this._needBlockCacheUpdate=!1,this.previousLOD?.level!==r.level&&(this.previousLOD=r,null==this._symbolizerParams||this.layerView.hasTilingEffects||this._updateSymbolizerParams(),this._tileStrategy.updateCacheSize(0))}}moveEnd(){!this.layerView.hasTilingEffects&&this.useProgressiveUpdate||(this._abortController&&this._abortController.abort(),this._abortController=new AbortController,0===this._fetchQueue.length&&this._redrawImage(this._abortController.signal).then((()=>{this._globalUpdateRequested=!1,this.layerView.requestUpdate()})));const e=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy.updateCacheSize(e),this.layerView.requestUpdate()}get updating(){return this._fetchQueue?.updating||this._globalUpdateRequested||!(!this.updatingHandles||!this.updatingHandles.updating)}attach(){I(\"2d\").supportsTextureFloat||(this.useWebGLForProcessing=!1),this._initializeTileInfo(),this._tileInfoView=new w(this.layerView.tileInfo,this.layerView.fullExtent);const e=this._computeFetchConcurrency();this._fetchQueue=new P({tileInfoView:this._tileInfoView,concurrency:e,process:(e,t)=>this._fetchTile1(e,t)});const t=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy=new C({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:t,tileInfoView:this._tileInfoView}),this._updateBlockCacheRegistry()}detach(){this._tileStrategy.destroy(),this._fetchQueue.clear(),this.container.removeAllChildren(),this._fetchQueue=this._tileStrategy=this._tileInfoView=null,d(this._blockCacheRegistryUrl,this._blockCacheRegistryId),this._blockCacheRegistryUrl=this._blockCacheRegistryId=null}acquireTile(e){const t=this.container.createTile(e);return this._enqueueTileFetch(t),this.layerView.requestUpdate(),this._needBlockCacheUpdate=!0,this._globalUpdateRequested=this.layerView.hasTilingEffects||!this.useProgressiveUpdate,t}releaseTile(e){this._fetchQueue.abort(e.key.id),this.container.removeChild(e),e.once(\"detach\",(()=>{e.destroy(),this.layerView.requestUpdate()})),this.layerView.requestUpdate()}createEmptyTilePixelBlock(e=null){const t=null==e||e.join(\",\")===this._tileInfoView.tileInfo.size.join(\",\");if(t&&s(this._emptyTilePixelBlock))return this._emptyTilePixelBlock;e=e||this._tileInfoView.tileInfo.size;const[i,r]=e,l=new u({width:i,height:r,pixels:[new Uint8Array(i*r)],mask:new Uint8Array(i*r),pixelType:\"u8\"});return t&&(this._emptyTilePixelBlock=l),l}_fetchTile1(e,t){const i=s(t)&&t.signal,l=this.canUseWebGLForProcessing(),{layerView:a}=this,o=!a.tileInfo.isWrappable&&s(f(a.view.spatialReference)),h={allowPartialFill:!0,datumTransformation:a.datumTransformation,interpolation:l?\"nearest\":this.layer.interpolation,registryId:this._blockCacheRegistryId,requestRawData:l,signal:r(i),srcResolution:this._srcResolutions[e.level],timeExtent:a.timeExtent,tileInfo:a.tileInfo,disableWrapAround:o};return this.fetchTile(e,h)}_getCacheSize(e){return e?40:0}_initializeTileInfo(){const e=this.layerView.view.spatialReference,t=new c({x:this.layerView.fullExtent.xmin,y:this.layerView.fullExtent.ymax,spatialReference:e}),{scales:i,srcResolutions:s,isCustomTilingScheme:r}=b(this.layer.rasterInfo,e),l=p.create({spatialReference:e,size:512,scales:i});(0===l.origin.x||l.origin.x>t.x)&&(l.origin=t),this._isCustomTilingScheme=r,this.layerView.set(\"tileInfo\",l),this._srcResolutions=s??[]}_computeFetchConcurrency(){const{blockBoundary:e}=this.layer.rasterInfo.storageInfo,t=e[e.length-1];return(t.maxCol-t.minCol+1)*(t.maxRow-t.minRow+1)>64?2:10}async _enqueueTileFetch(e,t){this.updatingHandles.addPromise(this._enqueueTileFetch1(e,t))}async _enqueueTileFetch1(e,t){if(!this._fetchQueue.has(e.key.id)){try{const t=await this._fetchQueue.push(e.key),{bandIds:r}=this.layer;let l=!this.useProgressiveUpdate||this.layerView.hasTilingEffects&&!this._globalSymbolizerParams;if(this._globalUpdateRequested&&!this.layerView.moving&&0===this._fetchQueue.length){l=!1;try{await this._redrawImage(this._abortController&&this._abortController.signal)}catch(s){a(s)&&i.getLogger(this.declaredClass).error(s)}this._globalUpdateRequested=!1}!this.canUseWebGLForProcessing()&&\"rasterVF\"!==this.type||this.layerView.hasTilingEffects||null!=this._symbolizerParams||this._updateSymbolizerParams();const o=this._tileInfoView.getTileCoords(v,e.key),h=this._tileInfoView.getTileResolution(e.key);await this.updateTileSource(e,{source:t,symbolizerParams:this._symbolizerParams,globalSymbolizerParams:this._globalSymbolizerParams,suspended:l,bandIds:r,coords:o,resolution:h}),e.once(\"attach\",(()=>this.layerView.requestUpdate())),this.container.addChild(e)}catch(s){a(s)||i.getLogger(this.declaredClass).error(s)}this.layerView.requestUpdate()}}async _redrawImage(e){if(0===this.container.children.length)return;await this.layer.updateRenderer(),this.layerView.hasTilingEffects?await this._updateGlobalSymbolizerParams(e):(this._updateSymbolizerParams(),this._globalSymbolizerParams=null);const t=this.container.children.map((async e=>this.updateTileSymbolizerParameters(e,{local:this._symbolizerParams,global:this._globalSymbolizerParams})));await o(t),this.container.requestRender()}async _updateGlobalSymbolizerParams(e){const t={srcResolution:this._srcResolutions[this.previousLOD.level],registryId:this._blockCacheRegistryId,signal:e},i=await this.layer.fetchPixels(this.layerView.view.extent,this.layerView.view.width,this.layerView.view.height,t);if(!i||!i.pixelBlock)return;const s=this.layer.symbolizer.generateWebGLParameters({pixelBlock:_(i.pixelBlock,this.layer.bandIds),isGCS:this.layerView.view.spatialReference.isGeographic,resolution:{x:this.previousLOD.resolution,y:this.previousLOD.resolution},bandIds:this.layer.bandIds});!this.canUseWebGLForProcessing()&&s&&\"stretch\"===s.type&&this.layer.renderer&&\"raster-stretch\"===this.layer.renderer.type&&(s.factor=s.factor.map((e=>255*e)),s.outMin=Math.round(255*s.outMin),s.outMax=Math.round(255*s.outMax)),this._globalSymbolizerParams=s}_updateSymbolizerParams(){this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null,isGCS:this.layerView.view.spatialReference.isGeographic,resolution:{x:this.previousLOD.resolution,y:this.previousLOD.resolution},bandIds:this.layer.bandIds})}_updateBlockCacheRegistry(e=!1){const{url:t,rasterInfo:i,raster:s}=this.layer,{multidimensionalDefinition:r}=this.layer.normalizeRasterFetchOptions({multidimensionalDefinition:this.layer.multidimensionalDefinition,timeExtent:this.layerView.timeExtent}),l=i?.multidimensionalInfo?s.getSliceIndex(r):null,a=m(t,l);if(a!==this._blockCacheRegistryUrl){if(null!=this._blockCacheRegistryUrl&&d(this._blockCacheRegistryUrl,this._blockCacheRegistryId),this._blockCacheRegistryId=g(a,this.layer.raster.rasterInfo),e){const e=this._tileInfoView.getClosestInfoForScale(this.layerView.view.scale),t=this._srcResolutions[e.level];y(a,this._blockCacheRegistryId,this.layerView.view.extent,this.layerView.view.resolution,t,this.layer.raster.ioConfig.sampling)}this._blockCacheRegistryUrl=a}}async doRefresh(){if(!this.attached)return;await this.layer.updateRenderer(),this.layerView.hasTilingEffects||this._updateSymbolizerParams(),this._updateBlockCacheRegistry(!0),this._fetchQueue.reset();const e=[];this._globalUpdateRequested=this.layerView.hasTilingEffects||!this.useProgressiveUpdate,this._tileStrategy.tiles.forEach((t=>e.push(this._enqueueTileFetch(t)))),await o(e)}};e([h()],T.prototype,\"_fetchQueue\",void 0),e([h()],T.prototype,\"_globalUpdateRequested\",void 0),e([h()],T.prototype,\"attached\",void 0),e([h()],T.prototype,\"container\",void 0),e([h()],T.prototype,\"layer\",void 0),e([h()],T.prototype,\"layerView\",void 0),e([h()],T.prototype,\"type\",void 0),e([h()],T.prototype,\"useWebGLForProcessing\",null),e([h()],T.prototype,\"useProgressiveUpdate\",null),e([h()],T.prototype,\"timeExtent\",void 0),e([h()],T.prototype,\"updating\",null),T=e([n(\"esri.views.2d.layers.imagery.BaseImageryTileSubView2D\")],T);export{T as BaseImageryTileSubView2D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{RasterTileContainer as i}from\"../../engine/imagery/RasterTileContainer.js\";import{BaseImageryTileSubView2D as o}from\"./BaseImageryTileSubView2D.js\";import{canUseMajorityInterpolationOnDataSource as a}from\"../support/util.js\";let l=class extends o{constructor(){super(...arguments),this.container=null,this.layer=null,this.type=\"raster\"}attach(){super.attach(),this.container=new i(this._tileInfoView),this.container.isCustomTilingScheme=this._isCustomTilingScheme}detach(){super.detach(),this.container.removeAllChildren(),this.container=null}canUseWebGLForProcessing(){return this.useWebGLForProcessing&&this.layer.symbolizer.canRenderInWebGL&&!(\"majority\"===this.layer.interpolation&&a(this.layer))}fetchTile(e,r){return this.layer.fetchTile(e.level,e.row,e.col,r)}async updateTileSource(e,t){const{bandIds:s}=this.layer,i=this._getLayerInterpolation(),o=this.canUseWebGLForProcessing(),{source:a,globalSymbolizerParams:l,suspended:n,coords:c,resolution:p}=t,u=this.layerView.hasTilingEffects?l:t.symbolizerParams,{bitmap:d}=e;if([d.x,d.y]=c,d.resolution=p,a&&r(a)&&r(a.pixelBlock)){const e={extent:a.extent,pixelBlock:a.pixelBlock};if(d.rawPixelData=e,o)d.source=a.pixelBlock,d.isRendereredSource=!1;else{const r=await this.layer.applyRenderer(e,\"stretch\"===l?.type?l:null);d.source=r,d.isRendereredSource=!0}d.symbolizerParameters=o?u:null,o?d.transformGrid||(d.transformGrid=a.transformGrid):d.transformGrid=null}else{const e=this.createEmptyTilePixelBlock();d.source=e,d.symbolizerParameters=o?u:null,d.transformGrid=null}d.bandIds=o?s:null,d.width=this._tileInfoView.tileInfo.size[0],d.height=this._tileInfoView.tileInfo.size[1],d.interpolation=i,d.suspended=n,d.invalidateTexture()}async updateTileSymbolizerParameters(e,t){const{local:s,global:i}=t,{bandIds:o}=this.layer,a=this._getLayerInterpolation(),l=this.canUseWebGLForProcessing(),{bitmap:n}=e,{rawPixelData:c}=n;!l&&r(c)?(n.source=await this.layer.applyRenderer(c,\"stretch\"===i?.type?i:null),n.isRendereredSource=!0):(n.isRendereredSource&&r(c)&&(n.source=c.pixelBlock),n.isRendereredSource=!1),n.symbolizerParameters=l?this.layerView.hasTilingEffects?i:s:null,n.bandIds=l?o:null,n.interpolation=a,n.suspended=!1}_getLayerInterpolation(){const e=this.layer.renderer.type;if(\"raster-colormap\"===e||\"unique-value\"===e||\"class-breaks\"===e)return\"nearest\";const{interpolation:r}=this.layer,{renderer:t}=this.layer;return\"raster-stretch\"===t.type&&null!=t.colorRamp?\"bilinear\"===r||\"cubic\"===r?\"bilinear\":\"nearest\":r}};e([t()],l.prototype,\"container\",void 0),e([t()],l.prototype,\"layer\",void 0),e([t()],l.prototype,\"type\",void 0),l=e([s(\"esri.views.2d.layers.imagery.ImageryTileView2D\")],l);const n=l;export{n as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{s as t,m as s}from\"../../../../chunks/mat3.js\";import{c as e}from\"../../../../chunks/mat3f32.js\";import{RasterVFDisplayObject as i}from\"./RasterVFDisplayObject.js\";import{TiledDisplayObject as a}from\"../webgl/TiledDisplayObject.js\";class r extends a{constructor(t,s,e,a,r,o,l=null){super(t,s,e,a,r,o),this.tileData=new i(l),this.tileData.coordScale=[r,o],this.tileData.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.tileData.destroy(),this.tileData=null,this.stage=null}set stencilRef(t){this.tileData.stencilRef=t}get stencilRef(){return this.tileData.stencilRef}_createTransforms(){return{dvs:e(),tileMat3:e()}}setTransform(e){super.setTransform(e);const i=this.resolution/(e.resolution*e.pixelRatio),a=this.transforms.tileMat3,[r,o]=this.tileData.offset,l=[this.x+r*this.resolution,this.y-o*this.resolution],[h,n]=e.toScreenNoRotation([0,0],l),{symbolTileSize:f}=this.tileData.symbolizerParameters,m=Math.round((this.width-this.tileData.offset[0])/f)*f,c=Math.round((this.height-this.tileData.offset[1])/f)*f,u=m/this.rangeX*i,D=c/this.rangeY*i;t(a,u,0,0,0,D,0,h,n,1),s(this.transforms.dvs,e.displayViewMat3,a),this.tileData.transforms.dvs=this.transforms.dvs}onAttach(){this.tileData.stage=this.stage}onDetach(){this.tileData.stage=null}}export{r as RasterVFTile};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../../geometry/support/aaBoundingRect.js\";import s from\"./BrushVectorField.js\";import{RasterVFTile as r}from\"./RasterVFTile.js\";import{WGLDrawPhase as t}from\"../webgl/enums.js\";import i from\"../webgl/TileContainer.js\";class o extends i{constructor(){super(...arguments),this.isCustomTilingScheme=!1,this.symbolTypes=[\"triangle\"]}createTile(s){const t=this._tileInfoView.getTileBounds(e(),s),[i,o]=this._tileInfoView.tileInfo.size,n=this._tileInfoView.getTileResolution(s.level);return new r(s,n,t[0],t[3],i,o)}prepareRenderPasses(e){const r=e.registerRenderPass({name:\"imagery (vf tile)\",brushes:[s],target:()=>this.children.map((e=>e.tileData)),drawPhase:t.MAP});return[...super.prepareRenderPasses(e),r]}doRender(e){this.visible&&e.drawPhase===t.MAP&&this.symbolTypes.forEach((s=>{e.renderPass=s,super.doRender(e)}))}}export{o as RasterVFTileContainer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{watch as i}from\"../../../../core/reactiveUtils.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{sampleVectorField as s}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{RasterVFTileContainer as l}from\"../../engine/imagery/RasterVFTileContainer.js\";import{BaseImageryTileSubView2D as a}from\"./BaseImageryTileSubView2D.js\";let n=class extends a{constructor(){super(...arguments),this._handle=null,this.container=null,this.layer=null,this.type=\"rasterVF\"}canUseWebGLForProcessing(){return!1}async fetchTile(e,t){t={...t,interpolation:\"nearest\",requestProjectedLocalDirections:!0};const i=await this.layer.fetchTile(e.level,e.row,e.col,t);return\"vector-magdir\"===this.layer.rasterInfo.dataType&&i?.pixelBlock&&(i.pixelBlock=await this.layer.convertVectorFieldData(i.pixelBlock,t)),i}updateTileSource(e,i){const r=i.symbolizerParams,{tileData:o}=e;o.key=e.key,o.width=this._tileInfoView.tileInfo.size[0],o.height=this._tileInfoView.tileInfo.size[1];const{symbolTileSize:s}=r,{source:l}=i;if(o.offset=this._getTileSymbolOffset(o.key,s),t(l)&&t(l.pixelBlock)){const e={extent:l.extent,pixelBlock:l.pixelBlock};o.rawPixelData=e,o.symbolizerParameters=r,o.source=this._sampleVectorFieldData(l.pixelBlock,r,o.offset)}else{const e=[Math.round((this._tileInfoView.tileInfo[0]-o.offset[0])/s),Math.round((this._tileInfoView.tileInfo[1]-o.offset[1])/s)],t=this.createEmptyTilePixelBlock(e);o.source=t,o.symbolizerParameters=r}return o.invalidateVAO(),Promise.resolve(null)}updateTileSymbolizerParameters(e,i){const r=i.local,{symbolTileSize:o}=r,{tileData:s}=e;s.offset=this._getTileSymbolOffset(s.key,o);const l=s.symbolizerParameters.symbolTileSize;return s.symbolizerParameters=r,t(s.rawPixelData?.pixelBlock)&&l!==o&&(s.source=this._sampleVectorFieldData(s.rawPixelData.pixelBlock,s.symbolizerParameters,s.offset)),Promise.resolve(null)}attach(){super.attach(),this.container=new l(this._tileInfoView),this.container.isCustomTilingScheme=this._isCustomTilingScheme,this._updateSymbolType(this.layer.renderer),this._handle=i((()=>this.layer.renderer),(e=>this._updateSymbolType(e)))}detach(){super.detach(),this.container.removeAllChildren(),this._handle.remove(),this._handle=null}_getTileSymbolOffset(e,t){const i=e.col*this._tileInfoView.tileInfo.size[0]%t,r=e.row*this._tileInfoView.tileInfo.size[1]%t;return[i>t/2?t-i:-i,r>t/2?t-r:-r]}_sampleVectorFieldData(e,t,i){const{symbolTileSize:r}=t;return s(e,\"vector-uv\",r,i)}_updateSymbolType(e){\"vector-field\"===e.type&&(this.container.symbolTypes=\"wind-barb\"===e.style?[\"scalar\",\"triangle\"]:\"simple-scalar\"===e.style?[\"scalar\"]:[\"triangle\"])}};e([r()],n.prototype,\"container\",void 0),e([r()],n.prototype,\"layer\",void 0),e([r()],n.prototype,\"type\",void 0),n=e([o(\"esri.views.2d.layers.imagery.VectorFieldTileView2D\")],n);const c=n;export{c as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import r from\"../../core/Error.js\";import{unwrap as o,isNone as s,isSome as i}from\"../../core/maybe.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as l}from\"../../layers/support/commonProperties.js\";import{getDefaultDatumTransformationForDataset as p,projectExtent as u}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{getFetchPopupTemplate as c}from\"./support/popupUtils.js\";const f=f=>{let m=class extends f{constructor(){super(...arguments),this._rasterFieldPrefix=\"Raster.\",this.layer=null,this.view=null,this.tileInfo=null}get fullExtent(){return this._getfullExtent()}_getfullExtent(){return this.projectFullExtent(this.view.spatialReference)}get hasTilingEffects(){return this.layer.renderer&&\"dynamicRangeAdjustment\"in this.layer.renderer&&this.layer.renderer.dynamicRangeAdjustment}get datumTransformation(){return p(o(this.layer.fullExtent),this.view.spatialReference,!0)}supportsSpatialReference(e){return!!this.projectFullExtent(e)}projectFullExtent(e){const t=o(this.layer.fullExtent),r=p(t,e,!1);return u(t,e,r)}async fetchPopupFeatures(e,o){const{layer:a}=this;if(!e)throw new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:a});const{popupEnabled:n}=a,l=c(a,o);if(!n||s(l))throw new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:n,popupTemplate:l});const p=[],{value:u,magdirValue:f}=await a.identify(e,{timeExtent:this.timeExtent});let m=\"\";if(u&&u.length){m=\"imagery-tile\"===a.type&&a.hasStandardTime()&&null!=u[0]?u.map((e=>a.getStandardTimeValue(e))).join(\", \"):u.join(\", \");const e={ObjectId:0};e[\"Raster.ServicePixelValue\"]=m;const r=a.rasterInfo.attributeTable;if(i(r)){const{fields:t,features:o}=r,s=t.find((({name:e})=>\"value\"===e.toLowerCase())),i=s?o.find((e=>String(e.attributes[s.name])===m)):null;if(i)for(const r in i.attributes)if(i.attributes.hasOwnProperty(r)){e[this._rasterFieldPrefix+r]=i.attributes[r]}}const o=a.rasterInfo.dataType;\"vector-magdir\"!==o&&\"vector-uv\"!==o||(e[\"Raster.Magnitude\"]=f?.[0],e[\"Raster.Direction\"]=f?.[1]);const s=new t(this.fullExtent.clone(),null,e);s.layer=a,s.sourceLayer=s.layer,p.push(s)}return p}};return e([a()],m.prototype,\"layer\",void 0),e([a(l)],m.prototype,\"timeExtent\",void 0),e([a()],m.prototype,\"view\",void 0),e([a()],m.prototype,\"fullExtent\",null),e([a()],m.prototype,\"tileInfo\",void 0),e([a({readOnly:!0})],m.prototype,\"hasTilingEffects\",null),m=e([n(\"esri.views.layers.ImageryTileLayerView\")],m),m};export{f as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import i from\"../../../core/Logger.js\";import{isSome as s}from\"../../../core/maybe.js\";import{isAbortError as r}from\"../../../core/promiseUtils.js\";import{watch as o,syncAndInitial as a,sync as n,initial as u}from\"../../../core/reactiveUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{hasExcludedVariableOrDimension as c}from\"../../../layers/support/rasterDatasets/multidimensionalUtils.js\";import d from\"../engine/flow/FlowView2D.js\";import{LayerView2DMixin as p}from\"./LayerView2D.js\";import m from\"./imagery/ImageryTileView2D.js\";import b from\"./imagery/VectorFieldTileView2D.js\";import{canUseMajorityInterpolationOnDataSource as v}from\"./support/util.js\";import w from\"../../layers/ImageryTileLayerView.js\";import y from\"../../layers/LayerView.js\";import g from\"../../layers/RefreshableLayerView.js\";let f=class extends(w(g(p(y)))){constructor(){super(...arguments),this._useWebGLForProcessing=!0,this._useProgressiveUpdate=!0,this.subview=null}get useWebGLForProcessing(){return this._useWebGLForProcessing}set useWebGLForProcessing(e){this._useWebGLForProcessing=e,this.subview&&\"useWebGLForProcessing\"in this.subview&&(this.subview.useWebGLForProcessing=e)}get useProgressiveUpdate(){return this._useWebGLForProcessing}set useProgressiveUpdate(e){this._useProgressiveUpdate=e,this.subview&&\"useProgressiveUpdate\"in this.subview&&(this.subview.useProgressiveUpdate=e)}update(e){this.subview.update(e),this.notifyChange(\"updating\")}isUpdating(){return!this.subview||this.subview.updating}attach(){this.layer.increaseRasterJobHandlerUsage(),this._updateSubview(),this.handles.add([o((()=>{const{layer:e}=this;return{bandIds:e.bandIds,renderer:e.renderer,interpolation:e.interpolation,multidimensionalDefinition:e.multidimensionalDefinition,rasterFunction:\"imagery-tile\"===e.type?e.rasterFunction:null}}),((e,t)=>{const s=e.interpolation!==t.interpolation&&(\"majority\"===e.interpolation||\"majority\"===t.interpolation)&&v(this.layer),o=e.renderer!==t.renderer&&t.renderer?.type!==e.renderer?.type;o&&this._updateSubview();const a=e.multidimensionalDefinition!==t.multidimensionalDefinition,n=e.rasterFunction!==t.rasterFunction,u=a||s||o||n;this.subview.redrawOrRefetch(u).catch((e=>{r(e)||i.getLogger(this.declaredClass).error(e)})),this.notifyChange(\"updating\")})),o((()=>this.layer.blendMode??\"normal\"),(e=>{this.subview.container.blendMode=e}),a),o((()=>this.layer.effect??null),(e=>{this.subview.container.effect=e}),a),o((()=>this.layer.multidimensionalSubset??null),((e,t)=>{const{multidimensionalDefinition:o}=this.layer;s(o)&&c(o,e)!==c(o,t)&&(this.subview.redrawOrRefetch(!0).catch((e=>{r(e)||i.getLogger(this.declaredClass).error(e)})),this.notifyChange(\"updating\"))}),n),o((()=>this.timeExtent),(()=>{this.subview.timeExtent=this.timeExtent,this.subview.redrawOrRefetch(!0).catch((e=>{r(e)||i.getLogger(this.declaredClass).error(e)}))}),u)],\"attach\")}detach(){this.handles.remove(\"attach\"),this.layer.decreaseRasterJobHandlerUsage(),this._detachSubview(this.subview),this.subview?.destroy(),this.subview=null}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){this.subview.moveEnd()}async hitTest(e,i){return[{type:\"graphic\",layer:this.layer,mapPoint:e,graphic:new t({attributes:{},geometry:e.clone()})}]}doRefresh(){return this.subview?.doRefresh()}_updateSubview(){const e=\"vector-field\"===this.layer.renderer.type?\"rasterVF\":\"flow\"===this.layer.renderer.type?\"flow\":\"raster\";if(this.subview){if(this.subview.type===e)return void this._attachSubview(this.subview);this._detachSubview(this.subview),this.subview?.destroy(),this.subview=null}const{layer:t}=this;let i;i=\"rasterVF\"===e?new b({layer:t,layerView:this}):\"flow\"===e?new d({layer:t,layerView:this}):new m({layer:t,layerView:this}),\"useWebGLForProcessing\"in i&&(i.useWebGLForProcessing=this._useWebGLForProcessing),\"useProgressiveUpdate\"in i&&(i.useProgressiveUpdate=this._useProgressiveUpdate),\"previousLOD\"in i&&(i.previousLOD=this.subview&&\"previousLOD\"in this.subview&&this.subview.previousLOD),this._attachSubview(i),this.subview=i,this.requestUpdate()}_attachSubview(e){e&&!e.attached&&(e.attach(),e.attached=!0,this.container.addChildAt(e.container,0),e.container.blendMode=this.layer.blendMode,e.container.effect=this.layer.effect)}_detachSubview(e){e?.attached&&(this.container.removeChild(e.container),e.detach(),e.attached=!1)}};e([h()],f.prototype,\"subview\",void 0),e([h()],f.prototype,\"useWebGLForProcessing\",null),e([h()],f.prototype,\"useProgressiveUpdate\",null),f=e([l(\"esri.views.2d.layers.ImageryTileLayerView2D\")],f);const L=f;export{L as default};\n"],
  "mappings": "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",
  "names": ["i", "r", "t", "e", "a", "n", "m", "n", "i", "e", "s", "r", "o", "t", "v", "e", "t", "r", "i", "s", "w", "g", "l", "h", "y", "a", "o", "U", "j", "u", "l", "n", "r", "e", "t", "s", "i", "o", "a", "c", "p", "u", "d", "r", "t", "s", "e", "a", "o", "l", "y", "i", "h", "n", "f", "m", "c", "u", "i", "s", "t", "o", "n", "r", "e", "d", "n", "e", "t", "i", "r", "o", "s", "l", "j", "f", "m", "e", "t", "r", "o", "a", "s", "n", "l", "p", "u", "i", "g", "f", "i", "y", "u", "e", "t", "s", "r", "o", "a", "n", "w", "g", "d"]
}
