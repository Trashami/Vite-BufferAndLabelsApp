{
  "version": 3,
  "sources": ["../../@arcgis/core/widgets/Legend/support/clusterUtils.js", "../../@arcgis/core/widgets/Legend/support/relationshipRampUtils.js", "../../@arcgis/core/widgets/Legend/support/sizeRampUtils.js", "../../@arcgis/core/widgets/smartMapping/support/utils.js", "../../@arcgis/core/widgets/Legend/support/ActiveLayerInfo.js", "../../@arcgis/core/widgets/Legend/LegendViewModel.js", "../../@arcgis/core/widgets/Legend/styles/support/relationshipUtils.js", "../../@arcgis/core/widgets/Legend/styles/support/univariateUtils.js", "../../@arcgis/core/widgets/Legend/support/styleUtils.js", "../../@arcgis/core/widgets/Legend/styles/Card.js", "../../@arcgis/core/widgets/Legend/styles/Classic.js", "../../@arcgis/core/widgets/Legend.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../renderers/visualVariables/SizeVariable.js\";const l=(e,l)=>{const a=e.featuresTilingScheme.getClosestInfoForScale(e.scale).level;return l?.levels?l.levels[a]:null};function a(a,i){if(!a||!(\"visualVariables\"in a)||!a.visualVariables)return null;const s=a.visualVariables.find((e=>\"size\"===e.type)),n=l(i,s);return n?new e({field:s.field,minSize:n[2].size,minDataValue:n[2].value,maxSize:n[3].size,maxDataValue:n[3].value}):null}export{a as getClusterSizeVariable};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../../core/lang.js\";import{getStroke as e,getFill as o}from\"../../../symbols/support/gfxUtils.js\";import{getSymbolLayerFill as r}from\"../../../symbols/support/previewSymbol3D.js\";const s={HH:315,HL:45,LL:135,LH:225},l={2:[[\"HL\",\"HH\"],[\"LL\",\"LH\"]],3:[[\"HL\",\"HM\",\"HH\"],[\"ML\",\"MM\",\"MH\"],[\"LL\",\"LM\",\"LH\"]],4:[[\"HL\",\"HM1\",\"HM2\",\"HH\"],[\"M2L\",\"M2M1\",\"M2M2\",\"M2H\"],[\"M1L\",\"M1M1\",\"M1M2\",\"M1H\"],[\"LL\",\"LM1\",\"LM2\",\"LH\"]]};function n(t){if(!t)return;const{type:s}=t;if(s.includes(\"3d\"))return r(t.symbolLayers.getItemAt(0));if(\"simple-line\"===s){const o=e(t);return o&&o.color}if(\"simple-marker\"===t.type&&(\"x\"===t.style||\"cross\"===t.style)){const o=e(t);return o&&o.color}return o(t)}function H(t,e){const o=e.HH.label,r=e.LL.label,s=e.HL.label,l=e.LH.label;switch(t){case\"HH\":default:return{top:o,bottom:r,left:s,right:l};case\"HL\":return{top:s,bottom:l,left:r,right:o};case\"LL\":return{top:r,bottom:o,left:l,right:s};case\"LH\":return{top:l,bottom:s,left:o,right:r}}}function L(e,o){const r=[],s=e.length**.5,l=t(e),n=(o||\"HH\").split(\"\"),H=n[0],L=\"H\"===n[1];for(;l.length;){const t=[];for(;t.length<s;)t.push(l.shift());L&&t.reverse(),r.push(t)}return\"L\"===H&&r.reverse(),r}function i(t){const{focus:e,infos:o,numClasses:r}=t,s=l[r],L={};o.forEach((t=>{L[t.value]={label:t.label,fill:n(t.symbol)}}));const i=[];for(let l=0;l<r;l++){const t=[];for(let e=0;e<r;e++){const o=L[s[l][e]];t.push(o.fill)}i.push(t)}return{type:\"relationship-ramp\",numClasses:r,focus:e,colors:i,labels:H(e,L),rotation:u(e)}}function u(t){let e=s[t];return t&&null==e&&(e=s.HH),e||0}export{L as getRelationshipRampColors2D,i as getRelationshipRampElement,u as getRotationAngleForFocus};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import{isSymbol3D as l}from\"../../../symbols.js\";import{round as t,numDigits as o,percentChange as s}from\"../../../renderers/support/numberUtils.js\";import{applyCIMSymbolColor as n}from\"../../../symbols/support/cimSymbolUtils.js\";import{isVolumetricSymbol as i,getSymbolOutlineSize as r}from\"../../../symbols/support/utils.js\";import{getSymbolForFlowRenderer as a,createStopLabel as u}from\"./utils.js\";import\"../../support/widgetUtils.js\";import{isDarkTheme as c}from\"../../../support/themeUtils.js\";import m from\"../../../symbols/SimpleMarkerSymbol.js\";import f from\"../../../symbols/SimpleLineSymbol.js\";const p=30,y=12,b=[255,255,255],h=[200,200,200],d=[128,128,128],w=20,g=5;function S(e){return\"esri.symbols.SimpleMarkerSymbol\"===e.declaredClass}function v(e){return\"esri.symbols.PictureMarkerSymbol\"===e.declaredClass}function z(e){return\"esri.symbols.SimpleLineSymbol\"===e.declaredClass}function j(e){return\"esri.symbols.TextSymbol\"===e.declaredClass}function V(e,l){const t=e.length-1;return e.map(((e,o)=>u(e,o,t,l)))}async function k(e,l,o,s,n,a,u){const c=l.legendOptions,m=c&&c.customValues,f=u||await U(e,o),p=!!f,y=!!m,b=null!=l.minSize&&null!=l.maxSize,h=l.stops&&l.stops.length>1,d=!!l.target;if(!p||!y&&!(b||h&&!d))return;const w=i(f);let g=null,S=null,v=null;S=w&&!h?t([l.minDataValue,l.maxDataValue]):m||await D(l,f,s,n);const z=e?.authoringInfo,j=\"univariate-color-size\"===z?.type,k=j&&\"above-and-below\"===z?.univariateTheme;if(!S&&h&&(S=l.stops.map((e=>e.value)),g=l.stops.some((e=>!!e.label)),\"flow\"===e.type&&(S=t(S)),g&&(v=l.stops.map((e=>e.label)))),w&&S?.length>2&&!k&&(S=[S[0],S[S.length-1]]),!S)return null;j&&5!==S?.length&&(S=E({minSize:S[0],maxSize:S[S.length-1]}));const C=w?x(e,S):null,I=r(f),M=g?null:V(S,a);return(await Promise.all(S.map((async(t,o)=>{const i=w?C[o]:await B(l,f,t,s,n);return{value:t,symbol:P(k&&\"class-breaks\"===e.type?L(e,o):f,i),label:g?v[o]:M[o],size:i,outlineSize:I}})))).reverse()}function x(e,l){const t=e?.authoringInfo,o=\"univariate-color-size\"===t?.type;let s=[y,p];if(o){const e=l[0],t=l[l.length-1],o=y,n=p;s=l.map((l=>o+(l-e)/(t-e)*(n-o)))}return o&&\"below\"===t?.univariateTheme&&s.reverse(),s}function L(e,l){const t=e.classBreakInfos,o=t.length,s=o<2||!(l>=2)?t[0].symbol.clone():t[o-1].symbol.clone();return e.visualVariables.some((e=>\"color\"===e.type))&&(s.type.includes(\"3d\")?I(s):M(s)),s}async function U(e,l){if(\"flow\"===e.type)return a(e,l);if(\"pie-chart\"===e.type)return new m({color:null,outline:e.outline?.width?e.outline:new f});let t=null,o=null;if(\"simple\"===e.type)t=e.symbol;else if(\"class-breaks\"===e.type){const l=e.classBreakInfos;t=l&&l[0]&&l[0].symbol,o=l.length>1}else if(\"unique-value\"===e.type){const l=e.uniqueValueInfos;t=l&&l[0]&&l[0].symbol,o=l.length>1}return!t||C(t)?null:(t=t.clone(),(l||o)&&(t.type.includes(\"3d\")?I(t):M(t)),t)}function C(e){if(e){if(l(e)){return!!e.symbolLayers&&e.symbolLayers.some((e=>e&&\"fill\"===e.type))}return e.type.includes(\"fill\")}return!1}function I(e){\"line-3d\"===e.type?e.symbolLayers.forEach((e=>{e.material={color:d}})):e.symbolLayers.forEach((e=>{\"icon\"!==e.type||e.resource&&e.resource.href?e.material={color:h}:(e.material={color:b},e.outline={color:d,size:1.5})}))}function M(l){const t=c();if(\"cim\"===l.type)n(l,new e(h));else if(l.type.includes(\"line\"))l.color=d;else if(l.color=t?d:b,\"simple-marker\"===l.type)if(l.outline){const e=l.outline?.color?.toHex();\"#ffffff\"===e&&(l.outline.color=d)}else l.outline={color:d,width:1.5}}async function D(e,l,o,s){const n=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getSizeRangeAtScale(e,o,s),i=n&&E(n);if(!n&&!i)return;let r=i.map((l=>T(l,e,n)));r=t(r);for(let t=1;t<r.length-1;t++){const n=await q(e,l,r[t],r[t-1],o,s);n&&(r[t]=n[0],i[t]=n[1])}return r}function E(e){const l=e.minSize,t=e.maxSize,o=g,s=(t-l)/(o-1),n=[];for(let i=0;i<o;i++)n.push(l+s*i);return n}function T(e,l,t){const o=t.minSize,s=t.maxSize,n=l.minDataValue,i=l.maxDataValue;let r=null;if(e<=o)r=n;else if(e>=s)r=i;else{r=(e-o)/(s-o)*(i-n)+n}return r}async function q(e,l,n,i,r,a){const u=await B(e,l,n,r,a),c=await B(e,l,i,r,a),m=o(n),f=m.fractional,p=w;let y=m.integer,b=null,h=null;n>0&&n<1&&(b=10**f,y=o(n*=b).integer);for(let o=y-1;o>=0;o--){const i=10**o;let m=Math.floor(n/i)*i,f=Math.ceil(n/i)*i;null!=b&&(m/=b,f/=b);let y=(m+f)/2;[,y]=t([m,y,f],{indexes:[1]});const d=await B(e,l,m,r,a),w=await B(e,l,f,r,a),g=await B(e,l,y,r,a),S=s(u,d,c,null),v=s(u,w,c,null),z=s(u,g,c,null);let j=S.previous<=p,V=v.previous<=p;if(j&&V&&(S.previous<=v.previous?(j=!0,V=!1):(V=!0,j=!1)),j?h=[m,d]:V?h=[f,w]:z.previous<=p&&(h=[y,g]),h)break}return h}async function B(e,l,t,o,s){const{getSize:n}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return n(e,t,{scale:o,view:s,shape:\"simple-marker\"===l.type?l.style:null})}function P(e,t){const o=e.clone();if(l(o))i(o)||o.symbolLayers.forEach((e=>{\"fill\"!==e.type&&(e.size=t)}));else if(S(o))o.size=t;else if(v(o)){const e=o.width,l=o.height;o.height=t,o.width=t*(e/l)}else z(o)?o.width=t:j(o)&&o.font&&(o.font.size=t);return o}export{p as REAL_WORLD_MAX_SIZE,y as REAL_WORLD_MIN_SIZE,k as getRampStops};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../../Color.js\";import{isNone as n}from\"../../../core/maybe.js\";import{formatDate as i}from\"../../../intl/date.js\";import{formatNumber as o}from\"../../../intl/number.js\";import{timelineDateFormatOptions as e}from\"../../../renderers/support/utils.js\";import r from\"../../../renderers/visualVariables/SizeVariable.js\";function a(t){return i(new Date(t),e)}function s(t){const n=2,i=Math.floor(Math.log10(Math.abs(t)))+1,e=i<4||i>6?4:i,r=1e6,a=Math.abs(t)>=r?\"compact\":\"standard\";return o(t,{notation:a,minimumSignificantDigits:n,maximumSignificantDigits:e})}function u(t,i,o){if(n(i)||n(t))return[];const e=[];for(let n=-1*o;n<=o;n++)0!==n&&e.push(i+n*t);return e}function m(t){const{max:n,min:i,padding:o,pathHeight:e,pathWidth:r,stops:a}=t,s=n-i;let u,m=`M0 0 L${r} 0 `;const h=3===a.length?[a[0],a[1],a[2]]:[a[0],a[2],a[4]],f=Math.min.apply(Math,h.map((t=>t.size))),p=Math.max(Math.abs(h[0].size-h[1].size),Math.abs(h[2].size-h[1].size));return h.reverse(),h.forEach((({size:t,value:n},a)=>{const h=Math.round((t-f)/p*100)/100,c=Math.round(e-(n-i)/s*e);u=h*r,0===u&&(u=o*r),0===a&&(m+=`L${u} 0 `),m+=`L${u} ${c} `})),m+=`L${u} ${e} L0 ${e} L0 0 Z`,m}function h(t){const{bottomValue:n,bottomWidth:i,max:o,min:e,pathHeight:r,pathWidth:a,topValue:s,topWidth:u}=t,m=u*a,h=i*a,f=o-e,p=Math.round(r-(n-e)/f*r);return`M${m} 0 L${m} ${Math.round(r-(s-e)/f*r)} L${h} ${p} L${h} ${r} L0 ${r} L0 0 Z`}function f(t){let n=t.maxSize,i=t.minSize;return n instanceof r&&(n=n.stops[0].size),i instanceof r&&(i=i.stops[0].size),[n,i]}function p(t,n,i){const o=i.length-1,e=i[0],r=i[o]-e,a=n-t,s=[];for(let u=1;u<o;u++){const n=(i[u]-e)/r*a+t;s.push({index:u,value:n})}return s.unshift({index:0,value:t}),s.push({index:o,value:n}),s}function c(n){return n instanceof t?n.toCss(!0):t.fromString(n).toCss(!0)}export{a as formatDateLabel,s as formatNumberLabel,u as getDeviationValues,m as getDynamicPathForSizeStops,c as getFillFromColor,h as getPathForSizeStops,f as getSizesFromVariable,p as getStopChanges};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import{addTokenParameter as s}from\"../../../kernel.js\";import l from\"../../../request.js\";import\"../../../symbols.js\";import r from\"../../../core/Accessor.js\";import i from\"../../../core/Collection.js\";import n from\"../../../core/Handles.js\";import{JSONMap as a}from\"../../../core/jsonMap.js\";import o from\"../../../core/Logger.js\";import{unwrap as u,isSome as c}from\"../../../core/maybe.js\";import{eachAlways as d,debounce as y}from\"../../../core/promiseUtils.js\";import{on as h,watch as m,whenOnce as f,initial as p}from\"../../../core/reactiveUtils.js\";import{px2pt as g}from\"../../../core/screenUtils.js\";import{addQueryParameters as b}from\"../../../core/urlUtils.js\";import{property as _}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as S}from\"../../../core/accessorSupport/decorators/subclass.js\";import{OriginId as L}from\"../../../core/accessorSupport/PropertyOrigin.js\";import{EffectView as v}from\"../../../layers/effects/EffectView.js\";import{effectFunctionsFromJSON as w}from\"../../../layers/effects/jsonUtils.js\";import{ExportImageParameters as C}from\"../../../layers/support/ExportImageParameters.js\";import{isDateField as E}from\"../../../layers/support/fieldUtils.js\";import{fromJSON as I}from\"../../../renderers/support/jsonUtils.js\";import{isSupportedRenderer3D as R}from\"../../../renderers/support/rendererConversion.js\";import F from\"../../../renderers/visualVariables/support/SizeVariableLegendOptions.js\";import{applyCIMSymbolColor as V}from\"../../../symbols/support/cimSymbolUtils.js\";import{SymbolSizeDefaults as T}from\"../../../symbols/support/previewUtils.js\";import{renderSymbol as z}from\"../../../symbols/support/renderUtils.js\";import{renderColorRampPreviewHTML as x,renderDotDensityPreviewHTML as j,renderPieChartPreviewHTML as D,renderPreviewHTML as O}from\"../../../symbols/support/symbolUtils.js\";import{isVolumetricSymbol as P}from\"../../../symbols/support/utils.js\";import{getClusterSizeVariable as M}from\"./clusterUtils.js\";import{getColorFromPointCloudStops as A,getRampStopsForPointCloud as B,getStrectchRampStops as U,getRampStops as k}from\"./colorRampUtils.js\";import{getHeatmapRampStops as N}from\"./heatmapRampUtils.js\";import{getRotationAngleForFocus as q,getRelationshipRampElement as $}from\"./relationshipRampUtils.js\";import{getRampStops as W,REAL_WORLD_MAX_SIZE as G,REAL_WORLD_MIN_SIZE as J}from\"./sizeRampUtils.js\";import{SPECIAL_CHARS_LESS_THAN as Q,SPECIAL_CHARS_GREATER_THAN as H,getSymbolForFlowRenderer as X,getMedianColor as K,RGB_IMG_SOURCE as Y}from\"./utils.js\";import{formatNumberLabel as Z}from\"../../smartMapping/support/utils.js\";import ee from\"../../../symbols/SimpleMarkerSymbol.js\";import te from\"../../../symbols/SimpleFillSymbol.js\";const se=\"https://utility.arcgis.com/sharing/tools/legend\",le=\"esri.layers.ImageryLayer\",re=\"esri.layers.ImageryTileLayer\",ie=\"esri.layers.WCSLayer\",ne=/^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i,ae=new a({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryMultiPatch:\"multipatch\"}),oe={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34e38,34e38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]},ue=new ee({size:6,outline:{color:[128,128,128,.5],width:.5}}),ce=new te({style:\"solid\"});function de(e){return\"flow\"===e.type}function ye(e){return\"vector-field\"===e.type}function he(e){return\"raster-colormap\"===e.type}function me(e){return\"raster-stretch\"===e.type}function fe(e){return\"raster-shaded-relief\"===e.type}function pe(e){return\"esri.renderers.SimpleRenderer\"===e.declaredClass}function ge(e){return\"esri.renderers.ClassBreaksRenderer\"===e.declaredClass}function be(e){return\"esri.renderers.UniqueValueRenderer\"===e.declaredClass}function _e(e){return\"esri.renderers.HeatmapRenderer\"===e.declaredClass}function Se(e){return ve(e)||we(e)||Ce(e)||Le(e)}function Le(e){return\"esri.renderers.PointCloudRGBRenderer\"===e.declaredClass}function ve(e){return\"esri.renderers.PointCloudClassBreaksRenderer\"===e.declaredClass}function we(e){return\"esri.renderers.PointCloudStretchRenderer\"===e.declaredClass}function Ce(e){return\"esri.renderers.PointCloudUniqueValueRenderer\"===e.declaredClass}function Ee(e){return\"esri.renderers.DotDensityRenderer\"===e.declaredClass}function Ie(e){return\"esri.renderers.PieChartRenderer\"===e.declaredClass}function Re(e,t){return pe(e)||ge(e)||be(e)||_e(e)||Ee(e)||Ie(e)?\"2d\"===t.type||R(e):me(e)||he(e)||fe(e)||ve(e)||we(e)||Ce(e)||ye(e)||de(e)}function Fe(e){return\"esri.layers.BuildingSceneLayer\"===e.declaredClass}function Ve(e){return\"esri.layers.SubtypeGroupLayer\"===e.declaredClass}function Te(e){return\"esri.layers.VoxelLayer\"===e.declaredClass}function ze(e){return\"esri.layers.WMSLayer\"===e.declaredClass}function xe(e){return\"esri.layers.WMTSLayer\"===e.declaredClass}function je(e){return\"esri.layers.MapImageLayer\"===e.declaredClass}function De(e){return\"esri.layers.TileLayer\"===e.declaredClass}function Oe(e){return\"esri.layers.FeatureLayer\"===e.declaredClass}function Pe(e){return e.declaredClass===le}function Me(e){return e.declaredClass===re}function Ae(e){return e.declaredClass===ie}function Be(e){return\"stretch-ramp\"===e.type}function Ue(e){return\"univariate-color-size\"===(\"authoringInfo\"in e&&e?.authoringInfo)?.type}function ke(e){const t=\"authoringInfo\"in e&&e?.authoringInfo;return\"univariate-color-size\"===t?.type&&\"above-and-below\"===t?.univariateTheme}const Ne=new ee({style:\"path\",path:\"M10,5 L5,0 0,5 M5,0 L5,15\",size:15,outline:{width:1,color:[85,85,85,1]}});let qe={},$e=class extends r{constructor(e){super(e),this._handles=new n,this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._webStyleSymbolCache=new Map,this._dotDensityUrlCache=new Map,this._scaleDrivenSizeVariable=null,this._hasClusterSizeVariable=!1,this.children=new i,this.layerView=null,this.layer=null,this.legendElements=[],this.parent=null,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.sublayerIds=[],this.title=null,this.view=null}initialize(){const e=()=>this.notifyChange(\"ready\");this._handles.add([h((()=>this.children),\"change\",(t=>{const{added:s,removed:l}=t,r=this._handles;s.forEach((t=>{const s=`activeLayerInfo-ready-watcher-${t.layer.uid}`;r.add(m((()=>t.ready),e,p),s)})),l.forEach((e=>r.remove(e.layer.uid))),e()}))]),this.keepCacheOnDestroy||(qe={})}destroy(){this._handles.destroy(),this._handles=null,this._webStyleSymbolCache=null,this._dotDensityUrlCache=null,this._scaleDrivenSizeVariable=null,this.keepCacheOnDestroy||(qe=null)}get effectList(){const e=this.layer;let t=null;return\"effect\"in e&&e.effect&&(t=new v,t.effect=e.effect,t.endTransitions(),t.scale=this.scale),t}get opacity(){const e=this.layer.opacity,t=this.parent?.opacity,s=this.layer.parent,l=s&&\"uid\"in s?this._getParentLayerOpacity(s):null;return null!=t?t*e:null!=l?l*e:e}get ready(){return null===this.layer||(this.children.length>0?this._isGroupActive():this.legendElements.length>0)}get scale(){return this.view&&this.view.scale}get isScaleDriven(){const e=this.layer;if(null===e)return!1;if(\"effect\"in e&&e.effect&&Array.isArray(e.effect))return!0;if(\"featureReduction\"in e&&e.featureReduction){if(\"cluster\"===e.featureReduction.type)return!0;if(\"binning\"===e.featureReduction.type&&\"renderer\"in e.featureReduction&&e.featureReduction.renderer)return this._isRendererScaleDriven(e.featureReduction.renderer)}return\"renderer\"in e&&e.renderer?this._isRendererScaleDriven(e.renderer):this._isLayerScaleDriven(this.layer)}get version(){return this._get(\"version\")+1}async buildLegendElementsForFeatureCollections(e){if(!(!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView()))return this.legendElements=[],void this.notifyChange(\"ready\");const t=Array.from(e,(e=>{if(Oe(e))return this._getRendererLegendElements(e.renderer,{title:e.title});if(e.featureSet&&e.featureSet.features.length){const t=e.layerDefinition,s=t&&t.drawingInfo,l=s&&I(s.renderer),r=ae.read(t.geometryType);return l?this._getRendererLegendElements(l,{title:e.name,geometryType:r}):(o.getLogger(this.declaredClass).warn(\"drawingInfo not available!\"),null)}return null}));try{const e=[];await d(t).then((t=>{t.forEach((({value:t})=>t&&e.push(...t)))})),this.legendElements=e,this.notifyChange(\"ready\")}catch(s){o.getLogger(this.declaredClass).warn(\"error while building legend for layer!\",s)}}async buildLegendElementsForRenderer(e){try{const t=!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView();this.legendElements=t?await this._getRendererLegendElements(e):[],this.notifyChange(\"ready\")}catch(t){o.getLogger(this.declaredClass).warn(\"error while building legend for layer!\",t)}}async buildLegendElementsForFeatureReduction(e){try{const t=!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView();this.legendElements=t?await this._getLegendElementsForFeatureReduction(e):[],this.notifyChange(\"ready\")}catch(t){o.getLogger(this.declaredClass).warn(\"error while building legend for layer!\",t)}}async buildLegendElementsForTools(){const e=this.layer;if(Te(e))this._constructLegendElementsForVoxellayer();else if(xe(e))this._constructLegendElementsForWMTSlayer();else if(ze(e))await this._constructLegendElementsForWMSSublayers();else if(Fe(e))await this._constructLegendElementsForBuildingSceneLayer();else if(je(e)||De(e)||Ve(e))await this._constructLegendElementsForSublayers();else{this._handles.remove(\"imageryLayers-watcher\");let t=\"default\";if(Pe(e)){t=(e?.renderingRule?.functionName||\"default\")+\"_\"+(e.bandIds?.length?e.bandIds.join(\"\"):\"###\")}await this._getLegendLayers(`${e.uid}-${t}`).then((async t=>{this.legendElements=[],this.notifyChange(\"ready\");const s=t.map((async t=>{if(Pe(e)||Me(e)){const t=m((()=>[\"renderingRule\"in e&&e.renderingRule,e.bandIds]),(()=>y((async()=>{qe.default=null,e.renderer?await this.buildLegendElementsForRenderer(e.renderer):await this.buildLegendElementsForTools()}))()));this._handles.add(t,\"imageryLayers-watcher\")}const s=this._generateSymbolTableElementForLegendLayer(t);s&&s.infos.length&&(Pe(e)&&(s.title=e.title),this.legendElements.push(s)),this.notifyChange(\"ready\")}));await d(s)})).catch((e=>{o.getLogger(this.declaredClass).warn(\"Request to server for legend has failed!\",e)}))}}async _isLayerInCurrentView(){const e=this.layer,t=this.layerView,s=t&&\"createQuery\"in t&&\"queryFeatureCount\"in t;if(!s&&!(t&&\"createQuery\"in e&&\"queryFeatureCount\"in e))return!0;await f((()=>!t.updating));const l=s?\"createQuery\"in t&&t.createQuery():\"createQuery\"in e&&e.createQuery();l.geometry=this.view.extent;return 0!==(s?\"queryFeatureCount\"in t&&await t.queryFeatureCount(l):\"queryFeatureCount\"in e&&await e.queryFeatureCount(l))}_getParentLayerOpacity(e){let t=1;const s=e.parent;return s&&\"uid\"in s&&(t=this._getParentLayerOpacity(s)),e.opacity*t}_isGroupActive(){const e=this.children;return!!e.length&&e.some((e=>e.ready))}_isRendererScaleDriven(e){if(\"dot-density\"===e.type)return!0;const t=\"valueExpression\"in e&&e.valueExpression;if(ne.test(t))return!0;const s=\"visualVariables\"in e&&e.visualVariables;return!!s&&s.some((e=>this._isScaleDrivenSizeVariable(e)))}_isScaleDrivenSizeVariable(e){if(e&&\"size\"!==e.type)return!1;const t=e,s=t.minSize,l=t.maxSize;return\"object\"==typeof s&&s?this._isScaleDrivenSizeVariable(s):\"object\"==typeof l&&l?this._isScaleDrivenSizeVariable(l):!!t.expression||ne.test(t.valueExpression)}_isLayerScaleDriven(e){if(\"minScale\"in e&&e.minScale>0||\"maxScale\"in e&&e.maxScale>0)return!0;if(\"sublayers\"in e&&e.sublayers)return e.sublayers.some((e=>this._isLayerScaleDriven(e)));const t=e.parent;if(!1===e.loaded&&t&&je(t)&&\"source\"in e&&e.source&&\"map-layer\"===e.source.type)for(const s of t.sourceJSON.layers)if(s.id===e.source.mapLayerId&&(s.minScale>0||s.maxScale>0))return!0;return!1}async _constructLegendElementsForVoxellayer(){this.legendElements=[],this._handles.remove(\"voxel-style-watcher\"),this._handles.remove(\"voxel-current-variable\");const e=this.layer;this._handles.add(m((()=>e.currentVariableId),(()=>this._constructLegendElementsForVoxellayer())),\"voxel-current-variable\"),this._handles.add(m((()=>e.getVariableStyles()),(()=>this._constructLegendElementsForVoxellayer())),\"voxel-style-watcher\");const t=u(e.getVariableStyle(null)),s=[];if(t)if(t.uniqueValues?.length){const e=[];t.uniqueValues.forEach((t=>{t.enabled&&e.push({label:t.label||`${t.value}`,value:t.value,symbol:new te({color:t.color,outline:null})})})),e.length&&s.push({type:\"symbol-table\",title:t.label,infos:e})}else if(t.transferFunction){const{colorStops:e,stretchRange:l}=t.transferFunction,r=e.toArray().reverse(),i=l.map(((e,t)=>`${0===t?Q:H} ${Z(e)}`)).reverse(),n=r.map((e=>({color:e.color,value:null,label:null})));n[0].label=i[0],n[n.length-1].label=i[1],s.push({type:\"color-ramp\",title:t.label,infos:n,preview:x(r.map((e=>e.color)))})}const l=e.opacity,r=s.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]).filter((e=>!!e?.symbol)).map((e=>this._getSymbolPreview(e,l)));await d(r),this.legendElements=s,this.notifyChange(\"ready\")}_constructLegendElementsForWMTSlayer(){this.legendElements=[],this._handles.remove(\"wmts-activeLayer-watcher\");const e=this.layer.activeLayer;if(this._handles.add(m((()=>{const{layer:e}=this;return e&&\"activeLayer\"in e&&e.activeLayer}),(()=>this._constructLegendElementsForWMTSlayer())),\"wmts-activeLayer-watcher\"),e.styleId&&e.styles){let t=null;e.styles.some((s=>e.styleId===s.id&&(t=s.legendUrl,!0))),t&&(this.legendElements=[{type:\"symbol-table\",title:e.title,infos:[{src:t,opacity:this.opacity}]}])}this.notifyChange(\"ready\")}async _constructLegendElementsForWMSSublayers(){this.legendElements=[],this._handles.remove(\"wms-sublayers-watcher\");const e=this.layer;let t=null;(e.customParameters||e.customLayerParameters)&&(t={...e.customParameters,...e.customLayerParameters}),this._handles.add(m((()=>{const{layer:e}=this;return e&&\"sublayers\"in e&&e.sublayers}),(()=>this._constructLegendElementsForWMSSublayers())),\"wms-sublayers-watcher\"),this.legendElements=await this._generateLegendElementsForWMSSublayers(e.sublayers,t),this.notifyChange(\"ready\")}async _generateLegendElementsForWMSSublayers(e,t){const s=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForWMSSublayers())),\"wms-sublayers-watcher\");const l=e.toArray();for(const r of l){const e=m((()=>[r.title,r.visible,r.legendEnabled]),(()=>this._constructLegendElementsForWMSSublayers()));if(this._handles.add(e,\"wms-sublayers-watcher\"),!this.respectLayerVisibility||r.visible&&r.legendEnabled){const e=await this._generateSymbolTableElementForWMSSublayer(r,t);e&&e.infos.length&&s.unshift(e)}}return s}async _generateSymbolTableElementForWMSSublayer(e,t){if(!e.legendUrl&&e.sublayers){const s=(await this._generateLegendElementsForWMSSublayers(e.sublayers,t)).filter((e=>e));return{type:\"symbol-table\",title:e.title,infos:s}}return this._generateSymbolTableElementForLegendUrl(e,t)}async _generateSymbolTableElementForLegendUrl(e,t){let s=e.legendUrl;if(!s)return;const r={type:\"symbol-table\",title:e.title||e.name||e.id&&e.id+\"\",infos:[]};t&&(s=b(s,t));let i=null;const n=e.layer?.opacity;try{i=(await l(s,{responseType:\"image\"})).data,i&&(i.style.opacity=n)}catch{}return r.infos.push({src:s,preview:i,opacity:n}),r}_getLegendLayers(e,t){const s=qe&&qe[e];return s?Promise.resolve(s):this._legendRequest(t).then((t=>{const s=t.layers;return qe[e]=s,s}))}_legendRequest(e){const t=this.layer;let s={f:\"json\",dynamicLayers:e};if(Pe(t)){const e=t.exportImageServiceParameters.renderingRule;if(e&&(s.renderingRule=JSON.stringify(e.rasterFunctionDefinition||e.toJSON())),t.bandIds&&(s.bandIds=t.bandIds.join()),t.raster||t.viewId||t.customParameters){const{raster:e,viewId:l,customParameters:r}=t;s={raster:e,viewId:l,...s,...r}}}let r=t.url.replace(/(\\/)+$/,\"\");if(\"version\"in t&&t.version>=10.01){const e=r.indexOf(\"?\");e>-1?r=r.substring(0,e)+\"/legend\"+r.substring(e):r+=\"/legend\"}else{const e=r.toLowerCase().indexOf(\"/rest/\"),t=r.substring(0,e)+r.substring(e+5,r.length);r=se+\"?soapUrl=\"+encodeURI(t)+\"&returnbytes=true\"}return l(r,{query:s}).then((e=>e.data))}async _constructLegendElementsForBuildingSceneLayer(){this.legendElements=[],this._handles.remove(\"sublayers-watcher\");const e=this.layer;this._handles.add(m((()=>e.sublayers),(()=>this._constructLegendElementsForBuildingSceneLayer())),\"sublayers-watcher\");try{this.legendElements=await this._generateLegendElementsForBuildingSublayers(e.sublayers,this.opacity),this.notifyChange(\"ready\")}catch(t){o.getLogger(this.declaredClass).warn(\"Request to server for legend has failed!\",t)}}async _generateLegendElementsForBuildingSublayers(e,t){let s=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForBuildingSceneLayer())),\"sublayers-watcher\");const l=e.toArray();for(const r of l){const e=m((()=>[\"renderer\"in r&&r.renderer,r.opacity,r.title,r.visible]),(()=>this._constructLegendElementsForBuildingSceneLayer()));if(this._handles.add(e,\"sublayers-watcher\"),!this.respectLayerVisibility||r.visible){const e=r&&null!=r.opacity?r.opacity:null,l=null!=e?e*t:t;if(\"building-group\"===r.type){const e={type:\"symbol-table\",title:r.title,infos:[]},t=await this._generateLegendElementsForBuildingSublayers(r.sublayers,l);e.infos.push(...t),s=[e,...s]}else if(r.renderer){s=[...await this._getRendererLegendElements(r.renderer,{title:r.title,opacity:l,sublayer:r}),...s]}}}return s.filter((e=>!!e&&(!(\"infos\"in e)||e.infos.length>0)))}async _constructLegendElementsForSublayers(){this.legendElements=[],this._handles.remove(\"sublayers-watcher\");const e=this.layer;this._handles.add(m((()=>e.sublayers),(()=>this._constructLegendElementsForSublayers)),\"sublayers-watcher\");try{this.legendElements=await this._generateLegendElementsForSublayers(e.sublayers,this.opacity),this.notifyChange(\"ready\")}catch(t){o.getLogger(this.declaredClass).warn(\"Request to server for legend has failed!\",t)}}async _generateLegendElementsForSublayers(e,t,s){const l=this.layer;let r=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForSublayers())),\"sublayers-watcher\");let i=e.toArray();!s&&this.sublayerIds&&this.sublayerIds.length&&(i=this.sublayerIds.map((e=>l.findSublayerById(e))).filter(Boolean));for(const n of i){const e=m((()=>[n.renderer,n.opacity,n.title,n.visible,n.legendEnabled]),(()=>this._constructLegendElementsForSublayers()));if(this._handles.add(e,\"sublayers-watcher\"),!this.respectLayerVisibility||n.visible&&n.legendEnabled&&this._isSublayerInScale(n)){const e=n&&null!=n.opacity?n.opacity:null,i=null!=e?e*t:t,a=!!Ve(l)||n.originIdOf(\"renderer\")>L.SERVICE;if(n.renderer&&!n.sublayers&&a){await n.load();r=[...await this._getRendererLegendElements(n.renderer,{title:n.title,opacity:i,sublayer:n}),...r]}else{const e=await this._generateSymbolTableElementForSublayer(n,i,s);e&&r.unshift(e)}}}return r.filter((e=>!!e&&(!(\"infos\"in e)||e.infos.length>0)))}async _generateSymbolTableElementForSublayer(e,t,s){if(!s){s=new Map;const t=this.layer,l=e.source;let r=null;if(!(!l||\"map-layer\"===l.type&&l.mapLayerId===e.id&&(!l.gdbVersion||l.gdbVersion===(\"gdbVersion\"in t&&t.gdbVersion)))||e.originIdOf(\"renderer\")>L.SERVICE||e.originIdOf(\"labelingInfo\")>L.SERVICE||e.originIdOf(\"labelsVisible\")>L.SERVICE){const e=new C({layer:this.layer});r=e.hasDynamicLayers?e.dynamicLayers:null,e.destroy()}const i=r||`${t.uid}-default`;(await this._getLegendLayers(i,r)).forEach((e=>s.set(e.layerId,e)))}const l=s.get(e.id);if((!l||l?.subLayerIds&&l.defaultVisibility)&&e.sublayers){const l=await this._generateLegendElementsForSublayers(e.sublayers,t,s);return{type:\"symbol-table\",title:e.title,infos:l}}return this._generateSymbolTableElementForLegendLayer(l,e,t)}_generateSymbolTableElementForLegendLayer(e,t,s){if(!e||!e.legend||this.respectLayerVisibility&&!this._isLegendLayerInScale(e,t))return null;const l=t?.renderer;let r=t?.title||e.layerName;if(l&&(!t||t?.originIdOf(\"renderer\")>L.SERVICE)){const e=t?.title||this._getRendererTitle(l,t);e&&(r&&\"string\"!=typeof e&&\"title\"in e&&(e.title=r),r=e)}const i={type:\"symbol-table\",title:r,legendType:e.legendType?e.legendType:null,infos:[]},n=t?this._sanitizeLegendForSublayer(e.legend.slice(),t):e.legend;return e.legendGroups?.length>0?e.legendGroups.forEach((t=>{const l={type:\"symbol-table\",title:t.heading,legendType:e.legendType?e.legendType:null,infos:this._generateSymbolTableElementInfosForLegendLayer(n.filter((e=>e.groupId===t.id)),e.layerId,s)};l.infos?.length>0&&i.infos.push(l)})):i.infos=this._generateSymbolTableElementInfosForLegendLayer(n,e.layerId,s),i.infos.length>0?i:null}_generateSymbolTableElementInfosForLegendLayer(e,t,l){return e.map((e=>{let r=e.url;if(e.imageData&&e.imageData.length>0)r=`data:image/png;base64,${e.imageData}`;else{if(0===r.indexOf(\"http\"))return null;r=s(`${this.layer.url}/${t}/images/${r}`)}return{label:e.label,src:r,opacity:l??this.opacity,width:e.width,height:e.height}})).filter((e=>!!e))}_isSublayerInScale(e){const t=e.minScale||0,s=e.maxScale||0;return!(t>0&&t<this.scale||s>this.scale)}_isLegendLayerInScale(e,t){const s=t||this.layer;let l=null,r=null,i=!0;return!s.minScale&&0!==s.minScale||!s.maxScale&&0!==s.maxScale?(0===e.minScale&&s.tileInfo&&(l=s.tileInfo.lods[0].scale),0===e.maxScale&&s.tileInfo&&(r=s.tileInfo.lods[s.tileInfo.lods.length-1].scale)):(l=Math.min(s.minScale,e.minScale)||s.minScale||e.minScale,r=Math.max(s.maxScale,e.maxScale)),(l>0&&l<this.scale||r>this.scale)&&(i=!1),i}_sanitizeLegendForSublayer(e,t){if(\"version\"in this.layer&&this.layer.version<10.1||0===e.length)return e;const s=t.renderer,l=e.some((e=>e.values));let r=null,i=null;return l&&e.some(((e,t)=>(e.values||(r=t,i=e,i.label||(i.label=\"others\")),null!=i))),s?\"unique-value\"===s.type?i&&(e.splice(r,1),e.push(i)):\"class-breaks\"===s.type&&(i&&e.splice(r,1),e.reverse(),i&&e.push(i)):i&&(e.splice(r,1),e.push(i)),e}async _getRendererLegendElements(e,t={}){if(!Re(e,this.view))return o.getLogger(this.declaredClass).warn(`Renderer of type '${e.type}' not supported!`),[];if(Se(e))return this._constructPointCloudRendererLegendElements(e,t);if(Ee(e))return this._constructDotDensityRendererLegendElements(e);const s=await this._loadRenderer(e);return Ie(s)?this._constructPieChartRendererLegendElements(s):this._constructRendererLegendElements(s,t)}async _getLegendElementsForFeatureReduction(e){let t=null;return\"binning\"===e.type?t=e.renderer:\"cluster\"===e.type&&(t=this._getClusterRenderer(e)),t?this._getRendererLegendElements(t):[]}_getPointCloudRendererTitle(e){return e.legendOptions&&e.legendOptions.title||e.field}_constructPointCloudRendererLegendElements(e,t={}){const s=t.title,l=[];let r=null,i=null;if(ve(e))r={type:\"symbol-table\",title:s||this._getPointCloudRendererTitle(e),infos:[]},e.colorClassBreakInfos.forEach((e=>{r.infos.unshift({label:e.label||e.minValue+\" - \"+e.maxValue,value:[e.minValue,e.maxValue],symbol:this._getAppliedCloneSymbol(ue,e.color)})}));else if(we(e)){const t=e.stops;let l=null;if(t.length&&(1===t.length&&(l=t[0].color),!l)){const e=t[0].value,s=t[t.length-1].value;if(null!=e&&null!=s){l=A(e+(s-e)/2,t)}}r={type:\"symbol-table\",title:null,infos:[{label:null,value:null,symbol:this._getAppliedCloneSymbol(ue,l||ue.color)}]};const n=B(e.stops);i={type:\"color-ramp\",title:s||this._getPointCloudRendererTitle(e),infos:n,preview:x(n.map((e=>e.color)))}}else Ce(e)&&(r={type:\"symbol-table\",title:s||this._getPointCloudRendererTitle(e),infos:[]},e.colorUniqueValueInfos.forEach((e=>{r.infos.push({label:e.label||e.values.join(\", \"),value:e.values.join(\", \"),symbol:this._getAppliedCloneSymbol(ue,e.color)})})));r&&r.infos.length&&l.push(r),i&&i.infos.length&&l.push(i);const n=l.reduce(((e,t)=>e.concat(t.infos)),[]).filter((e=>!!e.symbol)).map((t=>this._getSymbolPreview(t,this.opacity,{symbolConfig:{applyColorModulation:!!e.colorModulation}})));return d(n).then((()=>l))}_getElementInfoForDotDensity(e,t){const{backgroundColor:s,outline:l,dotSize:r}=e,i=this.effectList?.effects.map((e=>e.toJSON())),n=w(i),a=r+\"-\"+t+\"-\"+s+\"-\"+(l&&JSON.stringify(l.toJSON()))+\"-\"+n,o=this._dotDensityUrlCache,u=o.has(a)?o.get(a):j(e,t);o.set(a,u);const c={shape:{type:\"image\",x:0,y:0,width:u.width,height:u.height,src:u.src},fill:null,stroke:null,offset:[0,0]},d=z([[c]],[u.width,u.height],{effectView:this.effectList});return{opacity:1,src:u.src,preview:d,width:u.width,height:u.height}}_constructDotDensityRendererLegendElements(e){const t=e.calculateDotValue(this.view.scale),s=e.legendOptions&&e.legendOptions.unit,l={type:\"symbol-table\",title:{value:t&&Math.round(t),unit:s||\"\"},infos:[]};return e.attributes.forEach((t=>{const s=this._getElementInfoForDotDensity(e,t.color);s.label=t.label||t.valueExpressionTitle||t.field,l.infos.push(s)})),Promise.resolve([l])}async _constructPieChartRendererLegendElements(e){const t=this.layer.opacity,s=[],l=\"Others\",r=e.outline;e.attributes.forEach((e=>{const t=new ee({color:e.color,outline:r}),l=e.label||e.valueExpressionTitle||e.field;s.push({label:l,symbol:t})}));const i=s.length?[...s]:[];if(e.othersCategory?.color&&0!==e.othersCategory?.threshold){const t=new ee({color:e.othersCategory.color,outline:r});s.push({label:e.othersCategory.label||l,symbol:t})}if(e.defaultColor?.a){const t=new ee({color:e.defaultColor,outline:r});s.push({label:e.defaultLabel,symbol:t})}const n=await this._getVisualVariableLegendElements(e,this.layer)||[];if(s.length){n.unshift({type:\"symbol-table\",title:null,infos:s});const t=i.filter((e=>e.label!==l)).map((e=>e.symbol.color)).filter(Boolean),a=D(t,{holePercentage:e.holePercentage,backgroundColor:e.backgroundFillSymbol?.color,effectList:this.effectList,outline:r});n.unshift({type:\"pie-chart-ramp\",title:this._getRendererTitle(e,this.layer),infos:s,preview:a})}const a=n.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]).filter((e=>!!e?.symbol&&!e?.preview)).map((e=>this._getSymbolPreview(e,t,{effectList:this.effectList})));return await d(a),n}async _constructRendererLegendElements(e,t={}){const{title:s,sublayer:l}=t,r=l||this.layer;this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._scaleDrivenSizeVariable=null;const i=await this._getVisualVariableLegendElements(e,r)||[],n={type:\"symbol-table\",title:s||this._getRendererTitle(e,r),infos:[]};let a=null,o=!1;const c=new Set;if(de(e)&&!this._hasSizeRamp){const t=await X(e);n.infos.push({label:null,symbol:t})}else if(Ue(e)){let t=s;const l=ke(e)?\"univariate-above-and-below-ramp\":\"univariate-color-size-ramp\",r=i.findIndex((e=>\"color-ramp\"===e.type)),n=-1!==r?i.splice(r,1)[0]:null,a=i.findIndex((e=>\"size-ramp\"===e.type)),o=-1!==a?i.splice(a,1)[0]:null,u=[];n&&(t=n.title,u.push(n)),o&&(t=o.title,u.push(o)),u.length>0&&i.push({type:l,title:t,infos:u})}else if(_e(e)){const t=N(e);i.push({type:\"heatmap-ramp\",title:s||this._getRendererTitle(e,r),infos:t,preview:x(t.map((e=>e.color)),{effectList:this.effectList})})}else if(be(e)){const t=e&&e.authoringInfo;if(t&&\"relationship\"===t.type){const{focus:s,numClasses:l,field1:a,field2:o}=t;if(l&&a&&o){const t=[a,o];let u=q(s)||0;for(const e of t){const{field:t,normalizationField:s,label:l}=e,i=l||{field:this._getFieldAlias(t,r),normField:s&&this._getFieldAlias(s,r)},a=Ne.clone();a.angle=u,n.infos.push({label:i,symbol:a}),c.add(a),u+=90}const d=$({focus:s,numClasses:l,infos:e.uniqueValueInfos});i.unshift(d)}}else if(Pe(this.layer)||Me(this.layer))e.uniqueValueInfos.forEach((e=>{e.symbol&&n.infos.push({label:e.label||e.value,value:e.value,symbol:e.symbol})}));else{const{field:t,field2:s,field3:l,fieldDelimiter:i,valueExpression:a}=e,o=!(!t&&!a||!s&&!l),u=[];if(e.uniqueValueGroups.forEach((e=>{const n={type:\"symbol-table\",title:e.heading,infos:[]};e.classes.forEach((e=>{const{symbol:u,values:c}=e;if(u){const d=[],y=[];for(const e of c){const{value:n,value2:u,value3:c}=e,h=[],m=[];(t||a)&&(h.push(n),m.push(this._getDomainName(t,n,r))),s&&(h.push(u),m.push(this._getDomainName(s,u,r))),l&&(h.push(c),m.push(this._getDomainName(l,c,r))),d.push(o?h.join(i||\"\"):h[0]),y.push(m.join(\" - \"))}const h=d.join(\", \");let m=e.label;if(!m){const e=y.filter(Boolean);m=e.length?e.join(\", \"):h}n.infos.push({label:m,value:h,symbol:u})}})),n.infos.length&&u.push(n)})),u.length){const e=u[0];1===u.length&&\"title\"in e&&!e.title?n.infos.push(...e.infos):n.infos.push(...u)}}e.defaultSymbol&&(n.infos.push({label:e.defaultLabel||\"others\",symbol:e.defaultSymbol}),o=!0)}else if(ge(e)){a=this._isUnclassedRenderer(e);(!a||!this._hasSizeRamp)&&(e.classBreakInfos.forEach((e=>{e.symbol&&n.infos.unshift({label:e.label||(a?null:e.minValue+\" - \"+e.maxValue),value:[e.minValue,e.maxValue],symbol:e.symbol})})),a&&(n.title=null),this._updateInfosforClassedSizeRenderer(e,n.infos)),e.defaultSymbol&&!a&&(n.infos.push({label:e.defaultLabel||\"others\",symbol:e.defaultSymbol}),o=!0)}else if(me(e))if(Me(this.layer)||Ae(this.layer)){const t=this._constructTileImageryStretchRendererElements(e);Be(t)?i.push(t):n.infos=t}else{const t=this.layer;let s,l;e.statistics&&e.statistics.length&&(s=null!=e.statistics[0].min?e.statistics[0].min:e.statistics[0][0],l=null!=e.statistics[0].max?e.statistics[0].max:e.statistics[0][1]);let r=[];const a=u(t.renderingRule?await t.generateRasterInfo(t.renderingRule):t.serviceRasterInfo),o=a.keyProperties.BandProperties,c=oe[t.rasterInfo.pixelType.toLowerCase()];1===a.bandCount||t.bandIds&&1===t.bandIds.length?(s=null!=s?s:a.statistics?a.statistics[t.bandIds[0]].min:c[0],l=null!=l?l:a.statistics?a.statistics[t.bandIds[0]].max:c[1],s||l?i.push(this._getStretchLegendElements(e,{min:s,max:l})):this._getServerSideLegend()):a.bandCount>=3?o&&o.length>=a.bandCount?t.bandIds&&3===t.bandIds.length?(r=t.bandIds.map((e=>o[e].BandName)),n.infos=this._createSymbolTableElementMultiBand(r)):\"lerc\"===t.format?(r=[0,1,2].map((e=>o[e].BandName)),n.infos=this._createSymbolTableElementMultiBand(r)):this._getServerSideLegend():\"lerc\"===t.format?(r=[\"band1\",\"band2\",\"band3\"],n.infos=this._createSymbolTableElementMultiBand(r)):this._getServerSideLegend():this._getServerSideLegend()}else if(he(e))e.colormapInfos.forEach((e=>{n.infos.push({label:e.label,value:e.value,symbol:this._getAppliedCloneSymbol(ce,e.color)})}));else if(pe(e)){let s=e.symbol;switch(t.geometryType){case\"point\":s=\"pointSymbol\"in r&&r.pointSymbol;break;case\"polyline\":s=\"lineSymbol\"in r&&r.lineSymbol;break;case\"polygon\":s=\"polygonSymbol\"in r&&r.polygonSymbol}const l=this._hasClusterSizeVariable&&this._getClusterSymbol()||!this._hasSizeRamp;e.symbol&&l&&n.infos.push({label:e.label,symbol:s})}else if(ye(e)){e.outputUnit&&(this.title=\"(\"+e.toJSON().outputUnit+\")\"),n.title=e.attributeField;const t=e.getClassBreakInfos();t?.length?t.forEach((e=>{n.infos.push({label:e.minValue+\" - \"+e.maxValue,symbol:e.symbol})})):n.infos.push({label:e.attributeField,symbol:e.getDefaultSymbol()})}else fe(e)&&i.push(this._getStretchLegendElements(e,{min:0,max:255}));const y=e.defaultSymbol;!y||o||pe(e)||a&&!this._hasColorRamp&&!this._hasSizeRamp&&!this._hasOpacityRamp||i.push({type:\"symbol-table\",infos:[{label:e.defaultLabel||\"others\",symbol:y}]}),n.infos.length&&i.unshift(n);const h=null==t.opacity?this.opacity:t.opacity,m=this._isTallSymbol(\"visualVariables\"in e&&e.visualVariables),f=Pe(this.layer)||Me(this.layer),p=i.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]).filter((e=>!!e?.symbol)).map((e=>this._getSymbolPreview(e,h,{isDefault:e.symbol===y,applyScaleDrivenSize:!c.has(e.symbol),symbolConfig:{isTall:m,isSquareFill:f},effectList:c.has(e.symbol)?null:this.effectList})));return e=null,await d(p),i}_getServerSideLegend(){setTimeout((()=>this.buildLegendElementsForTools()),0)}_getAllInfos(e){const t=e?.infos;return t?t.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]):[e]}_constructTileImageryStretchRendererElements(e){const t=this.layer,s=t.rasterInfo,l=s.bandCount||e.statistics.length;let r,i,n=[];const a=s.keyProperties&&s.keyProperties.BandProperties,o=e?.statistics?.length?e.statistics:s?.statistics;if(o)r=void 0!==o[0].min?o[0].min:o[0][0],i=o[0].max||o[0][1];else{const e=oe[t.rasterInfo.pixelType.toLowerCase()];r=e[0],i=e[1]}if(t.hasStandardTime()&&(r=t.getStandardTimeValue(r),i=t.getStandardTimeValue(i)),1===s.bandCount||1===t.bandIds?.length)return this._getStretchLegendElements(e,{min:r,max:i});function u(e){const l=(t?.bandIds?.length?t.bandIds:Array.from(Array(Math.min(s.bandCount,3)).keys())).map((t=>e&&e[t]&&e[t].BandName||\"band\"+(t+1)));return l.length<3?l.push(l[1]):l.length>3&&l.splice(3),l}return n=a&&a.length>=l?u(a):u(),this._createSymbolTableElementMultiBand(n)}_getStretchLegendElements(e,t){const s=e.colorRamp,l=U(s,t);return{type:\"stretch-ramp\",title:\"\",infos:l,preview:x(l.map((e=>e.color)))}}_getClusterSymbol(){const e=this.layer,t=\"featureReduction\"in e&&e.featureReduction,s=t&&\"symbol\"in t&&t.renderer;return s&&!0!==s?.authoringInfo?.isAutoGenerated?null:t&&\"symbol\"in t&&t.symbol}async _getSizeLegendElement(e,t,s,l){return{type:\"size-ramp\",title:this._hasClusterSizeVariable?this._getClusterTitle(t):e,infos:await W(s,t,await K(s),this.scale,this.view.type,l,this._hasClusterSizeVariable?this._getClusterSymbol():null)}}_createSymbolTableElementMultiBand(e){const t=[],s=[\"red\",\"green\",\"blue\"];return e.forEach(((e,l)=>{t.push({label:{colorName:s[l],bandName:e},src:Y[l],opacity:this.opacity??1})})),t}_updateInfosforClassedSizeRenderer(e,t){const s=e.authoringInfo&&\"class-breaks-size\"===e.authoringInfo.type,l=e.classBreakInfos.some((e=>P(e.symbol)));if(s&&l){const s=G,l=J,r=e.classBreakInfos.length,i=(s-l)/(r>1?r-1:r);t.forEach(((e,t)=>{e.size=s-i*t}))}}_isTallSymbol(e){let t=!1,s=!1;if(e)for(let l=0;l<e.length&&(!t||!s);l++){const r=e[l];\"size\"===r.type&&(\"height\"===r.axis&&(t=!0),\"width-and-depth\"===r.axis&&(s=!0))}return t&&s}async _getSymbolPreview(e,t,s){let l=!s?.isDefault&&null==e.size&&this._hasSizeRamp?g(T.size):e.size;if(this._scaleDrivenSizeVariable&&s?.applyScaleDrivenSize){const{getSize:t}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");l=t(this._scaleDrivenSizeVariable,null,{view:this.view.type,scale:this.scale,shape:\"simple-marker\"===e.symbol.type?e.symbol.style:null})}return O(e.symbol,{size:l,opacity:t,scale:!1,symbolConfig:s?.symbolConfig,effectView:s?.effectList}).then((t=>(e.preview=t,e))).catch((()=>(e.preview=null,e)))}_getClusterRenderer(e){this._hasClusterSizeVariable=!1;const t=\"renderer\"in this.layer&&this.layer.renderer,s=e.renderer?.clone()||t?.clone(),l=u(M(this.layerView._effectiveRenderer,this.view));if(l&&\"visualVariables\"in s){const t=s.visualVariables?.some((e=>\"size\"===e.type&&\"outline\"!==e.target&&!ne.test(e.valueExpression)));if(!t){if(\"clusterMinSize\"in e&&\"clusterMaxSize\"in e){const{clusterMinSize:t,clusterMaxSize:s}=e;l.legendOptions=new F({showLegend:t!==s})}const t=s.visualVariables||[];s.visualVariables=t.concat([l]),this._hasClusterSizeVariable=!0}}return s}async _loadRenderer(e){const t=[],s=e.clone(),l=await K(s);if(ge(s)||be(s)){const e=(s.classBreakInfos||s.uniqueValueInfos).map((e=>this._fetchSymbol(e.symbol,l).then((t=>{e.symbol=t})).catch((()=>{e.symbol=null}))));Array.prototype.push.apply(t,e)}return t.push(this._fetchSymbol(s.symbol||s.defaultSymbol,s.defaultSymbol?null:l).then((e=>{this._applySymbolToRenderer(s,e,pe(s))})).catch((()=>{this._applySymbolToRenderer(s,null,pe(s))}))),d(t).then((()=>s))}_applySymbolToRenderer(e,t,s){s?e.symbol=t:e.defaultSymbol=t}async _fetchSymbol(e,t){if(!e)throw new Error;if(\"web-style\"===e.type){const s=this._webStyleSymbolCache;try{const l=await(\"2d\"===this.view.type?e.fetchCIMSymbol({cache:s}):e.fetchSymbol({cache:s}));return this._getAppliedCloneSymbol(l,t)}catch{throw o.getLogger(this.declaredClass).warn(\"Fetching web-style failed!\"),new Error}}return this._getAppliedCloneSymbol(e,t)}_getAppliedCloneSymbol(e,s){if(!e||!s)return e;const l=e.clone(),r=s&&s.toRgba();return l.type.includes(\"3d\")?this._applyColorTo3dSymbol(l,r):\"cim\"===l.type?V(l,s):l.color&&(l.color=new t(r||l.color)),l}_applyColorTo3dSymbol(e,s){s&&e.symbolLayers.forEach((e=>{e&&(e.material||(e.material={}),e.material.color=new t(s))}))}async _getVisualVariableLegendElements(e,t){if(!(\"visualVariables\"in e)||!e.visualVariables||\"vector-field\"===e.type)return null;const s=e.visualVariables,l=[],r=[],i=[];for(const c of s)\"color\"===c.type?l.push(c):\"size\"===c.type?r.push(c):\"opacity\"===c.type&&i.push(c);const n=[...l,...r,...i];let a,o;if(0===l.length&&ge(e)&&e.classBreakInfos&&1===e.classBreakInfos.length){const t=e.classBreakInfos[0];a=t&&t.symbol}if(0===l.length&&pe(e)&&(a=e.symbol),a)if(a.type.includes(\"3d\")){const e=a.symbolLayers.getItemAt(0);\"water\"===e.type?c(e.color)&&(o=e.color):c(e.material)&&c(e.material.color)&&(o=e.material.color)}else a.url||(o=a.color);const u=this.effectList;return(await Promise.all(n.map((async s=>{if(!s.legendOptions||!1!==s.legendOptions.showLegend){const l=de(e)?s.field:this._getRampTitle(s,t);let r=null;const i=\"getField\"in t&&t.getField&&t.getField(s.field),n=i&&E(i);if(\"color\"===s.type){const e=await k(s,null,n);r={type:\"color-ramp\",title:l,infos:e,preview:x(e.map((e=>e.color)),{effectList:u})},this._hasColorRamp||(this._hasColorRamp=!(null==r.infos||!r.infos.length))}else if(\"size\"===s.type&&\"outline\"!==s.target)ne.test(s.valueExpression)?this._hasClusterSizeVariable||(this._scaleDrivenSizeVariable=s):(r=await this._getSizeLegendElement(l,s,e,n),this._hasSizeRamp||(this._hasSizeRamp=!(null==r.infos||!r.infos.length)));else if(\"opacity\"===s.type){const e=await k(s,o,n);r={type:\"opacity-ramp\",title:l,infos:e,preview:x(e.map((e=>e.color)),{effectList:u})},this._hasOpacityRamp||(this._hasOpacityRamp=!(null==r.infos||!r.infos.length))}return r&&r.infos?r:null}})))).filter((e=>!!e))}_getDomainName(e,t,s){if(e&&\"function\"!=typeof e){const l=\"getField\"in s&&s.getField&&s.getField(e),r=l&&\"getFieldDomain\"in s&&s.getFieldDomain?s.getFieldDomain(l.name):null;return r&&\"coded-value\"===r.type?r.getName(t):null}return null}_getClusterTitle(e){const t=this.layer,s=e.field;if(\"featureReduction\"in t&&t.featureReduction&&\"cluster\"===t.featureReduction.type){const e=t.featureReduction,l=\"popupTemplate\"in e&&e.popupTemplate,r=l&&l.fieldInfos;if(r)for(const t of r)if(t.fieldName===s)return\"cluster_count\"===s?t.label||{showCount:!0}:t.label}return{showCount:!0}}_getRampTitle(e,t){let s=e.field,l=e.normalizationField,r=!1,i=!1,n=!1,a=null;s=\"function\"==typeof s?null:s,l=\"function\"==typeof l?null:l;const o=e.legendOptions&&e.legendOptions.title;if(null!=o)a=o;else if(e.valueExpressionTitle)a=e.valueExpressionTitle;else{if(\"renderer\"in t&&t.renderer&&\"authoringInfo\"in t.renderer&&t.renderer.authoringInfo&&t.renderer.authoringInfo.visualVariables){const e=t.renderer.authoringInfo.visualVariables;for(let t=0;t<e.length;t++){const s=e[t];if(\"color\"===s.type){if(\"ratio\"===s.style){r=!0;break}if(\"percent\"===s.style){i=!0;break}if(\"percent-of-total\"===s.style){n=!0;break}}}}a={field:s&&this._getFieldAlias(s,t),normField:l&&this._getFieldAlias(l,t),ratio:r,ratioPercent:i,ratioPercentTotal:n}}return a}_getRendererTitle(e,t){const s=e;if(s.legendOptions&&s.legendOptions.title)return s.legendOptions.title;if(s.valueExpressionTitle)return s.valueExpressionTitle;let l=s.field,r=null,i=null;if(ge(s)&&(r=s.normalizationField,i=\"percent-of-total\"===s.normalizationType),l=\"function\"==typeof l?null:l,r=\"function\"==typeof r?null:r,be(s)){const{field2:e,field3:r,fieldDelimiter:i}=s;let n=l&&this._getFieldAlias(l,t);return e&&(n=`<${n}>${i}<${this._getFieldAlias(e,t)}>`,r&&(n=`${n}${i}<${this._getFieldAlias(r,t)}>`)),n}let n=null;return(l||r)&&(n={field:l&&this._getFieldAlias(l,t),normField:r&&this._getFieldAlias(r,t),normByPct:i}),n}_getFieldAlias(e,t){const s=\"popupTemplate\"in t&&t.popupTemplate,l=s&&s.fieldInfos;let r=null;l&&l.some((t=>e===t.fieldName&&(r=t,!0)));let i=null;\"getField\"in t&&t.getField?i=t.getField(e):\"fieldsIndex\"in t&&t.fieldsIndex&&(i=t.fieldsIndex.get(e));let n=null;const a=\"featureReduction\"in t&&t.featureReduction;a&&(!r&&\"popupTemplate\"in a&&a.popupTemplate&&a.popupTemplate.fieldInfos&&a.popupTemplate.fieldInfos.some((t=>e?.toLowerCase()===t.fieldName?.toLowerCase()&&(r=t,!0))),\"fields\"in a&&a.fields&&(n=a.fields.find((t=>t.name?.toLowerCase()===e?.toLowerCase()))));const o=r||i||n;let u=null;return o&&(u=r?.label||i?.alias||n?.alias||\"name\"in o&&o.name||\"fieldName\"in o&&o.fieldName),u}_isUnclassedRenderer(e){const t=e.visualVariables;let s=!1;return ge(e)&&e.classBreakInfos&&1===e.classBreakInfos.length&&t&&(s=e.field?t.some((t=>!(!t||e.field!==t.field||(e.normalizationField||t.normalizationField)&&e.normalizationField!==t.normalizationField))):!!t.length),s}};e([_()],$e.prototype,\"children\",void 0),e([_({readOnly:!0})],$e.prototype,\"effectList\",null),e([_()],$e.prototype,\"layerView\",void 0),e([_()],$e.prototype,\"layer\",void 0),e([_()],$e.prototype,\"legendElements\",void 0),e([_({readOnly:!0})],$e.prototype,\"opacity\",null),e([_()],$e.prototype,\"parent\",void 0),e([_({readOnly:!0,dependsOn:[]})],$e.prototype,\"ready\",null),e([_()],$e.prototype,\"hideLayersNotInCurrentView\",void 0),e([_()],$e.prototype,\"keepCacheOnDestroy\",void 0),e([_()],$e.prototype,\"respectLayerVisibility\",void 0),e([_({readOnly:!0})],$e.prototype,\"scale\",null),e([_()],$e.prototype,\"sublayerIds\",void 0),e([_({readOnly:!0})],$e.prototype,\"isScaleDriven\",null),e([_()],$e.prototype,\"title\",void 0),e([_({readOnly:!0,dependsOn:[\"ready\"],value:0})],$e.prototype,\"version\",null),e([_()],$e.prototype,\"view\",void 0),$e=e([S(\"esri.widgets.Legend.support.ActiveLayerInfo\")],$e);const We=$e;export{We as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../intl.js\";import i from\"../../core/Accessor.js\";import r from\"../../core/Collection.js\";import t from\"../../core/Handles.js\";import{watch as s,initial as a,when as n}from\"../../core/reactiveUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import y from\"./support/ActiveLayerInfo.js\";import{onLocaleChange as d}from\"../../intl/locale.js\";const h={state:\"state\",view:\"view\",allLayerViews:\"all-layer-views\",legendProperties:\"legend-properties\"},c=r.ofType(y),L=[\"esri.layers.BuildingSceneLayer\",\"esri.layers.CSVLayer\",\"esri.layers.FeatureLayer\",\"esri.layers.GeoJSONLayer\",\"esri.layers.GeoRSSLayer\",\"esri.layers.GroupLayer\",\"esri.layers.HeatmapLayer\",\"esri.layers.ImageryLayer\",\"esri.layers.ImageryTileLayer\",\"esri.layers.MapImageLayer\",\"esri.layers.OGCFeatureLayer\",\"esri.layers.PointCloudLayer\",\"esri.layers.StreamLayer\",\"esri.layers.SceneLayer\",\"esri.layers.SubtypeGroupLayer\",\"esri.layers.TileLayer\",\"esri.layers.VoxelLayer\",\"esri.layers.WFSLayer\",\"esri.layers.WMSLayer\",\"esri.layers.WMTSLayer\",\"esri.layers.WCSLayer\"],u=\"view.basemapView.baseLayerViews\",_=\"view.groundView.layerViews\",f=\"view.basemapView.referenceLayerViews\",p=[u,_,\"view.layerViews\",f];let v=class extends i{constructor(e){super(e),this._handles=new t,this._layerViewByLayerId={},this._layerInfosByLayerViewId={},this._activeLayerInfosByLayerViewId={},this._activeLayerInfosWithNoParent=new r,this.activeLayerInfos=new c,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.layerInfos=[],this.view=null}initialize(){this._handles.add(s((()=>this.view),(()=>this._viewHandles()),a),h.view),this._handles.add(d((()=>this._refresh())))}destroy(){this._destroyViewActiveLayerInfos(),this._handles.destroy(),this._handles=null,this.view=null}get state(){return this.get(\"view.ready\")?\"ready\":\"disabled\"}_viewHandles(){this._handles.remove(h.state),this.view&&this._handles.add(s((()=>this.state),(()=>this._stateHandles()),a),h.state)}_stateHandles(){this._resetAll(),\"ready\"===this.state&&this._watchPropertiesAndAllLayerViews()}_resetAll(){this._handles.remove([h.allLayerViews,h.legendProperties]),this._destroyViewActiveLayerInfos(),this.activeLayerInfos.removeAll()}_destroyViewActiveLayerInfos(){Object.keys(this._activeLayerInfosByLayerViewId).forEach(this._destroyViewActiveLayerInfo,this)}_destroyViewActiveLayerInfo(e){this._handles.remove(e);const i=this._activeLayerInfosByLayerViewId[e];delete this._activeLayerInfosByLayerViewId[e],i&&i.parent&&i.parent.children.remove(i)}_watchPropertiesAndAllLayerViews(){const{allLayerViews:e}=this.view;e.length&&this._refresh(),this._handles.add(e.on(\"change\",(e=>this._allLayerViewsChangeHandle(e))),h.allLayerViews),this._handles.add(s((()=>[this.layerInfos,this.basemapLegendVisible,this.groundLegendVisible]),(()=>this._propertiesChangeHandle())),h.legendProperties)}_allLayerViewsChangeHandle(e){e.removed.forEach((e=>this._destroyViewActiveLayerInfo(e.uid))),this._refresh()}_propertiesChangeHandle(){this._destroyViewActiveLayerInfos(),this._refresh()}_refresh(){this._layerInfosByLayerViewId={},this.activeLayerInfos.removeAll(),this._generateLayerViews().filter(this._filterLayerViewsByLayerInfos,this).filter(this._isLayerViewSupported,this).forEach(this._generateActiveLayerInfo,this),this._sortActiveLayerInfos(this.activeLayerInfos)}_sortActiveLayerInfos(e){if(e.length<2)return;const i=[];e.forEach((r=>{if(!r.parent){const t=r.layer.parent,s=t&&\"uid\"in t&&this._layerViewByLayerId[t.uid],a=s&&this._activeLayerInfosByLayerViewId[s.uid];a&&e.includes(a)&&(i.push(r),r.parent=a,a.children.add(r),this._sortActiveLayerInfos(a.children))}})),e.removeMany(i);const r={};this.view.allLayerViews.forEach(((e,i)=>r[e.layer.uid]=i)),e.sort(((e,i)=>{const t=r[e.layer.uid]||0;return(r[i.layer.uid]||0)-t}))}_generateLayerViews(){const e=[];return p.filter(this._filterLayerViews,this).map(this.get,this).filter((e=>null!=e)).forEach(this._collectLayerViews(\"layerViews\",e)),e}_filterLayerViews(e){const i=!this.basemapLegendVisible&&(e===u||e===f),r=!this.groundLegendVisible&&e===_;return!i&&!r}_collectLayerViews(e,i){const r=t=>(t&&t.forEach((t=>{i.push(t),r(t[e])})),i);return r}_filterLayerViewsByLayerInfos(e){const i=this.layerInfos;return!i||!i.length||i.some((i=>this._hasLayerInfo(i,e)))}_hasLayerInfo(e,i){const r=this._isLayerUIDMatching(e.layer,i.layer.uid);return r&&(this._layerInfosByLayerViewId[i.uid]=e),r}_isLayerUIDMatching(e,i){return e&&(e.uid===i||this._hasLayerUID(e.layers,i))}_hasLayerUID(e,i){return e&&e.some((e=>this._isLayerUIDMatching(e,i)))}_isLayerViewSupported(e){return!!L.includes(e.layer.declaredClass)&&(this._layerViewByLayerId[e.layer.uid]=e,!0)}_generateActiveLayerInfo(e){this._isLayerActive(e)?this._buildActiveLayerInfo(e):(this._handles.remove(e.uid),this._handles.add(s((()=>[e.legendEnabled,e.layer?.legendEnabled]),(()=>this._layerActiveHandle(e))),e.uid))}_layerActiveHandle(e){this._isLayerActive(e)&&(this._handles.remove(e.uid),this._buildActiveLayerInfo(e))}_isLayerActive(e){return!this.respectLayerVisibility||e.legendEnabled&&e.get(\"layer.legendEnabled\")}_buildActiveLayerInfo(e){const i=e.layer,r=e.uid,t=this._layerInfosByLayerViewId[r];let o=this._activeLayerInfosByLayerViewId[r];if(!o){const s=t&&void 0!==t.title&&t.layer.uid===i.uid;o=new y({layer:i,layerView:e,title:s?t.title:i.title,view:this.view,respectLayerVisibility:this.respectLayerVisibility,hideLayersNotInCurrentView:this.hideLayersNotInCurrentView,keepCacheOnDestroy:this.keepCacheOnDestroy,sublayerIds:t&&t.sublayerIds||[]}),this._activeLayerInfosByLayerViewId[r]=o}const l=i.parent&&\"uid\"in i.parent&&this._layerViewByLayerId[i.parent?.uid];if(o.parent=this._activeLayerInfosByLayerViewId[l?.uid],!this._handles.has(r)){const t=[s((()=>i.title),(e=>this._titleHandle(e,o))),s((()=>[i.opacity,\"renderer\"in i&&i.renderer,\"pointSymbol\"in i&&i.pointSymbol,\"lineSymbol\"in i&&i.lineSymbol,\"polygonSymbol\"in i&&i.polygonSymbol]),(()=>this._constructLegendElements(o))),n((()=>!0===this.view?.stationary),(()=>this._scaleHandle(o)),a),s((()=>e._effectiveRenderer),(()=>this._constructLegendElements(o))),s((()=>\"effect\"in i&&i.effect),(()=>this._constructLegendElements(o)))];if(this.respectLayerVisibility){const r=s((()=>e.legendEnabled),(e=>this._legendEnabledHandle(e,o))),a=s((()=>i.legendEnabled),(e=>this._legendEnabledHandle(e,o)));t.push(r,a)}this._handles.add(t,r)}o.isScaleDriven||this._constructLegendElements(o),this._addActiveLayerInfo(o)}_titleHandle(e,i){i.title=e,this._constructLegendElements(i)}_legendEnabledHandle(e,i){e?this._addActiveLayerInfo(i):this._removeActiveLayerInfo(i)}_scaleHandle(e){(e.isScaleDriven||e.hideLayersNotInCurrentView)&&this._constructLegendElements(e)}_addActiveLayerInfo(e){const{layerView:i,layer:r}=e;if(this._isLayerActive(i)&&!this.activeLayerInfos.includes(e)){const i=e.parent;if(i)i.children.includes(e)||i.children.push(e),this._sortActiveLayerInfos(i.children);else{const i=this.layerInfos?.some((e=>e.layer.uid===r.uid));r.parent&&\"uid\"in r.parent&&!i?this._activeLayerInfosWithNoParent.add(e):(this.activeLayerInfos.add(e),this._sortActiveLayerInfos(this.activeLayerInfos))}if(this._activeLayerInfosWithNoParent.length){const e=[];this._activeLayerInfosWithNoParent.forEach((i=>{const r=i.layer.parent,t=r&&\"uid\"in r&&this._layerViewByLayerId[r?.uid],s=this._activeLayerInfosByLayerViewId[t?.uid];s&&(e.push(i),i.parent=s)})),e.length&&(this._activeLayerInfosWithNoParent.removeMany(e),e.forEach((e=>this._addActiveLayerInfo(e))))}}}_removeActiveLayerInfo(e){const i=e.parent;i?i.children.remove(e):this.activeLayerInfos.remove(e)}_constructLegendElements(e){const i=e.layer;\"featureCollections\"in i&&i.featureCollections?e.buildLegendElementsForFeatureCollections(i.featureCollections):\"featureReduction\"in i&&i.featureReduction&&\"renderer\"in i.featureReduction&&(\"binning\"===i.featureReduction.type||\"cluster\"===i.featureReduction.type)?e.buildLegendElementsForFeatureReduction(i.featureReduction):\"renderer\"in i&&i.renderer&&!(\"sublayers\"in i)?e.buildLegendElementsForRenderer(i.renderer):\"url\"in i&&i.url?e.buildLegendElementsForTools():e.children.forEach((e=>this._constructLegendElements(e)))}};e([o({type:c})],v.prototype,\"activeLayerInfos\",void 0),e([o()],v.prototype,\"basemapLegendVisible\",void 0),e([o()],v.prototype,\"groundLegendVisible\",void 0),e([o()],v.prototype,\"hideLayersNotInCurrentView\",void 0),e([o()],v.prototype,\"keepCacheOnDestroy\",void 0),e([o()],v.prototype,\"respectLayerVisibility\",void 0),e([o()],v.prototype,\"layerInfos\",void 0),e([o({readOnly:!0})],v.prototype,\"state\",null),e([o()],v.prototype,\"view\",void 0),v=e([l(\"esri.widgets.Legend.LegendViewModel\")],v);const I=v;export{I as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{generateFillAttributes as e,generateStrokeAttributes as a,renderDef as r,renderShape as l,getBoundingBox as t,computeBBox as s,getTransformMatrix as i}from\"../../../../symbols/support/svgUtils.js\";import{getCSSFilterFromEffectList as o}from\"../../../../symbols/support/utils.js\";import{isRTL as n,classes as d}from\"../../../support/widgetUtils.js\";import{tsx as m}from\"../../../support/jsxFactory.js\";const u=\"http://www.w3.org/2000/svg\",b={diamondContainer:\"esri-relationship-ramp--diamond__container\",diamondLeftCol:\"esri-relationship-ramp--diamond__left-column\",diamondRightCol:\"esri-relationship-ramp--diamond__right-column\",diamondMidCol:\"esri-relationship-ramp--diamond__middle-column\",diamondMidColLabel:\"esri-relationship-ramp--diamond__middle-column--label\",diamondMidColRamp:\"esri-relationship-ramp--diamond__middle-column--ramp\",squareTable:\"esri-relationship-ramp--square__table\",squareTableRow:\"esri-relationship-ramp--square__table-row\",squareTableCell:\"esri-relationship-ramp--square__table-cell\",squareTableLabel:\"esri-relationship-ramp--square__table-label\",squareTableLabelLeftBottom:\"esri-relationship-ramp--square__table-label--left-bottom\",squareTableLabelRightBottom:\"esri-relationship-ramp--square__table-label--right-bottom\",squareTableLabelLeftTop:\"esri-relationship-ramp--square__table-label--left-top\",squareTableLabelRightTop:\"esri-relationship-ramp--square__table-label--right-top\"};function p(e,a,r,l){const{focus:t,labels:s}=e,i=!!t,o=c(e,a,r,l),u={justifyContent:\"center\"},p=n();return i?m(\"div\",{class:b.diamondContainer,styles:u},m(\"div\",{class:b.diamondLeftCol},p?s.right:s.left),m(\"div\",{class:b.diamondMidCol},m(\"div\",{class:b.diamondMidColLabel},s.top),o,m(\"div\",{class:b.diamondMidColLabel},s.bottom)),m(\"div\",{class:b.diamondRightCol},p?s.left:s.right)):m(\"div\",{class:b.squareTable},m(\"div\",{class:b.squareTableRow},m(\"div\",{class:d(b.squareTableCell,b.squareTableLabel,b.squareTableLabelRightBottom)},p?s.top:s.left),m(\"div\",{class:b.squareTableCell}),m(\"div\",{class:d(b.squareTableCell,b.squareTableLabel,b.squareTableLabelLeftBottom)},p?s.left:s.top)),m(\"div\",{class:b.squareTableRow},m(\"div\",{class:b.squareTableCell}),o,m(\"div\",{class:b.squareTableCell})),m(\"div\",{class:b.squareTableRow},m(\"div\",{class:d(b.squareTableCell,b.squareTableLabel,b.squareTableLabelRightTop)},p?s.right:s.bottom),m(\"div\",{class:b.squareTableCell}),m(\"div\",{class:d(b.squareTableCell,b.squareTableLabel,b.squareTableLabelLeftTop)},p?s.bottom:s.right)))}function h(e,a,r){const l=`${r}_arrowStart`,t=`${r}_arrowEnd`,s=\"left\"===e,i={markerStart:null,markerEnd:null};switch(a){case\"HL\":s?i.markerStart=`url(#${t})`:i.markerEnd=`url(#${l})`;break;case\"LL\":i.markerStart=`url(#${t})`;break;case\"LH\":s?i.markerEnd=`url(#${l})`:i.markerStart=`url(#${t})`;break;default:i.markerEnd=`url(#${l})`}return i}function c(n,d,p,c,f=60){const{focus:q,numClasses:k,colors:T,rotation:_}=n,g=!!q,L=Math.sqrt(f**2+f**2)+(g?0:5),C=[],v=[],w=[],y=(f||75)/k;for(let s=0;s<k;s++){const i=s*y;for(let o=0;o<k;o++){const n=o*y,d=e(T[s][o]),m=a(null),u={type:\"rect\",x:n,y:i,width:y,height:y};C.push(r(d)),v.push(l(u,d.fill,m,null)),w.push(t(u))}}const x=10,R=15,$=15,E=10;let M=null;g||(M=\"margin: -15px -15px -18px -15px\");const S=h(\"left\",q,d),j=h(\"right\",q,d),B=s(w),H=i(B,L,L,0,!1,_,!1),U=i(B,L,L,0,!1,g?-45:null,!1),W={filter:o(c),opacity:null==p?null:`${p}`};return m(\"div\",{styles:W,class:g?b.diamondMidColRamp:b.squareTableCell},m(\"svg\",{xmlns:u,width:L,height:L,style:M},m(\"defs\",null,m(\"marker\",{id:`${d}_arrowStart`,markerWidth:\"10\",markerHeight:\"10\",refX:\"5\",refY:\"5\",markerUnits:\"strokeWidth\",orient:\"auto\"},m(\"polyline\",{points:\"0,0 5,5 0,10\",fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\"})),m(\"marker\",{id:`${d}_arrowEnd`,markerWidth:\"10\",markerHeight:\"10\",refX:\"0\",refY:\"5\",markerUnits:\"strokeWidth\",orient:\"auto\"},m(\"polyline\",{points:\"5,0 0,5 5,10\",fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\"})),C),m(\"g\",{transform:H},v),m(\"g\",{transform:U},m(\"line\",{fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\",\"marker-start\":S.markerStart,\"marker-end\":S.markerEnd,x1:-x,y1:f-R,x2:-x,y2:R}),m(\"line\",{fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\",\"marker-start\":j.markerStart,\"marker-end\":j.markerEnd,x1:$,y1:f+E,x2:f-$,y2:f+E}))))}export{p as renderRelationshipRamp};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../core/screenUtils.js\";import\"../../../../libs/maquette/projection.js\";import{createProjector as t}from\"../../../../libs/maquette/projector.js\";import{renderColorRampPreviewHTML as o}from\"../../../../symbols/support/symbolUtils.js\";import\"../../../support/widgetUtils.js\";import{tsx as i}from\"../../../support/jsxFactory.js\";const n=t(),l=10,r=20,s=10,a=20,c={univariateAboveAndBelowSymbol:\"esri-univariate-above-and-below-ramp__symbol\",colorRamp:\"esri-legend__color-ramp\"};function f(e=\"vertical\"){const t=\"stroke:rgb(200, 200, 200);stroke-width:1\";return\"vertical\"===e?i(\"svg\",{height:\"4\",width:\"10\"},i(\"line\",{x1:\"0\",y1:\"2\",x2:\"10\",y2:\"2\",style:t})):i(\"svg\",{height:\"10\",width:\"10\"},i(\"line\",{x1:\"5\",y1:\"0\",x2:\"5\",y2:\"10\",style:t}))}function p(e,t=\"vertical\"){const o=document.createElement(\"div\");return o.style.height=`${r}px`,o.className=c.univariateAboveAndBelowSymbol,null!=e&&(o.style.opacity=e.toString()),n.append(o,f.bind(null,t)),o}function m(t,o,i=\"vertical\",n){t.infos.forEach(((t,l)=>{if(n&&2===l)t.preview=p(o,i);else{const o=e(t.size)+(\"horizontal\"===i?a:s),n=\"div\"===t.preview.tagName.toLowerCase(),l=n?t.preview:document.createElement(\"div\");l.className=c.univariateAboveAndBelowSymbol,\"horizontal\"===i?l.style.width=`${o}px`:l.style.height=`${o}px`,n||l.appendChild(t.preview),t.preview=l}}))}function u(t,o=\"classic\"){const i=t.infos;return\"classic\"===o?(e(i[0].size)+s)/2:(e(i[0].size)-e(i[i.length-1].size))/2}function v(e,t){if(!e)return null;const i=e.infos.map((e=>e.color)),n=o(\"full\"===t.type?i:\"above\"===t.type?i.slice(0,3):i.slice(2,5),{width:t.width,height:t.height,align:t.rampAlignment,effectList:t.effectList});return n.className=c.colorRamp,null!=t.opacity&&(n.style.opacity=t.opacity.toString()),n}function h(t,o,i,n=\"vertical\"){let c=0;const f=t.infos,p=Math.floor(f.length/2),m=\"full\"===o||\"above\"===o?0:p,u=\"full\"===o||\"below\"===o?f.length-1:p;for(let v=m;v<=u;v++)if(i&&v===p)c+=\"horizontal\"===n?l:r;else{c+=e(f[v].size)+(\"horizontal\"===n?a:s)}return Math.round(c)}function y(t,o,i,n=\"vertical\"){const c=h(t,o,i,n),f=t.infos,p=Math.floor(f.length/2),m=\"full\"===o||\"above\"===o?0:p,u=\"full\"===o||\"below\"===o?f.length-1:p,v=\"full\"===o?f[m].size+f[u].size:\"above\"===o?f[m].size:f[u].size,y=i?\"vertical\"===n?r:l:0,d=\"vertical\"===n?s*(\"full\"===o?2:1):a*(\"full\"===o?2:1);return Math.round(c-(e(v)/2+y/2+d/2))}function d(e,t,o=\"vertical\"){const i=e.infos;let n=i.find((({type:e})=>\"size-ramp\"===e)),l=i.find((({type:e})=>\"color-ramp\"===e));return n&&(n={...n},n.infos=[...n.infos],m(n,t,o,!0)),l&&(l={...l},l.infos=[...l.infos]),\"horizontal\"===o&&(n?.infos.reverse(),l?.infos.reverse()),{sizeRampElement:n,colorRampElement:l}}function b(e,t=\"vertical\"){const o=e.infos;let i=o.find((({type:e})=>\"size-ramp\"===e)),n=o.find((({type:e})=>\"color-ramp\"===e));return i&&(i={...i},i.infos=[...i.infos],m(i,null,t,!1)),n&&(n={...n},n.infos=[...n.infos]),\"horizontal\"===t&&(i?.infos.reverse(),n?.infos.reverse()),{sizeRampElement:i,colorRampElement:n}}export{d as getUnivariateAboveAndBelowRampElements,u as getUnivariateColorRampMargin,v as getUnivariateColorRampPreview,y as getUnivariateColorRampSize,b as getUnivariateColorSizeRampElements,h as getUnivariateSizeRampSize};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../intl.js\";import{substitute as e}from\"../../../intl/substitute.js\";function n(e,n){return n}function t(e){const n=this;e.appendChild(n)}function r(t,r,i){if(!r)return;if(\"string\"==typeof r||\"number\"==typeof r)return r;if(\"value\"in r||\"unit\"in r)return e(t.dotValue,r);if(\"colorName\"in r||\"bandName\"in r)return t[r.colorName]+\": \"+(t[r.bandName]||r.bandName);if(\"showCount\"in r)return r.showCount?t.clusterCountTitle:null;let l=null;return n(r,i)?l=r.ratioPercentTotal?\"showRatioPercentTotal\":r.ratioPercent?\"showRatioPercent\":r.ratio?\"showRatio\":r.normField?\"showNormField\":r.field?\"showField\":null:o(r,i)&&(l=r.normField?\"showNormField\":r.normByPct?\"showNormPct\":r.field?\"showField\":null),l?e(\"showField\"===l?\"{field}\":t[l],{field:r.field,normField:r.normField}):null}function o(e,n){return!n}function i(e,n){return!!(n&&\"Stretched\"===n&&e.version>=10.3&&\"esri.layers.ImageryLayer\"===e.declaredClass)}export{t as attachToNode,r as getTitle,i as isImageryStretchedLegend,o as isRendererTitle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../intl.js\";import t from\"../../../core/Handles.js\";import{watch as s}from\"../../../core/reactiveUtils.js\";import{pt2px as i}from\"../../../core/screenUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{renderSVG as o}from\"../../../symbols/support/svgUtils.js\";import{getCSSFilterFromEffectList as l}from\"../../../symbols/support/utils.js\";import n from\"../../Widget.js\";import{renderRelationshipRamp as c}from\"./support/relationshipUtils.js\";import{getUnivariateAboveAndBelowRampElements as d,getUnivariateSizeRampSize as p,getUnivariateColorRampSize as m,getUnivariateColorRampPreview as h,getUnivariateColorRampMargin as y,getUnivariateColorSizeRampElements as g}from\"./support/univariateUtils.js\";import{getTitle as _,attachToNode as v,isImageryStretchedLegend as u}from\"../support/styleUtils.js\";import{Heading as f,incrementHeadingLevel as b}from\"../../support/Heading.js\";import{accessibleHandler as w}from\"../../support/decorators/accessibleHandler.js\";import{messageBundle as L}from\"../../support/decorators/messageBundle.js\";import{tsx as C}from\"../../support/jsxFactory.js\";import{isRTL as x}from\"../../support/widgetUtils.js\";import{substitute as S}from\"../../../intl/substitute.js\";const R={activated:\"esri-legend--card__carousel-indicator--activated\",base:\"esri-legend--card\",stacked:\"esri-legend--stacked\",carouselTitle:\"esri-legend--card__carousel-title\",indicator:\"esri-legend--card__carousel-indicator\",intervalSeparator:\"esri-legend--card__interval-separator\",imageryLayerStretchedImage:\"esri-legend--card__imagery-layer-image--stretched\",imageLabel:\"esri-legend--card__image-label\",layerCaption:\"esri-legend--card__layer-caption\",labelElement:\"esri-legend--card__label-element\",layerRow:\"esri-legend--card__layer-row\",labelCell:\"esri-legend--card__label-cell\",message:\"esri-legend--card__message\",rampLabel:\"esri-legend--card__ramp-label\",section:\"esri-legend--card__section\",relationshipSection:\"esri-legend--card__relationship-section\",serviceCaptionText:\"esri-legend--card__service-caption-text\",serviceContent:\"esri-legend--card__service-content\",service:\"esri-legend--card__service\",groupLayer:\"esri-legend--card__group-layer\",groupLayerChild:\"esri-legend--card__group-layer-child\",symbol:\"esri-legend--card__symbol\",sizeRampRow:\"esri-legend--card__size-ramp-row\",symbolRow:\"esri-legend--card__symbol-row\",symbolCell:\"esri-legend--card__symbol-cell\",indicatorContainer:\"esri-legend--card__carousel-indicator-container\",intervalSeparatorsContainer:\"esri-legend--card__interval-separators-container\",relationshipLabelContainer:\"esri-legend--card__relationship-label-container\",labelContainer:\"esri-legend--card__label-container\",serviceCaptionContainer:\"esri-legend--card__service-caption-container\",symbolContainer:\"esri-legend--card__symbol-container\",sizeRampContainer:\"esri-legend--card__size-ramp-container\",sizeRampPreview:\"esri-legend--card__size-ramp-preview\",pieChartRampPreview:\"esri-legend--card__pie-chart-ramp-preview\",rampContainer:\"esri-legend__ramps\",sizeRampHorizontal:\"esri-legend__size-ramp--horizontal\",rampLabelsContainer:\"esri-legend__ramp-labels\",layerInfo:\"esri-legend__layer-cell esri-legend__layer-cell--info\",univariateAboveAndBelowColorRamp:\"esri-univariate-above-and-below-ramp__color--card\",hidden:\"esri-hidden\"},z=25,$=25,I=768,k=100;var A;!function(e){e.Auto=\"auto\",e.Stack=\"stack\",e.SideBySide=\"side-by-side\"}(A||(A={}));const N=\"#ddd\",j=window.devicePixelRatio;function E(e){if(e){if(e.type.includes(\"3d\")){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const s=e.symbolLayers.getItemAt(t-1),i=s.resource&&s.resource.primitive;return\"circle\"===i||\"cross\"===i||\"kite\"===i||\"sphere\"===i||\"cube\"===i||\"diamond\"===i}{const t=e.style;return\"circle\"===t||\"diamond\"===t||\"cross\"===t}}}function F(e){if(e){if(e.type.includes(\"3d\")){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const s=e.symbolLayers.getItemAt(t-1).get(\"resource.primitive\");return\"triangle\"===s||\"cone\"===s||\"tetrahedron\"===s}return\"triangle\"===e.style}}let T=class extends n{constructor(e,s){super(e,s),this._handles=new t,this._hasIndicators=!1,this._selectedSectionName=null,this._sectionNames=[],this._sectionMap=new Map,this.activeLayerInfos=null,this.headingLevel=3,this.layout=A.Stack,this.messages=null,this.messagesCommon=null,this.type=\"card\",this.view=null}initialize(){this.addHandles(s((()=>this.activeLayerInfos),(e=>{this._handles.removeAll(),this._watchForSectionChanges(e)})))}destroy(){this._handles.destroy(),this._handles=null}render(){this._hasIndicators=this.layout===A.Auto&&this.view.container.clientWidth<=I||this.layout===A.Stack;const e=this.activeLayerInfos,t=e&&e.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));this._hasIndicators?this._selectedSectionName&&this._sectionNames.includes(this._selectedSectionName)||(this._selectedSectionName=this._sectionNames&&this._sectionNames[0]):this._selectedSectionName=null;const s=this._sectionNames.length,i=this._sectionNames.map(((e,t)=>{const i=S(this.messagesCommon.pagination.pageText,{index:t+1,total:s});return C(\"div\",{key:e,role:\"tab\",id:e,\"aria-label\":i,\"aria-controls\":`${e}-panel`,\"aria-selected\":(this._selectedSectionName===e).toString(),tabIndex:this._selectedSectionName===e?0:-1,title:i,onclick:this._selectSection,onkeydown:this._focusSection,bind:this,class:this.classes(R.indicator,{[R.activated]:this._selectedSectionName===e}),\"data-section-name\":e})})),r=this._hasIndicators&&s>1?C(\"div\",{class:R.indicatorContainer,key:\"carousel-navigation\",role:\"tablist\"},i):null,a=this._hasIndicators?this._sectionMap.get(this._selectedSectionName):t&&t.length?t:null,o={[R.stacked]:this._hasIndicators};return C(\"div\",{class:this.classes(R.base,o)},a||C(\"div\",{class:R.message},this.messages.noLegend),r)}_selectSection(e){const t=e.target.getAttribute(\"data-section-name\");t&&(this._selectedSectionName=t)}_focusSection(e){switch(e.key){case\"ArrowLeft\":case\"ArrowRight\":this._switchSectionOnArrowPress(e);break;case\"Enter\":case\" \":this._selectSection(e)}}_switchSectionOnArrowPress(e){const t=e.key,s=\"ArrowLeft\"===t?-1:1,i=e.target.getAttribute(\"data-section-name\"),r=this._sectionNames.indexOf(i),a=this._sectionNames;let o=null;-1!==r&&(a[r+s]?o=document.getElementById(a[r+s]):\"ArrowLeft\"===t?o=document.getElementById(a[a.length-1]):\"ArrowRight\"===t&&(o=document.getElementById(a[0])),o&&o.focus())}_watchForSectionChanges(e){if(this._generateSectionNames(),e){e.forEach((e=>{const t=`activeLayerInfo-${e.layer.uid}-version-change`;this._handles.remove(t),this._watchForSectionChanges(e.children),this._handles.add(s((()=>e.version),(()=>this._generateSectionNames())),t)}));const t=\"activeLayerInfos-collection-change\";this._handles.remove(t),this._handles.add(e.on(\"change\",(()=>this._watchForSectionChanges(e))),t)}}_generateSectionNames(){this._sectionNames.length=0,this._selectedSectionName=null,this.activeLayerInfos&&this.activeLayerInfos.forEach(this._generateSectionNamesForActiveLayerInfo,this)}_getSectionName(e,t,s){return`${this.id}${e.uid}-type-${t.type}-${s}`}_generateSectionNamesForActiveLayerInfo(e){e.children.forEach(this._generateSectionNamesForActiveLayerInfo,this),e.legendElements&&e.legendElements.forEach(((t,s)=>{this._sectionNames.push(this._getSectionName(e.layer,t,s))}))}_renderLegendForLayer(e){if(!e.ready)return null;if(e.children.length){const t=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return C(\"div\",{key:e.layer.uid,class:this.classes(R.service,R.groupLayer)},C(\"div\",{class:R.serviceCaptionContainer},e.title),t)}{const t=e.legendElements;if(t&&!t.length)return null;const s=t.some((e=>\"relationship-ramp\"===e.type)),i=t.map(((t,i)=>this._renderLegendForElement(t,e,i,s))).filter((e=>!!e));if(!i.length)return null;const r={[R.groupLayerChild]:!!e.parent};return C(\"div\",{key:e.layer.uid,class:this.classes(R.service,r)},C(\"div\",{class:R.serviceCaptionContainer},C(\"div\",{class:R.serviceCaptionText},e.title)),C(\"div\",{class:R.serviceContent},i))}}_renderLegendForElement(e,t,s,i=!1,r=!1){const a=\"color-ramp\"===e.type,o=\"opacity-ramp\"===e.type,l=\"size-ramp\"===e.type,n=t.layer;let d=null;if(\"string\"==typeof e.title)d=e.title;else if(e.title){const t=e.title,s=_(this.messages,t,a||o);d=t.title?`${t.title} (${s})`:s}const p=this._getSectionName(n,e,s),m=this._hasIndicators&&!r?C(\"div\",null,C(f,{level:this.headingLevel,class:R.carouselTitle},t.title),C(f,{level:b(this.headingLevel),class:R.layerCaption},d)):d?C(f,{level:this.headingLevel,class:R.layerCaption},d):null,h=t.effectList;let y=null;if(\"symbol-table\"===e.type){const s=e.infos.map(((s,i)=>this._renderLegendForElementInfo(s,t,e.legendType,i))).filter((e=>!!e));if(s.length){const e=s[0].properties.classes&&s[0].properties.classes[R.symbolRow],t={[R.labelContainer]:!e&&!i,[R.relationshipLabelContainer]:i};y=C(\"div\",{class:this.classes(t)},s)}}else\"color-ramp\"===e.type||\"opacity-ramp\"===e.type||\"heatmap-ramp\"===e.type?y=this._renderLegendForRamp(e,n.opacity,h):l?y=this._renderSizeRamp(e,n.opacity):\"pie-chart-ramp\"===e.type?y=this._renderPieChartRamp(e):\"relationship-ramp\"===e.type?y=c(e,this.id,n.opacity,h):\"univariate-above-and-below-ramp\"===e.type?y=this._renderUnivariateAboveAndBelowRamp(e,n.opacity,h):\"univariate-color-size-ramp\"===e.type&&(y=this._renderUnivariateColorSizeRamp(e,n.opacity,h));if(!y)return null;const g=C(\"div\",{key:p,class:R.section,id:`${p}-panel`,role:\"tabpanel\",\"aria-labelledby\":p,tabIndex:0},[m,y]);return r||this._sectionMap.set(p,g),g}_renderPieChartRamp(e){return C(\"div\",{class:R.pieChartRampPreview,bind:e.preview,afterCreate:v})}_renderUnivariateAboveAndBelowRamp(e,t,s){const{sizeRampElement:i,colorRampElement:r}=d(e,t,\"horizontal\");if(!i)return null;const a=p(i,\"full\",!0,\"horizontal\"),o=m(i,\"above\",!0,\"horizontal\"),l=m(i,\"below\",!0,\"horizontal\"),n=12,c=h(r,{width:o,height:n,rampAlignment:\"horizontal\",opacity:t,type:\"above\",effectList:s}),g=h(r,{width:l,height:n,rampAlignment:\"horizontal\",opacity:t,type:\"below\",effectList:s}),_=y(i,\"card\"),u=i.infos.map((e=>e.label)),f=u.length-1,b=u.map(((e,t)=>0===t||t===f?C(\"div\",{key:t},e):null)),w={display:\"flex\",flexDirection:\"column\"},L={display:\"flex\",flexDirection:\"row\"},S={marginTop:\"3px\",display:\"flex\"};x(this.container)?S.marginRight=`${_}px`:S.marginLeft=`${_}px`;const z={width:`${a}px`,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"};return C(\"div\",{class:R.layerRow,key:\"size-ramp-preview\",styles:w},C(\"div\",{class:this.classes(R.symbolContainer,R.sizeRampHorizontal),styles:L},i.infos.map(((e,t)=>C(\"div\",{key:t,class:R.symbol,bind:e.preview,afterCreate:v})))),c?C(\"div\",{class:R.univariateAboveAndBelowColorRamp,styles:S,key:\"color-ramp-preview\"},C(\"div\",{bind:c,afterCreate:v}),C(\"div\",{bind:g,afterCreate:v})):null,C(\"div\",{class:R.layerInfo},C(\"div\",{class:R.rampLabelsContainer,styles:z},b)))}_renderUnivariateColorSizeRamp(e,t,s){const{sizeRampElement:i,colorRampElement:r}=g(e,\"horizontal\");if(!i)return null;const a=p(i,\"full\",!1,\"horizontal\"),o=m(i,\"full\",!1,\"horizontal\"),l=h(r,{width:o,height:12,rampAlignment:\"horizontal\",opacity:t,type:\"full\",effectList:s}),n=y(i,\"card\"),c=i.infos.length-1,d=i.infos.map(((e,t)=>0===t||t===c?C(\"div\",{key:t},e.label):null)),_={display:\"flex\",flexDirection:\"column\"},u={display:\"flex\",flexDirection:\"row\"},f={marginTop:\"3px\",display:\"flex\"};x(this.container)?f.marginRight=`${n}px`:f.marginLeft=`${n}px`;const b={width:`${a}px`,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"};return C(\"div\",{class:R.layerRow,key:\"size-ramp-preview\",styles:_},C(\"div\",{class:this.classes(R.symbolContainer,R.sizeRampHorizontal),styles:u},i.infos.map(((e,t)=>C(\"div\",{key:t,class:R.symbol,bind:e.preview,afterCreate:v})))),C(\"div\",{class:R.univariateAboveAndBelowColorRamp,styles:f,key:\"color-ramp-preview\"},C(\"div\",{bind:l,afterCreate:v})),C(\"div\",{class:R.layerInfo},C(\"div\",{class:R.rampLabelsContainer,styles:b},d)))}_renderLegendForElementInfo(e,t,s,i){const r=t.layer;if(e.type)return this._renderLegendForElement(e,t,i,!1,!0);const a=u(r,s);if(e.preview){if(!e.symbol||!e.symbol.type.includes(\"simple-fill\")){if(!e.label)return C(\"div\",{key:i,bind:e.preview,afterCreate:v});const t={[R.symbolCell]:this._hasIndicators};return C(\"div\",{key:i,class:this.classes(R.layerRow,{[R.symbolRow]:this._hasIndicators})},C(\"div\",{class:this.classes(t),bind:e.preview,afterCreate:v}),C(\"div\",{class:this.classes(R.imageLabel,{[R.labelCell]:this._hasIndicators})},_(this.messages,e.label,!1)||\"\"))}let s=255,a=255,o=255,n=0,c=255,d=255,p=255,m=0;const h=e.symbol.color&&e.symbol.color.a,y=e.symbol.outline&&e.symbol.outline.color&&e.symbol.outline.color.a;h&&(s=e.symbol.color.r,a=e.symbol.color.g,o=e.symbol.color.b,n=e.symbol.color.a*r.opacity),y&&(c=e.symbol.outline.color.r,d=e.symbol.outline.color.g,p=e.symbol.outline.color.b,m=e.symbol.outline.color.a*r.opacity);const g=e.symbol.color?.isBright??!0,u=g?\"rgba(255, 255, 255, .6)\":\"rgba(0, 0, 0, .6)\",f={background:h?`rgba(${s}, ${a}, ${o}, ${n})`:\"none\",color:g?\"black\":\"white\",textShadow:`-1px -1px 0 ${u},\\n                                              1px -1px 0 ${u},\\n                                              -1px 1px 0 ${u},\\n                                              1px 1px 0 ${u}`,border:y?`1px solid rgba(${c}, ${d}, ${p}, ${m})`:\"none\",filter:l(t.effectList)};return C(\"div\",{key:i,class:R.layerRow},C(\"div\",{class:R.labelElement,styles:f},\" \",e.label,\" \"))}if(e.src){const t=this._renderImage(e,r,a);return C(\"div\",{key:i,class:R.layerRow},t,C(\"div\",{class:R.imageLabel},e.label||\"\"))}}_renderImage(e,t,s){const{label:i,src:r,opacity:a}=e,o={[R.imageryLayerStretchedImage]:s,[R.symbol]:!s},l={opacity:`${null!=a?a:t.opacity}`};return C(\"img\",{alt:_(this.messages,i,!1),src:r,border:0,width:e.width,height:e.height,class:this.classes(o),styles:l})}_renderSizeRampLines(e){const t=e.infos,s=t[0],r=t[t.length-1],a=s.symbol,o=this._hasIndicators,l=i(s.size+s.outlineSize)*j,n=i(r.size+r.outlineSize)*j,c=o?l:l+50*j,d=o?l/2+50*j:l,p=F(a),m=E(a),h=document.createElement(\"canvas\");h.width=c,h.height=d,h.style.width=h.width/j+\"px\",h.style.height=h.height/j+\"px\";const y=h.getContext(\"2d\");if(o){y.beginPath();const e=0,t=0,s=c/2-n/2,i=d;y.moveTo(e,t),y.lineTo(s,i);const r=c,a=0,o=c/2+n/2,l=d;y.moveTo(r,a),y.lineTo(o,l)}else{y.beginPath();const e=0,t=d/2-n/2,s=c,i=0;y.moveTo(e,t),y.lineTo(s,i);const r=0,a=d/2+n/2,o=c,l=d;y.moveTo(r,a),y.lineTo(o,l)}return y.strokeStyle=N,y.stroke(),C(\"div\",{bind:h,afterCreate:v,styles:o?{display:\"flex\",marginTop:`-${p?0:m?l/2:0}px`,marginBottom:`-${p?n:m?n/2:0}px`}:{display:\"flex\",marginRight:`-${p?0:m?l/2:0}px`,marginLeft:`-${p?0:m?n/2:0}px`}})}_renderSizeRamp(e,t){const s=e.infos,i=s[0].label,r=s[s.length-1].label;let a=s[0].preview,o=s[s.length-1].preview;const l=this._hasIndicators,n={\"flex-direction\":l?\"column\":\"row-reverse\"};a&&(a=a.cloneNode(!0),a.style.display=\"flex\"),o&&(o=o.cloneNode(!0),o.style.display=\"flex\");const c={opacity:null!=t?`${t}`:\"\"};return C(\"div\",{class:this.classes(R.layerRow,{[R.sizeRampRow]:l})},C(\"div\",{class:R.rampLabel},l?i:r),C(\"div\",{class:R.sizeRampContainer,styles:n},C(\"div\",{bind:a,afterCreate:v,class:R.sizeRampPreview,styles:c}),this._renderSizeRampLines(e),C(\"div\",{bind:o,afterCreate:v,class:R.sizeRampContainer,styles:c})),C(\"div\",{class:R.rampLabel},l?r:i))}_renderLegendForRamp(e,t,s){const i=e.infos,r=\"heatmap-ramp\"===e.type,a=i.length-1,n=$,c=a>2&&!r?z*a:k,d=c+20,p=10,m=i.slice(0).reverse();m.forEach(((e,t)=>{e.offset=r?e.ratio:t/a}));const h=m.length-1,y=m.length%2!=0&&m[m.length/2|0],g=y&&C(\"div\",{class:R.intervalSeparatorsContainer},C(\"div\",{class:R.intervalSeparator},\"|\"),C(\"div\",{class:R.rampLabel},y.label)),_=i[i.length-1].label,v=i[0].label,u=[[{shape:{type:\"path\",path:`M0 ${n/2} L${p} 0 L${p} ${n} Z`},fill:m[0].color,stroke:{width:0}},{shape:{type:\"rect\",x:p,y:0,width:c,height:n},fill:{type:\"linear\",x1:p,y1:0,x2:c+p,y2:0,colors:m},stroke:{width:0}},{shape:{type:\"path\",path:`M${c+p} 0 L${d} ${n/2} L${c+p} ${n} Z`},fill:m[h].color,stroke:{width:0}}]],f=o(u,d,n),{messages:b}=this,w={filter:l(s),opacity:null==t?null:`${t}`},L={justifyContent:\"center\"};return C(\"div\",{class:R.layerRow,styles:L},C(\"div\",{class:R.rampLabel},r?b[_]:_),C(\"div\",{class:R.symbolContainer},C(\"div\",{styles:w},f),g),C(\"div\",{class:R.rampLabel},r?b[v]:v))}};e([r()],T.prototype,\"activeLayerInfos\",void 0),e([r()],T.prototype,\"headingLevel\",void 0),e([r()],T.prototype,\"layout\",void 0),e([r(),L(\"esri/widgets/Legend/t9n/Legend\")],T.prototype,\"messages\",void 0),e([r(),L(\"esri/t9n/common\")],T.prototype,\"messagesCommon\",void 0),e([r({readOnly:!0})],T.prototype,\"type\",void 0),e([r()],T.prototype,\"view\",void 0),e([w()],T.prototype,\"_selectSection\",null),T=e([a(\"esri.widgets.Legend.styles.Card\")],T);const B=T;export{B as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../intl.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../Widget.js\";import{renderRelationshipRamp as s}from\"./support/relationshipUtils.js\";import{getUnivariateAboveAndBelowRampElements as t,getUnivariateColorRampSize as i,getUnivariateColorRampPreview as n,getUnivariateColorRampMargin as o,getUnivariateColorSizeRampElements as p}from\"./support/univariateUtils.js\";import{getTitle as d,isRendererTitle as y,attachToNode as m,isImageryStretchedLegend as c}from\"../support/styleUtils.js\";import{Heading as g}from\"../../support/Heading.js\";import\"../../support/widgetUtils.js\";import{messageBundle as v}from\"../../support/decorators/messageBundle.js\";import{tsx as h}from\"../../support/jsxFactory.js\";import{formatNumber as b}from\"../../../intl/number.js\";const u={service:\"esri-legend__service\",label:\"esri-legend__service-label\",layer:\"esri-legend__layer\",groupLayer:\"esri-legend__group-layer\",groupLayerChild:\"esri-legend__group-layer-child\",layerTable:\"esri-legend__layer-table\",layerTableSizeRamp:\"esri-legend__layer-table--size-ramp\",layerChildTable:\"esri-legend__layer-child-table\",layerCaption:\"esri-legend__layer-caption\",layerBody:\"esri-legend__layer-body\",layerRow:\"esri-legend__layer-row\",layerCell:\"esri-legend__layer-cell\",layerInfo:\"esri-legend__layer-cell esri-legend__layer-cell--info\",imageryLayerStretchedImage:\"esri-legend__imagery-layer-image--stretched\",imageryLayerCellStretched:\"esri-legend__imagery-layer-cell--stretched\",imageryLayerInfoStretched:\"esri-legend__imagery-layer-info--stretched\",symbolContainer:\"esri-legend__layer-cell esri-legend__layer-cell--symbols\",symbol:\"esri-legend__symbol\",rampContainer:\"esri-legend__ramps\",sizeRamp:\"esri-legend__size-ramp\",colorRamp:\"esri-legend__color-ramp\",opacityRamp:\"esri-legend__opacity-ramp\",borderlessRamp:\"esri-legend__borderless-ramp\",rampTick:\"esri-legend__ramp-tick\",rampFirstTick:\"esri-legend__ramp-tick-first\",rampLastTick:\"esri-legend__ramp-tick-last\",rampLabelsContainer:\"esri-legend__ramp-labels\",rampLabel:\"esri-legend__ramp-label\",univariateAboveAndBelowSymbol:\"esri-univariate-above-and-below-ramp__symbol\",univariateAboveAndBelowLabel:\"esri-univariate-above-and-below-ramp__label\",message:\"esri-legend__message\",header:\"esri-widget__heading\",hidden:\"esri-hidden\"},_=\"esri-legend__\",f=24,L={display:\"flex\",alignItems:\"flex-start\"},w={marginLeft:\"3px\"},C={display:\"table-cell\",verticalAlign:\"middle\"};let R=class extends a{constructor(e,r){super(e,r),this.activeLayerInfos=null,this.headingLevel=3,this.messages=null,this.type=\"classic\"}render(){const e=this.activeLayerInfos,r=e&&e.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));return h(\"div\",null,r&&r.length?r:h(\"div\",{class:u.message},this.messages.noLegend))}_renderLegendForLayer(e){if(!e.ready)return null;const r=!!e.children.length,l=`${_}${e.layer.uid}-version-${e.version}`,a=e.title?g({level:this.headingLevel,class:this.classes(u.header,u.label)},e.title):null;if(r){const r=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return h(\"div\",{key:l,class:this.classes(u.service,u.groupLayer)},a,r)}{const r=e.legendElements;if(r&&!r.length)return null;const s=r.map((r=>this._renderLegendForElement(r,e.layer,e.effectList))).filter((e=>!!e));if(!s.length)return null;const t={[u.groupLayerChild]:!!e.parent};return h(\"div\",{key:l,class:this.classes(u.service,t),tabIndex:0},a,h(\"div\",{class:u.layer},s))}}_renderLegendForElement(e,r,l,a){const t=\"color-ramp\"===e.type,i=\"opacity-ramp\"===e.type,n=\"size-ramp\"===e.type;let o=null;if(\"symbol-table\"===e.type||n){const a=e.infos.map((a=>this._renderLegendForElementInfo(a,r,l,n,e.legendType))).filter((e=>!!e));a.length&&(o=h(\"div\",{class:u.layerBody},a))}else\"color-ramp\"===e.type||\"opacity-ramp\"===e.type||\"heatmap-ramp\"===e.type||\"stretch-ramp\"===e.type?o=this._renderLegendForRamp(e,r.opacity):\"relationship-ramp\"===e.type?o=s(e,this.id,r.opacity,l):\"pie-chart-ramp\"===e.type?o=this._renderPieChartRamp(e):\"univariate-above-and-below-ramp\"===e.type?o=this._renderUnivariateAboveAndBelowRamp(e,r.opacity,l):\"univariate-color-size-ramp\"===e.type&&(o=this._renderUnivariateColorSizeRamp(e,r.opacity,l));if(!o)return null;const p=e.title;let m=null;if(\"string\"==typeof p)m=p;else if(p){const e=d(this.messages,p,t||i);m=y(p,t||i)&&p.title?`${p.title} (${e})`:e}const c=a?u.layerChildTable:u.layerTable,g=m?h(\"div\",{class:u.layerCaption},m):null,v={[u.layerTableSizeRamp]:n||!a};return h(\"div\",{class:this.classes(c,v)},g,o)}_renderPieChartRamp(e){return h(\"div\",{bind:e.preview,afterCreate:m})}_renderUnivariateAboveAndBelowRamp(e,r,l){const{sizeRampElement:a,colorRampElement:s}=t(e,r);if(!a)return null;const p=i(a,\"above\",!0),d=i(a,\"below\",!0),y=12,c=n(s,{width:y,height:p,rampAlignment:\"vertical\",opacity:r,type:\"above\",effectList:l}),g=n(s,{width:y,height:d,rampAlignment:\"vertical\",opacity:r,type:\"below\",effectList:l}),v=o(a),b=a.infos.map((e=>e.label)),_=b.map(((e,r)=>{const l=2===r;return 0===r?h(\"div\",{key:r,class:e?c?u.univariateAboveAndBelowLabel:u.rampLabel:null},e):l?h(\"div\",null):null})),f=b.length-1,R=Math.floor(b.length/2),A=b.map(((e,r)=>r===R||r===f?h(\"div\",{key:r,class:e?c?u.univariateAboveAndBelowLabel:u.rampLabel:null},e):null)),S={display:\"table-cell\",verticalAlign:\"middle\"},I={marginTop:`${v}px`},j={height:`${p}px`},k={height:`${d}px`};return h(\"div\",{key:\"univariate-above-and-below-ramp-preview\",styles:L},h(\"div\",{class:u.layerBody},a.infos.map(((e,r)=>h(\"div\",{class:this.classes(u.layerRow,u.sizeRamp)},h(\"div\",{class:u.symbol,styles:S,bind:e.preview,afterCreate:m}),c||r%2!=0?null:h(\"div\",{class:u.layerInfo},b[r]))))),c?h(\"div\",{styles:I,key:\"color-ramp-preview\"},h(\"div\",{styles:w},h(\"div\",{styles:C},h(\"div\",{class:u.rampContainer,bind:c,afterCreate:m})),h(\"div\",{styles:C},h(\"div\",{class:u.rampLabelsContainer,styles:j},_))),h(\"div\",{styles:w},h(\"div\",{styles:C},h(\"div\",{class:u.rampContainer,bind:g,afterCreate:m})),h(\"div\",{styles:C},h(\"div\",{class:u.rampLabelsContainer,styles:k},A)))):null)}_renderUnivariateColorSizeRamp(e,r,l){const{sizeRampElement:a,colorRampElement:s}=p(e);if(!a)return null;const t=o(a),d=12,y=i(a,\"full\",!1),c=n(s,{width:d,height:y,rampAlignment:\"vertical\",opacity:r,type:\"full\",effectList:l}),g=a.infos.length-1,v=a.infos.map(((e,r)=>0===r||r===g?h(\"div\",{key:r,class:e.label?s?u.univariateAboveAndBelowLabel:u.rampLabel:null},e.label):null)),b={display:\"table-cell\",verticalAlign:\"middle\"},_={marginTop:`${t}px`},f={height:`${y}px`};return h(\"div\",{key:\"univariate-above-and-below-ramp-preview\",styles:L},h(\"div\",{class:u.layerBody},a.infos.map((e=>h(\"div\",{class:this.classes(u.layerRow,u.sizeRamp)},h(\"div\",{class:u.symbol,styles:b,bind:e.preview,afterCreate:m}))))),h(\"div\",{styles:_,key:\"color-ramp-preview\"},h(\"div\",{styles:w},h(\"div\",{styles:C},h(\"div\",{class:u.rampContainer,bind:c,afterCreate:m})),h(\"div\",{styles:C},h(\"div\",{class:u.rampLabelsContainer,styles:f},v)))))}_renderLegendForRamp(e,r){const l=e.infos,a=\"opacity-ramp\"===e.type,s=\"heatmap-ramp\"===e.type,t=\"stretch-ramp\"===e.type,i=e.preview,n=a?u.opacityRamp:\"\";i.className=`${u.colorRamp} ${n}`,null!=r&&(i.style.opacity=r.toString());const o=l.map((e=>h(\"div\",{class:e.label?u.rampLabel:null},s?this.messages[e.label]||e.label:t?this._getStretchStopLabel(e):e.label))),p={width:`${f}px`},d={height:i.style.height};return h(\"div\",{class:u.layerRow},h(\"div\",{class:u.symbolContainer,styles:p},h(\"div\",{class:u.rampContainer,bind:i,afterCreate:m})),h(\"div\",{class:u.layerInfo},h(\"div\",{class:u.rampLabelsContainer,styles:d},o)))}_getStretchStopLabel(e){return e.label?this.messages[e.label]+\": \"+(\"string\"==typeof e.value?e.value:b(e.value,{style:\"decimal\",notation:e.value.toString().includes(\"e\")?\"scientific\":\"standard\"})):\"\"}_renderLegendForElementInfo(e,r,l,a,s){if(e.type)return this._renderLegendForElement(e,r,l,!0);let t=null;const i=c(r,s);if(e.preview?t=h(\"div\",{class:u.symbol,bind:e.preview,afterCreate:m}):e.src&&(t=this._renderImage(e,r,i)),!t)return null;const n={[u.imageryLayerInfoStretched]:i},o={[u.imageryLayerInfoStretched]:i,[u.sizeRamp]:!i&&a};return h(\"div\",{class:u.layerRow},h(\"div\",{class:this.classes(u.symbolContainer,o)},t),h(\"div\",{class:this.classes(u.layerInfo,n)},d(this.messages,e.label,!1)||\"\"))}_renderImage(e,r,l){const{label:a,src:s,opacity:t}=e,i={[u.imageryLayerStretchedImage]:l,[u.symbol]:!l},n={opacity:`${null!=t?t:r.opacity}`};return h(\"img\",{alt:d(this.messages,a,!1),src:s,border:0,width:e.width,height:e.height,class:this.classes(i),styles:n})}};e([r()],R.prototype,\"activeLayerInfos\",void 0),e([r()],R.prototype,\"headingLevel\",void 0),e([r(),v(\"esri/widgets/Legend/t9n/Legend\")],R.prototype,\"messages\",void 0),e([r({readOnly:!0})],R.prototype,\"type\",void 0),R=e([l(\"esri.widgets.Legend.styles.Classic\")],R);const A=R;export{A as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/Handles.js\";import{destroyMaybe as s}from\"../core/maybe.js\";import{on as i,watch as r,initial as o}from\"../core/reactiveUtils.js\";import{property as n}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import{cast as a}from\"../core/accessorSupport/decorators/cast.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import d from\"./Widget.js\";import h from\"./Legend/LegendViewModel.js\";import p from\"./Legend/styles/Card.js\";import c from\"./Legend/styles/Classic.js\";import\"./support/widgetUtils.js\";import{messageBundle as y}from\"./support/decorators/messageBundle.js\";import{tsx as g}from\"./support/jsxFactory.js\";const v={base:\"esri-legend\",widget:\"esri-widget\",panel:\"esri-widget--panel\",widgetIcon:\"esri-icon-layer-list\"};let u=class extends d{constructor(e,s){super(e,s),this._handles=new t,this.headingLevel=3,this.iconClass=v.widgetIcon,this.messages=null,this.style=new c,this.viewModel=new h}initialize(){this.addHandles([i((()=>this.view),\"resize\",(()=>this.scheduleRender())),i((()=>this.activeLayerInfos),\"change\",(()=>this._refreshActiveLayerInfos(this.activeLayerInfos))),r((()=>this.headingLevel),(e=>{const{style:t}=this;t&&(t.headingLevel=e)})),r((()=>this.style),((e,t)=>{t&&e!==t&&t.destroy(),e&&(e.activeLayerInfos=this.activeLayerInfos,\"card\"===e.type&&(e.view=this.view),e.headingLevel=this.headingLevel)}),o)])}destroy(){this._handles=s(this._handles)}get activeLayerInfos(){return this.viewModel.activeLayerInfos}set activeLayerInfos(e){this.viewModel.activeLayerInfos=e}get basemapLegendVisible(){return this.viewModel.basemapLegendVisible}set basemapLegendVisible(e){this.viewModel.basemapLegendVisible=e}get groundLegendVisible(){return this.viewModel.groundLegendVisible}set groundLegendVisible(e){this.viewModel.groundLegendVisible=e}get hideLayersNotInCurrentView(){return this.viewModel.hideLayersNotInCurrentView}set hideLayersNotInCurrentView(e){this.viewModel.hideLayersNotInCurrentView=e}get keepCacheOnDestroy(){return this.viewModel.keepCacheOnDestroy}set keepCacheOnDestroy(e){this.viewModel.keepCacheOnDestroy=e}get respectLayerVisibility(){return this.viewModel.respectLayerVisibility}set respectLayerVisibility(e){this.viewModel.respectLayerVisibility=e}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get layerInfos(){return this.viewModel.layerInfos}set layerInfos(e){this.viewModel.layerInfos=e}castStyle(e){if(e instanceof p||e instanceof c)return e;if(\"string\"==typeof e)return\"card\"===e?new p:new c;if(e&&\"string\"==typeof e.type){const t={...e};delete t.type;return new(\"card\"===e.type?p:c)(t)}return new c}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){return g(\"div\",{class:this.classes(v.base,v.widget,this.style instanceof c?v.panel:null)},this.style.render())}_refreshActiveLayerInfos(e){this._handles.removeAll(),e.forEach((e=>this._renderOnActiveLayerInfoChange(e))),this.scheduleRender()}_renderOnActiveLayerInfoChange(e){const t=r((()=>e.version),(()=>this.scheduleRender()));this._handles.add(t,`version_${e.layer.uid}`);const s=i((()=>e.children),\"change\",(()=>e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))),o);this._handles.add(s,`children_${e.layer.uid}`),e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))}};e([n()],u.prototype,\"activeLayerInfos\",null),e([n()],u.prototype,\"basemapLegendVisible\",null),e([n()],u.prototype,\"groundLegendVisible\",null),e([n()],u.prototype,\"headingLevel\",void 0),e([n()],u.prototype,\"hideLayersNotInCurrentView\",null),e([n()],u.prototype,\"keepCacheOnDestroy\",null),e([n()],u.prototype,\"respectLayerVisibility\",null),e([n()],u.prototype,\"iconClass\",void 0),e([n()],u.prototype,\"label\",null),e([n()],u.prototype,\"layerInfos\",null),e([n(),y(\"esri/widgets/Legend/t9n/Legend\")],u.prototype,\"messages\",void 0),e([n()],u.prototype,\"style\",void 0),e([a(\"style\")],u.prototype,\"castStyle\",null),e([n()],u.prototype,\"view\",null),e([n()],u.prototype,\"viewModel\",void 0),u=e([l(\"esri.widgets.Legend\")],u);const w=u;export{w as default};\n"],
  "mappings": "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",
  "names": ["l", "e", "a", "i", "s", "n", "j", "s", "l", "n", "t", "o", "y", "f", "e", "r", "i", "t", "e", "o", "r", "s", "l", "L", "n", "u", "p", "y", "b", "h", "d", "w", "g", "S", "e", "j", "V", "l", "t", "o", "s", "n", "a", "u", "c", "m", "f", "U", "v", "z", "k", "E", "C", "x", "I", "M", "i", "r", "T", "q", "s", "t", "n", "i", "e", "r", "a", "m", "re", "s", "y", "e", "t", "j", "l", "r", "a", "i", "n", "c", "_a", "u", "o", "m", "d", "h", "f", "p", "S", "h", "c", "j", "L", "u", "f", "p", "v", "e", "l", "s", "i", "r", "t", "a", "o", "_a", "I", "u", "b", "p", "e", "a", "r", "l", "t", "s", "i", "o", "c", "f", "n", "h", "d", "q", "k", "T", "_", "g", "L", "C", "v", "w", "y", "m", "S", "M", "E", "x", "R", "$", "j", "B", "H", "U", "n", "l", "r", "s", "a", "c", "f", "e", "t", "p", "o", "m", "i", "u", "v", "h", "y", "d", "b", "n", "e", "t", "r", "i", "s", "l", "o", "R", "z", "I", "k", "A", "e", "N", "j", "E", "t", "s", "i", "T", "l", "n", "r", "a", "o", "d", "p", "m", "h", "y", "g", "c", "v", "_", "u", "f", "b", "w", "L", "S", "B", "u", "_", "f", "L", "w", "C", "R", "e", "r", "n", "l", "a", "s", "t", "i", "o", "p", "m", "c", "g", "v", "d", "y", "b", "A", "S", "I", "j", "k", "v", "u", "e", "s", "A", "I", "l", "t", "B", "n", "w"]
}
