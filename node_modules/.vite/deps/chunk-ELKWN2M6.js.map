{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js", "../../@arcgis/core/views/3d/support/engineContent/marker.js", "../../@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{parameter as e}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{TransparencyPassType as r}from\"../lib/TransparencyPassType.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";var p,s;!function(o){o[o.Draped=0]=\"Draped\",o[o.Screen=1]=\"Screen\",o[o.World=2]=\"World\",o[o.COUNT=3]=\"COUNT\"}(p||(p={})),function(o){o[o.Center=0]=\"Center\",o[o.Tip=1]=\"Tip\",o[o.COUNT=2]=\"COUNT\"}(s||(s={}));class a extends i{constructor(){super(...arguments),this.output=t.Color,this.transparencyPassType=r.NONE,this.occluder=!1,this.hasSlicePlane=!1,this.writeDepth=!1,this.space=p.Screen,this.hideOnShortSegments=!1,this.hasCap=!1,this.anchor=s.Center,this.hasTip=!1,this.vvSize=!1,this.vvColor=!1,this.vvOpacity=!1,this.hasOccludees=!1,this.hasMultipassTerrain=!1,this.cullAboveGround=!1}}o([e({count:t.COUNT})],a.prototype,\"output\",void 0),o([e({count:r.COUNT})],a.prototype,\"transparencyPassType\",void 0),o([e()],a.prototype,\"occluder\",void 0),o([e()],a.prototype,\"hasSlicePlane\",void 0),o([e()],a.prototype,\"writeDepth\",void 0),o([e({count:p.COUNT})],a.prototype,\"space\",void 0),o([e()],a.prototype,\"hideOnShortSegments\",void 0),o([e()],a.prototype,\"hasCap\",void 0),o([e({count:s.COUNT})],a.prototype,\"anchor\",void 0),o([e()],a.prototype,\"hasTip\",void 0),o([e()],a.prototype,\"vvSize\",void 0),o([e()],a.prototype,\"vvColor\",void 0),o([e()],a.prototype,\"vvOpacity\",void 0),o([e()],a.prototype,\"hasOccludees\",void 0),o([e()],a.prototype,\"hasMultipassTerrain\",void 0),o([e()],a.prototype,\"cullAboveGround\",void 0),o([e({constValue:!0})],a.prototype,\"hasVvInstancing\",void 0),o([e({constValue:!0})],a.prototype,\"hasSliceTranslatedView\",void 0);export{s as LineMarkerAnchor,p as LineMarkerSpace,a as LineMarkerTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{Float3PassUniform as e}from\"../../shaderModules/Float3PassUniform.js\";import{Float4sPassUniform as i}from\"../../shaderModules/Float4sPassUniform.js\";import{FloatPassUniform as t}from\"../../shaderModules/FloatPassUniform.js\";import{FloatsPassUniform as o}from\"../../shaderModules/FloatsPassUniform.js\";import{glsl as a}from\"../../shaderModules/interfaces.js\";import{VertexAttribute as r}from\"../../../lib/VertexAttribute.js\";import{vvColorNumber as v}from\"../../../materials/VisualVariablePassParameters.js\";const l=8;function s(s,u){const c=s.vertex;c.uniforms.add(new t(\"intrinsicWidth\",(e=>e.width))),u.vvSize?(s.attributes.add(r.SIZEFEATUREATTRIBUTE,\"float\"),c.uniforms.add(new e(\"vvSizeMinSize\",(e=>e.vvSizeMinSize))),c.uniforms.add(new e(\"vvSizeMaxSize\",(e=>e.vvSizeMaxSize))),c.uniforms.add(new e(\"vvSizeOffset\",(e=>e.vvSizeOffset))),c.uniforms.add(new e(\"vvSizeFactor\",(e=>e.vvSizeFactor))),c.code.add(a`float getSize() {\nreturn intrinsicWidth * clamp(vvSizeOffset + sizeFeatureAttribute * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize).x;\n}`)):(s.attributes.add(r.SIZE,\"float\"),c.code.add(a`float getSize(){\nreturn intrinsicWidth * size;\n}`)),u.vvOpacity?(s.attributes.add(r.OPACITYFEATUREATTRIBUTE,\"float\"),c.constants.add(\"vvOpacityNumber\",\"int\",8),c.uniforms.add([new o(\"vvOpacityValues\",(e=>e.vvOpacityValues),l),new o(\"vvOpacityOpacities\",(e=>e.vvOpacityOpacities),l)]),c.code.add(a`float interpolateOpacity( float value ){\nif (value <= vvOpacityValues[0]) {\nreturn vvOpacityOpacities[0];\n}\nfor (int i = 1; i < vvOpacityNumber; ++i) {\nif (vvOpacityValues[i] >= value) {\nfloat f = (value - vvOpacityValues[i-1]) / (vvOpacityValues[i] - vvOpacityValues[i-1]);\nreturn mix(vvOpacityOpacities[i-1], vvOpacityOpacities[i], f);\n}\n}\nreturn vvOpacityOpacities[vvOpacityNumber - 1];\n}\nvec4 applyOpacity( vec4 color ){\nreturn vec4(color.xyz, interpolateOpacity(opacityFeatureAttribute));\n}`)):c.code.add(a`vec4 applyOpacity( vec4 color ){\nreturn color;\n}`),u.vvColor?(s.attributes.add(r.COLORFEATUREATTRIBUTE,\"float\"),c.constants.add(\"vvColorNumber\",\"int\",v),c.uniforms.add(new o(\"vvColorValues\",(e=>e.vvColorValues),v)),c.uniforms.add(new i(\"vvColorColors\",(e=>e.vvColorColors),v)),c.code.add(a`vec4 interpolateColor( float value ) {\nif (value <= vvColorValues[0]) {\nreturn vvColorColors[0];\n}\nfor (int i = 1; i < vvColorNumber; ++i) {\nif (vvColorValues[i] >= value) {\nfloat f = (value - vvColorValues[i-1]) / (vvColorValues[i] - vvColorValues[i-1]);\nreturn mix(vvColorColors[i-1], vvColorColors[i], f);\n}\n}\nreturn vvColorColors[vvColorNumber - 1];\n}\nvec4 getColor(){\nreturn applyOpacity(interpolateColor(colorFeatureAttribute));\n}`)):(s.attributes.add(r.COLOR,\"vec4\"),c.code.add(a`vec4 getColor(){\nreturn applyOpacity(color);\n}`))}export{s as RibbonVertexPosition};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{createTexture as r}from\"./sdfPrimitives.js\";const t=64,o=t/2,i=o/5,m=t/i,e=.25;function f(m,e){return m.fromData(`${e}-marker`,(()=>r(e,t,o,i)))}export{m as MARKER_SIZE_PER_LINE_WIDTH,o as MARKER_SYMBOL_SIZE,t as MARKER_TEXTURE_SIZE,i as MARKER_THICKNESS,e as MARKER_TIP_THICKNESS_FACTOR,f as prepareMarkerResources};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../../../core/maybe.js\";import{MARKER_SIZE_PER_LINE_WIDTH as r}from\"../../../../support/engineContent/marker.js\";import{FloatPassUniform as o}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as a}from\"../../shaderModules/interfaces.js\";import{LineMarkerSpace as t}from\"../../../shaders/LineMarkerTechniqueConfiguration.js\";function i(i,n){const d=i.vertex;i.constants.add(\"markerSizePerLineWidth\",\"float\",r),d.uniforms.add(new o(\"pixelRatio\",((e,r)=>r.camera.pixelRatio))),e(d.uniforms.get(\"markerScale\"))&&d.constants.add(\"markerScale\",\"float\",1),d.code.add(a`float getLineWidth() {\nreturn max(getSize(), 1.0) * pixelRatio;\n}\nfloat getScreenMarkerSize() {\nreturn markerSizePerLineWidth * markerScale * getLineWidth();\n}`),n.space===t.World&&(d.constants.add(\"maxSegmentLengthFraction\",\"float\",.45),d.uniforms.add(new o(\"perRenderPixelRatio\",((e,r)=>r.camera.perRenderPixelRatio))),d.code.add(a`float getWorldMarkerSize(vec4 pos) {\nfloat distanceToCamera = length(pos.xyz);\nfloat screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;\nreturn getScreenMarkerSize() * screenToWorldRatio;\n}\nbool areWorldMarkersHidden(vec4 pos, vec4 other) {\nvec3 midPoint = mix(pos.xyz, other.xyz, 0.5);\nfloat distanceToCamera = length(midPoint);\nfloat screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;\nfloat worldMarkerSize = getScreenMarkerSize() * screenToWorldRatio;\nfloat segmentLen = length(pos.xyz - other.xyz);\nreturn worldMarkerSize > maxSegmentLengthFraction * segmentLen;\n}`))}export{i as MarkerSizing};\n"],
  "mappings": "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",
  "names": ["s", "o", "e", "s", "o", "e", "t", "o", "e", "m", "i", "n", "o", "e"]
}
