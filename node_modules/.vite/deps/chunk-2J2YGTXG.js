import {
  E,
  h,
  x
} from "./chunk-C6BDJNUQ.js";
import {
  d,
  j,
  l as l3,
  o,
  p as p2,
  q,
  s
} from "./chunk-75RMBUYZ.js";
import {
  n as n3
} from "./chunk-ZEEU5HOK.js";
import {
  l
} from "./chunk-RAX2HD42.js";
import {
  p
} from "./chunk-3LR5O4WA.js";
import {
  n
} from "./chunk-D4V6J5BT.js";
import {
  l as l2
} from "./chunk-7QMMKGW4.js";
import {
  e,
  n2,
  y
} from "./chunk-OOLCFNXJ.js";
import {
  r,
  t
} from "./chunk-MIHB3CIK.js";

// node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js
function i(t3, e2) {
  const n4 = t3.length === e2.length && t3[0] === e2[0] && t3[1] === e2[1];
  switch (t3.length) {
    case 2:
      return n4;
    case 3:
      return n4 && t3[2] === e2[2];
    case 4:
      return n4 && t3[2] === e2[2] && t3[3] === e2[3];
  }
  return false;
}
function u(t3, e2) {
  const n4 = t3.x - e2.x, r3 = t3.y - e2.y;
  return n4 * n4 + r3 * r3;
}
function E2(t3, e2) {
  return Math.sqrt(u(t3, e2));
}
function a(t3, e2, r3) {
  const o3 = r3.toXYZ(t3, f);
  e2.sort((t4, e3) => {
    const c = r3.toXYZ(t4.targetPoint, p3), s3 = p(c, o3), i2 = r3.toXYZ(e3.targetPoint, p3);
    return s3 - p(i2, o3);
  });
}
var f = n();
var p3 = n();
var l4;
function h2(e2, n4) {
  return { point: e2.coordinateHelper.vectorToPoint(e2.point).toJSON(), distance: e2.distance, types: e2.types, query: r(n4) ? n4.toJSON() : { where: "1=1" } };
}
function R(t3, n4, r3, s3) {
  const { coordinateHelper: i2, elevationInfo: u2 } = r3;
  if (!i2.hasZ() || t(n4) || "3d" !== n4.type || t(t3) || x(u2, s3))
    return t3;
  const E4 = h(n4, t3, i2.spatialReference, u2, s3), a3 = i2.clone(t3);
  return a3[2] = E4, a3;
}
function N(t3, e2, n4, r3 = E) {
  return { left: R(t3.leftVertex.pos, e2, n4, r3), right: R(t3.rightVertex.pos, e2, n4, r3) };
}
function m(t3) {
  return t3.createQuery();
}
!function(t3) {
  t3[t3.TARGET = 0] = "TARGET", t3[t3.REFERENCE = 1] = "REFERENCE", t3[t3.REFERENCE_EXTENSION = 2] = "REFERENCE_EXTENSION";
}(l4 || (l4 = {}));

// node_modules/@arcgis/core/views/interactive/snapping/Settings.js
var r2 = class extends l2 {
  constructor() {
    super(...arguments), this.enabled = true;
  }
};
e([y({ type: Boolean })], r2.prototype, "enabled", void 0), r2 = e([n2("esri.views.interactive.snapping.Settings.DefaultSnappingAlgorithm")], r2);
var l5 = class extends l2 {
  constructor(e2) {
    super(e2), this.lineSnapper = new r2(), this.parallelLineSnapper = new r2(), this.rightAngleSnapper = new r2(), this.rightAngleTriangleSnapper = new r2(), this.shortLineThreshold = 15, this.distance = 5, this.pointThreshold = 1e-6, this.intersectionParallelLineThreshold = 1e-6, this.parallelLineThreshold = 1e-6, this.touchSensitivityMultiplier = 1.5, this.pointOnLineThreshold = 1e-6, this.orange = new l([255, 127, 0]), this.lineHintWidthReference = 3, this.lineHintWidthTarget = 3, this.lineHintFadedExtensions = 0.3, this.parallelLineHintWidth = 2, this.parallelLineHintLength = 24, this.parallelLineHintOffset = 1.5, this.rightAngleHintSize = 24, this.rightAngleHintOutlineSize = 1.5;
  }
};
e([y({ type: r2, constructOnly: true, nonNullable: true, json: { write: true } })], l5.prototype, "lineSnapper", void 0), e([y({ type: r2, constructOnly: true, nonNullable: true, json: { write: true } })], l5.prototype, "parallelLineSnapper", void 0), e([y({ type: r2, constructOnly: true, nonNullable: true, json: { write: true } })], l5.prototype, "rightAngleSnapper", void 0), e([y({ type: r2, constructOnly: true, nonNullable: true, json: { write: true } })], l5.prototype, "rightAngleTriangleSnapper", void 0), e([y({ type: Number, nonNullable: true, range: { min: -1, max: 50, step: 1 }, json: { write: true } })], l5.prototype, "shortLineThreshold", void 0), e([y({ type: Number, nonNullable: true, range: { min: -1, max: 50, step: 1 }, json: { write: true } })], l5.prototype, "distance", void 0), e([y({ type: Number, nonNullable: true, range: { min: 0, max: 1e-5 }, json: { write: true } })], l5.prototype, "pointThreshold", void 0), e([y({ type: Number, nonNullable: true, range: { min: 0, max: 1e-5 }, json: { write: true } })], l5.prototype, "intersectionParallelLineThreshold", void 0), e([y({ type: Number, nonNullable: true, range: { min: 0, max: 1e-5 }, json: { write: true } })], l5.prototype, "parallelLineThreshold", void 0), e([y({ type: Number, nonNullable: true, range: { min: 0, max: 10 }, json: { write: true } })], l5.prototype, "touchSensitivityMultiplier", void 0), e([y({ type: Number, nonNullable: true, range: { min: 0, max: 1e-5 }, json: { write: true } })], l5.prototype, "pointOnLineThreshold", void 0), e([y({ type: l, nonNullable: true })], l5.prototype, "orange", void 0), e([y({ type: Number, nonNullable: true, range: { min: 0, max: 10 }, json: { write: true } })], l5.prototype, "lineHintWidthReference", void 0), e([y({ type: Number, nonNullable: true, range: { min: 0, max: 10 }, json: { write: true } })], l5.prototype, "lineHintWidthTarget", void 0), e([y({ type: Number, nonNullable: true, range: { min: 0, max: 1 }, json: { write: true } })], l5.prototype, "lineHintFadedExtensions", void 0), e([y({ type: Number, nonNullable: true, range: { min: 0, max: 10 }, json: { write: true } })], l5.prototype, "parallelLineHintWidth", void 0), e([y({ type: Number, nonNullable: true, range: { min: 0, max: 50 }, json: { write: true } })], l5.prototype, "parallelLineHintLength", void 0), e([y({ type: Number, nonNullable: true, range: { min: 0, max: 5 }, json: { write: true } })], l5.prototype, "parallelLineHintOffset", void 0), e([y({ type: Number, nonNullable: true, range: { min: 0, max: 46 }, json: { write: true } })], l5.prototype, "rightAngleHintSize", void 0), e([y({ type: Number, nonNullable: true, range: { min: 0, max: 6 }, json: { write: true } })], l5.prototype, "rightAngleHintOutlineSize", void 0), l5 = e([n2("esri.views.interactive.snapping.Settings.Defaults")], l5);
var p4 = new l5();

// node_modules/@arcgis/core/views/interactive/snapping/SnappingDomain.js
var E3;
!function(E4) {
  E4[E4.FEATURE = 1] = "FEATURE", E4[E4.SELF = 2] = "SELF", E4[E4.ALL = 3] = "ALL";
}(E3 || (E3 = {}));

// node_modules/@arcgis/core/views/support/geometry2dUtils.js
function h3(t3, n4) {
  return t3[0] * n4[1] - t3[1] * n4[0];
}
function I(t3, n4, o3) {
  const u2 = j(o3, n4) / p2(o3);
  return l3(t3, o3, u2);
}
function L(t3, n4, r3, s3, e2 = r3) {
  return o(M, s3, r3), o(A, n4, e2), I(R2, A, M), s(t3, e2, R2);
}
function m3(t3, n4, r3, s3) {
  o(M, n4, r3);
  const e2 = s3 / q(M);
  return d(t3, r3, M, e2);
}
function j2(t3, n4) {
  const r3 = t3.start, s3 = t3.end, e2 = n4.start, u2 = n4.end, c = o(M, s3, r3), i2 = o(k, u2, e2), f2 = h3(c, i2);
  if (Math.abs(f2) <= l6)
    return [];
  const p5 = o(A, r3, e2), E4 = h3(i2, p5) / f2, I2 = h3(c, p5) / f2;
  if (E4 >= 0) {
    if (I2 >= 0 || n4.type === b.LINE)
      return [d(R2, r3, c, E4)];
  } else if (t3.type === b.LINE && (I2 >= 0 || n4.type === b.LINE))
    return [d(R2, r3, c, E4)];
  return [];
}
var b;
!function(t3) {
  t3[t3.RAY = 0] = "RAY", t3[t3.LINE = 1] = "LINE";
}(b || (b = {}));
var l6 = 1e-6;
var M = n3();
var k = n3();
var A = n3();
var R2 = n3();

// node_modules/@arcgis/core/views/interactive/snapping/hints/SnappingHint.js
var o2 = class {
  constructor(o3, t3) {
    this.elevationInfo = o3, this.domain = t3;
  }
};

// node_modules/@arcgis/core/views/interactive/snapping/hints/LineSnappingHint.js
var s2 = class extends o2 {
  constructor(i2, e2, s3, n4, r3 = E3.ALL, a3 = true, o3 = true) {
    super(n4, r3), this.type = i2, this.lineStart = e2, this.lineEnd = s3, this.fadeLeft = a3, this.fadeRight = o3;
  }
  equals(t3) {
    return t3 instanceof s2 && (this.type === t3.type && i(this.lineStart, t3.lineStart) && i(this.lineEnd, t3.lineEnd) && this.fadeLeft === t3.fadeLeft && this.fadeRight === t3.fadeRight);
  }
};

export {
  E3 as E,
  p4 as p,
  i,
  u,
  E2,
  a,
  l4 as l,
  h2 as h,
  R,
  N,
  m,
  L,
  m3 as m2,
  j2 as j,
  b,
  o2 as o,
  s2 as s
};
//# sourceMappingURL=chunk-2J2YGTXG.js.map
