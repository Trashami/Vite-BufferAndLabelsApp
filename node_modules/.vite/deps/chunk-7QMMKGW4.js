import {
  a,
  c,
  e,
  e2,
  m,
  n2 as n,
  o2 as o,
  r2 as r,
  s as s2,
  s5 as s4,
  t3 as t,
  t6 as t2,
  u
} from "./chunk-OOLCFNXJ.js";
import {
  s as s3
} from "./chunk-LIZHLHNA.js";
import {
  s2 as s
} from "./chunk-UA3YPL2R.js";
import {
  y
} from "./chunk-HVKDYDPP.js";
import {
  i
} from "./chunk-6QC7MLLS.js";
import {
  x
} from "./chunk-MIHB3CIK.js";

// node_modules/@arcgis/core/core/accessorSupport/write.js
function a2(r2, e4, t4, i3, o2) {
  var _a, _b;
  const n3 = {};
  return (_b = (_a = e4.write) == null ? void 0 : _a.writer) == null ? void 0 : _b.call(r2, i3, n3, t4, o2), n3;
}
function f(r2, i3, s7, u4, l2, a4) {
  if (!u4 || !u4.write)
    return false;
  const f3 = r2.get(s7);
  if (!l2 && u4.write.overridePolicy) {
    const e4 = u4.write.overridePolicy.call(r2, f3, s7, a4);
    void 0 !== e4 && (l2 = e4);
  }
  if (l2 || (l2 = u4.write), !l2 || false === l2.enabled)
    return false;
  if ((null === f3 && !l2.allowNull && !l2.writerEnsuresNonNull || void 0 === f3) && l2.isRequired) {
    const i4 = new s3("web-document-write:property-required", `Missing value for required property '${s7}' on '${r2.declaredClass}'`, { propertyName: s7, target: r2 });
    return i4 && a4 && a4.messages ? a4.messages.push(i4) : i4 && !a4 && s.getLogger("esri.core.accessorSupport.write").error(i4.name, i4.message), false;
  }
  if (void 0 === f3)
    return false;
  if (null === f3 && !l2.allowNull && !l2.writerEnsuresNonNull)
    return false;
  if ((!i3.store.multipleOriginsSupported || i3.store.originOf(s7) === r.DEFAULTS) && p(r2, s7, a4, u4, f3))
    return false;
  if (!l2.ignoreOrigin && a4 && a4.origin && i3.store.multipleOriginsSupported) {
    if (i3.store.originOf(s7) < t2(a4.origin))
      return false;
  }
  return true;
}
function p(e4, t4, i3, o2, n3) {
  const s7 = o2.default;
  if (void 0 === s7)
    return false;
  if (null != o2.defaultEquals)
    return o2.defaultEquals(n3);
  if ("function" == typeof s7) {
    if (Array.isArray(n3)) {
      const o3 = s7.call(e4, t4, i3);
      return i(o3, n3);
    }
    return false;
  }
  return s7 === n3;
}
function g(r2, e4, t4, i3) {
  const o2 = e2(r2), n3 = o2.metadatas, u4 = s4(n3[e4], i3);
  return !!u4 && f(r2, o2, e4, u4, t4, i3);
}
function c2(r2, e4, t4) {
  var _a, _b;
  if (r2 && "function" == typeof r2.toJSON && (!r2.toJSON.isDefaultToJSON || !r2.write))
    return o(e4, r2.toJSON(t4));
  const o2 = e2(r2), n3 = o2.metadatas;
  for (const s7 in n3) {
    const p2 = s4(n3[s7], t4);
    if (!f(r2, o2, s7, p2, void 0, t4))
      continue;
    const g2 = r2.get(s7), c4 = a2(r2, p2, p2.write && "string" == typeof p2.write.target ? p2.write.target : s7, g2, t4);
    Object.keys(c4).length > 0 && (e4 = o(e4, c4), ((_b = (_a = t4 == null ? void 0 : t4.resources) == null ? void 0 : _a.pendingOperations) == null ? void 0 : _b.length) && Promise.all(t4.resources.pendingOperations).then(() => o(e4, c4)), t4 && t4.writtenProperties && t4.writtenProperties.push({ target: r2, propName: s7, oldOrigin: c(o2.store.originOf(s7)), newOrigin: t4.origin }));
  }
  return e4;
}

// node_modules/@arcgis/core/core/accessorSupport/DefaultsStore.js
var s5 = class {
  constructor() {
    this._values = /* @__PURE__ */ new Map(), this.multipleOriginsSupported = false;
  }
  clone(e4) {
    const t4 = new s5();
    return this._values.forEach((s7, r2) => {
      e4 && e4.has(r2) || t4.set(r2, y(s7.value), s7.origin);
    }), t4;
  }
  get(i3, e4) {
    e4 = this._normalizeOrigin(e4);
    const s7 = this._values.get(i3);
    return null == e4 || (s7 == null ? void 0 : s7.origin) === e4 ? s7 == null ? void 0 : s7.value : void 0;
  }
  originOf(i3) {
    var _a, _b;
    return (_b = (_a = this._values.get(i3)) == null ? void 0 : _a.origin) != null ? _b : r.USER;
  }
  keys(i3) {
    i3 = this._normalizeOrigin(i3);
    const e4 = [...this._values.keys()];
    return null == i3 ? e4 : e4.filter((e5) => {
      var _a;
      return ((_a = this._values.get(e5)) == null ? void 0 : _a.origin) === i3;
    });
  }
  set(i3, s7, r2) {
    if ((r2 = this._normalizeOrigin(r2)) === r.DEFAULTS) {
      const e4 = this._values.get(i3);
      if (e4 && null != e4.origin && e4.origin > r2)
        return;
    }
    this._values.set(i3, new t3(s7, r2));
  }
  delete(i3, e4) {
    var _a;
    null != (e4 = this._normalizeOrigin(e4)) && ((_a = this._values.get(i3)) == null ? void 0 : _a.origin) !== e4 || this._values.delete(i3);
  }
  has(i3, e4) {
    var _a;
    return null != (e4 = this._normalizeOrigin(e4)) ? ((_a = this._values.get(i3)) == null ? void 0 : _a.origin) === e4 : this._values.has(i3);
  }
  forEach(i3) {
    this._values.forEach(({ value: e4 }, s7) => i3(e4, s7));
  }
  _normalizeOrigin(i3) {
    if (null != i3)
      return i3 === r.DEFAULTS ? i3 : r.USER;
  }
};
var t3 = class {
  constructor(i3, e4) {
    this.value = i3, this.origin = e4;
  }
};

// node_modules/@arcgis/core/core/accessorSupport/defaultsStoreUtils.js
function e3(e4, r2, n3) {
  r2.keys().forEach((e5) => {
    n3.set(e5, r2.get(e5), r.DEFAULTS);
  });
  const o2 = e4.metadatas;
  Object.keys(o2).forEach((r3) => {
    e4.internalGet(r3) && n3.set(r3, e4.internalGet(r3), r.DEFAULTS);
  });
}

// node_modules/@arcgis/core/core/accessorSupport/read.js
function s6(e4, r2, n3) {
  if (!e4 || !e4.read || false === e4.read.enabled || !e4.read.source)
    return false;
  const o2 = e4.read.source;
  if ("string" == typeof o2) {
    if (o2 === r2)
      return true;
    if (o2.includes(".") && 0 === o2.indexOf(r2) && s2(o2, n3))
      return true;
  } else
    for (const s7 of o2) {
      if (s7 === r2)
        return true;
      if (s7.includes(".") && 0 === s7.indexOf(r2) && s2(s7, n3))
        return true;
    }
  return false;
}
function i2(e4) {
  return e4 && (!e4.read || false !== e4.read.enabled && !e4.read.source);
}
function a3(e4, t4, r2, o2, a4) {
  let f3 = t(t4[r2], a4);
  i2(f3) && (e4[r2] = true);
  for (const i3 of Object.getOwnPropertyNames(t4))
    f3 = t(t4[i3], a4), s6(f3, r2, o2) && (e4[i3] = true);
}
function f2(e4, t4, r2, n3) {
  const s7 = r2.metadatas, i3 = a(s7[t4], "any", n3), a4 = i3 && i3.default;
  if (void 0 === a4)
    return;
  const f3 = "function" == typeof a4 ? a4.call(e4, t4, n3) : a4;
  void 0 !== f3 && r2.set(t4, f3);
}
var c3 = { origin: "service" };
function u2(t4, o2, s7 = c3) {
  if (!o2 || "object" != typeof o2)
    return;
  const i3 = e2(t4), u4 = i3.metadatas, d2 = {};
  for (const e4 of Object.getOwnPropertyNames(o2))
    a3(d2, u4, e4, o2, s7);
  i3.setDefaultOrigin(s7.origin);
  for (const r2 of Object.getOwnPropertyNames(d2)) {
    const a4 = t(u4[r2], s7).read, f3 = a4 && a4.source;
    let c4;
    c4 = f3 && "string" == typeof f3 ? u(o2, f3) : o2[r2], a4 && a4.reader && (c4 = a4.reader.call(t4, c4, o2, s7)), void 0 !== c4 && i3.set(r2, c4);
  }
  if (!s7 || !s7.ignoreDefaults) {
    i3.setDefaultOrigin("defaults");
    for (const e4 of Object.getOwnPropertyNames(u4))
      d2[e4] || f2(t4, e4, i3, s7);
  }
  i3.setDefaultOrigin("user");
}
function d(e4, t4, r2, n3 = c3) {
  var _a;
  const o2 = { ...n3, messages: [] };
  r2(o2), (_a = o2.messages) == null ? void 0 : _a.forEach((t5) => {
    "warning" !== t5.type || e4.loaded ? n3 && n3.messages && n3.messages.push(t5) : e4.loadWarnings.push(t5);
  });
}

// node_modules/@arcgis/core/core/JSONSupport.js
var u3 = (t4) => {
  let u4 = class extends t4 {
    constructor(...r2) {
      super(...r2);
      const t5 = x(e2(this)), i3 = t5.store, p2 = new s5();
      t5.store = p2, e3(t5, i3, p2);
    }
    read(r2, t5) {
      u2(this, r2, t5);
    }
    write(r2 = {}, t5) {
      return c2(this, r2, t5);
    }
    toJSON(r2) {
      return this.write({}, r2);
    }
    static fromJSON(r2, t5) {
      return n2.call(this, r2, t5);
    }
  };
  return u4 = e([n("esri.core.JSONSupport")], u4), u4.prototype.toJSON.isDefaultToJSON = true, u4;
};
function n2(r2, t4) {
  if (!r2)
    return null;
  if (r2.declaredClass)
    throw new Error("JSON object is already hydrated");
  const s7 = new this();
  return s7.read(r2, t4), s7;
}
var l = class extends u3(m) {
};
l = e([n("esri.core.JSONSupport")], l);

export {
  e3 as e,
  u2 as u,
  d,
  g,
  c2 as c,
  u3 as u2,
  l
};
//# sourceMappingURL=chunk-7QMMKGW4.js.map
