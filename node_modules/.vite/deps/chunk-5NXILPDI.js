import {
  P,
  n,
  r
} from "./chunk-OOLCFNXJ.js";
import {
  a,
  e,
  p,
  r2,
  v
} from "./chunk-MJXQTGI2.js";
import {
  h
} from "./chunk-MIHB3CIK.js";

// node_modules/@arcgis/core/core/reactiveUtils.js
function l2(n2, t, r3 = {}) {
  return m(n2, t, r3, y);
}
function f(n2, t, r3 = {}) {
  return m(n2, t, r3, d);
}
function m(n2, t, r3 = {}, e2) {
  let i = null;
  const u = r3.once ? (n3, r4) => {
    e2(n3) && (h(i), t(n3, r4));
  } : (n3, r4) => {
    e2(n3) && t(n3, r4);
  };
  if (i = P(n2, u, r3.sync, r3.equals), r3.initial) {
    const t2 = n2();
    u(t2, t2);
  }
  return i;
}
function a2(r3, i, u, s = {}) {
  let c = null, f2 = null, m2 = null;
  function a3() {
    var _a;
    c && f2 && (f2.remove(), (_a = s.onListenerRemove) == null ? void 0 : _a.call(s, c), c = null, f2 = null);
  }
  function p2(n2) {
    s.once && s.once && h(m2), u(n2);
  }
  const j2 = l2(r3, (r4, e2) => {
    var _a;
    a3(), e(r4) && (c = r4, f2 = r2(r4, i, p2), (_a = s.onListenerAdd) == null ? void 0 : _a.call(s, r4));
  }, { sync: s.sync, initial: true });
  return m2 = n(() => {
    j2.remove(), a3();
  }), m2;
}
function j(n2, t) {
  return v2(n2, d, t);
}
function v2(n2, t, e2) {
  if (p(e2))
    return Promise.reject(a());
  const c = n2();
  if (t == null ? void 0 : t(c))
    return Promise.resolve(c);
  let l3 = null;
  function f2() {
    l3 = h(l3);
  }
  return new Promise((o, i) => {
    l3 = r([v(e2, () => {
      f2(), i(a());
    }), m(n2, (n3) => {
      f2(), o(n3);
    }, { sync: false, once: true }, t != null ? t : y)]);
  });
}
function y(n2) {
  return true;
}
function d(n2) {
  return !!n2;
}
function P2(n2, t, r3 = {}) {
  let e2 = false;
  const o = l2(n2, (n3, r4) => {
    e2 || t(n3, r4);
  }, r3);
  return { remove() {
    o.remove();
  }, pause() {
    e2 = true;
  }, resume() {
    e2 = false;
  } };
}
var U = { sync: true };
var h2 = { initial: true };
var w = { sync: true, initial: true };

export {
  l2 as l,
  f,
  a2 as a,
  j,
  P2 as P,
  U,
  h2 as h,
  w
};
//# sourceMappingURL=chunk-5NXILPDI.js.map
