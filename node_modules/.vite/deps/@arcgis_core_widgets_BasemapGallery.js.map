{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/support/AsyncWorkerQueue.js", "../../@arcgis/core/views/3d/support/StreamDataLoader.js", "../../@arcgis/core/views/3d/terrain/TilingScheme.js", "../../@arcgis/core/views/3d/terrain/TerrainConst.js", "../../@arcgis/core/chunks/terrainUtilsPlanar.js", "../../@arcgis/core/chunks/terrainUtilsSpherical.js", "../../@arcgis/core/views/3d/terrain/terrainUtils.js", "../../@arcgis/core/widgets/BasemapGallery/support/basemapCompatibilityUtils.js", "../../@arcgis/core/widgets/BasemapGallery/support/BasemapGalleryItem.js", "../../@arcgis/core/widgets/BasemapGallery/support/LocalBasemapsSource.js", "../../@arcgis/core/widgets/BasemapGallery/support/PortalBasemapsSource.js", "../../@arcgis/core/widgets/BasemapGallery/BasemapGalleryViewModel.js", "../../@arcgis/core/widgets/BasemapGallery.js", "dep:@arcgis_core_widgets_BasemapGallery"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{assert as t}from\"../webgl-engine/lib/Util.js\";class s{constructor(t){this.client=t,this._cancelled=!1,this.size=0,this.duration=0}}class e{constructor(t){this.typeWorkerQuota=t,this.tasks=new Array,this.numWorkers=0,this.statistics=new r}}class r{constructor(){this.requests=0,this.size=0,this.duration=0,this.speed=0}}class i{constructor(t,s,r,i){this._workerFunc=t,this._callbackFunc=s,this._maxTotalNumWorkers=r,this._totalNumWorkers=0,this._clients=i.map((t=>new e(t)))}destroy(){this._clients.length=0}hasQuota(t){const s=this._clients[t];return!!s&&(this._totalNumWorkers<this._maxTotalNumWorkers||s.numWorkers+s.tasks.length<s.typeWorkerQuota)}push(t){const s=this._clients[t.client];s&&(this._totalNumWorkers<this._maxTotalNumWorkers?(s.numWorkers++,this._totalNumWorkers++,this._workerFunc(t,((t,s)=>this._taskCallback(t,s)))):s.tasks.push(t))}cancel(t){this._taskFinished(t),t._cancelled=!0}_taskFinished(s){const e=this._clients[s.client];this._totalNumWorkers--,e.numWorkers--,e.statistics.requests++,e.statistics.size+=s.size||0,e.statistics.duration+=s.duration||0,e.statistics.speed=e.statistics.duration>0?e.statistics.size/e.statistics.duration:0,t(e.numWorkers>=0),this._next()}_next(){for(const t of this._clients)if(t&&t.numWorkers<t.typeWorkerQuota&&this._processQueue(t))return;for(const t of this._clients)if(t&&this._processQueue(t))return}_processQueue(t){for(;t.tasks.length>0;)if(this._workerFunc(t.tasks.shift(),((t,s)=>this._taskCallback(t,s))))return t.numWorkers++,this._totalNumWorkers++,!0;return!1}_taskCallback(t,s){t._cancelled||(this._callbackFunc(t,s),this._taskFinished(t))}getStatsForType(t){const s=this._clients[t];return s?{quota:s.typeWorkerQuota,workers:s.numWorkers,queueSize:s.tasks.length,requestStats:s.statistics}:null}get test(){const t=this;return{set workerFunc(s){t._workerFunc=s}}}}export{i as AsyncWorkerQueue,s as BaseTask};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../request.js\";import s from\"../../../core/Accessor.js\";import{removeUnordered as r}from\"../../../core/arrayUtils.js\";import o from\"../../../core/Error.js\";import{clone as a}from\"../../../core/lang.js\";import{removeMaybe as n,abortMaybe as i,destroyMaybe as u,isSome as l}from\"../../../core/maybe.js\";import{createResolver as h,onAbort as c,createAbortError as d,throwIfAborted as p,isAbortError as m}from\"../../../core/promiseUtils.js\";import{property as _}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as g}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AsyncWorkerQueue as f,BaseTask as k}from\"./AsyncWorkerQueue.js\";import{assert as L}from\"../webgl-engine/lib/Util.js\";import{TaskPriority as D}from\"../../support/Scheduler.js\";let y=class extends s{constructor(){super(...arguments),this._tasks=new Map,this._onLoadQueue=new Array,this._doneQueue=new Array,this.updating=!1}setup(e,t,s){this._loadQueue=new f(((e,t)=>this._startLoading(e,t)),((e,t)=>this._doneLoadingCB(e,t)),e,t),s&&(this._frameTask=s.registerTask(D.STREAM_DATA_LOADER,this))}destroy(){this._frameTask=n(this._frameTask),this._tasks.forEach((e=>i(e.abortController))),this._loadQueue=u(this._loadQueue),this._onLoadQueue=null,this._doneQueue=null,this._tasks=null}hasDownloadSlots(e){return this._loadQueue.hasQuota(e)}request(e,t,s,r={}){const o=h();o.__signal=l(r)?r.signal:null;const a=this._createOrUpdateTask(e,t,s,r,o);return c(r,(()=>this._cancelRequest(a,o))),o.promise}_createTask(e,t,s,r,o,a){const n=new Q(e,t,s,r,o);return this._updateTask(n,a),this._tasks.set(o,n),1===this._tasks.size&&this._set(\"updating\",!0),this._loadQueue.push(n),n}_cancelRequest(e,t){r(e.resolvers,t),t.reject(d()),0===e.resolvers.length&&(e.status===E.DOWNLOADING&&(e.status=E.CANCELLED,this._loadQueue.cancel(e),e.abortController?.abort(),e.request=null,e.abortController=null),e.status=E.CANCELLED,this._tasks.delete(e.key),0===this._tasks.size&&this._set(\"updating\",!1))}_updateTask(e,t){e.resolvers.push(t)}_createOrUpdateTask(e,t,s,r,o){const a=T(l(r)&&r.uid||e,t,s),n=this._tasks.get(a);return n?(this._updateTask(n,o),n):this._createTask(e,r,t,s,a,o)}_doneLoadingCB(e,t){this._loadQueue&&(L(e.status===E.DOWNLOADING),e.status=E.DOWNLOADED,this._frameTask?this._doneQueue.push({task:e,err:t}):this._doneLoading(e,t))}get running(){return this._doneQueue.length>0||this._onLoadQueue.length>0}runTask(e){for(;!e.done&&this._onLoadQueue.length>0;){const t=this._onLoadQueue.shift();p(t.task.abortController),t.task.abortController=null,t.callback(t.task),e.madeProgress()}for(;!e.done&&this._doneQueue.length>0;){const t=this._doneQueue.shift();t.task.status!==E.DOWNLOADED&&(t.err=t.err||d()),this._doneLoading(t.task,t.err),e.madeProgress()}}_doneLoading(e,t){if(t&&!m(t)&&e.numRetries>0)return--e.numRetries,void this._loadQueue.push(e);let s=e.result instanceof HTMLImageElement?0:e.resolvers.length;for(const r of e.resolvers)if(t)m(t)?r.reject(t):r.reject(new o(\"stream-data-loader:request-error\",`Failed to request resource at '${e.url}'. ${t}`,{url:e.url,error:t}));else{--s;const t=s<=0?e.result:a(e.result);r.resolve(t)}this._tasks.delete(e.key),0===this._tasks.size&&this._set(\"updating\",!1)}_startLoading(e,s){if(e.status===E.CANCELLED)return!1;let r,o;switch(e.startTime=performance.now(),e.status=E.DOWNLOADING,e.docType){case\"binary\":o=\"array-buffer\",r=0;break;case\"image\":o=\"image\";break;case\"image+type\":o=\"array-buffer\";break;default:o=\"json\"}e.abortController=new AbortController;const a=e.abortController.signal;e.request=t(e.url,{...e.options,responseType:o,timeout:r,signal:a});let n=()=>{};const i=t=>{e.duration=performance.now()-e.startTime,e.size=t instanceof ArrayBuffer?t.byteLength:e.size||0,e.result=t,this._frameTask?this._onLoadQueue.push({callback:s,task:e}):(e.abortController=null,s(e))},u=t=>{e.status===E.DOWNLOADING&&s(e,t),n()};return\"image+type\"!==e.docType?(e.request.then((e=>i(e.data)),u),!0):(e.request.then((s=>{const l=s.data,h=A(l);if(o=\"image\",e.size=l.byteLength,\"unknown\"===h)return e.request=t(e.url,{responseType:o,timeout:r,signal:a}),void e.request.then((e=>i(e.data)),u);const c=new Blob([l],{type:h}),d=window.URL.createObjectURL(c);n=()=>window.URL.revokeObjectURL(d),e.request=t(d,{responseType:o,timeout:r,signal:a}),e.request.then((e=>i(new O(e.data,h,n))),u)}),u),!0)}get test(){return{loadQueue:this._loadQueue}}};e([_({readOnly:!0})],y.prototype,\"updating\",void 0),y=e([g(\"esri.views.3d.support.StreamDataLoader\")],y);const b={numRetries:0};function A(e){if(e.byteLength<2)return\"unknown\";const t=new Uint8Array(e,0,e.byteLength);return 137===t[0]&&80===t[1]?\"image/png\":71===t[0]&&73===t[1]?\"image/gif\":66===t[0]&&77===t[1]?\"image/bmp\":255===t[0]&&216===t[1]?\"image/jpeg\":\"unknown\"}class O{constructor(e,t,s){this.image=e,this.type=t,this.release=s}get isOpaque(){return\"image/jpeg\"===this.type}}class Q extends k{constructor(e,t,s,r,o){super(r),this.url=e,this.options=t,this.docType=s,this.key=o,this.result=null,this.status=E.QUEUED,this.request=null,this.abortController=null,this.resolvers=new Array,this.startTime=0,this.numRetries=b.numRetries}}function T(e,t,s){return`${e}:${t}:${s}`}var E;!function(e){e[e.QUEUED=1]=\"QUEUED\",e[e.DOWNLOADING=2]=\"DOWNLOADING\",e[e.DOWNLOADED=3]=\"DOWNLOADED\",e[e.CANCELLED=4]=\"CANCELLED\"}(E||(E={}));export{O as ImageWithType,y as StreamDataLoader,E as TaskStatus,b as test};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{deg2rad as i,floatEqualAbsolute as t,floatEqualRelative as s}from\"../../../core/mathUtils.js\";import{isSome as r,isNone as l,unwrap as n}from\"../../../core/maybe.js\";import{getMetersPerUnitForSR as o}from\"../../../core/unitUtils.js\";import a from\"../../../geometry/Extent.js\";import{canProjectToWGS84ComparableLonLat as h}from\"../../../geometry/projection.js\";import c from\"../../../geometry/SpatialReference.js\";import{create as m}from\"../../../geometry/support/aaBoundingRect.js\";import{isMars as u,isMoon as p}from\"../../../geometry/support/spatialReferenceUtils.js\";import{x2lon as g,y2lat as f}from\"../../../geometry/support/webMercatorUtils.js\";import x from\"../../../layers/support/TileInfo.js\";const v=12;class M{constructor(e){const i=M.checkUnsupported(e);if(r(i))throw i;const t=n(e);this.spatialReference=t.spatialReference,this._isWebMercator=this.spatialReference.isWebMercator,this._isGCS=h(this.spatialReference)||u(this.spatialReference)||p(this.spatialReference),this.origin=[t.origin.x,t.origin.y],this.pixelSize=t.size[0],this.dpi=t.dpi;const s=t.lods.reduce(((e,i,t)=>(i.level<e.min&&(e.min=i.level,e.minIndex=t),e.max=Math.max(e.max,i.level),e)),{min:1/0,minIndex:0,max:-1/0}),l=t.lods[s.minIndex],o=2**l.level;let a=l.resolution*o,c=l.scale*o;this.levels=new Array(s.max+1);for(let r=0;r<this.levels.length;r++)this.levels[r]={resolution:a,scale:c,tileSize:[a*t.size[0],a*t.size[1]]},a/=2,c/=2}clone(){return new M(this.toTileInfo())}toTileInfo(){return new x({dpi:this.dpi,origin:{x:this.origin[0],y:this.origin[1],spatialReference:this.spatialReference},size:[this.pixelSize,this.pixelSize],spatialReference:this.spatialReference,lods:this.levels.map(((e,i)=>({level:i,scale:e.scale,resolution:e.resolution})))})}getExtent(e,i,t,s){const r=this.levels[e],l=r.tileSize[0],n=r.tileSize[1];s[0]=this.origin[0]+t*l,s[2]=this.origin[0]+(t+1)*l,s[3]=this.origin[1]-i*n,s[1]=this.origin[1]-(i+1)*n}convertExtentToRadians(e,t){this._isWebMercator?(t[0]=g(e[0]),t[1]=f(e[1]),t[2]=g(e[2]),t[3]=f(e[3])):this._isGCS&&(t[0]=i(e[0]),t[1]=i(e[1]),t[2]=i(e[2]),t[3]=i(e[3]))}getExtentGeometry(e,i,t,s=new a){return this.getExtent(e,i,t,w),s.spatialReference=this.spatialReference,s.xmin=w[0],s.ymin=w[1],s.xmax=w[2],s.ymax=w[3],s.zmin=void 0,s.zmax=void 0,s}ensureMaxLod(e){if(null==e)return!1;let i=!1;for(;this.levels.length<=e;){const e=this.levels[this.levels.length-1],t=e.resolution/2;this.levels.push({resolution:t,scale:e.scale/2,tileSize:[t*this.pixelSize,t*this.pixelSize]}),i=!0}return i}capMaxLod(e){this.levels.length>e+1&&(this.levels.length=e+1)}getMaxLod(){return this.levels.length-1}scaleAtLevel(e){return this.levels[0].scale/2**e}levelAtScale(e){const i=this.levels[0].scale;return e>=i?0:Math.log(i/e)*Math.LOG2E}resolutionAtLevel(e){return this.levels[0].resolution/2**e}compatibleWith(e){if(!(e instanceof M)){if(M.checkUnsupported(e))return!1;e=new M(e)}if(!e.spatialReference.equals(this.spatialReference))return!1;if(e.pixelSize!==this.pixelSize)return!1;const i=Math.min(this.levels.length,e.levels.length)-1,s=this.levels[i].resolution;let r=.5*s;if(!t(e.origin[0],this.origin[0],r)||!t(e.origin[1],this.origin[1],r))return!1;return r=.5*s/2**i/this.pixelSize*v,t(s,e.levels[i].resolution,r)}rootTilesInExtent(e,i=null,t=1/0){const s=new Array,n=this.levels[0].tileSize;if(l(e)||0===n[0]||0===n[1])return s;M.computeRowColExtent(e,n,this.origin,w);let o=w[1],a=w[3],h=w[0],c=w[2];const m=c-h,u=a-o;if(m*u>t){const e=Math.floor(Math.sqrt(t));u>e&&(o=o+Math.floor(.5*u)-Math.floor(.5*e),a=o+e),m>e&&(h=h+Math.floor(.5*m)-Math.floor(.5*e),c=h+e)}for(let r=o;r<a;r++)for(let e=h;e<c;e++)s.push([0,r,e]);return r(i)&&(i[0]=this.origin[0]+h*n[0],i[1]=this.origin[1]-a*n[1],i[2]=this.origin[0]+c*n[0],i[3]=this.origin[1]-o*n[1]),s}static computeRowColExtent(e,i,t,s){const r=.001*(e[2]-e[0]+(e[3]-e[1]));s[0]=Math.max(0,Math.floor((e[0]+r-t[0])/i[0])),s[2]=Math.max(0,Math.ceil((e[2]-r-t[0])/i[0])),s[1]=Math.max(0,Math.floor((t[1]-e[3]+r)/i[1])),s[3]=Math.max(0,Math.ceil((t[1]-e[1]-r)/i[1]))}static isPowerOfTwo(e){const i=e.lods,t=i[0].resolution*2**i[0].level;return!i.some((e=>!s(e.resolution,t/2**e.level)))}static hasGapInLevels(e){const i=e.lods.map((e=>e.level));i.sort(((e,i)=>e-i));for(let t=1;t<i.length;t++)if(i[t]!==i[0]+t)return!0;return!1}static tileSizeSupported(e){const i=e.size[1];return i===e.size[0]&&0==(i&i-1)&&i>=128&&i<=512}static hasOriginPerLODs(e){const i=e.origin;return e.lods.some((e=>null!=e.origin&&(e.origin[0]!==i.x||e.origin[1]!==i.y)))}static getMissingTileInfoError(){return new e(\"tilingscheme:tile-info-missing\",\"Tiling scheme must have tiling information\")}static checkUnsupported(i){return l(i)?d():i.lods.length<1?new e(\"tilingscheme:generic\",\"Tiling scheme must have at least one level\"):M.isPowerOfTwo(i)?M.hasGapInLevels(i)?new e(\"tilingscheme:gaps\",\"Tiling scheme levels must not have gaps between min and max level\"):M.tileSizeSupported(i)?M.hasOriginPerLODs(i)?new e(\"tilingscheme:multiple-origin\",\"Tiling scheme levels must not have their own origin\"):null:new e(\"tilingscheme:tile-size\",\"Tiles must be square and size must be one of [128, 256, 512]\"):new e(\"tilingscheme:power-of-two\",\"Tiling scheme must be power of two\")}static fromExtent(e,i){const t=e[2]-e[0],s=e[3]-e[1],r=o(i),l=1.2*Math.max(t,s),n=256,a=96,h=.0254,c=new M(new x({size:[n,n],origin:{x:e[0]-.5*(l-t),y:e[3]+.5*(l-s)},lods:[{level:0,resolution:l/n,scale:1/(n/a*h/(l*r))}],spatialReference:i}));return c.ensureMaxLod(20),c}static makeWebMercatorAuxiliarySphere(e){const i=new M(M.WebMercatorAuxiliarySphereTileInfo);return i.ensureMaxLod(e),i}static makeGCSWithTileSize(e,i=256,t=16){const s=256/i,r=new M(new x({size:[i,i],origin:{x:-180,y:90,spatialReference:e},spatialReference:e,lods:[{level:0,resolution:.703125*s,scale:295497598.570834*s}]}));return r.ensureMaxLod(t),r}get test(){return{isWebMercator:this._isWebMercator,isGCS:this._isGCS}}}function d(){return new e(\"tilingscheme:tile-info-missing\",\"Tiling scheme must have tiling information\")}M.WebMercatorAuxiliarySphereTileInfo=new x({size:[256,256],origin:{x:-20037508.342787,y:20037508.342787,spatialReference:c.WebMercator},spatialReference:c.WebMercator,lods:[{level:0,resolution:156543.03392800014,scale:591657527.591555}]}),M.WebMercatorAuxiliarySphere=M.makeWebMercatorAuxiliarySphere(19);const w=m();export{M as TilingScheme,d as getMissingTileInfoError};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{clampFloat32 as e,NUMBER_MAX_FLOAT32 as t}from\"../../../core/mathUtils.js\";import{create as o}from\"../../../geometry/support/aaBoundingRect.js\";import{TilingScheme as r}from\"./TilingScheme.js\";const s=!1,a=64,i=512,n=2.5,l=e(t/10),c=4,m=o();r.WebMercatorAuxiliarySphere.getExtent(0,0,0,m);const p=o([-180,-90,180,90]),u=\"Cannot extend surface to encompass all layers because it would result in too many root tiles.\",f=\"Surface extent is too large for tile resolution at level 0.\";let g=4;const x=e=>e<4?3:g,d={setElevationDesiredMaxUpscalingDistance(e){g=e}};export{l as ELEVATION_NODATA_VALUE,p as GEOGRAPHIC_WORLD_EXTENT,n as MAX_MEMORY_LOD_BIAS,i as MAX_PATCH_TESSELATION,a as MAX_ROOT_TILES,c as PROGRESSIVE_LOADING_MODULO,s as TILE_LOADING_DEBUGLOG,u as TOO_MANY_ROOT_TILES_AFTER_CHANGE_ERROR,f as TOO_MANY_ROOT_TILES_FOR_LAYER_ERROR,m as WEBMERCATOR_WORLD_EXTENT,x as getElevationDesiredResolutionLevel,d as test};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../core/Error.js\";import{isNone as t,isSome as o}from\"../core/maybe.js\";import{c as r,b as n,e as i,a as s,g as a}from\"./vec3.js\";import{c as l}from\"./vec3f64.js\";import{canProjectToWGS84ComparableLonLat as c}from\"../geometry/projection.js\";import{containsPoint as f,containsPointWithMargin as u,fromExtent as m,create as p}from\"../geometry/support/aaBoundingRect.js\";import{MAX_ROOT_TILES as h}from\"../views/3d/terrain/TerrainConst.js\";import{getMissingTileInfoError as g,TilingScheme as d}from\"../views/3d/terrain/TilingScheme.js\";const M=l(),x=l(),S=l(),j=l();function v(e,o,r=0){const n=e.extent;if(t(n))return!1;if(0===r)return f(n,o);const i=Math.min(n[2]-n[0],n[3]-n[1]);return u(n,o,r*i)}function y(e,t,o,l){r(M,o),M[l]=t[l];const c=n(M,M,t),f=n(x,e,t),u=i(f,c),m=i(c,c);let p;p=u<=0?t:m<=u?o:s(M,t,a(c,c,u/m));const h=n(M,e,p);return Math.PI/2-Math.atan(h[2]/Math.sqrt(h[0]*h[0]+h[1]*h[1]))}function T(e,o,r){const n=e.extent;if(t(n))return 0;S[0]=n[0],S[1]=n[1],S[2]=r,j[0]=n[2],j[1]=n[3],j[2]=r;let i=1/0,s=1/0;return o[0]<S[0]?i=y(o,S,j,0):o[0]>j[0]&&(i=y(o,j,S,0)),o[1]<S[1]?s=y(o,S,j,1):o[1]>j[1]&&(s=y(o,j,S,1)),Math.min(i,s)}function w(r,n,i){if(t(r))return g();if(r.spatialReference.isGeographic&&!c(r.spatialReference))return new e(\"tilingscheme:local-unsupported-spatial-reference\",\"The tiling scheme spatial reference is not supported in local scenes\");const s=d.checkUnsupported(r);if(o(s))return s;if(t(i))return new e(\"tilingscheme:extent-not-exist\",\"The layer does not provide a layer extent.\");const a=R(r,i);if(a)return a;const l=r.spatialReference;return o(n)&&!(l.equals(n)||n.isWGS84&&l.isWebMercator)?new e(\"tilingscheme:spatial-reference-mismatch\",\"The tiling scheme does not match the spatial reference of the local scene\"):null}function R(t,o){const r=t.lods,n=r[0].resolution*2**r[0].level,i=[n*t.size[0],n*t.size[1]],s=[t.origin.x,t.origin.y],a=m(o),l=p();d.computeRowColExtent(a,i,s,l);const c=(l[2]-l[0])*(l[3]-l[1]);if(c>h){const o=r[0].scale*2**r[0].level;let i=Math.max((a[3]-a[1])/t.size[1],(a[2]-a[0])/t.size[0])*o/n;const s=Math.floor(Math.log(i)/Math.log(10));return i=Math.ceil(i/10**s)*10**s,new e(\"tilingscheme:too-many-root-tiles\",\"Scale of level 0 of the tiling scheme (1:\"+Math.floor(o).toLocaleString()+\") is too large for the layer's extent. Suggested scale: 1:\"+i.toLocaleString()+\".\",{level0Scale:o,suggestedLevel0Scale:i,requiredNumRootTiles:c,allowedNumRootTiles:h})}return null}const b=Object.freeze(Object.defineProperty({__proto__:null,isInsideExtent:v,tiltToExtentEdge:T,checkIfTileInfoSupportedForViewSR:w},Symbol.toStringTag,{value:\"Module\"}));export{T as a,w as c,v as i,b as t};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../core/Error.js\";import{isNone as i,isSome as t}from\"../core/maybe.js\";import{canProjectToWGS84ComparableLonLat as n}from\"../geometry/projection.js\";import{isMars as r,isMoon as o}from\"../geometry/support/spatialReferenceUtils.js\";import{getMissingTileInfoError as l,TilingScheme as s}from\"../views/3d/terrain/TilingScheme.js\";function c(){return!0}function a(){return 0}function m(c,a){if(i(c))return l();const m=c.lods.length-1,h=c.spatialReference,p=n(h)||r(h)||o(h);if(h.isWebMercator){if(!s.makeWebMercatorAuxiliarySphere(m).compatibleWith(c))return new e(\"tilingscheme:incompatible-global-web-mercator\",\"The tiling scheme is not compatible with the ArcGIS Online Web Mercator tiling scheme\")}else{if(!p)return new e(\"tilingscheme:global-unsupported-spatial-reference\",\"The tiling scheme spatial reference is not supported in global scenes\");if(!s.makeGCSWithTileSize(c.spatialReference,c.size[0],m).compatibleWith(c))return c.spatialReference.isWGS84?new e(\"tilingscheme:incompatible-global-wgs84\",\"The tiling scheme is not compatible with the ArcGIS Online WGS84 tiling scheme\"):new e(\"tilingscheme:incompatible-global\",\"The tiling scheme is not compatible with the ArcGIS Online tiling scheme\")}return t(a)&&!c.spatialReference.equals(a)?new e(\"tilingscheme:spatial-reference-mismatch\",\"The tiling scheme does not match the spatial reference of the global scene\"):void 0}const h=Object.freeze(Object.defineProperty({__proto__:null,isInsideExtent:c,tiltToExtentEdge:a,checkIfTileInfoSupportedForViewSR:m},Symbol.toStringTag,{value:\"Module\"}));export{a,m as c,c as i,h as t};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/Collection.js\";import{isSome as n}from\"../../../core/maybe.js\";import{isCGCS2000 as e,isEarth as r}from\"../../../geometry/support/spatialReferenceUtils.js\";import{getTileMaxtrixSetFromActiveLayer as o}from\"../../../layers/support/layerUtils.js\";import{ViewingMode as i}from\"../../ViewingMode.js\";import{ImageWithType as l}from\"../support/StreamDataLoader.js\";import{NeighborIndex as u}from\"./interfaces.js\";import{t as f}from\"../../../chunks/terrainUtilsPlanar.js\";import{t as c}from\"../../../chunks/terrainUtilsSpherical.js\";const a={[i.Global]:c,[i.Local]:f};function T(t,n){t||console.warn(\"Terrain: \"+n)}let s=!1,S=!1;function E(t){S=t,s=s||t}function p(t){s=t}function m(t,n){if(s&&!t){const t=(new Error).stack.slice(5);throw console.warn(\"Terrain internal: \"+(n||\"\")+\" at \"+t),new Error(\"Assertion failed\"+(n?\": \"+n:\"\"))}}function H(t){return y(t)?{fullExtent:t.fullExtent,minScale:t.layer.minScale,maxScale:t.layer.maxScale,tilemapCache:null}:t.layer}function O(t){return\"imagery-tile\"===t?.type||\"wcs\"===t?.type}function y(t){return\"imagery-tile-3d\"===t?.type}function _(t){return\"tile-3d\"===t?.type}function I(t){return\"vector-tile-3d\"===t?.type}function R(t){return\"wmts-3d\"===t?.type}function U(t){return\"elevation-3d\"===t?.type}function W(t){return\"group\"===t?.type}function N(t){return\"group\"===t?.type}function d(t){return t&&(_(t)||R(t)||y(t)||I(t))}function x(t){return t&&(_(t)||y(t)||I(t)||R(t))}function A(t){return x(t)||U(t)}function g(t){const e=t?.sourceLayerInfo?.data;return n(e)&&\"type\"in e&&\"raster-tile\"===e.type}function h(t){const e=t?.sourceLayerInfo?.data;return n(e)&&\"type\"in e&&\"vector-tile\"===e.type}function L(t){const e=t?.sourceLayerInfo?.data;return n(e)&&\"type\"in e&&\"tile-texture\"===e.type}function w(t){const n=t?.sourceLayerInfo?.data;return n instanceof HTMLImageElement||n instanceof l||n instanceof HTMLCanvasElement||n instanceof ImageData}function j(t){return n(t)&&\"release\"in t&&t.release(),null}function C(t){return t.fetchTile&&!1!==t.hasOverriddenFetchTile}function b(t,n,e,r){return a[r].checkIfTileInfoSupportedForViewSR(t,e,n)}function v(t,e,r){let o=null,l=null;if(\"wmts\"===t?.type){const n=M(t,e,r);o=n.tileInfo,l=n.fullExtent}else{l=O(t)?t.getCompatibleFullExtent(e):t.fullExtent;const n=r===i.Local;if(O(t))o=t.getCompatibleTileInfo(e,l,n);else if(\"vector-tile\"===t?.type){const r=n&&!k(e)||V.force512VTL,i=t.tileInfo.spatialReference.isGeographic;o=r?t.tileInfo:t.tileInfo.getOrCreateCompatible(256,i?1:2)}else o=t.tileInfo}return n(o)&&n(l)&&null==b(o,l,e,r)?{tileInfo:o,fullExtent:l}:null}function M(e,r,i){const l=o(e);if(n(l)){if(!t.isCollection(l))return{tileInfo:l.tileInfo,fullExtent:l.fullExtent};{const t=l.find((t=>null==b(t.tileInfo,t.fullExtent,r,i)));if(t)return{tileInfo:t.tileInfo,fullExtent:t.fullExtent}}}return{tileInfo:null,fullExtent:null}}function k(t){return t.isWGS84||t.isWebMercator||e(t)||!r(t)}const V={force512VTL:!1};function F(t){return\"[\"+t[0]+\",\"+t[1]+\",\"+t[2]+\"]\"}function G(t){return\"(\"+t[0]+\",\"+t[1]+\",\"+t[2]+\")\"}function D(t,n,e=$){return Math.abs(t-n)<e}function P(t){return t===u.NORTH_EAST?u.SOUTH_WEST:t===u.NORTH_WEST?u.SOUTH_EAST:t===u.SOUTH_WEST?u.NORTH_EAST:u.NORTH_WEST}function q(t){return t===u.NORTH?u.SOUTH:t===u.EAST?u.WEST:t===u.SOUTH?u.NORTH:u.EAST}function z(t){return t===u.NORTH_WEST||t===u.SOUTH_WEST}function B(t){return t===u.NORTH_WEST||t===u.NORTH_EAST}function J(t){return t===u.NORTH_WEST||t===u.WEST||t===u.SOUTH_WEST}function K(t){return t===u.NORTH_EAST||t===u.EAST||t===u.SOUTH_EAST}function Q(t){return t===u.SOUTH_EAST||t===u.SOUTH||t===u.SOUTH_WEST}function X(t){return t===u.NORTH_EAST||t===u.NORTH||t===u.NORTH_WEST}const Y=[u.NORTH,u.EAST,u.SOUTH,u.WEST],Z=[u.NORTH_EAST,u.SOUTH_EAST,u.SOUTH_WEST,u.NORTH_WEST],$=1e-5;export{s as ENABLE_TERRAIN_INTERNAL_CHECKS,S as ENABLE_WATERPROOFNESS_TESTS,D as almostEquals,b as checkIfTileInfoSupportedForView,p as enableTerrainInternalChecks,E as enableTerrainWaterproofnessChecks,$ as eps,H as getLayerWithExtentRange,M as getTileInfoAndExtentFromWMTSLayer,v as getTiledLayerInfo,m as internalAssert,d as isBlendableLayerView,K as isEast,U as isElevationLayerView,N as isGroupLayer,W as isGroupLayerView,y as isImageryTileLayerView,g as isImageryTileRenderInfo,x as isMapTileLayerView,X as isNorth,B as isNorthCorner,O as isProjectableRasterLayer,w as isRasterTileRenderInfo,Q as isSouth,A as isSurfaceLayerView,L as isTextureTileRenderInfo,_ as isTileLayerView,I as isVectorTileLayerView,h as isVectorTileRenderInfo,R as isWMTSLayerView,J as isWest,z as isWestCorner,F as lij2s,Z as neighborCornerIndices,Y as neighborEdgeIndices,P as oppositeCorner,q as oppositeEdge,j as releaseTileData,V as test,C as useFetchTileForLayer,G as v32s,k as vtlAssumes256PixelSizeAsDefault,T as weakAssert};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{isNone as t,isSome as a}from\"../../../core/maybe.js\";import{throwIfAborted as i}from\"../../../core/promiseUtils.js\";import{isTiledLayer as r,isBasemapSupportedLayer as n}from\"../../../layers/support/layerUtils.js\";import{stringFromViewingMode as s,ViewingMode as o}from\"../../../views/ViewingMode.js\";import{getTileInfoAndExtentFromWMTSLayer as l,checkIfTileInfoSupportedForView as p}from\"../../../views/3d/terrain/terrainUtils.js\";import{TilingScheme as c}from\"../../../views/3d/terrain/TilingScheme.js\";import{isSpatialReferenceSupported as m}from\"../../../views/support/spatialReferenceSupport.js\";async function f(e,t={}){await y(e,t),i(t)}async function u(e,t={}){const{basemap:a,view:n}=e;if(i(t),\"spatialReferenceLocked\"in n&&!n.spatialReferenceLocked)return;if(await a.load(t),i(t),0===a.baseLayers.length)return;const s=a.baseLayers.getItemAt(0);if(!r(s))return;if(a.spatialReference){if(n.spatialReference.equals(a.spatialReference))return;w()}await s.load(t),i(t);const o=((\"supportedSpatialReferences\"in s?s.supportedSpatialReferences:null)||[\"tileInfo\"in s?s.tileInfo.spatialReference:null]).filter(Boolean);0!==o.length&&o.every((e=>!n.spatialReference.equals(e)))&&w()}function w(){throw new e(\"basemap-compatibility:incompatible-spatial-reference\",\"Basemap spatial reference is not compatible with the view\")}async function y(t,a){const{basemap:i,view:r}=t;if(await i.load(a),0===i.baseLayers.length)return;const s=i.baseLayers.concat(i.referenceLayers).toArray().filter((e=>!n(e))).map((t=>new e(\"basemap-compatibility:unsupported-basemap-layer-type\",\"Unsupported basemap layer type ${operationalLayerType}\",{layer:t,operationalLayerType:t.operationalLayerType||\"unknown\"})));if(s.length)throw s[0];const o=i.baseLayers.getItemAt(0);if(n(o)){try{await o.load(a)}catch(l){const t=\"basemap-compatibility:unknown-error\",a=\"Unknown basemap compatibility error\",{name:i=t,message:r=a,details:n}=l;throw new e(i,r,n)}b(o,r)}}function b(i,r){const n=r.state.viewingMode;if(!n)return;let f,u;if(\"wmts\"===i?.type){const a=l(i,r.spatialReference,n);if(t(a.tileInfo))throw new e(\"basemapgalleryitem:tiling-scheme-incompatible\",\"Basemap tiling scheme is incompatible with the view\");f=a.tileInfo,u=a.fullExtent}else f=i.tileInfo,u=i.fullExtent;if(t(f))return;if(!m(f.spatialReference,n))throw new e(`basemapgalleryitem:spatial-reference-unsupported-${s(n)}`,`Basemap spatial reference is unsupported in ${s(n)} mode`);const w=f.spatialReference.isGeographic,y=\"vector-tile\"===i?.type?f.getOrCreateCompatible(256,w?1:2):null;if(n===o.Global){let t=p(f,u,null,n);if(t&&\"vector-tile\"===i?.type&&a(u)&&y&&!p(y,u,null,n)&&(t=null),t){const a=f.spatialReference.isWebMercator?\"web-mercator\":\"wgs84\";throw new e(`basemapgalleryitem:tiling-scheme-unsupported-${a}-global`,\"Basemap tiling scheme is unsupported in global mode\",{error:t})}}else if(c.checkUnsupported(f))throw new e(\"basemapgalleryitem:tiling-scheme-unsupported-local\",\"Basemap tiling scheme is unsupported in local mode\");const b=r.get(\"basemapTerrain.tilingScheme\");if(b&&!b.compatibleWith(f)&&(\"vector-tile\"!==i?.type||!y||!b.compatibleWith(y)))throw new e(\"basemapgalleryitem:tiling-scheme-incompatible\",\"Basemap tiling scheme is incompatible with the view\")}export{u as default2DCompatibility,f as default3DCompatibility};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{HandleOwnerMixin as s}from\"../../../core/HandleOwner.js\";import{IdentifiableMixin as r}from\"../../../core/Identifiable.js\";import{isAbortError as i}from\"../../../core/promiseUtils.js\";import{watch as o,whenOnce as a}from\"../../../core/reactiveUtils.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import{findSpatialReference as p}from\"../../../support/basemapUtils.js\";let c=class extends(r(s(t))){constructor(e){super(e),this.compatibilityFunction=null,this.error=null,this.state=\"loading\",this.view=null}initialize(){const e=()=>this.refresh();this.handles.add([o((()=>this.basemap?.loadStatus),e),o((()=>this.compatibilityFunction),e),o((()=>this.view&&\"basemapTerrain\"in this.view&&this.view.basemapTerrain?.tilingScheme),e),o((()=>this.view?.ready),e),o((()=>this.view?.spatialReference),e)]),this.refresh()}destroy(){this._cancelRefresh(),this.basemap=null,this.compatibilityFunction=null,this.view=null}get _spatialReferenceTask(){return p(this.view,this.basemap)}set basemap(e){const t=this._get(\"basemap\");t&&t.cancelLoad(),e&&e.load().catch((()=>{})),this._set(\"basemap\",e)}get spatialReference(){return this._spatialReferenceTask.spatialReference}refresh(){this._cancelRefresh(),this._set(\"state\",\"loading\");const e=this.basemap?.loadStatus;if(\"loaded\"!==e&&\"failed\"!==e)return;if(!this.compatibilityFunction)return void(\"loaded\"===e?(this._set(\"state\",\"ready\"),this._set(\"error\",null)):(this._set(\"state\",\"error\"),this._set(\"error\",this.basemap.loadError)));const t=new AbortController,{signal:s}=t;this.compatibilityFunction(this,{signal:s}).then((()=>a((()=>!this._spatialReferenceTask.updating),s))).then((()=>{this._set(\"state\",\"ready\"),this._set(\"error\",null)})).catch((e=>{i(e)||(this._set(\"state\",\"error\"),this._set(\"error\",e))})),this._refreshController=t}_cancelRefresh(){this._refreshController&&(this._refreshController.abort(),this._refreshController=null)}};e([l({readOnly:!0})],c.prototype,\"_spatialReferenceTask\",null),e([l()],c.prototype,\"basemap\",null),e([l()],c.prototype,\"compatibilityFunction\",void 0),e([l({readOnly:!0})],c.prototype,\"error\",void 0),e([l({readOnly:!0})],c.prototype,\"spatialReference\",null),e([l({readOnly:!0})],c.prototype,\"state\",void 0),e([l()],c.prototype,\"view\",void 0),c=e([n(\"esri.widgets.BasemapGallery.support.BasemapGalleryItem\")],c);const h=c;export{h as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import s from\"../../../Basemap.js\";import o from\"../../../core/Accessor.js\";import e from\"../../../core/Collection.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";const a=e.ofType(s);let c=class extends o{constructor(r){super(r),this.basemaps=new a}get state(){return\"ready\"}refresh(){}};r([t({type:a})],c.prototype,\"basemaps\",void 0),r([t({readOnly:!0})],c.prototype,\"state\",null),c=r([p(\"esri.widgets.BasemapGallery.support.LocalBasemapsSource\")],c);const m=c;export{m as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import s from\"../../../Basemap.js\";import e from\"../../../core/Collection.js\";import r from\"../../../core/Error.js\";import o from\"../../../core/Handles.js\";import a from\"../../../core/Loadable.js\";import l from\"../../../core/Logger.js\";import{EsriPromiseMixin as i}from\"../../../core/Promise.js\";import{isAbortError as p}from\"../../../core/promiseUtils.js\";import{watch as n,initial as h}from\"../../../core/reactiveUtils.js\";import{property as m}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import u from\"../../../portal/Portal.js\";import d from\"./LocalBasemapsSource.js\";const f=e.ofType(s);let y=class extends(a.LoadableMixin(i(d))){constructor(t){super(t),this._handles=new o,this.basemaps=new f,this.filterFunction=null,this.portal=u.getDefault(),this.query=null,this.updateBasemapsCallback=null}initialize(){this._handles.add([n((()=>[this.filterFunction,this.loadStatus,this.portal?.basemapGalleryGroupQuery,this.portal?.user,this.query,this.updateBasemapsCallback]),(()=>this.refresh()),h)])}destroy(){this._handles.destroy(),this._handles=null,this.filterFunction=null,this.portal=null}get state(){return\"not-loaded\"===this.loadStatus?\"not-loaded\":\"loading\"===this.loadStatus||this._lastPortalBasemapFetchController?\"loading\":\"ready\"}load(t){return this.addResolvingPromise(this.portal.load(t)),this.notifyChange(\"state\"),Promise.resolve(this)}async refresh(){if(\"ready\"!==this.state)return;this._lastPortalBasemapFetchController&&(this._lastPortalBasemapFetchController.abort(),this._lastPortalBasemapFetchController=null);const t=this.portal,s=new AbortController;this._lastPortalBasemapFetchController=s,this.notifyChange(\"state\");try{const e=await t.fetchBasemaps(this._toQueryString(this.query),s);this._updateBasemaps(e)}catch(e){if(p(e))throw e;l.getLogger(this.declaredClass).warn(new r(\"basemap-source:fetch-basemaps-error\",\"Could not fetch basemaps from portal.\",{error:e})),this._updateBasemaps()}this._lastPortalBasemapFetchController=null,this.notifyChange(\"state\")}_toQueryString(t){return t&&\"string\"!=typeof t?Object.keys(t).map((s=>`${s}:${t[s]}`)).join(\" AND \"):t}_updateBasemaps(t=[]){let s=this.filterFunction?t.filter(this.filterFunction):t;s=this.updateBasemapsCallback?this.updateBasemapsCallback(s):s,this.basemaps.removeAll(),this.basemaps.addMany(s)}};t([m({readOnly:!0,type:f})],y.prototype,\"basemaps\",void 0),t([m()],y.prototype,\"filterFunction\",void 0),t([m({type:u})],y.prototype,\"portal\",void 0),t([m()],y.prototype,\"query\",void 0),t([m({readOnly:!0})],y.prototype,\"state\",null),t([m()],y.prototype,\"updateBasemapsCallback\",void 0),y=t([c(\"esri.widgets.BasemapGallery.support.PortalBasemapsSource\")],y);const b=y;export{b as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Basemap.js\";import i from\"../../core/Collection.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import a from\"../../core/Loadable.js\";import{isSome as r}from\"../../core/maybe.js\";import{watch as o,on as p}from\"../../core/reactiveUtils.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import{cast as c}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as m}from\"../../core/accessorSupport/decorators/subclass.js\";import{canProjectWithoutEngine as l,isLoaded as u,load as d}from\"../../geometry/projection.js\";import{equals as h}from\"../../geometry/support/spatialReferenceUtils.js\";import{contentEquals as v}from\"../../support/basemapUtils.js\";import{default3DCompatibility as f,default2DCompatibility as y}from\"./support/basemapCompatibilityUtils.js\";import b from\"./support/BasemapGalleryItem.js\";import w from\"./support/LocalBasemapsSource.js\";import j from\"./support/PortalBasemapsSource.js\";const g=i.ofType(b);function B(e){return e&&\"esri.portal.Portal\"===e.declaredClass}function _(e){return e&&!(e instanceof j)&&(!!e.portal||!!e.query)}function I(e){return e&&\"basemaps\"in e&&\"state\"in e&&\"refresh\"in e}let R=class extends(s(a)){constructor(e){super(e),this._loadingProjectionEngine=!1,this.items=new g,this.source=new j,this.view=null}initialize(){const e=()=>this._recreateItems();this.handles.add([o((()=>\"ready\"===this.state?this.compatibilityFunction:null),(()=>this._updateItems())),p((()=>this.source?.basemaps),\"change\",e,{onListenerAdd:e})])}get activeBasemap(){return this.view?.map?.basemap??null}set activeBasemap(e){if(!this.view.map)return;const i=\"string\"==typeof e?t.fromId(e):e;if(!i||!this.view.ready)return this.view.map.basemap=i,void this._clearOverride(\"activeBasemap\");const s=i.spatialReference||this.items?.find((e=>this.basemapEquals(i,e.basemap)))?.spatialReference;if(s&&\"spatialReferenceLocked\"in this.view&&!this.view.spatialReferenceLocked){const t=this.view.spatialReference;if(r(s)&&!h(t,s)&&!l(this.view.spatialReference,s)&&!u())return this._override(\"activeBasemap\",i),this._loadingProjectionEngine=!0,void d().then((()=>{this._get(\"activeBasemap\")===e&&(this.view.map.basemap=e,this.view.spatialReference=s,this._clearOverride(\"activeBasemap\"))}),(()=>{})).then((()=>{this._loadingProjectionEngine=!1}));this.view.map.basemap=i,this._clearOverride(\"activeBasemap\"),r(s)&&!h(this.view.spatialReference,s)&&(this.view.spatialReference=s)}else this.view.map.basemap=i,this._clearOverride(\"activeBasemap\")}get activeBasemapIndex(){const{state:e,items:t,activeBasemap:i}=this;if(\"ready\"!==e)return-1;const s=t.findIndex((e=>e.basemap===i));return-1===s?t.findIndex((e=>this.basemapEquals(e.basemap,i))):s}get compatibilityFunction(){return\"3d\"===this.view?.type?f:y}set compatibilityFunction(e){this._overrideIfSome(\"compatibilityFunction\",e)}castSource(e){return Array.isArray(e)||i.isCollection(e)?new w({basemaps:e}):B(e)?new j({portal:e}):_(e)?new j(e):I(e)?e:null}get state(){return this.view?.ready&&this.source?this._loadingProjectionEngine?\"loading\":\"ready\":\"disabled\"}basemapEquals(e,t){return v(e,t)}refresh(){this._recreateItems()}load(e){return this.addResolvingPromise(a.isLoadable(this.source)?this.source.load(e):null),Promise.resolve(this)}_recreateItems(){const e=this.source?.basemaps,{view:t,compatibilityFunction:i}=this;this.items.removeAll().forEach((e=>e.destroy())),e&&this.items.addMany(e.map((e=>new b({basemap:e,compatibilityFunction:i,view:t}))))}_updateItems(){for(const e of this.items)e.compatibilityFunction=this.compatibilityFunction,e.view=this.view}};e([n()],R.prototype,\"_loadingProjectionEngine\",void 0),e([n()],R.prototype,\"activeBasemap\",null),e([n({readOnly:!0})],R.prototype,\"activeBasemapIndex\",null),e([n()],R.prototype,\"compatibilityFunction\",null),e([n({readOnly:!0,type:g})],R.prototype,\"items\",void 0),e([n()],R.prototype,\"source\",void 0),e([c(\"source\")],R.prototype,\"castSource\",null),e([n({readOnly:!0})],R.prototype,\"state\",null),e([n()],R.prototype,\"view\",void 0),R=e([m(\"esri.widgets.BasemapGallery.BasemapGalleryViewModel\")],R);const E=R;export{E as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{getAssetUrl as s}from\"../assets.js\";import t from\"../core/Handles.js\";import{on as a,when as i,watch as r}from\"../core/reactiveUtils.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import d from\"./Widget.js\";import n from\"./BasemapGallery/BasemapGalleryViewModel.js\";import{Heading as m}from\"./support/Heading.js\";import{accessibleHandler as p}from\"./support/decorators/accessibleHandler.js\";import{messageBundle as c}from\"./support/decorators/messageBundle.js\";import{tsx as h}from\"./support/jsxFactory.js\";import\"./support/widgetUtils.js\";const g={base:\"esri-basemap-gallery esri-widget esri-widget--panel-height-only\",sourceLoading:\"esri-basemap-gallery--source-loading\",loader:\"esri-basemap-gallery__loader\",item:\"esri-basemap-gallery__item\",itemContainer:\"esri-basemap-gallery__item-container\",itemTitle:\"esri-basemap-gallery__item-title\",itemThumbnail:\"esri-basemap-gallery__item-thumbnail\",selectedItem:\"esri-basemap-gallery__item--selected\",itemError:\"esri-basemap-gallery__item--error\",emptyMessage:\"esri-widget__content--empty\",widgetIcon:\"esri-icon-basemap\",disabled:\"esri-disabled\",loaderAnimation:\"esri-widget__loader-animation\"};let u=class extends d{constructor(e,s){super(e,s),this._handles=new t,this._focusBasemapItemEnabled=!1,this.disabled=!1,this.headingLevel=2,this.iconClass=g.widgetIcon,this.messages=null,this.viewModel=new n}initialize(){const e=this._handles;this.addHandles([a((()=>this.viewModel.items),\"change\",(s=>{const t=\"basemap-gallery-item-changes\",{added:a,moved:i}=s;e.remove(t),e.add([...a,...i].map((e=>r((()=>e.state),(()=>this.scheduleRender())))),t),this.scheduleRender()})),i((()=>this.source),(()=>this.viewModel.load()),{initial:!0,once:!0})])}destroy(){this._handles.destroy()}loadDependencies(){return import(\"@esri/calcite-components/dist/components/calcite-scrim.js\")}get activeBasemap(){return this.viewModel.activeBasemap}set activeBasemap(e){this.viewModel.activeBasemap=e}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get source(){return this.viewModel.source}set source(e){this.viewModel.source=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e=\"loading\"===this.source.state,s=this.disabled||\"disabled\"===this.viewModel.state,t=this.viewModel.items.map(((e,s)=>this._renderBasemapGalleryItem(e,s))).toArray(),a={[g.sourceLoading]:e,[g.disabled]:s},i=e?h(\"div\",{class:g.loader,key:\"esri-basemap-gallery__loader\"}):null,r=e?null:t.length>0?h(\"ul\",{bind:this,\"aria-disabled\":this.disabled,\"aria-label\":this.label,class:g.itemContainer,key:\"esri-basemap-gallery__item-container\",onkeydown:this._handleKeyDown,role:\"radiogroup\"},t):h(\"div\",{class:g.emptyMessage,key:\"esri-basemap-gallery__empty-message\"},h(m,{level:this.headingLevel},this.messages.noBasemaps));return h(\"div\",{class:this.classes(g.base,a)},i,r)}_getRoundRobinIndex(e,s){return(e+s)%s}_handleKeyDown(e){const{key:s}=e;if(![\"ArrowUp\",\"ArrowDown\",\"ArrowRight\",\"ArrowLeft\"].includes(s))return;e.preventDefault();const{items:t,activeBasemapIndex:a}=this.viewModel,i=\"ArrowUp\"===s||\"ArrowLeft\"===s?this._getRoundRobinIndex(Math.max(a-1,-1),t.length):this._getRoundRobinIndex(a+1,t.length),r=t.getItemAt(i);\"ready\"===r?.state&&(this.viewModel.activeBasemap=r.basemap),this._focusBasemapItemEnabled=!0}_focusBasemapItem(e){this._focusBasemapItemEnabled&&0===e.tabIndex&&(e.focus(),this._focusBasemapItemEnabled=!1)}_handleClick(e){const s=e.currentTarget[\"data-item\"];\"ready\"===s.state&&(this.viewModel.activeBasemap=s.basemap)}_renderBasemapGalleryItem(e,t){const a=e.basemap.thumbnailUrl||s(\"esri/themes/base/images/basemap-toggle-64.svg\"),i=e.basemap.title,r=e.basemap.portalItem?.snippet,o=e.error?.message||r||i,{viewModel:{state:l,activeBasemapIndex:d}}=this,n=this.disabled||\"disabled\"===l,m=d===t,p=m||-1===d&&0===t?0:-1,c=\"loading\"===l,u={[g.selectedItem]:m,[g.itemError]:\"error\"===e.state},b=`basemapgallery-item-${e.uid}`;return h(\"li\",{\"aria-checked\":m.toString(),\"aria-disabled\":n.toString(),\"aria-labelledby\":b,bind:this,class:this.classes(g.item,u),\"data-item\":e,onkeydown:this._handleClick,onclick:this._handleClick,role:\"radio\",tabIndex:p,afterUpdate:this._focusBasemapItem,title:o},h(\"img\",{alt:\"\",class:g.itemThumbnail,src:a}),h(\"div\",{id:b,class:g.itemTitle},i),\"loading\"===e.state||m&&c?h(\"calcite-scrim\",null,h(\"span\",{\"aria-hidden\":\"true\",role:\"presentation\",class:g.loaderAnimation})):null)}};e([o()],u.prototype,\"activeBasemap\",null),e([o()],u.prototype,\"disabled\",void 0),e([o()],u.prototype,\"headingLevel\",void 0),e([o()],u.prototype,\"iconClass\",void 0),e([o()],u.prototype,\"label\",null),e([o(),c(\"esri/widgets/BasemapGallery/t9n/BasemapGallery\")],u.prototype,\"messages\",void 0),e([o()],u.prototype,\"source\",null),e([o()],u.prototype,\"view\",null),e([o()],u.prototype,\"viewModel\",void 0),e([p()],u.prototype,\"_handleClick\",null),u=e([l(\"esri.widgets.BasemapGallery\")],u);const b=u;export{b as default};\n", "import d from \"./node_modules/@arcgis/core/widgets/BasemapGallery.js\";export default d;"],
  "mappings": "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",
  "names": ["s", "t", "e", "r", "i", "y", "m", "e", "t", "s", "r", "D", "a", "v", "n", "E", "j", "i", "u", "l", "h", "A", "c", "d", "O", "b", "v", "M", "e", "i", "t", "P", "s", "l", "a", "c", "r", "j", "n", "f", "w", "g", "h", "m", "u", "a", "l", "m", "u", "M", "p", "M", "x", "j", "v", "e", "r", "n", "i", "y", "t", "l", "c", "f", "u", "m", "p", "h", "T", "s", "w", "a", "o", "b", "c", "a", "m", "h", "p", "P", "s", "M", "a", "l", "h", "b", "b", "t", "n", "e", "r", "a", "M", "e", "r", "i", "l", "c", "j", "t", "b", "f", "e", "t", "y", "u", "a", "n", "s", "w", "i", "r", "l", "b", "M", "c", "s", "a", "m", "e", "h", "t", "j", "y", "n", "a", "j", "c", "m", "r", "e", "y", "n", "f", "j", "y", "m", "t", "h", "s", "e", "n", "b", "g", "j", "h", "e", "b", "I", "R", "a", "m", "i", "s", "t", "f", "u", "y", "n", "E", "g", "u", "e", "s", "t", "E", "a", "i", "f", "n", "r", "l", "d", "m", "p", "c", "b", "y", "b"]
}
