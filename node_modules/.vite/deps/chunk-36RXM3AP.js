import {
  has,
  o2 as o
} from "./chunk-HVKDYDPP.js";

// node_modules/@arcgis/core/core/sql/AggregateFunctions.js
function a(a2, n4) {
  const t4 = l[a2.toLowerCase()];
  if (null == t4)
    throw new Error("Function Not Recognised");
  if (n4.length < t4.minParams || n4.length > t4.maxParams)
    throw new Error(`Invalid Parameter count for call to ${a2.toUpperCase()}`);
  return t4.evaluate(n4);
}
function n(a2, n4) {
  const t4 = l[a2.toLowerCase()];
  return null != t4 && n4 >= t4.minParams && n4 <= t4.maxParams;
}
var l = { min: { minParams: 1, maxParams: 1, evaluate: (a2) => null == a2[0] ? null : Math.min.apply(Math, a2[0]) }, max: { minParams: 1, maxParams: 1, evaluate: (a2) => null == a2[0] ? null : Math.max.apply(Math, a2[0]) }, avg: { minParams: 1, maxParams: 1, evaluate: (a2) => null == a2[0] ? null : t(a2[0]) }, sum: { minParams: 1, maxParams: 1, evaluate: (a2) => null == a2[0] ? null : r(a2[0]) }, stddev: { minParams: 1, maxParams: 1, evaluate: (a2) => null == a2[0] ? null : Math.sqrt(e(a2[0])) }, count: { minParams: 1, maxParams: 1, evaluate: (a2) => null == a2[0] ? null : a2[0].length }, var: { minParams: 1, maxParams: 1, evaluate: (a2) => null == a2[0] ? null : e(a2[0]) } };
function t(a2) {
  let n4 = 0;
  for (let l3 = 0; l3 < a2.length; l3++)
    n4 += a2[l3];
  return n4 / a2.length;
}
function r(a2) {
  let n4 = 0;
  for (let l3 = 0; l3 < a2.length; l3++)
    n4 += a2[l3];
  return n4;
}
function e(a2) {
  const n4 = t(a2), l3 = a2.length;
  let r3 = 0;
  for (const t4 of a2)
    r3 += (t4 - n4) ** 2;
  return l3 > 1 ? r3 / (l3 - 1) : 0;
}

// node_modules/@arcgis/core/core/sql/StandardizedFunctions.js
var e2 = class {
  constructor() {
    this.op = "+", this.day = 0, this.second = 0, this.hour = 0, this.month = 0, this.year = 0, this.minute = 0;
  }
  static _fixDefaults(a2) {
    if (null !== a2.precision || null !== a2.secondary)
      throw new Error("Primary and Secondary SqlInterval qualifiers not supported");
  }
  static createFromMilliseconds(a2) {
    const r3 = new e2();
    return r3.second = a2 / 1e3, r3;
  }
  static createFromValueAndQualifer(a2, r3, t4) {
    let n4 = null;
    const l3 = new e2();
    if (l3.op = "-" === t4 ? "-" : "+", "interval-period" === r3.type) {
      e2._fixDefaults(r3);
      const t5 = new RegExp("^[0-9]{1,}$");
      if ("year" === r3.period || "month" === r3.period)
        throw new Error("Year-Month Intervals not supported");
      if (!t5.test(a2))
        throw new Error("Illegal Interval");
      l3[r3.period] = parseFloat(a2);
    } else {
      if (e2._fixDefaults(r3.start), e2._fixDefaults(r3.end), "year" === r3.start.period || "month" === r3.start.period)
        throw new Error("Year-Month Intervals not supported");
      if ("year" === r3.end.period || "month" === r3.end.period)
        throw new Error("Year-Month Intervals not supported");
      switch (r3.start.period) {
        case "day":
          switch (r3.end.period) {
            case "hour":
              if (n4 = new RegExp("^[0-9]{1,} [0-9]{1,}$"), !n4.test(a2))
                throw new Error("Illegal Interval");
              l3[r3.start.period] = parseFloat(a2.split(" ")[0]), l3[r3.end.period] = parseFloat(a2.split(" ")[1]);
              break;
            case "minute":
              if (n4 = new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$"), !n4.test(a2))
                throw new Error("Illegal Interval");
              {
                l3[r3.start.period] = parseFloat(a2.split(" ")[0]);
                const e5 = a2.split(" ")[1].split(":");
                l3.hour = parseFloat(e5[0]), l3.minute = parseFloat(e5[1]);
              }
              break;
            case "second":
              if (n4 = new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"), !n4.test(a2))
                throw new Error("Illegal Interval");
              {
                l3[r3.start.period] = parseFloat(a2.split(" ")[0]);
                const e5 = a2.split(" ")[1].split(":");
                l3.hour = parseFloat(e5[0]), l3.minute = parseFloat(e5[1]), l3.second = parseFloat(e5[2]);
              }
              break;
            default:
              throw new Error("Invalid Interval.");
          }
          break;
        case "hour":
          switch (r3.end.period) {
            case "minute":
              if (n4 = new RegExp("^[0-9]{1,}:[0-9]{1,}$"), !n4.test(a2))
                throw new Error("Illegal Interval");
              l3.hour = parseFloat(a2.split(":")[0]), l3.minute = parseFloat(a2.split(":")[1]);
              break;
            case "second":
              if (n4 = new RegExp("^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"), !n4.test(a2))
                throw new Error("Illegal Interval");
              {
                const e5 = a2.split(":");
                l3.hour = parseFloat(e5[0]), l3.minute = parseFloat(e5[1]), l3.second = parseFloat(e5[2]);
              }
              break;
            default:
              throw new Error("Invalid Interval.");
          }
          break;
        case "minute":
          if ("second" !== r3.end.period)
            throw new Error("Invalid Interval.");
          if (n4 = new RegExp("^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"), !n4.test(a2))
            throw new Error("Illegal Interval");
          {
            const e5 = a2.split(":");
            l3.minute = parseFloat(e5[0]), l3.second = parseFloat(e5[1]);
          }
          break;
        default:
          throw new Error("Invalid Interval.");
      }
    }
    return l3;
  }
  valueInMilliseconds() {
    return ("-" === this.op ? -1 : 1) * (1e3 * this.second + 60 * this.minute * 1e3 + 60 * this.hour * 60 * 1e3 + 24 * this.day * 60 * 60 * 1e3 + this.month * (365 / 12) * 24 * 60 * 60 * 1e3 + 365 * this.year * 24 * 60 * 60 * 1e3);
  }
};
function r2(a2, e5) {
  const r3 = n2[a2.toLowerCase()];
  if (null == r3)
    throw new Error("Function Not Recognised");
  if (e5.length < r3.minParams || e5.length > r3.maxParams)
    throw new Error(`Invalid Parameter count for call to ${a2.toUpperCase()}`);
  return r3.evaluate(e5);
}
function t2(a2, e5) {
  const r3 = n2[a2.toLowerCase()];
  return null != r3 && e5 >= r3.minParams && e5 <= r3.maxParams;
}
var n2 = { extract: { minParams: 2, maxParams: 2, evaluate: ([a2, e5]) => {
  if (null == e5)
    return null;
  if (e5 instanceof Date)
    switch (a2.toUpperCase()) {
      case "SECOND":
        return e5.getSeconds();
      case "MINUTE":
        return e5.getMinutes();
      case "HOUR":
        return e5.getHours();
      case "DAY":
        return e5.getDate();
      case "MONTH":
        return e5.getMonth() + 1;
      case "YEAR":
        return e5.getFullYear();
    }
  throw new Error("Invalid Parameter for call to EXTRACT");
} }, substring: { minParams: 2, maxParams: 3, evaluate: (a2) => {
  if (2 === a2.length) {
    const [e5, r3] = a2;
    return null == e5 || null == r3 ? null : e5.toString().substring(r3 - 1);
  }
  if (3 === a2.length) {
    const [e5, r3, t4] = a2;
    return null == e5 || null == r3 || null == t4 ? null : t4 <= 0 ? "" : e5.toString().substring(r3 - 1, r3 + t4 - 1);
  }
} }, position: { minParams: 2, maxParams: 2, evaluate: ([a2, e5]) => null == a2 || null == e5 ? null : e5.indexOf(a2) + 1 }, trim: { minParams: 2, maxParams: 3, evaluate: (e5) => {
  const r3 = 3 === e5.length, t4 = r3 ? e5[1] : " ", n4 = r3 ? e5[2] : e5[1];
  if (null == t4 || null == n4)
    return null;
  const l3 = `(${o(t4)})`;
  switch (e5[0]) {
    case "BOTH":
      return n4.replace(new RegExp(`^${l3}*|${l3}*$`, "g"), "");
    case "LEADING":
      return n4.replace(new RegExp(`^${l3}*`, "g"), "");
    case "TRAILING":
      return n4.replace(new RegExp(`${l3}*$`, "g"), "");
  }
  throw new Error("Invalid Parameter for call to TRIM");
} }, abs: { minParams: 1, maxParams: 1, evaluate: (a2) => null == a2[0] ? null : Math.abs(a2[0]) }, ceiling: { minParams: 1, maxParams: 1, evaluate: (a2) => null == a2[0] ? null : Math.ceil(a2[0]) }, floor: { minParams: 1, maxParams: 1, evaluate: (a2) => null == a2[0] ? null : Math.floor(a2[0]) }, log: { minParams: 1, maxParams: 1, evaluate: (a2) => null == a2[0] ? null : Math.log(a2[0]) }, log10: { minParams: 1, maxParams: 1, evaluate: (a2) => null == a2[0] ? null : Math.log(a2[0]) * Math.LOG10E }, sin: { minParams: 1, maxParams: 1, evaluate: (a2) => null == a2[0] ? null : Math.sin(a2[0]) }, cos: { minParams: 1, maxParams: 1, evaluate: (a2) => null == a2[0] ? null : Math.cos(a2[0]) }, tan: { minParams: 1, maxParams: 1, evaluate: (a2) => null == a2[0] ? null : Math.tan(a2[0]) }, asin: { minParams: 1, maxParams: 1, evaluate: (a2) => null == a2[0] ? null : Math.asin(a2[0]) }, acos: { minParams: 1, maxParams: 1, evaluate: (a2) => null == a2[0] ? null : Math.acos(a2[0]) }, atan: { minParams: 1, maxParams: 1, evaluate: (a2) => null == a2[0] ? null : Math.atan(a2[0]) }, sign: { minParams: 1, maxParams: 1, evaluate: (a2) => null == a2[0] ? null : a2[0] > 0 ? 1 : a2[1] < 0 ? -1 : 0 }, power: { minParams: 2, maxParams: 2, evaluate: (a2) => null == a2[0] || null == a2[1] ? null : a2[0] ** a2[1] }, mod: { minParams: 2, maxParams: 2, evaluate: (a2) => null == a2[0] || null == a2[1] ? null : a2[0] % a2[1] }, round: { minParams: 1, maxParams: 2, evaluate: (a2) => {
  const e5 = a2[0], r3 = 2 === a2.length ? 10 ** a2[1] : 1;
  return null == e5 ? null : Math.round(e5 * r3) / r3;
} }, truncate: { minParams: 1, maxParams: 2, evaluate: (a2) => null == a2[0] ? null : 1 === a2.length ? parseInt(a2[0].toFixed(0), 10) : parseFloat(a2[0].toFixed(a2[1])) }, char_length: { minParams: 1, maxParams: 1, evaluate: (a2) => "string" == typeof a2[0] || a2[0] instanceof String ? a2[0].length : 0 }, concat: { minParams: 1, maxParams: 1 / 0, evaluate: (a2) => {
  let e5 = "";
  for (let r3 = 0; r3 < a2.length; r3++) {
    if (null == a2[r3])
      return null;
    e5 += a2[r3].toString();
  }
  return e5;
} }, lower: { minParams: 1, maxParams: 1, evaluate: (a2) => null == a2[0] ? null : a2[0].toString().toLowerCase() }, upper: { minParams: 1, maxParams: 1, evaluate: (a2) => null == a2[0] ? null : a2[0].toString().toUpperCase() } };

// node_modules/@arcgis/core/core/sql/WhereGrammar.js
var n3;
var t3;
var e4 = { exports: {} };
t3 = function() {
  function r3(r4, n5) {
    function t5() {
      this.constructor = r4;
    }
    t5.prototype = n5.prototype, r4.prototype = new t5();
  }
  function n4(r4, t5, e6, u3) {
    var o3 = Error.call(this, r4);
    return Object.setPrototypeOf && Object.setPrototypeOf(o3, n4.prototype), o3.expected = t5, o3.found = e6, o3.location = u3, o3.name = "SyntaxError", o3;
  }
  function t4(r4, n5, t5) {
    return t5 = t5 || " ", r4.length > n5 ? r4 : (n5 -= r4.length, r4 + (t5 += t5.repeat(n5)).slice(0, n5));
  }
  function e5(r4, t5) {
    var e6, u3 = {}, o3 = (t5 = void 0 !== t5 ? t5 : {}).grammarSource, i2 = { start: ke }, s = ke, a2 = "!", c2 = "=", f2 = ">=", l3 = ">", p2 = "<=", v2 = "<>", d2 = "<", h2 = "!=", y2 = "+", b2 = "-", A2 = "*", g2 = "/", C = "@", m2 = "'", E2 = "N'", x2 = "''", L = ".", w2 = "null", T2 = "true", N2 = "false", O2 = "in", R = "is", F2 = "like", I2 = "escape", S2 = "not", M2 = "and", D2 = "or", H = "between", j = "from", U = "for", P = "substring", _2 = "extract", B = "trim", z = "position", G = "timestamp", Z = "date", W = "leading", Y = "trailing", k = "both", q = "to", K = "interval", V = "year", X = "month", $ = "day", J2 = "hour", Q = "minute", rr = "second", nr = "case", tr = "end", er = "when", ur = "then", or = "else", ir = ",", sr = "(", ar = ")", cr = "`", fr = /^[A-Za-z_\x80-\uFFFF]/, lr = /^[A-Za-z0-9_]/, pr = /^[A-Za-z0-9_.\x80-\uFFFF]/, vr = /^[^']/, dr = /^[0-9]/, hr = /^[eE]/, yr = /^[+\-]/, br = /^[ \t\n\r]/, Ar = /^[^`]/, gr = _e("!", false), Cr = _e("=", false), mr = _e(">=", false), Er = _e(">", false), xr = _e("<=", false), Lr = _e("<>", false), wr = _e("<", false), Tr = _e("!=", false), Nr = _e("+", false), Or = _e("-", false), Rr = _e("*", false), Fr = _e("/", false), Ir = Be([["A", "Z"], ["a", "z"], "_", ["\x80", "\uFFFF"]], false, false), Sr = Be([["A", "Z"], ["a", "z"], ["0", "9"], "_"], false, false), Mr = Be([["A", "Z"], ["a", "z"], ["0", "9"], "_", ".", ["\x80", "\uFFFF"]], false, false), Dr = _e("@", false), Hr = _e("'", false), jr = _e("N'", false), Ur = _e("''", false), Pr = Be(["'"], true, false), _r = _e(".", false), Br = Be([["0", "9"]], false, false), zr = Be(["e", "E"], false, false), Gr = Be(["+", "-"], false, false), Zr = _e("NULL", true), Wr = _e("TRUE", true), Yr = _e("FALSE", true), kr = _e("IN", true), qr = _e("IS", true), Kr = _e("LIKE", true), Vr = _e("ESCAPE", true), Xr = _e("NOT", true), $r = _e("AND", true), Jr = _e("OR", true), Qr = _e("BETWEEN", true), rn = _e("FROM", true), nn = _e("FOR", true), tn = _e("SUBSTRING", true), en = _e("EXTRACT", true), un = _e("TRIM", true), on = _e("POSITION", true), sn = _e("TIMESTAMP", true), an = _e("DATE", true), cn = _e("LEADING", true), fn = _e("TRAILING", true), ln = _e("BOTH", true), pn = _e("TO", true), vn = _e("INTERVAL", true), dn = _e("YEAR", true), hn = _e("MONTH", true), yn = _e("DAY", true), bn = _e("HOUR", true), An = _e("MINUTE", true), gn = _e("SECOND", true), Cn = _e("CASE", true), mn = _e("END", true), En = _e("WHEN", true), xn = _e("THEN", true), Ln = _e("ELSE", true), wn = _e(",", false), Tn = _e("(", false), Nn = _e(")", false), On = Be([" ", "	", "\n", "\r"], false, false), Rn = _e("`", false), Fn = Be(["`"], true, false), In = function(r5) {
      return r5;
    }, Sn = function(r5, n5) {
      var t6 = { type: "expression-list" }, e7 = qo(r5, n5);
      return t6.value = e7, t6;
    }, Mn = function(r5, n5) {
      return Ko(r5, n5);
    }, Dn = function(r5, n5) {
      return Ko(r5, n5);
    }, Hn = function(r5) {
      return Wo("NOT", r5);
    }, jn = function(r5, n5) {
      return "" == n5 || null == n5 || null == n5 ? r5 : "arithmetic" == n5.type ? Ko(r5, n5.tail) : Yo(n5.op, r5, n5.right, n5.escape);
    }, Un = function(r5) {
      return { type: "arithmetic", tail: r5 };
    }, Pn = function(r5, n5) {
      return { op: r5 + "NOT", right: n5 };
    }, _n = function(r5, n5) {
      return { op: r5, right: n5 };
    }, Bn = function(r5, n5, t6) {
      return { op: "NOT" + r5, right: { type: "expression-list", value: [n5, t6] } };
    }, zn = function(r5, n5, t6) {
      return { op: r5, right: { type: "expression-list", value: [n5, t6] } };
    }, Gn = function(r5) {
      return r5[0] + " " + r5[2];
    }, Zn = function(r5) {
      return r5[0] + " " + r5[2];
    }, Wn = function(r5, n5, t6) {
      return { op: r5, right: n5, escape: t6.value };
    }, Yn = function(r5, n5) {
      return { op: r5, right: n5, escape: "" };
    }, kn = function(r5, n5) {
      return { op: r5, right: n5 };
    }, qn = function(r5) {
      return { op: r5, right: { type: "expression-list", value: [] } };
    }, Kn = function(r5, n5) {
      return { op: r5, right: n5 };
    }, Vn = function(r5, n5) {
      return Ko(r5, n5);
    }, Xn = function(r5, n5) {
      return Ko(r5, n5);
    }, $n = function(r5) {
      return r5.paren = true, r5;
    }, Jn = function(r5) {
      return /^CURRENT_DATE$/i.test(r5) ? { type: "current-time", mode: "date" } : /^CURRENT_TIMESTAMP$/i.test(r5) ? { type: "current-time", mode: "timestamp" } : { type: "column-reference", table: "", column: r5 };
    }, Qn = function(r5) {
      return r5;
    }, rt = function(r5, n5) {
      return r5 + n5.join("");
    }, nt = function(r5, n5) {
      return r5 + n5.join("");
    }, tt = function(r5) {
      return { type: "parameter", value: r5[1] };
    }, et = function(r5, n5) {
      return { type: "function", name: "extract", args: { type: "expression-list", value: [{ type: "string", value: r5 }, n5] } };
    }, ut = function(r5, n5, t6) {
      return { type: "function", name: "substring", args: { type: "expression-list", value: t6 ? [r5, n5, t6[2]] : [r5, n5] } };
    }, ot = function(r5, n5, t6) {
      return { type: "function", name: "trim", args: { type: "expression-list", value: [{ type: "string", value: r5 != null ? r5 : "BOTH" }, n5, t6] } };
    }, it = function(r5, n5) {
      return { type: "function", name: "trim", args: { type: "expression-list", value: [{ type: "string", value: r5 != null ? r5 : "BOTH" }, n5] } };
    }, st = function(r5, n5) {
      return { type: "function", name: "position", args: { type: "expression-list", value: [r5, n5] } };
    }, at = function(r5, n5) {
      return { type: "function", name: r5, args: n5 || { type: "expression-list", value: [] } };
    }, ct = function(r5) {
      return { type: "timestamp", value: r5.value };
    }, ft = function(r5, n5, t6) {
      return { type: "interval", value: n5, qualifier: t6, op: r5 };
    }, lt = function(r5, n5) {
      return { type: "interval", value: r5, qualifier: n5, op: "" };
    }, pt = function(r5, n5) {
      return { type: "interval-qualifier", start: r5, end: n5 };
    }, vt = function(r5, n5) {
      return { type: "interval-period", period: r5.value, precision: n5, secondary: null };
    }, dt = function(r5) {
      return { type: "interval-period", period: r5.value, precision: null, secondary: null };
    }, ht = function(r5) {
      return { type: "interval-period", period: r5.value, precision: null, secondary: null };
    }, yt = function(r5, n5) {
      return { type: "interval-period", period: "second", precision: r5, secondary: n5 };
    }, bt = function(r5) {
      return { type: "interval-period", period: "second", precision: r5, secondary: null };
    }, At = function() {
      return { type: "interval-period", period: "second", precision: null, secondary: null };
    }, gt = function(r5, n5) {
      return { type: "interval-period", period: r5.value, precision: n5, secondary: null };
    }, Ct = function(r5) {
      return { type: "interval-period", period: r5.value, precision: null, secondary: null };
    }, mt = function(r5, n5) {
      return { type: "interval-period", period: "second", precision: r5, secondary: n5 };
    }, Et = function(r5) {
      return { type: "interval-period", period: "second", precision: r5, secondary: null };
    }, xt = function() {
      return { type: "interval-period", period: "second", precision: null, secondary: null };
    }, Lt = function() {
      return { type: "string", value: "day" };
    }, wt = function() {
      return { type: "string", value: "hour" };
    }, Tt = function() {
      return { type: "string", value: "minute" };
    }, Nt = function() {
      return { type: "string", value: "month" };
    }, Ot = function() {
      return { type: "string", value: "year" };
    }, Rt = function(r5) {
      return parseFloat(r5);
    }, Ft = function(r5) {
      return parseFloat(r5);
    }, It = function(r5) {
      return { type: "date", value: r5.value };
    }, St = function() {
      return { type: "null", value: null };
    }, Mt = function() {
      return { type: "boolean", value: true };
    }, Dt = function() {
      return { type: "boolean", value: false };
    }, Ht = function() {
      return "'";
    }, jt = function(r5) {
      return { type: "string", value: r5.join("") };
    }, Ut = function(r5, n5) {
      return { type: "case-expression", format: "simple", operand: r5, clauses: n5, else: null };
    }, Pt = function(r5, n5, t6) {
      return { type: "case-expression", format: "simple", operand: r5, clauses: n5, else: t6.value };
    }, _t = function(r5) {
      return { type: "case-expression", format: "searched", clauses: r5, else: null };
    }, Bt = function(r5, n5) {
      return { type: "case-expression", format: "searched", clauses: r5, else: n5.value };
    }, zt = function(r5, n5) {
      return { type: "when-clause", operand: r5, value: n5 };
    }, Gt = function(r5, n5) {
      return { type: "when-clause", operand: r5, value: n5 };
    }, Zt = function(r5) {
      return { type: "else-clause", value: r5 };
    }, Wt = function(r5) {
      return { type: "number", value: r5 };
    }, Yt = function(r5, n5, t6) {
      return parseFloat(r5 + n5 + t6);
    }, kt = function(r5, n5) {
      return parseFloat(r5 + n5);
    }, qt = function(r5, n5) {
      return parseFloat(r5 + n5);
    }, Kt = function(r5) {
      return parseFloat(r5);
    }, Vt = function(r5, n5) {
      return r5[0] + n5;
    }, Xt = function(r5) {
      return "." + (null != r5 ? r5 : "");
    }, $t = function(r5, n5) {
      return r5 + n5;
    }, Jt = function(r5) {
      return r5.join("");
    }, Qt = function(r5, n5) {
      return "e" + (null === n5 ? "" : n5);
    }, re = function() {
      return "IN";
    }, ne = function() {
      return "IS";
    }, te = function() {
      return "LIKE";
    }, ee = function() {
      return "ESCAPE";
    }, ue = function() {
      return "NOT";
    }, oe = function() {
      return "AND";
    }, ie = function() {
      return "OR";
    }, se = function() {
      return "BETWEEN";
    }, ae = function() {
      return "FROM";
    }, ce = function() {
      return "FOR";
    }, fe = function() {
      return "SUBSTRING";
    }, le = function() {
      return "EXTRACT";
    }, pe = function() {
      return "TRIM";
    }, ve = function() {
      return "POSITION";
    }, de = function() {
      return "TIMESTAMP";
    }, he = function() {
      return "DATE";
    }, ye = function() {
      return "LEADING";
    }, be = function() {
      return "TRAILING";
    }, Ae = function() {
      return "BOTH";
    }, ge = function() {
      return "TO";
    }, Ce = function() {
      return "INTERVAL";
    }, me = function() {
      return "YEAR";
    }, Ee = function() {
      return "MONTH";
    }, xe = function() {
      return "DAY";
    }, Le = function() {
      return "HOUR";
    }, we = function() {
      return "MINUTE";
    }, Te = function() {
      return "SECOND";
    }, Ne = function() {
      return "CASE";
    }, Oe = function() {
      return "END";
    }, Re = function() {
      return "WHEN";
    }, Fe = function() {
      return "THEN";
    }, Ie = function() {
      return "ELSE";
    }, Se = function(r5) {
      return r5;
    }, Me = function(r5) {
      return r5.join("");
    }, De = 0, He = [{ line: 1, column: 1 }], je = 0, Ue = [], Pe = 0;
    if ("startRule" in t5) {
      if (!(t5.startRule in i2))
        throw new Error(`Can't start parsing from rule "` + t5.startRule + '".');
      s = i2[t5.startRule];
    }
    function _e(r5, n5) {
      return { type: "literal", text: r5, ignoreCase: n5 };
    }
    function Be(r5, n5, t6) {
      return { type: "class", parts: r5, inverted: n5, ignoreCase: t6 };
    }
    function ze() {
      return { type: "end" };
    }
    function Ge(n5) {
      var t6, e7 = He[n5];
      if (e7)
        return e7;
      for (t6 = n5 - 1; !He[t6]; )
        t6--;
      for (e7 = { line: (e7 = He[t6]).line, column: e7.column }; t6 < n5; )
        10 === r4.charCodeAt(t6) ? (e7.line++, e7.column = 1) : e7.column++, t6++;
      return He[n5] = e7, e7;
    }
    function Ze(r5, n5) {
      var t6 = Ge(r5), e7 = Ge(n5);
      return { source: o3, start: { offset: r5, line: t6.line, column: t6.column }, end: { offset: n5, line: e7.line, column: e7.column } };
    }
    function We(r5) {
      De < je || (De > je && (je = De, Ue = []), Ue.push(r5));
    }
    function Ye(r5, t6, e7) {
      return new n4(n4.buildMessage(r5, t6), r5, t6, e7);
    }
    function ke() {
      var r5, n5;
      return r5 = De, zo(), (n5 = Ke()) !== u3 ? (zo(), r5 = In(n5)) : (De = r5, r5 = u3), r5;
    }
    function qe() {
      var r5, n5, t6, e7, o4, i3, s2, a3;
      if (r5 = De, (n5 = Ke()) !== u3) {
        for (t6 = [], e7 = De, o4 = zo(), (i3 = Po()) !== u3 ? (s2 = zo(), (a3 = Ke()) !== u3 ? e7 = o4 = [o4, i3, s2, a3] : (De = e7, e7 = u3)) : (De = e7, e7 = u3); e7 !== u3; )
          t6.push(e7), e7 = De, o4 = zo(), (i3 = Po()) !== u3 ? (s2 = zo(), (a3 = Ke()) !== u3 ? e7 = o4 = [o4, i3, s2, a3] : (De = e7, e7 = u3)) : (De = e7, e7 = u3);
        r5 = Sn(n5, t6);
      } else
        De = r5, r5 = u3;
      return r5;
    }
    function Ke() {
      var r5, n5, t6, e7, o4, i3, s2, a3;
      if (r5 = De, (n5 = Ve()) !== u3) {
        for (t6 = [], e7 = De, o4 = zo(), (i3 = lo()) !== u3 ? (s2 = zo(), (a3 = Ve()) !== u3 ? e7 = o4 = [o4, i3, s2, a3] : (De = e7, e7 = u3)) : (De = e7, e7 = u3); e7 !== u3; )
          t6.push(e7), e7 = De, o4 = zo(), (i3 = lo()) !== u3 ? (s2 = zo(), (a3 = Ve()) !== u3 ? e7 = o4 = [o4, i3, s2, a3] : (De = e7, e7 = u3)) : (De = e7, e7 = u3);
        r5 = Mn(n5, t6);
      } else
        De = r5, r5 = u3;
      return r5;
    }
    function Ve() {
      var r5, n5, t6, e7, o4, i3, s2, a3;
      if (r5 = De, (n5 = Xe()) !== u3) {
        for (t6 = [], e7 = De, o4 = zo(), (i3 = fo()) !== u3 ? (s2 = zo(), (a3 = Xe()) !== u3 ? e7 = o4 = [o4, i3, s2, a3] : (De = e7, e7 = u3)) : (De = e7, e7 = u3); e7 !== u3; )
          t6.push(e7), e7 = De, o4 = zo(), (i3 = fo()) !== u3 ? (s2 = zo(), (a3 = Xe()) !== u3 ? e7 = o4 = [o4, i3, s2, a3] : (De = e7, e7 = u3)) : (De = e7, e7 = u3);
        r5 = Dn(n5, t6);
      } else
        De = r5, r5 = u3;
      return r5;
    }
    function Xe() {
      var n5, t6, e7, o4, i3;
      return n5 = De, (t6 = co()) === u3 && (t6 = De, 33 === r4.charCodeAt(De) ? (e7 = a2, De++) : (e7 = u3, 0 === Pe && We(gr)), e7 !== u3 ? (o4 = De, Pe++, 61 === r4.charCodeAt(De) ? (i3 = c2, De++) : (i3 = u3, 0 === Pe && We(Cr)), Pe--, i3 === u3 ? o4 = void 0 : (De = o4, o4 = u3), o4 !== u3 ? t6 = e7 = [e7, o4] : (De = t6, t6 = u3)) : (De = t6, t6 = u3)), t6 !== u3 ? (e7 = zo(), (o4 = Xe()) !== u3 ? n5 = Hn(o4) : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5 === u3 && (n5 = $e()), n5;
    }
    function $e() {
      var r5, n5, t6;
      return r5 = De, (n5 = su()) !== u3 ? (zo(), (t6 = Je()) === u3 && (t6 = null), r5 = jn(n5, t6)) : (De = r5, r5 = u3), r5;
    }
    function Je() {
      var r5;
      return (r5 = Qe()) === u3 && (r5 = iu()) === u3 && (r5 = tu()) === u3 && (r5 = nu()) === u3 && (r5 = ou()), r5;
    }
    function Qe() {
      var r5, n5, t6, e7, o4, i3;
      if (r5 = [], n5 = De, t6 = zo(), (e7 = ru()) !== u3 ? (o4 = zo(), (i3 = su()) !== u3 ? n5 = t6 = [t6, e7, o4, i3] : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5 !== u3)
        for (; n5 !== u3; )
          r5.push(n5), n5 = De, t6 = zo(), (e7 = ru()) !== u3 ? (o4 = zo(), (i3 = su()) !== u3 ? n5 = t6 = [t6, e7, o4, i3] : (De = n5, n5 = u3)) : (De = n5, n5 = u3);
      else
        r5 = u3;
      return r5 !== u3 && (r5 = Un(r5)), r5;
    }
    function ru() {
      var n5;
      return r4.substr(De, 2) === f2 ? (n5 = f2, De += 2) : (n5 = u3, 0 === Pe && We(mr)), n5 === u3 && (62 === r4.charCodeAt(De) ? (n5 = l3, De++) : (n5 = u3, 0 === Pe && We(Er)), n5 === u3 && (r4.substr(De, 2) === p2 ? (n5 = p2, De += 2) : (n5 = u3, 0 === Pe && We(xr)), n5 === u3 && (r4.substr(De, 2) === v2 ? (n5 = v2, De += 2) : (n5 = u3, 0 === Pe && We(Lr)), n5 === u3 && (60 === r4.charCodeAt(De) ? (n5 = d2, De++) : (n5 = u3, 0 === Pe && We(wr)), n5 === u3 && (61 === r4.charCodeAt(De) ? (n5 = c2, De++) : (n5 = u3, 0 === Pe && We(Cr)), n5 === u3 && (r4.substr(De, 2) === h2 ? (n5 = h2, De += 2) : (n5 = u3, 0 === Pe && We(Tr)))))))), n5;
    }
    function nu() {
      var r5, n5, t6, e7;
      return r5 = De, (n5 = io()) !== u3 ? (zo(), (t6 = co()) !== u3 ? (zo(), (e7 = su()) !== u3 ? r5 = Pn(n5, e7) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3), r5 === u3 && (r5 = De, (n5 = io()) !== u3 ? (zo(), (t6 = su()) !== u3 ? r5 = _n(n5, t6) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)), r5;
    }
    function tu() {
      var r5, n5, t6, e7, o4, i3;
      return r5 = De, (n5 = co()) !== u3 ? (zo(), (t6 = po()) !== u3 ? (zo(), (e7 = su()) !== u3 ? (zo(), (o4 = fo()) !== u3 ? (zo(), (i3 = su()) !== u3 ? r5 = Bn(t6, e7, i3) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3), r5 === u3 && (r5 = De, (n5 = po()) !== u3 ? (zo(), (t6 = su()) !== u3 ? (zo(), (e7 = fo()) !== u3 ? (zo(), (o4 = su()) !== u3 ? r5 = zn(n5, t6, o4) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)), r5;
    }
    function eu() {
      var r5, n5, t6, e7, o4;
      return r5 = De, n5 = De, (t6 = co()) !== u3 ? (e7 = zo(), (o4 = so()) !== u3 ? n5 = t6 = [t6, e7, o4] : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5 !== u3 && (n5 = Gn(n5)), (r5 = n5) === u3 && (r5 = so()), r5;
    }
    function uu() {
      var r5, n5, t6, e7, o4;
      return r5 = De, n5 = De, (t6 = co()) !== u3 ? (e7 = zo(), (o4 = oo()) !== u3 ? n5 = t6 = [t6, e7, o4] : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5 !== u3 && (n5 = Zn(n5)), (r5 = n5) === u3 && (r5 = oo()), r5;
    }
    function ou() {
      var r5, n5, t6, e7;
      return r5 = De, (n5 = eu()) !== u3 ? (zo(), (t6 = Bu()) !== u3 ? (zo(), ao() !== u3 ? (zo(), (e7 = zu()) !== u3 ? r5 = Wn(n5, t6, e7) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3), r5 === u3 && (r5 = De, (n5 = eu()) !== u3 ? (zo(), (t6 = Bu()) !== u3 ? r5 = Yn(n5, t6) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)), r5;
    }
    function iu() {
      var r5, n5, t6, e7;
      return r5 = De, (n5 = uu()) !== u3 ? (zo(), (t6 = _o()) !== u3 ? (zo(), (e7 = qe()) !== u3 ? (zo(), Bo() !== u3 ? r5 = kn(n5, e7) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3), r5 === u3 && (r5 = De, (n5 = uu()) !== u3 ? (zo(), (t6 = _o()) !== u3 ? (zo(), (e7 = Bo()) !== u3 ? r5 = qn(n5) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3), r5 === u3 && (r5 = De, (n5 = uu()) !== u3 ? (zo(), (t6 = gu()) !== u3 ? r5 = Kn(n5, t6) : (De = r5, r5 = u3)) : (De = r5, r5 = u3))), r5;
    }
    function su() {
      var r5, n5, t6, e7, o4, i3, s2, a3;
      if (r5 = De, (n5 = cu()) !== u3) {
        for (t6 = [], e7 = De, o4 = zo(), (i3 = au()) !== u3 ? (s2 = zo(), (a3 = cu()) !== u3 ? e7 = o4 = [o4, i3, s2, a3] : (De = e7, e7 = u3)) : (De = e7, e7 = u3); e7 !== u3; )
          t6.push(e7), e7 = De, o4 = zo(), (i3 = au()) !== u3 ? (s2 = zo(), (a3 = cu()) !== u3 ? e7 = o4 = [o4, i3, s2, a3] : (De = e7, e7 = u3)) : (De = e7, e7 = u3);
        r5 = Vn(n5, t6);
      } else
        De = r5, r5 = u3;
      return r5;
    }
    function au() {
      var n5;
      return 43 === r4.charCodeAt(De) ? (n5 = y2, De++) : (n5 = u3, 0 === Pe && We(Nr)), n5 === u3 && (45 === r4.charCodeAt(De) ? (n5 = b2, De++) : (n5 = u3, 0 === Pe && We(Or))), n5;
    }
    function cu() {
      var r5, n5, t6, e7, o4, i3, s2, a3;
      if (r5 = De, (n5 = lu()) !== u3) {
        for (t6 = [], e7 = De, o4 = zo(), (i3 = fu()) !== u3 ? (s2 = zo(), (a3 = lu()) !== u3 ? e7 = o4 = [o4, i3, s2, a3] : (De = e7, e7 = u3)) : (De = e7, e7 = u3); e7 !== u3; )
          t6.push(e7), e7 = De, o4 = zo(), (i3 = fu()) !== u3 ? (s2 = zo(), (a3 = lu()) !== u3 ? e7 = o4 = [o4, i3, s2, a3] : (De = e7, e7 = u3)) : (De = e7, e7 = u3);
        r5 = Xn(n5, t6);
      } else
        De = r5, r5 = u3;
      return r5;
    }
    function fu() {
      var n5;
      return 42 === r4.charCodeAt(De) ? (n5 = A2, De++) : (n5 = u3, 0 === Pe && We(Rr)), n5 === u3 && (47 === r4.charCodeAt(De) ? (n5 = g2, De++) : (n5 = u3, 0 === Pe && We(Fr))), n5;
    }
    function lu() {
      var r5, n5;
      return (r5 = Nu()) === u3 && (r5 = Cu()) === u3 && (r5 = mu()) === u3 && (r5 = Eu()) === u3 && (r5 = Lu()) === u3 && (r5 = wu()) === u3 && (r5 = Gu()) === u3 && (r5 = pu()) === u3 && (r5 = gu()) === u3 && (r5 = De, _o() !== u3 ? (zo(), (n5 = Ke()) !== u3 ? (zo(), Bo() !== u3 ? r5 = $n(n5) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)), r5;
    }
    function pu() {
      var r5;
      return (r5 = vu()) !== u3 && (r5 = Jn(r5)), r5;
    }
    function vu() {
      var r5;
      return (r5 = du()) !== u3 && (r5 = Qn(r5)), r5;
    }
    function du() {
      var r5, n5, t6, e7;
      if (r5 = De, (n5 = yu()) !== u3) {
        for (t6 = [], e7 = Au(); e7 !== u3; )
          t6.push(e7), e7 = Au();
        r5 = rt(n5, t6);
      } else
        De = r5, r5 = u3;
      return r5;
    }
    function hu() {
      var r5, n5, t6, e7;
      if (r5 = De, (n5 = yu()) !== u3) {
        for (t6 = [], e7 = bu(); e7 !== u3; )
          t6.push(e7), e7 = bu();
        r5 = nt(n5, t6);
      } else
        De = r5, r5 = u3;
      return r5;
    }
    function yu() {
      var n5;
      return fr.test(r4.charAt(De)) ? (n5 = r4.charAt(De), De++) : (n5 = u3, 0 === Pe && We(Ir)), n5;
    }
    function bu() {
      var n5;
      return lr.test(r4.charAt(De)) ? (n5 = r4.charAt(De), De++) : (n5 = u3, 0 === Pe && We(Sr)), n5;
    }
    function Au() {
      var n5;
      return pr.test(r4.charAt(De)) ? (n5 = r4.charAt(De), De++) : (n5 = u3, 0 === Pe && We(Mr)), n5;
    }
    function gu() {
      var n5, t6, e7;
      return n5 = De, 64 === r4.charCodeAt(De) ? (t6 = C, De++) : (t6 = u3, 0 === Pe && We(Dr)), t6 !== u3 && (e7 = hu()) !== u3 ? n5 = t6 = [t6, e7] : (De = n5, n5 = u3), n5 !== u3 && (n5 = tt(n5)), n5;
    }
    function Cu() {
      var r5, n5, t6;
      return r5 = De, bo() !== u3 ? (zo(), _o() !== u3 ? (zo(), (n5 = Tu()) !== u3 ? (zo(), vo() !== u3 ? (zo(), (t6 = Ke()) !== u3 ? (zo(), Bo() !== u3 ? r5 = et(n5, t6) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3), r5;
    }
    function mu() {
      var r5, n5, t6, e7, o4, i3, s2;
      return r5 = De, yo() !== u3 ? (zo(), _o() !== u3 ? (zo(), (n5 = Ke()) !== u3 ? (zo(), vo() !== u3 ? (zo(), (t6 = Ke()) !== u3 ? (zo(), e7 = De, (o4 = ho()) !== u3 ? (i3 = zo(), (s2 = Ke()) !== u3 ? e7 = o4 = [o4, i3, s2, zo()] : (De = e7, e7 = u3)) : (De = e7, e7 = u3), e7 === u3 && (e7 = null), (o4 = Bo()) !== u3 ? r5 = ut(n5, t6, e7) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3), r5;
    }
    function Eu() {
      var r5, n5, t6, e7;
      return r5 = De, Ao() !== u3 ? (zo(), _o() !== u3 ? (zo(), (n5 = xu()) === u3 && (n5 = null), zo(), (t6 = Ke()) !== u3 ? (zo(), vo() !== u3 ? (zo(), (e7 = Ke()) !== u3 ? (zo(), Bo() !== u3 ? r5 = ot(n5, t6, e7) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3), r5 === u3 && (r5 = De, Ao() !== u3 ? (zo(), _o() !== u3 ? (zo(), (n5 = xu()) === u3 && (n5 = null), zo(), (t6 = Ke()) !== u3 ? (zo(), Bo() !== u3 ? r5 = it(n5, t6) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)), r5;
    }
    function xu() {
      var r5;
      return (r5 = Eo()) === u3 && (r5 = xo()) === u3 && (r5 = Lo()), r5;
    }
    function Lu() {
      var r5, n5, t6;
      return r5 = De, go() !== u3 ? (zo(), _o() !== u3 ? (zo(), (n5 = Ke()) !== u3 ? (zo(), oo() !== u3 ? (zo(), (t6 = Ke()) !== u3 ? (zo(), Bo() !== u3 ? r5 = st(n5, t6) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3), r5;
    }
    function wu() {
      var r5, n5, t6;
      return r5 = De, (n5 = Zo()) !== u3 ? (zo(), _o() !== u3 ? (zo(), (t6 = qe()) === u3 && (t6 = null), zo(), Bo() !== u3 ? r5 = at(n5, t6) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3), r5;
    }
    function Tu() {
      var r5;
      return (r5 = No()) === u3 && (r5 = Oo()) === u3 && (r5 = Ro()) === u3 && (r5 = Fo()) === u3 && (r5 = Io()) === u3 && (r5 = So()), r5;
    }
    function Nu() {
      var r5;
      return (r5 = zu()) === u3 && (r5 = Ku()) === u3 && (r5 = _u()) === u3 && (r5 = Pu()) === u3 && (r5 = Uu()) === u3 && (r5 = Ou()) === u3 && (r5 = Ru()), r5;
    }
    function Ou() {
      var r5, n5;
      return r5 = De, Co() !== u3 ? (zo(), (n5 = Bu()) !== u3 ? r5 = ct(n5) : (De = r5, r5 = u3)) : (De = r5, r5 = u3), r5;
    }
    function Ru() {
      var n5, t6, e7, o4;
      return n5 = De, To() !== u3 ? (zo(), 45 === r4.charCodeAt(De) ? (t6 = b2, De++) : (t6 = u3, 0 === Pe && We(Or)), t6 === u3 && (43 === r4.charCodeAt(De) ? (t6 = y2, De++) : (t6 = u3, 0 === Pe && We(Nr))), t6 !== u3 ? (zo(), (e7 = Bu()) !== u3 ? (zo(), (o4 = Fu()) !== u3 ? n5 = ft(t6, e7, o4) : (De = n5, n5 = u3)) : (De = n5, n5 = u3)) : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5 === u3 && (n5 = De, To() !== u3 ? (zo(), (t6 = Bu()) !== u3 ? (zo(), (e7 = Fu()) !== u3 ? n5 = lt(t6, e7) : (De = n5, n5 = u3)) : (De = n5, n5 = u3)) : (De = n5, n5 = u3)), n5;
    }
    function Fu() {
      var r5, n5, t6;
      return r5 = De, (n5 = Iu()) !== u3 ? (zo(), wo() !== u3 ? (zo(), (t6 = Su()) !== u3 ? r5 = pt(n5, t6) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3), r5 === u3 && (r5 = Mu()), r5;
    }
    function Iu() {
      var r5, n5, t6;
      return r5 = De, (n5 = Du()) !== u3 ? (zo(), _o() !== u3 ? (zo(), (t6 = ju()) !== u3 ? (zo(), Bo() !== u3 ? r5 = vt(n5, t6) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3), r5 === u3 && (r5 = De, (n5 = Du()) !== u3 && (n5 = dt(n5)), r5 = n5), r5;
    }
    function Su() {
      var r5, n5, t6, e7;
      return r5 = De, (n5 = Du()) !== u3 && (n5 = ht(n5)), (r5 = n5) === u3 && (r5 = De, (n5 = So()) !== u3 ? (zo(), _o() !== u3 ? (zo(), (t6 = ju()) !== u3 ? (zo(), Po() !== u3 ? (zo(), (e7 = Hu()) !== u3 ? (zo(), Bo() !== u3 ? r5 = yt(t6, e7) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3), r5 === u3 && (r5 = De, (n5 = So()) !== u3 ? (zo(), _o() !== u3 ? (zo(), (t6 = ju()) !== u3 ? (zo(), Bo() !== u3 ? r5 = bt(t6) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3), r5 === u3 && (r5 = De, (n5 = So()) !== u3 && (n5 = At()), r5 = n5))), r5;
    }
    function Mu() {
      var r5, n5, t6, e7;
      return r5 = De, (n5 = Du()) !== u3 ? (zo(), _o() !== u3 ? (zo(), (t6 = Hu()) !== u3 ? (zo(), Bo() !== u3 ? r5 = gt(n5, t6) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3), r5 === u3 && (r5 = De, (n5 = Du()) !== u3 && (n5 = Ct(n5)), (r5 = n5) === u3 && (r5 = De, (n5 = So()) !== u3 ? (zo(), _o() !== u3 ? (zo(), (t6 = ju()) !== u3 ? (zo(), Po() !== u3 ? (zo(), (e7 = Hu()) !== u3 ? (zo(), Bo() !== u3 ? r5 = mt(t6, e7) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3), r5 === u3 && (r5 = De, (n5 = So()) !== u3 ? (zo(), _o() !== u3 ? (zo(), (t6 = Hu()) !== u3 ? (zo(), Bo() !== u3 ? r5 = Et(t6) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3), r5 === u3 && (r5 = De, (n5 = So()) !== u3 && (n5 = xt()), r5 = n5)))), r5;
    }
    function Du() {
      var r5, n5;
      return r5 = De, (n5 = Ro()) !== u3 && (n5 = Lt()), (r5 = n5) === u3 && (r5 = De, (n5 = Fo()) !== u3 && (n5 = wt()), (r5 = n5) === u3 && (r5 = De, (n5 = Io()) !== u3 && (n5 = Tt()), (r5 = n5) === u3 && (r5 = De, (n5 = Oo()) !== u3 && (n5 = Nt()), (r5 = n5) === u3 && (r5 = De, (n5 = No()) !== u3 && (n5 = Ot()), r5 = n5)))), r5;
    }
    function Hu() {
      var r5;
      return (r5 = Qu()) !== u3 && (r5 = Rt(r5)), r5;
    }
    function ju() {
      var r5;
      return (r5 = Qu()) !== u3 && (r5 = Ft(r5)), r5;
    }
    function Uu() {
      var r5, n5;
      return r5 = De, mo() !== u3 ? (zo(), (n5 = Bu()) !== u3 ? r5 = It(n5) : (De = r5, r5 = u3)) : (De = r5, r5 = u3), r5;
    }
    function Pu() {
      var r5;
      return (r5 = to()) !== u3 && (r5 = St()), r5;
    }
    function _u() {
      var r5, n5;
      return r5 = De, (n5 = eo()) !== u3 && (n5 = Mt()), (r5 = n5) === u3 && (r5 = De, (n5 = uo()) !== u3 && (n5 = Dt()), r5 = n5), r5;
    }
    function Bu() {
      var r5;
      return (r5 = zu()) === u3 && (r5 = gu()), r5;
    }
    function zu() {
      var n5, t6, e7, o4, i3;
      if (n5 = De, 39 === r4.charCodeAt(De) ? (t6 = m2, De++) : (t6 = u3, 0 === Pe && We(Hr)), t6 === u3 && (r4.substr(De, 2) === E2 ? (t6 = E2, De += 2) : (t6 = u3, 0 === Pe && We(jr))), t6 !== u3) {
        for (e7 = [], o4 = De, r4.substr(De, 2) === x2 ? (i3 = x2, De += 2) : (i3 = u3, 0 === Pe && We(Ur)), i3 !== u3 && (i3 = Ht()), (o4 = i3) === u3 && (vr.test(r4.charAt(De)) ? (o4 = r4.charAt(De), De++) : (o4 = u3, 0 === Pe && We(Pr))); o4 !== u3; )
          e7.push(o4), o4 = De, r4.substr(De, 2) === x2 ? (i3 = x2, De += 2) : (i3 = u3, 0 === Pe && We(Ur)), i3 !== u3 && (i3 = Ht()), (o4 = i3) === u3 && (vr.test(r4.charAt(De)) ? (o4 = r4.charAt(De), De++) : (o4 = u3, 0 === Pe && We(Pr)));
        39 === r4.charCodeAt(De) ? (o4 = m2, De++) : (o4 = u3, 0 === Pe && We(Hr)), o4 !== u3 ? n5 = jt(e7) : (De = n5, n5 = u3);
      } else
        De = n5, n5 = u3;
      return n5;
    }
    function Gu() {
      var r5;
      return (r5 = Zu()) === u3 && (r5 = Wu()), r5;
    }
    function Zu() {
      var r5, n5, t6, e7, o4;
      if (r5 = De, Mo() !== u3)
        if (zo(), (n5 = Ke()) !== u3) {
          for (zo(), t6 = [], e7 = ku(); e7 !== u3; )
            t6.push(e7), e7 = ku();
          e7 = zo(), (o4 = Do()) !== u3 ? r5 = Ut(n5, t6) : (De = r5, r5 = u3);
        } else
          De = r5, r5 = u3;
      else
        De = r5, r5 = u3;
      if (r5 === u3)
        if (r5 = De, Mo() !== u3)
          if (zo(), (n5 = Ke()) !== u3) {
            for (zo(), t6 = [], e7 = ku(); e7 !== u3; )
              t6.push(e7), e7 = ku();
            e7 = zo(), (o4 = qu()) !== u3 ? (zo(), Do() !== u3 ? r5 = Pt(n5, t6, o4) : (De = r5, r5 = u3)) : (De = r5, r5 = u3);
          } else
            De = r5, r5 = u3;
        else
          De = r5, r5 = u3;
      return r5;
    }
    function Wu() {
      var r5, n5, t6, e7;
      if (r5 = De, Mo() !== u3) {
        for (zo(), n5 = [], t6 = Yu(); t6 !== u3; )
          n5.push(t6), t6 = Yu();
        t6 = zo(), (e7 = Do()) !== u3 ? r5 = _t(n5) : (De = r5, r5 = u3);
      } else
        De = r5, r5 = u3;
      if (r5 === u3)
        if (r5 = De, Mo() !== u3) {
          for (zo(), n5 = [], t6 = Yu(); t6 !== u3; )
            n5.push(t6), t6 = Yu();
          t6 = zo(), (e7 = qu()) !== u3 ? (zo(), Do() !== u3 ? r5 = Bt(n5, e7) : (De = r5, r5 = u3)) : (De = r5, r5 = u3);
        } else
          De = r5, r5 = u3;
      return r5;
    }
    function Yu() {
      var r5, n5, t6;
      return r5 = De, Ho() !== u3 ? (zo(), (n5 = Ke()) !== u3 ? (zo(), jo() !== u3 ? (zo(), (t6 = Ke()) !== u3 ? r5 = zt(n5, t6) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3), r5;
    }
    function ku() {
      var r5, n5, t6;
      return r5 = De, Ho() !== u3 ? (zo(), (n5 = Ke()) !== u3 ? (zo(), jo() !== u3 ? (zo(), (t6 = Ke()) !== u3 ? r5 = Gt(n5, t6) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3)) : (De = r5, r5 = u3), r5;
    }
    function qu() {
      var r5, n5;
      return r5 = De, Uo() !== u3 ? (zo(), (n5 = Ke()) !== u3 ? r5 = Zt(n5) : (De = r5, r5 = u3)) : (De = r5, r5 = u3), r5;
    }
    function Ku() {
      var r5, n5, t6, e7;
      return r5 = De, (n5 = Vu()) !== u3 ? (t6 = De, Pe++, e7 = yu(), Pe--, e7 === u3 ? t6 = void 0 : (De = t6, t6 = u3), t6 !== u3 ? r5 = Wt(n5) : (De = r5, r5 = u3)) : (De = r5, r5 = u3), r5;
    }
    function Vu() {
      var r5, n5, t6, e7;
      return r5 = De, (n5 = Xu()) !== u3 && (t6 = $u()) !== u3 && (e7 = Ju()) !== u3 ? r5 = Yt(n5, t6, e7) : (De = r5, r5 = u3), r5 === u3 && (r5 = De, (n5 = Xu()) !== u3 && (t6 = $u()) !== u3 ? r5 = kt(n5, t6) : (De = r5, r5 = u3), r5 === u3 && (r5 = De, (n5 = Xu()) !== u3 && (t6 = Ju()) !== u3 ? r5 = qt(n5, t6) : (De = r5, r5 = u3), r5 === u3 && (r5 = De, (n5 = Xu()) !== u3 && (n5 = Kt(n5)), r5 = n5))), r5;
    }
    function Xu() {
      var n5, t6, e7;
      return (n5 = Qu()) === u3 && (n5 = De, 45 === r4.charCodeAt(De) ? (t6 = b2, De++) : (t6 = u3, 0 === Pe && We(Or)), t6 === u3 && (43 === r4.charCodeAt(De) ? (t6 = y2, De++) : (t6 = u3, 0 === Pe && We(Nr))), t6 !== u3 && (e7 = Qu()) !== u3 ? n5 = Vt(t6, e7) : (De = n5, n5 = u3)), n5;
    }
    function $u() {
      var n5, t6, e7;
      return n5 = De, 46 === r4.charCodeAt(De) ? (t6 = L, De++) : (t6 = u3, 0 === Pe && We(_r)), t6 !== u3 ? ((e7 = Qu()) === u3 && (e7 = null), n5 = Xt(e7)) : (De = n5, n5 = u3), n5;
    }
    function Ju() {
      var r5, n5, t6;
      return r5 = De, (n5 = no()) !== u3 && (t6 = Qu()) !== u3 ? r5 = $t(n5, t6) : (De = r5, r5 = u3), r5;
    }
    function Qu() {
      var r5, n5;
      if (r5 = [], (n5 = ro()) !== u3)
        for (; n5 !== u3; )
          r5.push(n5), n5 = ro();
      else
        r5 = u3;
      return r5 !== u3 && (r5 = Jt(r5)), r5;
    }
    function ro() {
      var n5;
      return dr.test(r4.charAt(De)) ? (n5 = r4.charAt(De), De++) : (n5 = u3, 0 === Pe && We(Br)), n5;
    }
    function no() {
      var n5, t6, e7;
      return n5 = De, hr.test(r4.charAt(De)) ? (t6 = r4.charAt(De), De++) : (t6 = u3, 0 === Pe && We(zr)), t6 !== u3 ? (yr.test(r4.charAt(De)) ? (e7 = r4.charAt(De), De++) : (e7 = u3, 0 === Pe && We(Gr)), e7 === u3 && (e7 = null), n5 = Qt(t6, e7)) : (De = n5, n5 = u3), n5;
    }
    function to() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 4).toLowerCase() === w2 ? (t6 = r4.substr(De, 4), De += 4) : (t6 = u3, 0 === Pe && We(Zr)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = t6 = [t6, e7] : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function eo() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 4).toLowerCase() === T2 ? (t6 = r4.substr(De, 4), De += 4) : (t6 = u3, 0 === Pe && We(Wr)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = t6 = [t6, e7] : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function uo() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 5).toLowerCase() === N2 ? (t6 = r4.substr(De, 5), De += 5) : (t6 = u3, 0 === Pe && We(Yr)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = t6 = [t6, e7] : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function oo() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 2).toLowerCase() === O2 ? (t6 = r4.substr(De, 2), De += 2) : (t6 = u3, 0 === Pe && We(kr)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = re() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function io() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 2).toLowerCase() === R ? (t6 = r4.substr(De, 2), De += 2) : (t6 = u3, 0 === Pe && We(qr)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = ne() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function so() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 4).toLowerCase() === F2 ? (t6 = r4.substr(De, 4), De += 4) : (t6 = u3, 0 === Pe && We(Kr)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = te() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function ao() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 6).toLowerCase() === I2 ? (t6 = r4.substr(De, 6), De += 6) : (t6 = u3, 0 === Pe && We(Vr)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = ee() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function co() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 3).toLowerCase() === S2 ? (t6 = r4.substr(De, 3), De += 3) : (t6 = u3, 0 === Pe && We(Xr)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = ue() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function fo() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 3).toLowerCase() === M2 ? (t6 = r4.substr(De, 3), De += 3) : (t6 = u3, 0 === Pe && We($r)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = oe() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function lo() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 2).toLowerCase() === D2 ? (t6 = r4.substr(De, 2), De += 2) : (t6 = u3, 0 === Pe && We(Jr)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = ie() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function po() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 7).toLowerCase() === H ? (t6 = r4.substr(De, 7), De += 7) : (t6 = u3, 0 === Pe && We(Qr)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = se() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function vo() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 4).toLowerCase() === j ? (t6 = r4.substr(De, 4), De += 4) : (t6 = u3, 0 === Pe && We(rn)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = ae() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function ho() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 3).toLowerCase() === U ? (t6 = r4.substr(De, 3), De += 3) : (t6 = u3, 0 === Pe && We(nn)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = ce() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function yo() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 9).toLowerCase() === P ? (t6 = r4.substr(De, 9), De += 9) : (t6 = u3, 0 === Pe && We(tn)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = fe() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function bo() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 7).toLowerCase() === _2 ? (t6 = r4.substr(De, 7), De += 7) : (t6 = u3, 0 === Pe && We(en)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = le() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function Ao() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 4).toLowerCase() === B ? (t6 = r4.substr(De, 4), De += 4) : (t6 = u3, 0 === Pe && We(un)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = pe() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function go() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 8).toLowerCase() === z ? (t6 = r4.substr(De, 8), De += 8) : (t6 = u3, 0 === Pe && We(on)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = ve() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function Co() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 9).toLowerCase() === G ? (t6 = r4.substr(De, 9), De += 9) : (t6 = u3, 0 === Pe && We(sn)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = de() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function mo() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 4).toLowerCase() === Z ? (t6 = r4.substr(De, 4), De += 4) : (t6 = u3, 0 === Pe && We(an)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = he() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function Eo() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 7).toLowerCase() === W ? (t6 = r4.substr(De, 7), De += 7) : (t6 = u3, 0 === Pe && We(cn)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = ye() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function xo() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 8).toLowerCase() === Y ? (t6 = r4.substr(De, 8), De += 8) : (t6 = u3, 0 === Pe && We(fn)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = be() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function Lo() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 4).toLowerCase() === k ? (t6 = r4.substr(De, 4), De += 4) : (t6 = u3, 0 === Pe && We(ln)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = Ae() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function wo() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 2).toLowerCase() === q ? (t6 = r4.substr(De, 2), De += 2) : (t6 = u3, 0 === Pe && We(pn)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = ge() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function To() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 8).toLowerCase() === K ? (t6 = r4.substr(De, 8), De += 8) : (t6 = u3, 0 === Pe && We(vn)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = Ce() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function No() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 4).toLowerCase() === V ? (t6 = r4.substr(De, 4), De += 4) : (t6 = u3, 0 === Pe && We(dn)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = me() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function Oo() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 5).toLowerCase() === X ? (t6 = r4.substr(De, 5), De += 5) : (t6 = u3, 0 === Pe && We(hn)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = Ee() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function Ro() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 3).toLowerCase() === $ ? (t6 = r4.substr(De, 3), De += 3) : (t6 = u3, 0 === Pe && We(yn)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = xe() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function Fo() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 4).toLowerCase() === J2 ? (t6 = r4.substr(De, 4), De += 4) : (t6 = u3, 0 === Pe && We(bn)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = Le() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function Io() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 6).toLowerCase() === Q ? (t6 = r4.substr(De, 6), De += 6) : (t6 = u3, 0 === Pe && We(An)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = we() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function So() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 6).toLowerCase() === rr ? (t6 = r4.substr(De, 6), De += 6) : (t6 = u3, 0 === Pe && We(gn)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = Te() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function Mo() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 4).toLowerCase() === nr ? (t6 = r4.substr(De, 4), De += 4) : (t6 = u3, 0 === Pe && We(Cn)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = Ne() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function Do() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 3).toLowerCase() === tr ? (t6 = r4.substr(De, 3), De += 3) : (t6 = u3, 0 === Pe && We(mn)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = Oe() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function Ho() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 4).toLowerCase() === er ? (t6 = r4.substr(De, 4), De += 4) : (t6 = u3, 0 === Pe && We(En)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = Re() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function jo() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 4).toLowerCase() === ur ? (t6 = r4.substr(De, 4), De += 4) : (t6 = u3, 0 === Pe && We(xn)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = Fe() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function Uo() {
      var n5, t6, e7, o4;
      return n5 = De, r4.substr(De, 4).toLowerCase() === or ? (t6 = r4.substr(De, 4), De += 4) : (t6 = u3, 0 === Pe && We(Ln)), t6 !== u3 ? (e7 = De, Pe++, o4 = bu(), Pe--, o4 === u3 ? e7 = void 0 : (De = e7, e7 = u3), e7 !== u3 ? n5 = Ie() : (De = n5, n5 = u3)) : (De = n5, n5 = u3), n5;
    }
    function Po() {
      var n5;
      return 44 === r4.charCodeAt(De) ? (n5 = ir, De++) : (n5 = u3, 0 === Pe && We(wn)), n5;
    }
    function _o() {
      var n5;
      return 40 === r4.charCodeAt(De) ? (n5 = sr, De++) : (n5 = u3, 0 === Pe && We(Tn)), n5;
    }
    function Bo() {
      var n5;
      return 41 === r4.charCodeAt(De) ? (n5 = ar, De++) : (n5 = u3, 0 === Pe && We(Nn)), n5;
    }
    function zo() {
      var r5, n5;
      for (r5 = [], n5 = Go(); n5 !== u3; )
        r5.push(n5), n5 = Go();
      return r5;
    }
    function Go() {
      var n5;
      return br.test(r4.charAt(De)) ? (n5 = r4.charAt(De), De++) : (n5 = u3, 0 === Pe && We(On)), n5;
    }
    function Zo() {
      var n5, t6, e7, o4;
      if (n5 = De, (t6 = hu()) !== u3 && (t6 = Se(t6)), (n5 = t6) === u3)
        if (n5 = De, 96 === r4.charCodeAt(De) ? (t6 = cr, De++) : (t6 = u3, 0 === Pe && We(Rn)), t6 !== u3) {
          if (e7 = [], Ar.test(r4.charAt(De)) ? (o4 = r4.charAt(De), De++) : (o4 = u3, 0 === Pe && We(Fn)), o4 !== u3)
            for (; o4 !== u3; )
              e7.push(o4), Ar.test(r4.charAt(De)) ? (o4 = r4.charAt(De), De++) : (o4 = u3, 0 === Pe && We(Fn));
          else
            e7 = u3;
          e7 !== u3 ? (96 === r4.charCodeAt(De) ? (o4 = cr, De++) : (o4 = u3, 0 === Pe && We(Rn)), o4 !== u3 ? n5 = Me(e7) : (De = n5, n5 = u3)) : (De = n5, n5 = u3);
        } else
          De = n5, n5 = u3;
      return n5;
    }
    function Wo(r5, n5) {
      return { type: "unary-expression", operator: r5, expr: n5 };
    }
    function Yo(r5, n5, t6, e7) {
      var u4 = { type: "binary-expression", operator: r5, left: n5, right: t6 };
      return void 0 !== e7 && (u4.escape = e7), u4;
    }
    function ko(r5, n5) {
      for (var t6 = [r5], e7 = 0; e7 < n5.length; e7++)
        t6.push(n5[e7][3]);
      return t6;
    }
    function qo(r5, n5, t6) {
      return ko(r5, n5);
    }
    function Ko(r5, n5) {
      for (var t6 = r5, e7 = 0; e7 < n5.length; e7++)
        t6 = Yo(n5[e7][1], t6, n5[e7][3]);
      return t6;
    }
    if ((e6 = s()) !== u3 && De === r4.length)
      return e6;
    throw e6 !== u3 && De < r4.length && We(ze()), Ye(Ue, je < r4.length ? r4.charAt(je) : null, je < r4.length ? Ze(je, je + 1) : Ze(je, je));
  }
  return r3(n4, Error), n4.prototype.format = function(r4) {
    var n5 = "Error: " + this.message;
    if (this.location) {
      var e6, u3 = null;
      for (e6 = 0; e6 < r4.length; e6++)
        if (r4[e6].source === this.location.source) {
          u3 = r4[e6].text.split(/\r\n|\n|\r/g);
          break;
        }
      var o3 = this.location.start, i2 = this.location.source + ":" + o3.line + ":" + o3.column;
      if (u3) {
        var s = this.location.end, a2 = t4("", o3.line.toString().length, " "), c2 = u3[o3.line - 1], f2 = (o3.line === s.line ? s.column : c2.length + 1) - o3.column || 1;
        n5 += "\n --> " + i2 + "\n" + a2 + " |\n" + o3.line + " | " + c2 + "\n" + a2 + " | " + t4("", o3.column - 1, " ") + t4("", f2, "^");
      } else
        n5 += "\n at " + i2;
    }
    return n5;
  }, n4.buildMessage = function(r4, n5) {
    var t5 = { literal: function(r5) {
      return '"' + u3(r5.text) + '"';
    }, class: function(r5) {
      var n6 = r5.parts.map(function(r6) {
        return Array.isArray(r6) ? o3(r6[0]) + "-" + o3(r6[1]) : o3(r6);
      });
      return "[" + (r5.inverted ? "^" : "") + n6.join("") + "]";
    }, any: function() {
      return "any character";
    }, end: function() {
      return "end of input";
    }, other: function(r5) {
      return r5.description;
    } };
    function e6(r5) {
      return r5.charCodeAt(0).toString(16).toUpperCase();
    }
    function u3(r5) {
      return r5.replace(/\\/g, "\\\\").replace(/"/g, '\\"').replace(/\0/g, "\\0").replace(/\t/g, "\\t").replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/[\x00-\x0F]/g, function(r6) {
        return "\\x0" + e6(r6);
      }).replace(/[\x10-\x1F\x7F-\x9F]/g, function(r6) {
        return "\\x" + e6(r6);
      });
    }
    function o3(r5) {
      return r5.replace(/\\/g, "\\\\").replace(/\]/g, "\\]").replace(/\^/g, "\\^").replace(/-/g, "\\-").replace(/\0/g, "\\0").replace(/\t/g, "\\t").replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/[\x00-\x0F]/g, function(r6) {
        return "\\x0" + e6(r6);
      }).replace(/[\x10-\x1F\x7F-\x9F]/g, function(r6) {
        return "\\x" + e6(r6);
      });
    }
    function i2(r5) {
      return t5[r5.type](r5);
    }
    function s(r5) {
      var n6, t6, e7 = r5.map(i2);
      if (e7.sort(), e7.length > 0) {
        for (n6 = 1, t6 = 1; n6 < e7.length; n6++)
          e7[n6 - 1] !== e7[n6] && (e7[t6] = e7[n6], t6++);
        e7.length = t6;
      }
      switch (e7.length) {
        case 1:
          return e7[0];
        case 2:
          return e7[0] + " or " + e7[1];
        default:
          return e7.slice(0, -1).join(", ") + ", or " + e7[e7.length - 1];
      }
    }
    function a2(r5) {
      return r5 ? '"' + u3(r5) + '"' : "end of input";
    }
    return "Expected " + s(r4) + " but " + a2(n5) + " found.";
  }, { SyntaxError: n4, parse: e5 };
}, (n3 = e4).exports && (n3.exports = t3());
var u = class {
  static parse(r3) {
    return e4.exports.parse(r3);
  }
};

// node_modules/@arcgis/core/core/sql/WhereClause.js
var i = /^(\d{4})-(\d{1,2})-(\d{1,2})$/;
var l2 = /^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)$/;
var u2 = /^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)(\+|\-)(\d{1,2}):(\d{1,2})$/;
var o2 = /^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})(\+|\-)(\d{1,2}):(\d{1,2})$/;
var c = /^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/;
var h = /* @__PURE__ */ new Set(["current_timestamp", "current_date", "current_time"]);
function d(e5, t4) {
  return (e5 += "").length >= t4 ? e5 : new Array(t4 - e5.length + 1).join("0") + e5;
}
function p(e5, t4, a2 = "0", r3 = "0", s = "0", n4 = "0", i2 = "", l3 = "0", u3 = "0") {
  if ("+" === i2 || "-" === i2) {
    const o3 = `${d(parseInt(e5, 10), 4)}-${d(parseInt(t4, 10), 2)}-${d(parseInt(a2, 10), 2)}`;
    let c2 = "";
    parseFloat(n4) < 10 && (c2 = "0");
    const h2 = `${d(parseInt(r3, 10), 2)}:${d(parseInt(s, 10), 2)}:${c2 + parseFloat(n4).toString()}`, p2 = `${i2}${d(parseInt(l3, 10), 2)}:${d(parseInt(u3, 10), 2)}`;
    return new Date(o3 + "T" + h2 + p2);
  }
  return new Date(parseInt(e5, 10), parseInt(t4, 10) - 1, parseInt(a2, 10), parseInt(r3, 10), parseInt(s, 10), parseFloat(n4));
}
var v = class {
  static makeBool(e5) {
    return g(e5);
  }
  static featureValue(e5, t4, a2, r3) {
    return M(e5, t4, a2, r3);
  }
  static equalsNull(e5) {
    return null === e5;
  }
  static applyLike(e5, t4, a2) {
    return D(e5, t4, a2);
  }
  static ensureArray(e5) {
    return _(e5);
  }
  static applyIn(e5, t4) {
    return y(e5, t4);
  }
  static currentDate() {
    const e5 = new Date();
    return e5.setHours(0, 0, 0, 0), e5;
  }
  static makeSqlInterval(e5, t4, r3) {
    return e2.createFromValueAndQualifer(e5, t4, r3);
  }
  static convertInterval(e5) {
    return e5 instanceof e2 ? e5.valueInMilliseconds() : e5;
  }
  static currentTimestamp() {
    return new Date();
  }
  static compare(e5, t4, a2) {
    return E(e5, t4, a2);
  }
  static calculate(e5, t4, a2) {
    return x(e5, t4, a2);
  }
  static makeComparable(e5) {
    return b(e5);
  }
  static evaluateFunction(e5, t4) {
    return r2(e5, t4);
  }
  static lookup(e5, t4) {
    const a2 = t4[e5];
    return void 0 === a2 ? null : a2;
  }
  static between(e5, t4) {
    return null == e5 || null == t4[0] || null == t4[1] ? null : e5 >= t4[0] && e5 <= t4[1];
  }
  static notbetween(e5, t4) {
    return null == e5 || null == t4[0] || null == t4[1] ? null : e5 < t4[0] || e5 > t4[1];
  }
  static ternaryNot(e5) {
    return T(e5);
  }
  static ternaryAnd(e5, t4) {
    return S(e5, t4);
  }
  static ternaryOr(e5, t4) {
    return w(e5, t4);
  }
};
var f = class {
  constructor(e5, t4) {
    this.fieldsIndex = t4, this._datefields = {}, this.parameters = {}, this._hasDateFunctions = void 0, this.parseTree = u.parse(e5);
    const { isStandardized: a2, isAggregate: r3, referencedFieldNames: s } = this._extractExpressionInfo(t4);
    this._referencedFieldNames = s, this.isStandardized = a2, this.isAggregate = r3;
  }
  static create(e5, t4) {
    return new f(e5, t4);
  }
  get fieldNames() {
    return this._referencedFieldNames;
  }
  testSet(e5, t4 = O) {
    const a2 = {};
    for (const r3 of this.fieldNames)
      a2[r3] = e5.map((e6) => t4.getAttribute(e6, r3));
    return !!this._evaluateNode(this.parseTree, { attributes: a2 }, O);
  }
  calculateValue(e5, t4 = O) {
    const r3 = this._evaluateNode(this.parseTree, e5, t4);
    return r3 instanceof e2 ? r3.valueInMilliseconds() / 864e5 : r3;
  }
  calculateValueCompiled(e5, t4 = O) {
    return null != this.parseTree._compiledVersion ? this.parseTree._compiledVersion(e5, this.parameters, t4, this._datefields) : has("esri-csp-restrictions") ? this.calculateValue(e5, t4) : (this._compileMe(), this.parseTree._compiledVersion(e5, this.parameters, t4, this._datefields));
  }
  testFeature(e5, t4 = O) {
    return !!this._evaluateNode(this.parseTree, e5, t4);
  }
  testFeatureCompiled(e5, t4 = O) {
    return null != this.parseTree._compiledVersion ? !!this.parseTree._compiledVersion(e5, this.parameters, t4, this._datefields) : has("esri-csp-restrictions") ? this.testFeature(e5, t4) : (this._compileMe(), !!this.parseTree._compiledVersion(e5, this.parameters, t4, this._datefields));
  }
  get hasDateFunctions() {
    return null != this._hasDateFunctions || (this._hasDateFunctions = false, this._visitAll(this.parseTree, (e5) => {
      "current-time" === e5.type ? this._hasDateFunctions = true : "function" === e5.type && (this._hasDateFunctions = this._hasDateFunctions || h.has(e5.name.toLowerCase()));
    })), this._hasDateFunctions;
  }
  getFunctions() {
    const e5 = /* @__PURE__ */ new Set();
    return this._visitAll(this.parseTree, (t4) => {
      "function" === t4.type && e5.add(t4.name.toLowerCase());
    }), Array.from(e5);
  }
  getExpressions() {
    const e5 = /* @__PURE__ */ new Map();
    return this._visitAll(this.parseTree, (t4) => {
      if ("function" === t4.type) {
        const a2 = t4.name.toLowerCase(), r3 = t4.args.value[0];
        if ("column-reference" === r3.type) {
          const t5 = r3.column, s = `${a2}-${t5}`;
          e5.has(s) || e5.set(s, { aggregateType: a2, field: t5 });
        }
      }
    }), [...e5.values()];
  }
  getVariables() {
    const e5 = /* @__PURE__ */ new Set();
    return this._visitAll(this.parseTree, (t4) => {
      "parameter" === t4.type && e5.add(t4.value.toLowerCase());
    }), Array.from(e5);
  }
  _compileMe() {
    const e5 = "return this.convertInterval(" + this.evaluateNodeToJavaScript(this.parseTree) + ")";
    this.parseTree._compiledVersion = new Function("feature", "lookups", "attributeAdapter", "datefields", e5).bind(v);
  }
  _extractExpressionInfo(t4) {
    const a2 = [], s = /* @__PURE__ */ new Set();
    let n4 = true, i2 = true;
    return this._visitAll(this.parseTree, (l3) => {
      var _a;
      switch (l3.type) {
        case "column-reference": {
          const e5 = t4 == null ? void 0 : t4.get(l3.column);
          let r3, n5;
          e5 ? r3 = n5 = (_a = e5.name) != null ? _a : "" : (n5 = l3.column, r3 = n5.toLowerCase()), e5 && e5.name && ("date" === e5.type || "esriFieldTypeDate" === e5.type) && (this._datefields[e5.name] = 1), s.has(r3) || (s.add(r3), a2.push(n5)), l3.column = n5;
          break;
        }
        case "function": {
          const { name: t5, args: a3 } = l3, s2 = a3.value.length;
          n4 && (n4 = t2(t5, s2)), i2 && (i2 = n(t5, s2));
          break;
        }
      }
    }), { referencedFieldNames: Array.from(a2), isStandardized: n4, isAggregate: i2 };
  }
  _visitAll(e5, t4) {
    if (null != e5)
      switch (t4(e5), e5.type) {
        case "when-clause":
          this._visitAll(e5.operand, t4), this._visitAll(e5.value, t4);
          break;
        case "case-expression":
          for (const a2 of e5.clauses)
            this._visitAll(a2, t4);
          "simple" === e5.format && this._visitAll(e5.operand, t4), null !== e5.else && this._visitAll(e5.else, t4);
          break;
        case "expression-list":
          for (const a2 of e5.value)
            this._visitAll(a2, t4);
          break;
        case "unary-expression":
          this._visitAll(e5.expr, t4);
          break;
        case "binary-expression":
          this._visitAll(e5.left, t4), this._visitAll(e5.right, t4);
          break;
        case "function":
          this._visitAll(e5.args, t4);
      }
  }
  evaluateNodeToJavaScript(e5) {
    switch (e5.type) {
      case "interval":
        return "this.makeSqlInterval(" + this.evaluateNodeToJavaScript(e5.value) + ", " + JSON.stringify(e5.qualifier) + "," + JSON.stringify(e5.op) + ")";
      case "case-expression": {
        let t4 = "";
        if ("simple" === e5.format) {
          const a2 = "this.makeComparable(" + this.evaluateNodeToJavaScript(e5.operand) + ")";
          t4 = "( ";
          for (let r3 = 0; r3 < e5.clauses.length; r3++)
            t4 += " (" + a2 + " === this.makeComparable(" + this.evaluateNodeToJavaScript(e5.clauses[r3].operand) + ")) ? (" + this.evaluateNodeToJavaScript(e5.clauses[r3].value) + ") : ";
          null !== e5.else ? t4 += this.evaluateNodeToJavaScript(e5.else) : t4 += "null", t4 += " )";
        } else {
          t4 = "( ";
          for (let a2 = 0; a2 < e5.clauses.length; a2++)
            t4 += " this.makeBool(" + this.evaluateNodeToJavaScript(e5.clauses[a2].operand) + ")===true ? (" + this.evaluateNodeToJavaScript(e5.clauses[a2].value) + ") : ";
          null !== e5.else ? t4 += this.evaluateNodeToJavaScript(e5.else) : t4 += "null", t4 += " )";
        }
        return t4;
      }
      case "parameter":
        return "this.lookup(" + JSON.stringify(e5.value.toLowerCase()) + ",lookups)";
      case "expression-list": {
        let t4 = "[";
        for (const a2 of e5.value)
          "[" !== t4 && (t4 += ","), t4 += this.evaluateNodeToJavaScript(a2);
        return t4 += "]", t4;
      }
      case "unary-expression":
        return "this.ternaryNot(" + this.evaluateNodeToJavaScript(e5.expr) + ")";
      case "binary-expression":
        switch (e5.operator) {
          case "AND":
            return "this.ternaryAnd(" + this.evaluateNodeToJavaScript(e5.left) + "," + this.evaluateNodeToJavaScript(e5.right) + " )";
          case "OR":
            return "this.ternaryOr(" + this.evaluateNodeToJavaScript(e5.left) + "," + this.evaluateNodeToJavaScript(e5.right) + " )";
          case "IS":
            if ("null" !== e5.right.type)
              throw new Error("Unsupported RHS for IS");
            return "this.equalsNull(" + this.evaluateNodeToJavaScript(e5.left) + ")";
          case "ISNOT":
            if ("null" !== e5.right.type)
              throw new Error("Unsupported RHS for IS");
            return "(!(this.equalsNull(" + this.evaluateNodeToJavaScript(e5.left) + ")))";
          case "IN":
            return "this.applyIn(" + this.evaluateNodeToJavaScript(e5.left) + ",this.ensureArray(" + this.evaluateNodeToJavaScript(e5.right) + "))";
          case "NOT IN":
            return "this.ternaryNot(this.applyIn(" + this.evaluateNodeToJavaScript(e5.left) + ",this.ensureArray(" + this.evaluateNodeToJavaScript(e5.right) + ")))";
          case "BETWEEN":
            return "this.between(" + this.evaluateNodeToJavaScript(e5.left) + "," + this.evaluateNodeToJavaScript(e5.right) + ")";
          case "NOTBETWEEN":
            return "this.notbetween(" + this.evaluateNodeToJavaScript(e5.left) + "," + this.evaluateNodeToJavaScript(e5.right) + ")";
          case "LIKE":
            return "this.applyLike(" + this.evaluateNodeToJavaScript(e5.left) + "," + this.evaluateNodeToJavaScript(e5.right) + "," + JSON.stringify(e5.escape) + ")";
          case "NOT LIKE":
            return "this.ternaryNot(this.applyLike(" + this.evaluateNodeToJavaScript(e5.left) + "," + this.evaluateNodeToJavaScript(e5.right) + "," + JSON.stringify(e5.escape) + "))";
          case "<>":
          case "<":
          case ">":
          case ">=":
          case "<=":
          case "=":
            return "this.compare(" + JSON.stringify(e5.operator) + "," + this.evaluateNodeToJavaScript(e5.left) + "," + this.evaluateNodeToJavaScript(e5.right) + ")";
          case "*":
          case "-":
          case "+":
          case "/":
            return "this.calculate(" + JSON.stringify(e5.operator) + "," + this.evaluateNodeToJavaScript(e5.left) + "," + this.evaluateNodeToJavaScript(e5.right) + ")";
        }
        throw new Error("Not Supported Operator " + e5.operator);
      case "null":
      case "boolean":
      case "string":
      case "number":
        return JSON.stringify(e5.value);
      case "date":
        return "(new Date(" + N(e5.value).getTime().toString() + "))";
      case "timestamp":
        return "(new Date(" + m(e5.value).getTime().toString() + "))";
      case "current-time":
        return "date" === e5.mode ? "this.currentDate()" : "this.currentTimestamp()";
      case "column-reference":
        return "this.featureValue(feature," + JSON.stringify(e5.column) + ",datefields,attributeAdapter)";
      case "function":
        return "this.evaluateFunction(" + JSON.stringify(e5.name) + "," + this.evaluateNodeToJavaScript(e5.args) + ")";
    }
    throw new Error("Unsupported sql syntax " + e5.type);
  }
  _evaluateNode(e5, r3, n4) {
    switch (e5.type) {
      case "interval": {
        const t4 = this._evaluateNode(e5.value, r3, n4);
        return e2.createFromValueAndQualifer(t4, e5.qualifier, e5.op);
      }
      case "case-expression":
        if ("simple" === e5.format) {
          const t4 = b(this._evaluateNode(e5.operand, r3, n4));
          for (let a2 = 0; a2 < e5.clauses.length; a2++)
            if (t4 === b(this._evaluateNode(e5.clauses[a2].operand, r3, n4)))
              return this._evaluateNode(e5.clauses[a2].value, r3, n4);
          if (null !== e5.else)
            return this._evaluateNode(e5.else, r3, n4);
        } else {
          for (let t4 = 0; t4 < e5.clauses.length; t4++)
            if (g(this._evaluateNode(e5.clauses[t4].operand, r3, n4)))
              return this._evaluateNode(e5.clauses[t4].value, r3, n4);
          if (null !== e5.else)
            return this._evaluateNode(e5.else, r3, n4);
        }
        return null;
      case "parameter":
        return this.parameters[e5.value.toLowerCase()];
      case "expression-list": {
        const t4 = [];
        for (const a2 of e5.value)
          t4.push(this._evaluateNode(a2, r3, n4));
        return t4;
      }
      case "unary-expression":
        return T(this._evaluateNode(e5.expr, r3, n4));
      case "binary-expression":
        switch (e5.operator) {
          case "AND":
            return S(this._evaluateNode(e5.left, r3, n4), this._evaluateNode(e5.right, r3, n4));
          case "OR":
            return w(this._evaluateNode(e5.left, r3, n4), this._evaluateNode(e5.right, r3, n4));
          case "IS":
            if ("null" !== e5.right.type)
              throw new Error("Unsupported RHS for IS");
            return null === this._evaluateNode(e5.left, r3, n4);
          case "ISNOT":
            if ("null" !== e5.right.type)
              throw new Error("Unsupported RHS for IS");
            return null !== this._evaluateNode(e5.left, r3, n4);
          case "IN": {
            const t4 = _(this._evaluateNode(e5.right, r3, n4));
            return y(this._evaluateNode(e5.left, r3, n4), t4);
          }
          case "NOT IN": {
            const t4 = _(this._evaluateNode(e5.right, r3, n4));
            return T(y(this._evaluateNode(e5.left, r3, n4), t4));
          }
          case "BETWEEN": {
            const t4 = this._evaluateNode(e5.left, r3, n4), a2 = this._evaluateNode(e5.right, r3, n4);
            return null == t4 || null == a2[0] || null == a2[1] ? null : t4 >= b(a2[0]) && t4 <= b(a2[1]);
          }
          case "NOTBETWEEN": {
            const t4 = this._evaluateNode(e5.left, r3, n4), a2 = this._evaluateNode(e5.right, r3, n4);
            return null == t4 || null == a2[0] || null == a2[1] ? null : t4 < b(a2[0]) || t4 > b(a2[1]);
          }
          case "LIKE":
            return D(this._evaluateNode(e5.left, r3, n4), this._evaluateNode(e5.right, r3, n4), e5.escape);
          case "NOT LIKE":
            return T(D(this._evaluateNode(e5.left, r3, n4), this._evaluateNode(e5.right, r3, n4), e5.escape));
          case "<>":
          case "<":
          case ">":
          case ">=":
          case "<=":
          case "=":
            return E(e5.operator, this._evaluateNode(e5.left, r3, n4), this._evaluateNode(e5.right, r3, n4));
          case "-":
          case "+":
          case "*":
          case "/":
            return x(e5.operator, this._evaluateNode(e5.left, r3, n4), this._evaluateNode(e5.right, r3, n4));
        }
      case "null":
      case "boolean":
      case "string":
      case "number":
        return e5.value;
      case "date":
        return N(e5.value);
      case "timestamp":
        return m(e5.value);
      case "current-time": {
        const t4 = new Date();
        return "date" === e5.mode && t4.setHours(0, 0, 0, 0), t4;
      }
      case "column-reference":
        return M(r3, e5.column, this._datefields, n4);
      case "function": {
        const a2 = this._evaluateNode(e5.args, r3, n4);
        return this.isAggregate ? a(e5.name, a2) : r2(e5.name, a2);
      }
    }
    throw new Error("Unsupported sql syntax " + e5.type);
  }
};
function m(e5) {
  let t4 = l2.exec(e5);
  if (null !== t4) {
    const [, e6, a2, r3, s, n4, i2] = t4;
    return p(e6, a2, r3, s, n4, i2);
  }
  if (t4 = u2.exec(e5), null !== t4) {
    const [, e6, a2, r3, s, n4, i2, l3, u3, o3] = t4;
    return p(e6, a2, r3, s, n4, i2, l3, u3, o3);
  }
  if (t4 = o2.exec(e5), null !== t4) {
    const [, e6, a2, r3, s, n4, i2, l3, u3] = t4;
    return p(e6, a2, r3, s, n4, "0", i2, l3, u3);
  }
  if (t4 = c.exec(e5), null !== t4) {
    const [, e6, a2, r3, s, n4] = t4;
    return p(e6, a2, r3, s, n4);
  }
  if (t4 = i.exec(e5), null !== t4) {
    const [, e6, a2, r3] = t4;
    return p(e6, a2, r3);
  }
  throw new Error("SQL Invalid Timestamp");
}
function N(e5) {
  const t4 = i.exec(e5);
  if (null === t4)
    try {
      return m(e5);
    } catch {
      throw new Error("SQL Invalid Date");
    }
  const [, a2, r3, s] = t4;
  return new Date(parseInt(a2, 10), parseInt(r3, 10) - 1, parseInt(s, 10));
}
function g(e5) {
  return true === e5;
}
function _(e5) {
  return Array.isArray(e5) ? e5 : [e5];
}
function T(e5) {
  return null !== e5 ? true !== e5 : null;
}
function S(e5, t4) {
  return null != e5 && null != t4 ? true === e5 && true === t4 : false !== e5 && false !== t4 && null;
}
function w(e5, t4) {
  return null != e5 && null != t4 ? true === e5 || true === t4 : true === e5 || true === t4 || null;
}
function y(e5, t4) {
  if (null == e5)
    return null;
  let a2 = false;
  for (const r3 of t4)
    if (null == r3)
      a2 = null;
    else if (e5 === r3) {
      a2 = true;
      break;
    }
  return a2;
}
var I = "-[]/{}()*+?.\\^$|";
var J;
function A(e5, t4) {
  const a2 = t4;
  let r3 = "", s = J.Normal;
  for (let n4 = 0; n4 < e5.length; n4++) {
    const t5 = e5.charAt(n4);
    switch (s) {
      case J.Normal:
        t5 === a2 ? s = J.Escaped : I.includes(t5) ? r3 += "\\" + t5 : r3 += "%" === t5 ? ".*" : "_" === t5 ? "." : t5;
        break;
      case J.Escaped:
        I.includes(t5) ? r3 += "\\" + t5 : r3 += t5, s = J.Normal;
    }
  }
  return new RegExp("^" + r3 + "$", "m");
}
function D(e5, t4, a2) {
  if (null == e5)
    return null;
  return A(t4, a2).test(e5);
}
function b(e5) {
  return e5 instanceof Date ? e5.valueOf() : e5;
}
function E(e5, t4, a2) {
  if (null == t4 || null == a2)
    return null;
  const r3 = b(t4), s = b(a2);
  switch (e5) {
    case "<>":
      return r3 !== s;
    case "=":
      return r3 === s;
    case ">":
      return r3 > s;
    case "<":
      return r3 < s;
    case ">=":
      return r3 >= s;
    case "<=":
      return r3 <= s;
  }
}
function x(e5, t4, r3) {
  if (t4 instanceof e2)
    if (r3 instanceof Date)
      switch (e5) {
        case "+":
          return new Date(t4.valueInMilliseconds() + r3.getTime());
        case "-":
          return t4.valueInMilliseconds() - r3.getTime();
        case "*":
          return t4.valueInMilliseconds() * r3.getTime();
        case "/":
          return t4.valueInMilliseconds() / r3.getTime();
      }
    else if (r3 instanceof e2)
      switch (e5) {
        case "+":
          return e2.createFromMilliseconds(t4.valueInMilliseconds() + r3.valueInMilliseconds());
        case "-":
          return e2.createFromMilliseconds(t4.valueInMilliseconds() - r3.valueInMilliseconds());
        case "*":
          return t4.valueInMilliseconds() * r3.valueInMilliseconds();
        case "/":
          return t4.valueInMilliseconds() / r3.valueInMilliseconds();
      }
    else
      t4 = t4.valueInMilliseconds();
  else if (r3 instanceof e2)
    if (t4 instanceof Date)
      switch (e5) {
        case "+":
          return new Date(r3.valueInMilliseconds() + t4.getTime());
        case "-":
          return new Date(t4.getTime() - r3.valueInMilliseconds());
        case "*":
          return t4.getTime() * r3.valueInMilliseconds();
        case "/":
          return t4.getTime() / r3.valueInMilliseconds();
      }
    else
      r3 = r3.valueInMilliseconds();
  else if (t4 instanceof Date && "number" == typeof r3)
    switch (r3 = 24 * r3 * 60 * 60 * 1e3, t4 = t4.getTime(), e5) {
      case "+":
        return new Date(t4 + r3);
      case "-":
        return new Date(t4 - r3);
      case "*":
        return new Date(t4 * r3);
      case "/":
        return new Date(t4 / r3);
    }
  else if (r3 instanceof Date && "number" == typeof t4)
    switch (t4 = 24 * t4 * 60 * 60 * 1e3, r3 = r3.getTime(), e5) {
      case "+":
        return new Date(t4 + r3);
      case "-":
        return new Date(t4 - r3);
      case "*":
        return new Date(t4 * r3);
      case "/":
        return new Date(t4 / r3);
    }
  switch (e5) {
    case "+":
      return t4 + r3;
    case "-":
      return t4 - r3;
    case "*":
      return t4 * r3;
    case "/":
      return t4 / r3;
  }
}
function F(e5) {
  return e5 && "object" == typeof e5.attributes;
}
function M(e5, t4, a2, r3) {
  const s = r3.getAttribute(e5, t4);
  return null != s && 1 === a2[t4] ? new Date(s) : s;
}
!function(e5) {
  e5[e5.Normal = 0] = "Normal", e5[e5.Escaped = 1] = "Escaped";
}(J || (J = {}));
var O = { getAttribute: (e5, t4) => (F(e5) ? e5.attributes : e5)[t4] };

export {
  f,
  O
};
//# sourceMappingURL=chunk-36RXM3AP.js.map
