import {
  c,
  f2 as f,
  r as r2
} from "./chunk-FCIHN4UG.js";
import {
  a
} from "./chunk-C5H57NTD.js";
import {
  F,
  P,
  _,
  e,
  g,
  o,
  u,
  z
} from "./chunk-3LR5O4WA.js";
import {
  n
} from "./chunk-D4V6J5BT.js";
import {
  r
} from "./chunk-MIHB3CIK.js";

// node_modules/@arcgis/core/views/3d/support/mathUtils.js
function l2(t) {
  const n2 = t[0] * t[0] + t[4] * t[4] + t[8] * t[8], s2 = t[1] * t[1] + t[5] * t[5] + t[9] * t[9], r4 = t[2] * t[2] + t[6] * t[6] + t[10] * t[10];
  return Math.sqrt(Math.max(n2, s2, r4));
}
function p(t, s2) {
  const r4 = Math.sqrt(s2[0] * s2[0] + s2[4] * s2[4] + s2[8] * s2[8]), a2 = Math.sqrt(s2[1] * s2[1] + s2[5] * s2[5] + s2[9] * s2[9]), o2 = Math.sqrt(s2[2] * s2[2] + s2[6] * s2[6] + s2[10] * s2[10]);
  return o(t, r4, a2, o2), t;
}
function b(t, s2, o2) {
  Math.abs(t[0]) > Math.abs(t[1]) ? o(s2, 0, 1, 0) : o(s2, 1, 0, 0), _(o2, t, s2), z(s2, s2), _(s2, o2, t), z(o2, o2);
}
var w = n();
var y = n();
var z2 = n();
var A2 = n();
var B = n();

// node_modules/@arcgis/core/geometry/support/plane.js
function p2(t = Z) {
  return [t[0], t[1], t[2], t[3]];
}
function E(t = Z[0], n2 = Z[1], r4 = Z[2], o2 = Z[3]) {
  return F2(t, n2, r4, o2, r2.get());
}
function A3(t, n2) {
  return F2(n2[0], n2[1], n2[2], n2[3], t);
}
function F2(t, n2, r4, o2, c2 = p2()) {
  return c2[0] = t, c2[1] = n2, c2[2] = r4, c2[3] = o2, c2;
}
function _2(t, n2, r4) {
  const o2 = n2[0] * n2[0] + n2[1] * n2[1] + n2[2] * n2[2], c2 = Math.abs(o2 - 1) > 1e-5 && o2 > 1e-12 ? 1 / Math.sqrt(o2) : 1;
  return r4[0] = n2[0] * c2, r4[1] = n2[1] * c2, r4[2] = n2[2] * c2, r4[3] = -(r4[0] * t[0] + r4[1] * t[1] + r4[2] * t[2]), r4;
}
function j(t, n2, r4, o2 = p2()) {
  const c2 = r4[0] - n2[0], e2 = r4[1] - n2[1], u2 = r4[2] - n2[2], i = t[0] - n2[0], f2 = t[1] - n2[1], s2 = t[2] - n2[2], a2 = e2 * s2 - u2 * f2, I = u2 * i - c2 * s2, N = c2 * f2 - e2 * i, m = a2 * a2 + I * I + N * N, M = Math.abs(m - 1) > 1e-5 && m > 1e-12 ? 1 / Math.sqrt(m) : 1;
  return o2[0] = a2 * M, o2[1] = I * M, o2[2] = N * M, o2[3] = -(o2[0] * t[0] + o2[1] * t[1] + o2[2] * t[2]), o2;
}
function b2(t, n2, r4, i, f2) {
  if (t.count < 3)
    return false;
  t.getVec(r4, y2);
  let s2 = i, a2 = false;
  for (; s2 < t.count - 1 && !a2; )
    t.getVec(s2, X), s2++, a2 = !F(y2, X);
  if (!a2)
    return false;
  for (s2 = Math.max(s2, f2), a2 = false; s2 < t.count && !a2; )
    t.getVec(s2, d), s2++, e(l3, y2, X), z(l3, l3), e(C, X, d), z(C, C), a2 = !F(y2, d) && !F(X, d) && Math.abs(P(l3, C)) < k2;
  return a2 ? (j(y2, X, d, n2), true) : (0 !== r4 || 1 !== i || 2 !== f2) && b2(t, n2, 0, 1, 2);
}
var k2 = 0.99619469809;
var y2 = n();
var X = n();
var d = n();
var l3 = n();
var C = n();
function L(t, n2, r4) {
  return n2 !== t && A3(t, n2), t[3] = -P(Y(t), r4), t;
}
function P2(t, n2) {
  return n2[0] = -t[0], n2[1] = -t[1], n2[2] = -t[2], n2[3] = -t[3], n2;
}
function O(t, n2, r4, o2) {
  return _(d, n2, t), _2(r4, d, o2);
}
function V(t, n2, r4, o2) {
  return W(t, n2, e(c.get(), r4, n2), tt, o2);
}
function q(t, r4, o2) {
  return !!r(r4) && W(t, r4.origin, r4.direction, nt, o2);
}
function x(t, n2, r4) {
  return W(t, n2.origin, n2.vector, $.NONE, r4);
}
function U(t, n2, r4) {
  return W(t, n2.origin, n2.vector, $.CLAMP, r4);
}
function z3(t, n2) {
  return R(t, n2) >= 0;
}
function G(t, n2) {
  const r4 = P(Y(t), n2.ray.direction), o2 = -R(t, n2.ray.origin);
  if (r4 > -1e-6 && r4 < 1e-6)
    return o2 > 0;
  const c2 = o2 / r4;
  return r4 > 0 ? c2 < n2.c1 && (n2.c1 = c2) : c2 > n2.c0 && (n2.c0 = c2), n2.c0 <= n2.c1;
}
function H(t, n2, r4) {
  const o2 = g(c.get(), Y(t), -t[3]), e2 = K(t, e(c.get(), n2, o2), c.get());
  return u(r4, e2, o2), r4;
}
function J(t, n2, r4, o2) {
  const e2 = Y(t), u2 = c.get(), i = c.get();
  b(e2, u2, i);
  const f2 = e(c.get(), r4, n2), s2 = f(u2, f2), I = f(i, f2), N = f(e2, f2);
  return o(o2, s2, I, N);
}
function K(t, n2, r4) {
  const o2 = g(c.get(), Y(t), P(Y(t), n2));
  return e(r4, n2, o2), r4;
}
function R(t, n2) {
  return P(Y(t), n2) + t[3];
}
function W(n2, r4, o2, c2, e2) {
  const i = P(Y(n2), o2);
  if (0 === i)
    return false;
  let a2 = -(P(Y(n2), r4) + n2[3]) / i;
  return c2 & $.CLAMP && (a2 = a(a2, 0, 1)), !(!(c2 & $.INFINITE_MIN) && a2 < 0 || !(c2 & $.INFINITE_MAX) && a2 > 1) && (u(e2, r4, g(e2, o2, a2)), true);
}
function Y(t) {
  return t;
}
var Z = [0, 0, 1, 0];
var $;
!function(t) {
  t[t.NONE = 0] = "NONE", t[t.CLAMP = 1] = "CLAMP", t[t.INFINITE_MIN = 4] = "INFINITE_MIN", t[t.INFINITE_MAX = 8] = "INFINITE_MAX";
}($ || ($ = {}));
var tt = $.INFINITE_MIN | $.INFINITE_MAX;
var nt = $.INFINITE_MAX;

export {
  l2 as l,
  p,
  p2,
  E,
  A3 as A,
  F2 as F,
  _2 as _,
  j,
  b2 as b,
  L,
  P2 as P,
  O,
  V,
  q,
  x,
  U,
  z3 as z,
  G,
  H,
  J,
  R,
  Y
};
//# sourceMappingURL=chunk-ZX55SO5Y.js.map
