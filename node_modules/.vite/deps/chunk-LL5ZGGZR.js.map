{
  "version": 3,
  "sources": ["../../@arcgis/core/views/2d/engine/webgl/util/vvFlagUtils.js", "../../@arcgis/core/views/2d/layers/graphics/graphicsUtils.js", "../../@arcgis/core/views/2d/layers/features/support/pixelBuffering.js", "../../@arcgis/core/views/2d/layers/features/schemaUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{WGLVVFlag as t}from\"../enums.js\";import{getTypeOfSizeVisualVariable as o}from\"../visualVariablesUtils.js\";function e(e){if(!e)return t.NONE;let r=0;for(const i of e)if(\"size\"===i.type){const t=o(i);r|=t,\"outline\"===i.target&&(r|=t<<4)}else\"color\"===i.type?r|=t.COLOR:\"opacity\"===i.type?r|=t.OPACITY:\"rotation\"===i.type&&(r|=t.ROTATION);return r}export{e as getVVFlags};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{bidiText as e}from\"../../../../core/BidiText.js\";import{unwrap as t}from\"../../../../core/maybe.js\";import{pt2px as n}from\"../../../../core/screenUtils.js\";import i from\"../../../../geometry/Polygon.js\";import{create as r}from\"../../../../geometry/support/aaBoundingRect.js\";import{getInfo as o}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{getXAnchorDirection as s,getYAnchorDirection as l}from\"../../engine/webgl/alignmentUtils.js\";import{GLYPH_SIZE as m,MAGIC_LABEL_LINE_HEIGHT as a}from\"../../engine/webgl/definitions.js\";import{shapeGlyphs as f}from\"../../engine/webgl/mesh/templates/shapingUtils.js\";const c=512,g=50;function p(e,t){const n=o(t);if(!n)return null;const[i,s]=n.valid;return e[2]>s?[r([e[0],e[1],s,e[3]]),r([i,e[1],i+e[2]-s,e[3]])]:e[0]<i?[r([i,e[1],e[2],e[3]]),r([s-(i-e[0]),e[1],s,e[3]])]:null}function u(e){return\"text\"===e||\"esriTS\"===e}function h(e){return\"simple-marker\"===e||\"picture-marker\"===e||\"esriSMS\"===e||\"esriPMS\"===e}function y(e){switch(t(e.geometry).type){case\"point\":case\"multipoint\":return 0;case\"polyline\":return 1;case\"polygon\":case\"extent\":return 2}return 0}function x(t,i,r){if(!r||0===r.glyphMosaicItems.length)return t;const o=e(i.text)[1],c=r.glyphMosaicItems,g=f(c,o,{scale:n(i.font.size)/m,angle:i.angle??0,xOffset:i.xoffset??0,yOffset:i.yoffset??0,hAlign:s(i.horizontalAlignment||\"center\"),vAlign:l(i.verticalAlignment||\"baseline\"),maxLineWidth:Math.max(32,Math.min(i.lineWidth||512,512)),lineHeight:a*Math.max(.25,Math.min(i.lineHeight||1,4)),decoration:i.font.decoration||\"none\",isCIM:!1}).bounds;return t[0]=n(g.x-g.halfWidth),t[1]=n(g.y-g.halfHeight),t[2]=n(g.width),t[3]=n(g.height),t}function d(e){if(!e)return null;const{xmin:t,ymin:n,xmax:r,ymax:o,spatialReference:s}=e;return new i({rings:[[[t,n],[t,o],[r,o],[r,n],[t,n]]],spatialReference:s})}export{g as PIXEL_BUFFER,c as TILE_SIZE,x as getTextSymbolSize,y as graphicGeometryToNumber,p as intersectingInternationalDateline,h as isMarkerSymbol,u as isTextSymbol,d as polygonFromExtent};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{pt2px as t}from\"../../../../../core/screenUtils.js\";import{CIMSymbolHelper as e}from\"../../../../../symbols/cim/CIMSymbolHelper.js\";import r from\"../../../../../symbols/cim/Rect.js\";import{AVERAGE_GLYPH_MOSAIC_ITEM as i}from\"../../../engine/webgl/definitions.js\";import{getTextSymbolSize as n}from\"../../graphics/graphicsUtils.js\";import{expandSymbol as s}from\"../../support/cimSymbolUtils.js\";const a={\"simple-marker\":1,\"picture-marker\":1,text:0,\"simple-line\":0,\"simple-fill\":0,\"picture-fill\":0,cim:1,\"web-style\":1},o=.707;function m(t,e){if(!(\"visualVariables\"in t))return 0;if(!t.hasVisualVariables(\"size\"))return 0;const r=t.getVisualVariablesForType(\"size\");if(!r[0])return 0;const i=r[0];if(e&&\"cluster_count\"===i.field&&\"cluster\"===e.type)return e.clusterMaxSize;if(\"outline\"===i.target)return 0;if(\"stops\"===i.transformationType)return i.stops.map((t=>t.size)).reduce(g,0);if(\"clamped-linear\"===i.transformationType){let t=-1/0,e=-1/0;return t=\"number\"==typeof i.maxSize?i.maxSize:i.maxSize.stops.map((t=>t.size)).reduce(g,0),e=\"number\"==typeof i.minSize?i.minSize:i.minSize.stops.map((t=>t.size)).reduce(g,0),Math.max(t,e)}return\"real-world-size\"===i.transformationType?30:void 0}function u(t){return t.type in a}async function c(e,r,i,n,s,a){if(!e||a&&\"cluster\"===a.type)return 0;if(\"heatmap\"===e.type)return Math.round(t(e.radius));if(\"dot-density\"===e.type)return 0;if(\"dictionary\"===e.type)return\"esriGeometryPoint\"===r||\"esriGeometryMultipoint\"===r?100:200;const o=e.getSymbols(),u=m(e),c=[];for(const t of o)c.push(x(t,u,i,r,n,s));const l=await Promise.all(c);return t(l.reduce(g,0))}const l=[0,0,0,0];function p(t,e){return t??e}function f(t,e){return null==t.outline?e:p(t.outline.width,e)}const y={sdf:!0,code:99,metrics:i.metrics,rect:new r(0,0,24,24),page:0,textureBinding:2};function h(t){const e=t.text&&t.text.length;if(!e)return{glyphMosaicItems:[y]};const r=[];for(let i=0;i<e;i++)r.push({...y,code:t.text.charCodeAt(i)});return{glyphMosaicItems:r}}async function d(t,r,i,a,m,u){if(\"simple-marker\"===t.type){const e=Math.max(p(t.size,12),r);return M(t)+e*o}if(\"picture-marker\"===t.type){const e=Math.max(p(t.height,12),r),i=p(t.width,12)*(e/p(t.height,12))/2,n=e/2;return M(t)+Math.sqrt(i*i+n*n)}if(\"text\"===t.type){const e=h(t);n(l,t.toJSON(),e);const r=Math.abs(l[0]),i=Math.abs(l[1]),s=l[2],a=l[3];return Math.max(r,i)+Math.max(s,a)}if(\"simple-line\"===t.type){const e=t,i=Math.max(p(e.width,.75),r)/2;return e.marker?Math.max(6*e.width,2*r):i}if(\"simple-fill\"===t.type||\"picture-fill\"===t.type)return Math.max(f(t,0),r)/2;if(\"cim\"===t.type){const n={geometryType:a,fields:m,spatialReference:u},o={type:\"cim\",rendererKey:0,data:t.data,maxVVSize:r};await s(o,n,i);const c=e.getEnvelope(t.data,null,i);return c?Math.sqrt(c.width*c.width+c.height*c.height):0}return\"web-style\"===t.type?d(await t.fetchCIMSymbol(),r,i,a,m,u):0}async function x(t,e,r,i,n,s){return u(t)?Math.min(await d(t,e,r,i,n,s),75):0}function M(t){const e=p(t.xoffset,0),r=p(t.yoffset,0);return Math.sqrt(e*e+r*r)}function g(t,e){return Math.max(t,e)}export{c as computePxBuffer,m as getPtMaxVVSize};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import t from\"../../../../core/Logger.js\";import{isSome as r,unwrap as i,isNone as n,unwrapOr as s}from\"../../../../core/maybe.js\";import{pt2px as l}from\"../../../../core/screenUtils.js\";import{sqlAnd as o}from\"../../../../core/sql.js\";import{diff as a}from\"../../../../core/accessorSupport/diffUtils.js\";import{validateLabelingInfo as u}from\"../../../../layers/support/labelingInfo.js\";import{WGLSymbologyType as d}from\"../../engine/webgl/enums.js\";import{getVVType as f}from\"../../engine/webgl/Utils.js\";import{getTechniqueFromRenderer as p}from\"../../engine/webgl/techniques/utils.js\";import{getVVFlags as c}from\"../../engine/webgl/util/vvFlagUtils.js\";import{createSymbolSchema as y}from\"./createSymbolSchema.js\";export{createSymbolSchema}from\"./createSymbolSchema.js\";import{getPtMaxVVSize as m}from\"./support/pixelBuffering.js\";import{getSupportedHeatmapRenderer as g,simplifyVisualVariables as b}from\"./support/rendererUtils.js\";import{injectDynamicLevelDependentSizeVisualVariable as x,createClusterRenderer as h}from\"../support/clusterUtils.js\";import{toJSONGeometryType as v}from\"../support/util.js\";const T=t.getLogger(\"esri.views.2d.layers.features.schemaUtils\"),S=\"ValidationError\";function E(e){return e}function w(e,t){let i=0,n=0,s=d.DEFAULT;if(r(e)){if(n=m(e,t),\"visualVariables\"in e&&(i=c(e.visualVariables||[]),\"dot-density\"===e.type&&(s=d.DOT_DENSITY)),\"heatmap\"===e.type&&(s=d.HEATMAP),\"dictionary\"===e.type)return{maxVVSize:n,vvFlags:i,symbologyType:d.DEFAULT};if(\"pie-chart\"===e.type)return{maxVVSize:n,vvFlags:i,symbologyType:d.PIE_CHART};if(s!==d.DOT_DENSITY&&s!==d.HEATMAP){const t=e.getSymbols();\"backgroundFillSymbol\"in e&&e.backgroundFillSymbol&&t.push(e.backgroundFillSymbol);let r=!0,i=!0;for(const e of t)if(\"cim\"===e.type&&(i=!1),\"simple-fill\"===e.type||\"picture-fill\"===e.type){const t=e.outline,n=t&&\"none\"!==t.style&&\"solid\"!==t.style,s=\"simple-fill\"===e.type&&\"none\"!==e.style&&\"solid\"!==e.style,l=\"picture-fill\"===e.type||s||n;n&&(r=!1),l&&(i=!1)}r?s=i?d.OUTLINE_FILL_SIMPLE:d.OUTLINE_FILL:i&&(s=d.SIMPLE)}}return{vvFlags:i,maxVVSize:n,symbologyType:s}}let I=null;function F(e){if(has(\"esri-2d-update-debug\")){const t=V(e,!0);console.debug(\"Created new schema\",t),console.debug(\"Schema diff\",a(I,t)),I=t}return V(e)}function V(e,t=!1){try{const i=D(e,t),n=C(e),s={};i.map((t=>O(s,e,t)));const l=r(e.subtypeCode)?`${e.subtypeField} = ${e.subtypeCode}`:null,a=o(e.definitionExpression,l);return{source:{definitionExpression:a,fields:e.fields.map((e=>e.toJSON())),gdbVersion:e.gdbVersion,historicMoment:e.historicMoment?.getTime(),outFields:e.availableFields,pixelBuffer:e.pixelBuffer,spatialReference:e.spatialReference.toJSON(),timeExtent:e.timeExtent?.toJSON(),customParameters:e.customParameters},attributes:{fields:{},indexCount:0},processors:i,tileRenderer:n,targets:s}}catch(i){if(i.fieldName===S)return T.error(i),null;throw i}}function O(t,r,i){switch(i.target){case\"feature\":return void M(t,N(r),i);case\"aggregate\":{if(!(\"featureReduction\"in r))return;const n=r.featureReduction;switch(n.type){case\"selection\":throw new e(S,\"Mapview does not support `selection` reduction type\",n);case\"binning\":return M(t,N(r),i),void L(t,n,r.fields.map((e=>e.toJSON())),i);case\"cluster\":return M(t,N(r),i),void R(t,n,r.fields.map((e=>e.toJSON())),i)}}}}function z(e,t){for(const r in t){const i=t[r];if(i.target!==e.name)continue;const n=e.attributes[r];n?(n.context.mesh=n.context.mesh||i.context.mesh,n.context.storage=n.context.storage||i.context.storage):e.attributes[r]=i}return e}function N(e){return[i(e.filter)?.toJSON()??null,i(i(e.featureEffect)?.filter)?.toJSON()??null]}function M(e,t,r){return e.feature||(e.feature={name:\"feature\",input:\"source\",filters:t,attributes:{}}),z(e.feature,r.attributes.fields),e}function j(t,r){const{onStatisticExpression:i,onStatisticField:n,statisticType:s}=t;switch(s){case\"min\":case\"max\":case\"avg\":case\"avg_angle\":case\"sum\":case\"count\":return\"esriFieldTypeDouble\";case\"mode\":{if(i){const{returnType:r}=i;return r?\"string\"===r?\"esriFieldTypeString\":\"esriFieldTypeDouble\":(T.error(new e(S,\"Unable to infer type of aggregateField with onStatisticExpression. ReturnType is not defined\",t)),\"esriFieldTypeString\")}const s=r.find((e=>e.name===n));return s?s.type:(T.error(new e(S,\"Unable to infer type of aggregateField with onStatisticExpression. ReturnType is not defined\",t)),\"esriFieldTypeString\")}}}function L(e,t,r,i){return e.aggregate||(e.aggregate={name:\"aggregate\",type:\"bin\",filters:null,input:\"feature\",params:{fixedBinLevel:t.fixedBinLevel,fields:(t.fields??[]).map((e=>({...e.toJSON(),type:j(e,r)})))},attributes:{}}),z(e.aggregate,i.attributes.fields),e}function R(e,t,r,i){return e.aggregate||(e.aggregate={name:\"aggregate\",type:\"cluster\",input:\"feature\",filters:null,attributes:{},params:{clusterRadius:l(t.clusterRadius/2),clusterPixelBuffer:64*Math.ceil(l(t.clusterMaxSize)/64),fields:(t.fields??[])?.map((e=>({...e.toJSON(),type:j(e,r)})))}}),z(e.aggregate,i.attributes.fields),e}function U(e,t){return t.field?B(e,{...t,type:\"field\",field:t.field}):t.valueExpression?B(e,{...t,type:\"expression\",valueExpression:t.valueExpression}):{field:null,fieldIndex:null}}function B(e,t){switch(t.type){case\"expression\":{const r=E(t.valueExpression);if(!e.fields[r]){const i=e.indexCount++;e.fields[r]={...t,name:r,fieldIndex:i}}return{fieldIndex:e.fields[r].fieldIndex}}case\"label-expression\":{const r=E(JSON.stringify(t.label));if(!e.fields[r]){const i=e.indexCount++;e.fields[r]={...t,name:r,fieldIndex:i}}return{fieldIndex:e.fields[r].fieldIndex}}case\"field\":{const r=t.field;return\"aggregate\"===t.target&&e.fields[r]||(e.fields[r]={...t,name:r}),{field:r}}case\"statistic\":return e.fields[t.name]={...t},{field:t.name}}}function D(e,t=!1){const r=new Array;let i=0;return r.push(A(e,i++,t)),r}function P(e,t,r,i,n,s=!1){const l=B(e,{type:\"label-expression\",target:r,context:{mesh:!0},resultType:\"string\",label:{labelExpression:t.labelExpression,labelExpressionInfo:t.labelExpressionInfo?{expression:t.labelExpressionInfo.expression}:null,symbol:!!t.symbol,where:t.where}}),{fieldIndex:o}=l;return{...y(t,n,s),fieldIndex:o,target:r,index:i}}function k(t,r,i){const n=\"featureReduction\"in r&&r.featureReduction;if(!n)return{fields:[],labels:[],matcher:null,rendererOverride:null};const s=\"aggregate\",l=[];let o=null,a=v(r.geometryType),d=[],f=null;if(n)switch(n.type){case\"selection\":return T.error(new e(S,\"Mapview does not support `selection` reduction type\",n)),{fields:[],labels:[],matcher:null,rendererOverride:null};case\"cluster\":case\"binning\":if(l.push(...n.fields??[]),\"cluster\"===n.type?a=\"esriGeometryPoint\":\"binning\"===n.type&&(a=\"esriGeometryPolygon\"),n.renderer&&!n.renderer.authoringInfo?.isAutoGenerated){if(\"cluster\"===n.type){const{renderer:e}=x(n.renderer,n,null);f=e}else f=n.renderer;const e=w(n.renderer,n);o=$(null,s,n.renderer,e,i),d=n&&n.labelsVisible&&n.labelingInfo||[]}else if(\"cluster\"===n.type){if(f=h(l,r.renderer,n,null,!0),n.symbol){const e=w(f,n);o={type:\"simple\",symbol:y(n.symbol,e,i),symbologyType:e.symbologyType}}d=n&&n.labelsVisible&&n.labelingInfo||[]}}_(t,l);return{labels:u(d,\"binning\"===n.type?\"esriGeometryPolygon\":a),matcher:o,fields:l,rendererOverride:f}}function A(t,i,n=!1){const s={indexCount:0,fields:{}},l=\"featureReduction\"in t&&t.featureReduction,o=l?\"aggregate\":\"feature\";if(\"sublayers\"in t){const i={type:\"subtype\",subtypeField:t.subtypeField,renderers:{},symbologyType:d.DEFAULT},l={type:\"subtype\",mapping:{},target:\"feature\"},a={type:\"subtype\",classes:{}},u={type:\"symbol\",target:\"feature\",aggregateFields:[],attributes:s,storage:l,mesh:{matcher:i,aggregateMatcher:null,labels:a,sortKey:null}},f=new Set;let p=0;for(const{renderer:c,subtypeCode:y,labelingInfo:m,labelsVisible:g}of t.sublayers){const t={symbologyType:d.DEFAULT,vvFlags:0,maxVVSize:0},u=$(s,o,c,t,n),b=q(s,o,c),x=g&&m;if(\"visualVariables\"in c&&c.visualVariables&&c.visualVariables.length)throw new e(S,\"Visual variables are currently not supported for subtype layers\");if(\"dictionary\"===u.type)throw new e(S,\"Dictionary renderer is not supported in subtype layers\");if(\"subtype\"===u.type)throw new e(S,\"Nested subtype renderers is not supported\");if(r(b)&&\"subtype\"===b.type)throw new e(S,\"Nested subtype storage is not supported\");if(r(b)&&r(b.attributeMapping))throw new e(S,\"Non-visual-variable attributes are not supported in subtype layers\");if(\"heatmap\"===u.type)throw new e(S,\"Heatmaps are not supported in subtype layers\");if(\"pie-chart\"===u.type)throw new e(S,\"Pie-charts are not supported in subtype layers\");if(f.has(y))throw new e(S,\"Subtype codes for sublayers must be unique\");f.add(y),i.renderers[y]=u,l.mapping[y]=b,x&&(a.classes[y]=x.map((e=>P(s,e,\"feature\",p++,t,n))))}return u}if(\"heatmap\"===t.renderer.type&&\"raster\"===g()){const{radius:e,fieldOffset:r,field:i}=t.renderer;return{type:\"heatmap\",aggregateFields:[],attributes:s,target:o,storage:null,mesh:{radius:e,fieldOffset:r,field:U(s,{target:o,field:i,resultType:\"numeric\"}).field}}}const a=k(s,t,n),f=v(t.geometryType),p=a.rendererOverride??t.renderer,c=w(p,l),y=$(s,o,p,c,n),m=q(s,o,p),b=J(s,t.orderBy,l),x=t.labelsVisible&&t.labelingInfo||[],h=u(x,f);let T=0;const E=[...h.map((e=>P(s,e,\"feature\",T++,c,n))),...a.labels.map((e=>P(s,e,\"aggregate\",T++,c,n)))];return{type:\"symbol\",target:o,attributes:s,aggregateFields:a.fields,storage:m,mesh:{matcher:y,labels:{type:\"simple\",classes:E},aggregateMatcher:a.matcher,sortKey:b}}}function C(e){return\"heatmap\"===e.renderer?.type&&\"raster\"===g()?{type:\"heatmap\"}:{type:\"symbol\"}}function J(t,i,s){if(r(s)||n(i)||!i.length)return null;i.length>1&&T.warn(`Layer rendering currently only supports ordering by 1 orderByInfo, but found ${i.length}. All but the first will be discarded`);const l=i[0],o=\"ascending\"===l.order?\"asc\":\"desc\";if(l.field)return{field:l.field,order:o};if(l.valueExpression){return{fieldIndex:B(t,{type:\"expression\",target:\"feature\",valueExpression:l.valueExpression,resultType:\"numeric\"}).fieldIndex,order:o}}return T.error(new e(S,\"Expected to find a field or valueExpression for OrderByInfo\",l)),null}function _(e,t){const r={mesh:!0,storage:!0};for(const i of t){const{name:t,onStatisticField:n,onStatisticExpression:s,statisticType:l}=i;let o=null,a=null;const u=\"numeric\",d=\"feature\";if(s){a=B(e,{type:\"expression\",target:d,valueExpression:s.expression,resultType:u}).fieldIndex}else{o=B(e,{type:\"field\",target:d,field:n,resultType:u}).field}B(e,{type:\"statistic\",target:\"aggregate\",name:t,context:r,inField:o,inFieldIndex:a,statisticType:l})}}function q(e,t,r){let i;switch(r.type){case\"simple\":case\"class-breaks\":case\"unique-value\":case\"dictionary\":i={visualVariables:!0,attributes:null};break;default:i=p(r).getStorageSpec(r)}return G(e,t,i,r)}function G(e,t,i,s){if(n(i))return null;const{visualVariables:l,attributes:o}=i;let a=null;l&&\"visualVariables\"in s&&(a=H(e,t,s.visualVariables));const u=r(a)?4:0;let d=null;return r(o)&&(d=o.map(((r,i)=>{const{field:n,fieldIndex:s}=U(e,{valueExpression:r.valueExpression,field:r.field,resultType:\"numeric\",target:t});return{binding:i+u,field:n,fieldIndex:s}}))),{type:\"simple\",target:t,attributeMapping:d,vvMapping:a}}function H(e,t,r){if(!r||!r.length)return[];const i={storage:!0},n=\"numeric\";return b(r).map((r=>{const s=f(r.type),{field:l,fieldIndex:o}=U(e,{target:t,valueExpression:r.valueExpression,field:r.field,context:i,resultType:n});switch(r.type){case\"size\":return\"$view.scale\"===r.valueExpression?null:{type:\"size\",binding:s,field:l,fieldIndex:o,normalizationField:U(e,{target:t,field:r.normalizationField,context:i,resultType:n}).field,valueRepresentation:r.valueRepresentation??null};case\"color\":return{type:\"color\",binding:s,field:l,fieldIndex:o,normalizationField:U(e,{target:t,field:r.normalizationField,context:i,resultType:n}).field};case\"opacity\":return{type:\"opacity\",binding:s,field:l,fieldIndex:o,normalizationField:U(e,{target:t,field:r.normalizationField,context:i,resultType:n}).field};case\"rotation\":return{type:\"rotation\",binding:s,field:l,fieldIndex:o}}})).filter((e=>e))}function $(e,t,r,i,n=!1){const l=s(e,{indexCount:0,fields:{}});switch(r.type){case\"simple\":case\"dot-density\":return K(l,r,i,n);case\"class-breaks\":return Q(l,t,r,i,n);case\"unique-value\":return W(l,t,r,i,n);case\"dictionary\":return X(l,r,i,n);case\"heatmap\":return Z(l,r,i,n);case\"pie-chart\":return Y(l,r,i,n)}}function K(e,t,r,i=!1){const n=t.getSymbols(),s=n.length?n[0]:null;return{type:\"simple\",symbol:y(s,r,i),symbologyType:r.symbologyType}}function Y(e,t,r,i=!1){const n=t.getSymbols(),s=n[0],l=n.length>1?n[1]:null;return{type:\"pie-chart\",markerSymbol:y(s,r,i),fillSymbol:y(l,r,i),symbologyType:r.symbologyType}}function Q(e,t,r,i,n=!1){const s={mesh:!0,use:\"renderer.field\"},l=r.backgroundFillSymbol,{field:o,fieldIndex:a}=U(e,{target:t,field:r.field,valueExpression:r.valueExpression,resultType:\"numeric\",context:s}),u=r.normalizationType,d=\"log\"===u?\"esriNormalizeByLog\":\"percent-of-total\"===u?\"esriNormalizeByPercentOfTotal\":\"field\"===u?\"esriNormalizeByField\":null,f=r.classBreakInfos.map((e=>({symbol:y(e.symbol,i,n),min:e.minValue,max:e.maxValue}))).sort(((e,t)=>e.min-t.min));return{type:\"interval\",attributes:e.fields,field:o,fieldIndex:a,backgroundFillSymbol:y(l,i,n),defaultSymbol:y(r.defaultSymbol,i,n),intervals:f,normalizationField:r.normalizationField,normalizationTotal:r.normalizationTotal,normalizationType:d,isMaxInclusive:r.isMaxInclusive,symbologyType:i.symbologyType}}function W(t,r,i,n,s=!1){const l=[],o=i.backgroundFillSymbol,a={target:r,context:{mesh:!0},resultType:\"string\"};if(i.field&&\"string\"!=typeof i.field)throw new e(S,\"Expected renderer.field to be a string\",i);const{field:u,fieldIndex:d}=U(t,{...a,field:i.field,valueExpression:i.valueExpression});for(const e of i.uniqueValueInfos)l.push({value:\"\"+e.value,symbol:y(e.symbol,n,s)});return{type:\"map\",attributes:t.fields,field:u,fieldIndex:d,field2:U(t,{...a,field:i.field2}).field,field3:U(t,{...a,field:i.field3}).field,fieldDelimiter:i.fieldDelimiter,backgroundFillSymbol:y(o,n),defaultSymbol:y(i.defaultSymbol,n),map:l,symbologyType:n.symbologyType}}function X(e,t,r,i=!1){return{type:\"dictionary\",config:t.config,fieldMap:t.fieldMap,scaleExpression:t.scaleExpression,url:t.url,symbolOptions:r,symbologyType:r.symbologyType}}function Z(e,t,r,i=!1){const n=t.getSymbols(),s=n.length?n[0]:null;return{type:\"heatmap\",symbol:y(s,r,i),symbologyType:r.symbologyType}}export{_ as addAggregateFields,$ as createMatcherSchema,U as createRendererAttributeSchema,F as createSchema,w as createSymbolSchemaOptions};\n"],
  "mappings": "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",
  "names": ["e", "r", "i", "t", "c", "g", "e", "t", "n", "i", "s", "u", "d", "e", "t", "n", "r", "o", "s", "m", "t", "e", "r", "i", "g", "y", "t", "g", "t", "e", "S", "e", "t", "i", "n", "s", "m", "r", "l", "R", "j", "A", "o", "d", "f", "a", "u", "p", "c", "y", "g", "b", "q", "x", "h", "T", "E"]
}
