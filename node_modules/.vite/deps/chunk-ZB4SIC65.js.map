{
  "version": 3,
  "sources": ["../../@arcgis/core/arcade/Dictionary.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{ArcadeExecutionError as t,ExecutionErrorCodes as s}from\"./executionError.js\";import i from\"./ImmutableArray.js\";import{i as e,a as n,b as r,c as o,t as a,d as u,e as l,f as c,g as f,h,j as b,k as y,l as m,m as d}from\"../chunks/languageUtils.js\";import g from\"../geometry/Geometry.js\";function w(t,s=!1){if(null==t)return null;if(r(t))return f(t);if(n(t))return h(t);if(o(t))return b(t);if(y(t))return m(t);if(d(t)){const i=[];for(const e of t)i.push(w(e,s));return i}const i=new J;i.immutable=!1;for(const e of Object.keys(t)){const n=t[e];void 0!==n&&i.setField(e,w(n,s))}return i.immutable=s,i}class J{constructor(t){this.declaredClass=\"esri.arcade.Dictionary\",this.attributes=null,this.plain=!1,this.immutable=!0,this.attributes=t instanceof J?t.attributes:t??{}}field(i){const e=i.toLowerCase(),n=this.attributes[i];if(void 0!==n)return n;for(const t in this.attributes)if(t.toLowerCase()===e)return this.attributes[t];throw new t(null,s.FieldNotFound,null,{key:i})}setField(i,n){if(this.immutable)throw new t(null,s.Immutable,null);if(e(n))throw new t(null,s.NoFunctionInDictionary,null);const r=i.toLowerCase();if(void 0===this.attributes[i]){for(const t in this.attributes)if(t.toLowerCase()===r)return void(this.attributes[t]=n);this.attributes[i]=n}else this.attributes[i]=n}hasField(t){const s=t.toLowerCase();if(void 0!==this.attributes[t])return!0;for(const i in this.attributes)if(i.toLowerCase()===s)return!0;return!1}keys(){let t=[];for(const s in this.attributes)t.push(s);return t=t.sort(),t}castToText(t=!1){let s=\"\";for(const e in this.attributes){\"\"!==s&&(s+=\",\");const u=this.attributes[e];null==u?s+=JSON.stringify(e)+\":null\":n(u)||r(u)||o(u)?s+=JSON.stringify(e)+\":\"+JSON.stringify(u):u instanceof g?s+=JSON.stringify(e)+\":\"+a(u):u instanceof i||u instanceof Array?s+=JSON.stringify(e)+\":\"+a(u,null,t):u instanceof Date?s+=t?JSON.stringify(e)+\":\"+JSON.stringify(u.getTime()):JSON.stringify(e)+\":\"+JSON.stringify(u):null!==u&&\"object\"==typeof u&&void 0!==u.castToText&&(s+=JSON.stringify(e)+\":\"+u.castToText(t))}return\"{\"+s+\"}\"}static convertObjectToArcadeDictionary(t,s=!0){const i=new J;i.immutable=!1;for(const e in t){const s=t[e];void 0!==s&&i.setField(e.toString(),w(s))}return i.immutable=s,i}static convertJsonToArcade(t,s=!1){return w(t,s)}castAsJson(t=null){const s={};for(let i in this.attributes){const e=this.attributes[i];void 0!==e&&(t?.keyTranslate&&(i=t.keyTranslate(i)),s[i]=u(e,t))}return s}async castDictionaryValueAsJsonAsync(t,s,i,e=null,n){const r=await l(i,e,n);return t[s]=r,r}async castAsJsonAsync(t=null,s=null){const i={},e=[];for(let n in this.attributes){const r=this.attributes[n];s?.keyTranslate&&(n=s.keyTranslate(n)),void 0!==r&&(c(r)||r instanceof g||r instanceof Date?i[n]=u(r,s):e.push(this.castDictionaryValueAsJsonAsync(i,n,r,t,s)))}return e.length>0&&await Promise.all(e),i}}export{J as default};\n"],
  "mappings": "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",
  "names": ["w", "t", "i", "e", "s"]
}
