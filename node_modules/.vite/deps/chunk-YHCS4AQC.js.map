{
  "version": 3,
  "sources": ["../../@arcgis/core/arcade/functions/centroid.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../geometry/Point.js\";import{segmentIntersects as n}from\"../../geometry/support/intersectsBase.js\";function e(t,n,e){return Math.sqrt((t[0]-n[0])**2+(t[1]-n[1])**2+(void 0!==t[2]&&void 0!==n[2]?(t[2]*e-n[2]*e)**2:0))}const r=[];for(const v of[[9002,56146130,6131,6132,8050,8051,8228],[9003,5702,6358,6359,6360,8052,8053],[9095,5754]]){const t=v[0];for(let n=1;n<v.length;n++)r[v[n]]=t}const o=[];function s(t){return t.vcsWkid&&void 0!==r[t.vcsWkid]?o[r[t.vcsWkid]]:t.latestVcsWkid&&void 0!==r[t.latestVcsWkid]?o[r[t.latestVcsWkid]]:1}function c(t,n,e){const r={x:0,y:0};n&&(r.z=0),e&&(r.m=0);let o=0,s=t[0];for(let c=0;c<t.length;c++){const a=t[c];if(!1===f(a,s)){const t=h(s,a,n),c=i(s,a,n,e);c.x*=t,c.y*=t,r.x+=c.x,r.y+=c.y,n&&(c.z*=t,r.z+=c.z),e&&(c.m*=t,r.m+=c.m),o+=t,s=a}}return o>0?(r.x/=o,r.y/=o,n&&(r.z/=o),e&&(r.m/=o)):(r.x=t[0][0],r.y=t[0][1],n&&(r.z=t[0][2]),e&&n?r.m=t[0][3]:e&&(r.m=t[0][2])),r}function i(t,n,e,r){const o={x:(t[0]+n[0])/2,y:(t[1]+n[1])/2};return e&&(o.z=(t[2]+n[2])/2),e&&r?o.m=(t[3]+n[3])/2:r&&(o.m=(t[2]+n[2])/2),o}function a(t,n){if(t.length<=1)return 0;let e=0;for(let r=1;r<t.length;r++)e+=h(t[r-1],t[r],n);return e}function h(t,n,e){const r=n[0]-t[0],o=n[1]-t[1];if(e){const t=n[2]-n[2];return Math.sqrt(r*r+o*o+t*t)}return Math.sqrt(r*r+o*o)}function f(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}function l(n){const e={x:0,y:0,spatialReference:n.spatialReference.toJSON()},r={x:0,y:0,spatialReference:n.spatialReference.toJSON()};let o=0,s=0;for(let t=0;t<n.paths.length;t++){if(0===n.paths[t].length)continue;const i=a(n.paths[t],!0===n.hasZ);if(0===i){const r=c(n.paths[t],!0===n.hasZ,!0===n.hasM);e.x+=r.x,e.y+=r.y,!0===n.hasZ&&(e.z+=r.z),!0===n.hasM&&(e.m+=r.m),++o}else{const e=c(n.paths[t],!0===n.hasZ,!0===n.hasM);r.x+=e.x*i,r.y+=e.y*i,!0===n.hasZ&&(r.z+=e.z*i),!0===n.hasM&&(r.m+=e.m*i),s+=i}}return s>0?(r.x/=s,r.y/=s,!0===n.hasZ&&(r.z/=s),!0===n.hasM&&(r.m/=s),new t(r)):o>0?(e.x/=o,e.y/=o,!0===n.hasZ&&(r.z/=o),!0===n.hasM&&(e.m/=o),new t(e)):null}function u(n){if(0===n.points.length)return null;let e=0,r=0,o=0,s=0;for(let t=0;t<n.points.length;t++){const c=n.getPoint(t);!0===c.hasZ&&(o+=c.z),!0===c.hasM&&(s+=c.m),e+=c.x,r+=c.y,s+=c.m}const c={x:e/n.points.length,y:r/n.points.length,spatialReference:null};return c.spatialReference=n.spatialReference.toJSON(),!0===n.hasZ&&(c.z=o/n.points.length),!0===n.hasM&&(c.m=s/n.points.length),new t(c)}function y(t,n){return t.x*n.x+t.y*n.y}function x(t,n){return t.x*n.y-n.x*t.y}function m(t,n,e=0){for(;t<e;)t+=n;const r=e+n;for(;t>=r;)t-=n;return t}function g(t,n){return Math.atan2(n.y-t.y,n.x-t.x)}function p(t,n){return m(g(t,n),2*Math.PI)*(180/Math.PI)}function M(t,n){return m(Math.PI/2-g(t,n),2*Math.PI)*(180/Math.PI)}function z(t,n,e){const r={x:t.x-n.x,y:t.y-n.y},o={x:e.x-n.x,y:e.y-n.y};return Math.atan2(x(r,o),y(r,o))}function P(t,n,e){return m(z(t,n,e),2*Math.PI)*(180/Math.PI)}function d(t,n,e){return m(-1*z(t,n,e),2*Math.PI)*(180/Math.PI)}o[9002]=.3048,o[9003]=.3048006096012192,o[9095]=.3048007491;const I=[0,0];function Z(t){for(let e=0;e<t.length;e++){const r=t[e];for(let s=0;s<r.length-1;s++){const o=r[s],c=r[s+1];for(let r=e+1;r<t.length;r++)for(let e=0;e<t[r].length-1;e++){const s=t[r][e],i=t[r][e+1];if(n(o,c,s,i,I)&&!(I[0]===o[0]&&I[1]===o[1]||I[0]===s[0]&&I[1]===s[1]||I[0]===c[0]&&I[1]===c[1]||I[0]===i[0]&&I[1]===i[1]))return!0}}const o=r.length;if(!(o<3))for(let t=0;t<=o-2;t++){const e=r[t],s=r[t+1];for(let c=t+2;c<=o-2;c++){const t=r[c],o=r[c+1];if(n(e,s,t,o,I)&&!(I[0]===e[0]&&I[1]===e[1]||I[0]===t[0]&&I[1]===t[1]||I[0]===s[0]&&I[1]===s[1]||I[0]===o[0]&&I[1]===o[1]))return!0}}}return!1}export{p as angle2D,P as angleBetween2D,z as angleBetweenRad,g as angleRad,M as bearing2D,d as bearingBetween2D,u as centroidMultiPoint,l as centroidPolyline,s as getMetersPerVerticalUnitForSR,Z as pathsSelfIntersecting,e as segmentLength3d};\n"],
  "mappings": "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",
  "names": ["e", "r", "o", "s", "c", "a", "t", "i"]
}
