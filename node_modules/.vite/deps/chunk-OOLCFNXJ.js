import {
  t as t3
} from "./chunk-6KZ2LTDA.js";
import {
  e,
  t as t2
} from "./chunk-U2XHEJM7.js";
import {
  D,
  a,
  p
} from "./chunk-MJXQTGI2.js";
import {
  r as r2,
  s as s3
} from "./chunk-LIZHLHNA.js";
import {
  $,
  B,
  M,
  S,
  _,
  b as b2,
  j as j2,
  k,
  m,
  w as w2
} from "./chunk-BTUHYGXO.js";
import {
  s2
} from "./chunk-UA3YPL2R.js";
import {
  N,
  has,
  o,
  w,
  y
} from "./chunk-HVKDYDPP.js";
import {
  C,
  b,
  j,
  x as x2
} from "./chunk-6QC7MLLS.js";
import {
  d,
  r,
  s,
  t,
  x
} from "./chunk-MIHB3CIK.js";

// node_modules/@arcgis/core/chunks/tslib.es6.js
function e2(e12, t16, r7, o12) {
  var c11, f9 = arguments.length, n12 = f9 < 3 ? t16 : null === o12 ? o12 = Object.getOwnPropertyDescriptor(t16, r7) : o12;
  if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
    n12 = Reflect.decorate(e12, t16, r7, o12);
  else
    for (var l10 = e12.length - 1; l10 >= 0; l10--)
      (c11 = e12[l10]) && (n12 = (f9 < 3 ? c11(n12) : f9 > 3 ? c11(t16, r7, n12) : c11(t16, r7)) || n12);
  return f9 > 3 && n12 && Object.defineProperty(t16, r7, n12), n12;
}

// node_modules/@arcgis/core/core/handleUtils.js
function r3(r7) {
  return n(() => r7.forEach((r8) => r(r8) && r8.remove()));
}
function n(e12) {
  return { remove: () => {
    e12 && (e12(), e12 = void 0);
  } };
}
function o2(r7) {
  return n(() => {
    const n12 = r7();
    r(n12) && n12.remove();
  });
}
function t4(r7) {
  return n(r(r7) ? () => r7.destroy() : void 0);
}

// node_modules/@arcgis/core/core/accessorSupport/utils.js
function e3(r7) {
  return r7 ? r7.__accessor__ ? r7.__accessor__ : r7.propertyInvalidated ? r7 : null : null;
}
function i(r7, n12) {
  return null != r7 && r7.metadatas && null != r7.metadatas[n12];
}
function o3(r7, n12, t16) {
  if (t16) {
    return l(r7, n12, { policy: t16, path: "" });
  }
  return l(r7, n12, null);
}
function l(r7, e12, i10) {
  return e12 ? Object.keys(e12).reduce((r8, u9) => {
    let o12 = null, a8 = "merge";
    if (i10 && (o12 = i10.path ? `${i10.path}.${u9}` : u9, a8 = i10.policy(o12)), "replace" === a8)
      return r8[u9] = e12[u9], r8;
    if (void 0 === r8[u9])
      return r8[u9] = y(e12[u9]), r8;
    let s15 = r8[u9], c11 = e12[u9];
    if (s15 === c11)
      return r8;
    if (Array.isArray(c11) || Array.isArray(r8))
      s15 = s15 ? Array.isArray(s15) ? r8[u9] = s15.concat() : r8[u9] = [s15] : r8[u9] = [], c11 && (Array.isArray(c11) || (c11 = [c11]), c11.forEach((r9) => {
        s15.includes(r9) || s15.push(r9);
      }));
    else if (c11 && "object" == typeof c11)
      if (i10) {
        const n12 = i10.path;
        i10.path = x(o12), r8[u9] = l(s15, c11, i10), i10.path = n12;
      } else
        r8[u9] = l(s15, c11, null);
    else
      r8.hasOwnProperty(u9) && !e12.hasOwnProperty(u9) || (r8[u9] = c11);
    return r8;
  }, r7 || {}) : r7;
}
function s4(r7) {
  return Array.isArray(r7) ? r7 : r7.split(".");
}
function c(r7) {
  return r7.includes(",") ? r7.split(",").map((r8) => r8.trim()) : [r7.trim()];
}
function f(r7) {
  if (Array.isArray(r7)) {
    const n12 = [];
    for (const t16 of r7)
      n12.push(...c(t16));
    return n12;
  }
  return c(r7);
}
function y2(n12, t16, e12, i10) {
  const u9 = f(t16);
  if (1 !== u9.length) {
    const t17 = u9.map((r7) => i10(n12, r7, e12));
    return r3(t17);
  }
  return i10(n12, u9[0], e12);
}
function h(r7) {
  let n12 = false;
  return () => {
    n12 || (n12 = true, r7());
  };
}

// node_modules/@arcgis/core/core/accessorSupport/get.js
function e4(t16, e12) {
  const i10 = "?" === t16[t16.length - 1] ? t16.slice(0, -1) : t16;
  if (null != e12.getItemAt || Array.isArray(e12)) {
    const t17 = parseInt(i10, 10);
    if (!isNaN(t17))
      return Array.isArray(e12) ? e12[t17] : e12.getItemAt(t17);
  }
  const u9 = e3(e12);
  return i(u9, i10) ? u9.get(i10) : e12[i10];
}
function i2(t16, n12, r7) {
  if (null == t16)
    return t16;
  const u9 = e4(n12[r7], t16);
  return !u9 && r7 < n12.length - 1 ? void 0 : r7 === n12.length - 1 ? u9 : i2(u9, n12, r7 + 1);
}
function u(n12, r7, u9 = 0) {
  return "string" != typeof r7 || r7.includes(".") ? i2(n12, s4(r7), u9) : e4(r7, n12);
}
function o4(t16, n12) {
  return u(t16, n12);
}
function s5(t16, n12) {
  return void 0 !== u(n12, t16);
}

// node_modules/@arcgis/core/core/accessorSupport/metadata.js
var o5 = class {
  constructor(t16) {
    this.autoDestroy = false, this.properties = t16;
  }
};
function n2(r7) {
  let n12 = r7.constructor.__accessorMetadata__;
  const c11 = Object.prototype.hasOwnProperty.call(r7.constructor, "__accessorMetadata__");
  if (n12) {
    if (!c11) {
      const e12 = Object.create(n12.properties), c12 = n12.autoDestroy;
      for (const r8 in e12)
        e12[r8] = y(e12[r8]);
      n12 = new o5(e12), n12.autoDestroy = c12, Object.defineProperty(r7.constructor, "__accessorMetadata__", { value: n12, enumerable: false, configurable: true, writable: true });
    }
  } else
    n12 = new o5({}), Object.defineProperty(r7.constructor, "__accessorMetadata__", { value: n12, enumerable: false, configurable: true, writable: true });
  return x(r7.constructor.__accessorMetadata__);
}
function c2(t16) {
  return n2(t16).properties;
}
function s6(t16, e12) {
  const r7 = c2(t16);
  let o12 = r7[e12];
  return o12 || (o12 = r7[e12] = {}), o12;
}
function i3(t16, e12) {
  return o3(t16, e12, _2);
}
var p2 = /^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;
function _2(t16) {
  return p2.test(t16) ? "replace" : "merge";
}

// node_modules/@arcgis/core/core/accessorSupport/set.js
function t5(o12, e12, s15) {
  if (o12 && e12)
    if ("object" == typeof e12)
      for (const r7 of Object.getOwnPropertyNames(e12))
        t5(o12, r7, e12[r7]);
    else {
      if (e12.includes(".")) {
        const n12 = e12.split("."), i11 = n12.splice(n12.length - 1, 1)[0];
        return void t5(o4(o12, n12), i11, s15);
      }
      const i10 = o12.__accessor__;
      null != i10 && n3(e12, i10), o12[e12] = s15;
    }
}
function n3(r7, t16) {
  if (has("esri-unknown-property-errors") && !e5(r7, t16))
    throw new s3("set:unknown-property", s7(r7, t16));
}
function e5(o12, r7) {
  return null != r7.metadatas[o12];
}
function s7(o12, r7) {
  return "setting unknown property '" + o12 + "' on instance of " + r7.host.declaredClass;
}

// node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
function y3(n12 = {}) {
  return (o12, s15) => {
    if (o12 === Function.prototype)
      throw new Error(`Inappropriate use of @property() on a static field: ${o12.name}.${s15}. Accessor does not support static properties.`);
    const i10 = Object.getOwnPropertyDescriptor(o12, s15), a8 = s6(o12, s15);
    i10 && (i10.get || i10.set ? (a8.get = i10.get || a8.get, a8.set = i10.set || a8.set) : "value" in i10 && ("value" in n12 && s2.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${s15}" on "${o12.constructor.name}" already defined in the metadata`, n12), a8.value = n12.value = i10.value)), null != n12.readOnly && (a8.readOnly = n12.readOnly);
    const p10 = n12.aliasOf;
    if (p10) {
      const t16 = "string" == typeof p10 ? p10 : p10.source, e12 = "string" == typeof p10 ? null : true === p10.overridable;
      let r7;
      a8.dependsOn = [t16], a8.get = function() {
        let e13 = o4(this, t16);
        if ("function" == typeof e13) {
          r7 || (r7 = t16.split(".").slice(0, -1).join("."));
          const n13 = o4(this, r7);
          n13 && (e13 = e13.bind(n13));
        }
        return e13;
      }, a8.readOnly || (a8.set = e12 ? function(t17) {
        this._override(s15, t17);
      } : function(e13) {
        t5(this, t16, e13);
      });
    }
    const u9 = n12.type, c11 = n12.types;
    a8.cast || (u9 ? a8.cast = h2(u9) : c11 && (Array.isArray(c11) ? a8.cast = m(S(c11[0])) : a8.cast = S(c11))), i3(a8, n12), n12.range && (a8.cast = j3(a8.cast, n12.range));
  };
}
function d2(t16, e12, r7) {
  const n12 = s6(t16, r7);
  n12.json || (n12.json = {});
  let o12 = n12.json;
  return void 0 !== e12 && (o12.origins || (o12.origins = {}), o12.origins[e12] || (o12.origins[e12] = {}), o12 = o12.origins[e12]), o12;
}
function h2(t16) {
  let e12 = 0, r7 = t16;
  if (_(t16))
    return B(t16);
  for (; Array.isArray(r7) && 1 === r7.length && "string" != typeof r7[0] && "number" != typeof r7[0]; )
    r7 = r7[0], e12++;
  const f9 = r7;
  if (k(f9))
    return 0 === e12 ? M(f9) : $(M(f9), e12);
  if (1 === e12)
    return w2(f9);
  if (e12 > 1)
    return j2(f9, e12);
  const l10 = t16;
  return l10.from ? l10.from : b2(l10);
}
function j3(t16, e12) {
  return (r7) => {
    let n12 = +t16(r7);
    return null != e12.step && (n12 = Math.round(n12 / e12.step) * e12.step), null != e12.min && (n12 = Math.max(e12.min, n12)), null != e12.max && (n12 = Math.min(e12.max, n12)), n12;
  };
}

// node_modules/@arcgis/core/core/Warning.js
var t6 = class extends r2 {
  constructor(e12, s15, r7) {
    if (super(e12, s15, r7), !(this instanceof t6))
      return new t6(e12, s15, r7);
  }
};
t6.prototype.type = "warning";

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/type.js
function e6(e12) {
  return !!e12 && e12.prototype && e12.prototype.declaredClass && 0 === e12.prototype.declaredClass.indexOf("esri.core.Collection");
}

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/reader.js
var i4 = s2.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");
function p3(t16, r7, n12) {
  var _a, _b;
  t16 && (!n12 && !r7.read || ((_a = r7.read) == null ? void 0 : _a.reader) || false === ((_b = r7.read) == null ? void 0 : _b.enabled) || l2(t16) && o("read.reader", s8(t16), r7));
}
function s8(t16) {
  var _a, _b, _c;
  const e12 = (_a = t16.ndimArray) != null ? _a : 0;
  if (e12 > 1)
    return c3(t16);
  if (1 === e12)
    return a2(t16);
  if ("type" in t16 && d3(t16.type)) {
    const e13 = (_c = (_b = t16.type.prototype) == null ? void 0 : _b.itemType) == null ? void 0 : _c.Type, r7 = a2("function" == typeof e13 ? { type: e13 } : { types: e13 });
    return (e14, n12, o12) => {
      const i10 = r7(e14, n12, o12);
      return i10 ? new t16.type(i10) : i10;
    };
  }
  return u2(t16);
}
function u2(t16) {
  return "type" in t16 ? y4(t16.type) : g(t16.types);
}
function y4(t16) {
  return t16.prototype.read ? (e12, r7, n12) => {
    if (null == e12)
      return e12;
    const o12 = typeof e12;
    if ("object" !== o12)
      return void i4.error(`Expected JSON value of type 'object' to deserialize type '${t16.prototype.declaredClass}', but got '${o12}'`);
    const p10 = new t16();
    return p10.read(e12, n12), p10;
  } : t16.fromJSON;
}
function f2(t16, e12, r7, n12) {
  return 0 !== n12 && Array.isArray(e12) ? e12.map((e13) => f2(t16, e13, r7, n12 - 1)) : t16(e12, void 0, r7);
}
function c3(t16) {
  var _a;
  const e12 = u2(t16), r7 = f2.bind(null, e12), n12 = (_a = t16.ndimArray) != null ? _a : 0;
  return (t17, e13, o12) => {
    if (null == t17)
      return t17;
    t17 = r7(t17, o12, n12);
    let i10 = n12, p10 = t17;
    for (; i10 > 0 && Array.isArray(p10); )
      i10--, p10 = p10[0];
    if (void 0 !== p10)
      for (let r8 = 0; r8 < i10; r8++)
        t17 = [t17];
    return t17;
  };
}
function a2(t16) {
  const e12 = u2(t16);
  return (t17, r7, n12) => {
    if (null == t17)
      return t17;
    if (Array.isArray(t17)) {
      const r8 = [];
      for (const o13 of t17) {
        const t18 = e12(o13, void 0, n12);
        void 0 !== t18 && r8.push(t18);
      }
      return r8;
    }
    const o12 = e12(t17, void 0, n12);
    return void 0 !== o12 ? [o12] : void 0;
  };
}
function d3(t16) {
  if (!e6(t16))
    return false;
  const e12 = t16.prototype.itemType;
  return !(!e12 || !e12.Type) && ("function" == typeof e12.Type ? m2(e12.Type) : j4(e12.Type));
}
function l2(t16) {
  return "types" in t16 ? j4(t16.types) : m2(t16.type);
}
function m2(t16) {
  return !Array.isArray(t16) && (!!t16 && t16.prototype && ("read" in t16.prototype || "fromJSON" in t16 || d3(t16)));
}
function j4(t16) {
  for (const e12 in t16.typeMap) {
    if (!m2(t16.typeMap[e12]))
      return false;
  }
  return true;
}
function g(t16) {
  var _a;
  let e12 = null;
  const n12 = (_a = t16.errorContext) != null ? _a : "type";
  return (o12, p10, s15) => {
    if (null == o12)
      return o12;
    const u9 = typeof o12;
    if ("object" !== u9)
      return void i4.error(`Expected JSON value of type 'object' to deserialize, but got '${u9}'`);
    e12 || (e12 = v(t16));
    const y12 = t16.key;
    if ("string" != typeof y12)
      return;
    const f9 = o12[y12], c11 = f9 ? e12[f9] : t16.defaultKeyValue ? t16.typeMap[t16.defaultKeyValue] : void 0;
    if (!c11) {
      const t17 = `Type '${f9 || "unknown"}' is not supported`;
      return s15 && s15.messages && o12 && s15.messages.push(new t6(`${n12}:unsupported`, t17, { definition: o12, context: s15 })), void i4.error(t17);
    }
    const a8 = new c11();
    return a8.read(o12, s15), a8;
  };
}
function v(t16) {
  var _a, _b;
  const e12 = {};
  for (const r7 in t16.typeMap) {
    const o12 = t16.typeMap[r7], i10 = n2(o12.prototype);
    if ("function" == typeof t16.key)
      continue;
    const p10 = i10.properties[t16.key];
    if (!p10)
      continue;
    ((_a = p10.json) == null ? void 0 : _a.type) && Array.isArray(p10.json.type) && 1 === p10.json.type.length && "string" == typeof p10.json.type[0] && (e12[p10.json.type[0]] = o12);
    const s15 = (_b = p10.json) == null ? void 0 : _b.write;
    if (!s15 || !s15.writer) {
      e12[r7] = o12;
      continue;
    }
    const u9 = s15.target, y12 = "string" == typeof u9 ? u9 : t16.key, f9 = {};
    s15.writer(r7, f9, y12), f9[y12] && (e12[f9[y12]] = o12);
  }
  return e12;
}

// node_modules/@arcgis/core/core/accessorSupport/interfaces.js
var I;
!function(I3) {
  I3[I3.INITIALIZING = 0] = "INITIALIZING", I3[I3.CONSTRUCTING = 1] = "CONSTRUCTING", I3[I3.CONSTRUCTED = 2] = "CONSTRUCTED";
}(I || (I = {}));

// node_modules/@arcgis/core/core/accessorSupport/tracking/Flags.js
var i5;
!function(i10) {
  i10[i10.Dirty = 1] = "Dirty", i10[i10.Overriden = 2] = "Overriden", i10[i10.Computing = 4] = "Computing", i10[i10.NonNullable = 8] = "NonNullable", i10[i10.HasDefaultValue = 16] = "HasDefaultValue", i10[i10.DepTrackingInitialized = 32] = "DepTrackingInitialized", i10[i10.AutoTracked = 64] = "AutoTracked", i10[i10.ExplicitlyTracking = 128] = "ExplicitlyTracking";
}(i5 || (i5 = {}));

// node_modules/@arcgis/core/core/accessorSupport/tracking.js
var o6 = { onObservableAccessed: () => {
}, onTrackingEnd: () => {
} };
var c4 = [];
var i6 = o6;
function s9(t16) {
  i6.onObservableAccessed(t16);
}
var l3 = false;
var a3 = false;
function f3(t16, n12, e12) {
  if (l3)
    return u3(t16, n12, e12);
  p4(t16);
  const r7 = n12.call(e12);
  return d4(), r7;
}
function g2(t16, n12) {
  return f3(o6, t16, n12);
}
function u3(n12, e12, r7) {
  const o12 = l3;
  l3 = true, p4(n12);
  let c11 = null;
  try {
    c11 = e12.call(r7);
  } catch (i10) {
    a3 && s2.getLogger("esri.core.accessorSupport.tracking").error(i10);
  }
  return d4(), l3 = o12, c11;
}
function p4(t16) {
  i6 = t16, c4.push(t16);
}
function d4() {
  const t16 = c4.length;
  if (t16 > 1) {
    const n12 = c4.pop();
    i6 = c4[t16 - 2], n12.onTrackingEnd();
  } else if (1 === t16) {
    const t17 = c4.pop();
    i6 = o6, t17.onTrackingEnd();
  } else
    i6 = o6;
}
function m3(t16, n12) {
  if (n12.flags & i5.DepTrackingInitialized)
    return;
  const e12 = a3;
  a3 = false, n12.flags & i5.AutoTracked ? u3(n12, n12.metadata.get, t16) : y5(t16, n12), a3 = e12;
}
var k2 = [];
function y5(t16, e12) {
  e12.flags & i5.ExplicitlyTracking || (e12.flags |= i5.ExplicitlyTracking, u3(e12, () => {
    const r7 = e12.metadata.dependsOn || k2;
    for (const e13 of r7)
      if ("string" != typeof e13 || e13.includes(".")) {
        const r8 = s4(e13);
        for (let n12 = 0, e14 = t16; n12 < r8.length && null != e14 && "object" == typeof e14; ++n12)
          e14 = A(e14, r8[n12], n12 !== r8.length - 1);
      } else
        A(t16, e13, false);
  }), e12.flags &= ~i5.ExplicitlyTracking);
}
function A(t16, n12, r7) {
  var _a;
  const o12 = "?" === n12[n12.length - 1] ? n12.slice(0, -1) : n12;
  if (null != t16.getItemAt || Array.isArray(t16)) {
    const n13 = parseInt(o12, 10);
    if (!isNaN(n13))
      return Array.isArray(t16) ? t16[n13] : t16.getItemAt(n13);
  }
  const c11 = (_a = e3(t16)) == null ? void 0 : _a.properties.get(o12);
  return c11 && (s9(c11), m3(t16, c11)), r7 ? t16[o12] : void 0;
}

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/originAliases.js
function n4(n12) {
  if (n12.json && n12.json.origins) {
    const o12 = n12.json.origins, e12 = { "web-document": ["web-scene", "web-map"] };
    for (const n13 in e12)
      if (o12[n13]) {
        const s15 = o12[n13];
        e12[n13].forEach((n14) => {
          o12[n14] = s15;
        }), delete o12[n13];
      }
  }
}

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/shorthands.js
function e7(e12) {
  if (e12.json || (e12.json = {}), o7(e12.json), n5(e12.json), r4(e12.json), e12.json.origins)
    for (const t16 in e12.json.origins)
      o7(e12.json.origins[t16]), n5(e12.json.origins[t16]), r4(e12.json.origins[t16]);
  return true;
}
function r4(e12) {
  e12.name && (e12.read && "object" == typeof e12.read ? void 0 === e12.read.source && (e12.read.source = e12.name) : e12.read = { source: e12.name }, e12.write && "object" == typeof e12.write ? void 0 === e12.write.target && (e12.write.target = e12.name) : e12.write = { target: e12.name });
}
function o7(e12) {
  "boolean" == typeof e12.read ? e12.read = { enabled: e12.read } : "function" == typeof e12.read ? e12.read = { enabled: true, reader: e12.read } : e12.read && "object" == typeof e12.read && void 0 === e12.read.enabled && (e12.read.enabled = true);
}
function n5(e12) {
  "boolean" == typeof e12.write ? e12.write = { enabled: e12.write } : "function" == typeof e12.write ? e12.write = { enabled: true, writer: e12.write } : e12.write && "object" == typeof e12.write && void 0 === e12.write.enabled && (e12.write.enabled = true);
}

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/writer.js
function i7(r7, e12) {
  var _a;
  if (!e12.write || e12.write.writer || false === e12.write.enabled && !e12.write.overridePolicy)
    return;
  const t16 = (_a = r7 == null ? void 0 : r7.ndimArray) != null ? _a : 0;
  r7 && (1 === t16 || "type" in r7 && e6(r7.type)) ? e12.write.writer = a4 : t16 > 1 ? e12.write.writer = l4(t16) : e12.types ? Array.isArray(e12.types) ? e12.write.writer = f4(e12.types[0]) : e12.write.writer = o8(e12.types) : e12.write.writer = s10;
}
function o8(r7) {
  return (e12, t16, n12, i10) => e12 ? u4(e12, r7, i10) ? s10(e12, t16, n12, i10) : void 0 : s10(e12, t16, n12, i10);
}
function u4(t16, n12, i10) {
  var _a, _b;
  for (const r7 in n12.typeMap)
    if (t16 instanceof n12.typeMap[r7])
      return true;
  if (i10 == null ? void 0 : i10.messages) {
    const o12 = (_a = n12.errorContext) != null ? _a : "type", u9 = `Values of type '${(_b = "function" != typeof n12.key ? t16[n12.key] : t16.declaredClass) != null ? _b : "Unknown"}' cannot be written`;
    i10 && i10.messages && t16 && i10.messages.push(new s3(`${o12}:unsupported`, u9, { definition: t16, context: i10 })), s2.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(u9);
  }
  return false;
}
function f4(r7) {
  return (e12, t16, n12, i10) => {
    if (!e12 || !Array.isArray(e12))
      return s10(e12, t16, n12, i10);
    return s10(e12.filter((e13) => u4(e13, r7, i10)), t16, n12, i10);
  };
}
function s10(r7, e12, n12, i10) {
  o(n12, p5(r7, i10), e12);
}
function p5(r7, e12) {
  return r7 && "function" == typeof r7.write ? r7.write({}, e12) : r7 && "function" == typeof r7.toJSON ? r7.toJSON() : "number" == typeof r7 ? y6(r7) : r7;
}
function y6(r7) {
  return r7 === -1 / 0 ? -Number.MAX_VALUE : r7 === 1 / 0 ? Number.MAX_VALUE : isNaN(r7) ? null : r7;
}
function a4(r7, e12, n12, i10) {
  let o12;
  null === r7 ? o12 = null : r7 && "function" == typeof r7.map ? (o12 = r7.map((r8) => p5(r8, i10)), "function" == typeof o12.toArray && (o12 = o12.toArray())) : o12 = [p5(r7, i10)], o(n12, o12, e12);
}
function c5(r7, e12, t16) {
  return 0 !== t16 && Array.isArray(r7) ? r7.map((r8) => c5(r8, e12, t16 - 1)) : p5(r7, e12);
}
function l4(r7) {
  return (e12, n12, i10, o12) => {
    let u9;
    if (null === e12)
      u9 = null;
    else {
      u9 = c5(e12, o12, r7);
      let t16 = r7, n13 = u9;
      for (; t16 > 0 && Array.isArray(n13); )
        t16--, n13 = n13[0];
      if (void 0 !== n13)
        for (let r8 = 0; r8 < t16; r8++)
          u9 = [u9];
    }
    o(i10, u9, n12);
  };
}

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty.js
function t7(r7, n12) {
  return a5(r7, "read", n12);
}
function s11(r7, n12) {
  return a5(r7, "write", n12);
}
function a5(r7, n12, i10) {
  let e12 = r7 && r7.json;
  if (r7 && r7.json && r7.json.origins && i10) {
    const o12 = i10.origin && r7.json.origins[i10.origin];
    o12 && ("any" === n12 || n12 in o12) && (e12 = o12);
  }
  return e12;
}
function p6(r7) {
  const n12 = y7(r7);
  if (r7.json.origins)
    for (const e12 in r7.json.origins) {
      const t16 = r7.json.origins[e12], s15 = t16.types ? f5(t16) : n12;
      p3(s15, t16, false), t16.types && !t16.write && r7.json.write && r7.json.write.enabled && (t16.write = { ...r7.json.write }), i7(s15, t16);
    }
  p3(n12, r7.json, true), i7(n12, r7.json);
}
function y7(r7) {
  return r7.json.types ? u5(r7.json) : r7.type ? j5(r7) : u5(r7);
}
function f5(r7) {
  return r7.type ? j5(r7) : u5(r7);
}
function j5(n12) {
  if (!n12.type)
    return;
  let i10 = 0, e12 = n12.type;
  for (; Array.isArray(e12) && !k(e12); )
    e12 = e12[0], i10++;
  return { type: e12, ndimArray: i10 };
}
function u5(r7) {
  if (!r7.types)
    return;
  let n12 = 0, i10 = r7.types;
  for (; Array.isArray(i10); )
    i10 = i10[0], n12++;
  return { types: i10, ndimArray: n12 };
}
function c6(r7) {
  e7(r7) && (n4(r7), p6(r7));
}

// node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var s12 = /* @__PURE__ */ new Set();
var i8 = /* @__PURE__ */ new Set();
function n6(e12) {
  return (r7) => {
    r7.prototype.declaredClass = e12, c7(r7);
    const o12 = [], n12 = [];
    let a8 = r7.prototype;
    for (; a8; )
      a8.hasOwnProperty("initialize") && !s12.has(a8.initialize) && (s12.add(a8.initialize), o12.push(a8.initialize)), a8.hasOwnProperty("destroy") && !i8.has(a8.destroy) && (i8.add(a8.destroy), n12.push(a8.destroy)), a8 = Object.getPrototypeOf(a8);
    s12.clear(), i8.clear();
    class l10 extends r7 {
      constructor(...e13) {
        if (super(...e13), this.constructor === l10 && "function" == typeof this.postscript) {
          if (o12.length && Object.defineProperty(this, "initialize", { enumerable: false, configurable: true, value() {
            for (let e14 = o12.length - 1; e14 >= 0; e14--)
              o12[e14].call(this);
          } }), n12.length) {
            let e14 = false;
            Object.defineProperty(this, "destroy", { enumerable: false, configurable: true, value() {
              if (!e14) {
                e14 = true;
                for (let e15 = 0; e15 < n12.length; e15++)
                  n12[e15].call(this);
              }
            } });
          }
          this.postscript(...e13);
        }
      }
    }
    return l10.__accessorMetadata__ = n2(r7.prototype), l10.prototype.declaredClass = e12, l10;
  };
}
function a6(e12, t16) {
  return null == t16.get ? function() {
    const t17 = this.__accessor__.properties.get(e12);
    if (void 0 === t17)
      return;
    s9(t17);
    const o12 = this.__accessor__.store;
    return o12.has(e12) ? o12.get(e12) : t17.metadata.value;
  } : function() {
    const t17 = this.__accessor__.properties.get(e12);
    if (void 0 !== t17)
      return t17.getComputed();
  };
}
function c7(r7) {
  const s15 = r7.prototype, i10 = n2(s15).properties, n12 = {};
  for (const t16 of Object.getOwnPropertyNames(i10)) {
    const r8 = i10[t16];
    c6(r8), n12[t16] = { enumerable: true, configurable: true, get: a6(t16, r8), set(o12) {
      const s16 = this.__accessor__;
      if (void 0 !== s16) {
        if (!Object.isFrozen(this)) {
          if (s16.initialized && r8.readOnly)
            throw new TypeError(`[accessor] cannot assign to read-only property '${t16}' of ${this.declaredClass}`);
          if (s16.lifecycle === I.CONSTRUCTED && r8.constructOnly)
            throw new TypeError(`[accessor] cannot assign to construct-only property '${t16}' of ${this.declaredClass}`);
          s16.set(t16, o12);
        }
      } else
        Object.defineProperty(this, t16, { enumerable: true, configurable: true, writable: true, value: o12 });
    } };
  }
  Object.defineProperties(r7.prototype, n12);
}

// node_modules/@arcgis/core/core/iteratorUtils.js
function n7(n12) {
  const o12 = [];
  return function* () {
    yield* o12;
    for (const t16 of n12)
      o12.push(t16), yield t16;
  };
}
function o9(n12, o12) {
  for (const t16 of n12)
    if (null != t16 && o12(t16))
      return t16;
}
function t8(n12) {
  return null != n12 && "function" == typeof n12[Symbol.iterator];
}

// node_modules/@arcgis/core/core/Handles.js
var t9 = class {
  constructor() {
    this._groups = /* @__PURE__ */ new Map();
  }
  destroy() {
    this.removeAll();
  }
  get size() {
    let r7 = 0;
    return this._groups.forEach((e12) => {
      r7 += e12.length;
    }), r7;
  }
  add(e12, t16) {
    if (t8(e12)) {
      const r7 = this._getOrCreateGroup(t16);
      for (const t17 of e12)
        this._isHandle(t17) && r7.push(t17);
    } else if (this._isHandle(e12)) {
      this._getOrCreateGroup(t16).push(e12);
    }
    return this;
  }
  forEach(r7, e12) {
    if ("function" == typeof r7)
      this._groups.forEach((e13) => e13.forEach(r7));
    else {
      const t16 = this._getGroup(r7);
      t16 && e12 && t16.forEach(e12);
    }
  }
  has(r7) {
    return this._groups.has(this._ensureGroupKey(r7));
  }
  remove(e12) {
    if ("string" != typeof e12 && t8(e12)) {
      for (const r7 of e12)
        this.remove(r7);
      return this;
    }
    return this.has(e12) ? (this._removeAllFromGroup(this._getGroup(e12)), this._groups.delete(this._ensureGroupKey(e12)), this) : this;
  }
  removeAll() {
    return this._groups.forEach((r7) => this._removeAllFromGroup(r7)), this._groups.clear(), this;
  }
  _isHandle(r7) {
    return r7 && !!r7.remove;
  }
  _getOrCreateGroup(r7) {
    if (this.has(r7))
      return this._getGroup(r7);
    const e12 = [];
    return this._groups.set(this._ensureGroupKey(r7), e12), e12;
  }
  _getGroup(r7) {
    return x(this._groups.get(this._ensureGroupKey(r7)));
  }
  _ensureGroupKey(r7) {
    return r7 || "_default_";
  }
  _removeAllFromGroup(r7) {
    r7.forEach((r8) => r8.remove());
  }
};

// node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js
var r5;
!function(e12) {
  e12[e12.DEFAULTS = 0] = "DEFAULTS", e12[e12.COMPUTED = 1] = "COMPUTED", e12[e12.SERVICE = 2] = "SERVICE", e12[e12.PORTAL_ITEM = 3] = "PORTAL_ITEM", e12[e12.WEB_SCENE = 4] = "WEB_SCENE", e12[e12.WEB_MAP = 5] = "WEB_MAP", e12[e12.USER = 6] = "USER";
}(r5 || (r5 = {}));
var E = r5.USER + 1;
function t10(e12) {
  switch (e12) {
    case "defaults":
      return r5.DEFAULTS;
    case "service":
      return r5.SERVICE;
    case "portal-item":
      return r5.PORTAL_ITEM;
    case "web-scene":
      return r5.WEB_SCENE;
    case "web-map":
      return r5.WEB_MAP;
    case "user":
      return r5.USER;
    default:
      return null;
  }
}
function n8(E2) {
  switch (E2) {
    case r5.DEFAULTS:
      return "defaults";
    case r5.SERVICE:
      return "service";
    case r5.PORTAL_ITEM:
      return "portal-item";
    case r5.WEB_SCENE:
      return "web-scene";
    case r5.WEB_MAP:
      return "web-map";
    case r5.USER:
      return "user";
  }
  return x(void 0);
}
function c8(e12) {
  return n8(e12);
}

// node_modules/@arcgis/core/core/PerformanceSampler.js
var e8 = class {
  constructor(s15, e12 = 30) {
    this.name = s15, this._counter = 0, this._samples = new Array(e12);
  }
  record(e12) {
    r(e12) && (this._samples[++this._counter % this._samples.length] = e12);
  }
  get median() {
    return this._samples.slice().sort((s15, e12) => s15 - e12)[Math.floor(this._samples.length / 2)];
  }
  get average() {
    return this._samples.reduce((s15, e12) => s15 + e12, 0) / this._samples.length;
  }
  get last() {
    return this._samples[this._counter % this._samples.length];
  }
};

// node_modules/@arcgis/core/core/HeapSort.js
var o10;
!function(o12) {
  const t16 = (o13, t17, n13, e13) => {
    let i11 = t17, c11 = t17;
    const l10 = n13 >>> 1, r7 = o13[i11 - 1];
    for (; c11 <= l10; ) {
      c11 = i11 << 1, c11 < n13 && e13(o13[c11 - 1], o13[c11]) < 0 && ++c11;
      const t18 = o13[c11 - 1];
      if (e13(t18, r7) <= 0)
        break;
      o13[i11 - 1] = t18, i11 = c11;
    }
    o13[i11 - 1] = r7;
  }, n12 = (o13, t17) => o13 < t17 ? -1 : o13 > t17 ? 1 : 0;
  function e12(o13, e13, i11, c11) {
    void 0 === e13 && (e13 = 0), void 0 === i11 && (i11 = o13.length), void 0 === c11 && (c11 = n12);
    for (let n13 = i11 >>> 1; n13 > e13; n13--)
      t16(o13, n13, i11, c11);
    const l10 = e13 + 1;
    for (let n13 = i11 - 1; n13 > e13; n13--) {
      const i12 = o13[e13];
      o13[e13] = o13[n13], o13[n13] = i12, t16(o13, l10, n13, c11);
    }
  }
  function* i10(o13, e13, i11, c11) {
    void 0 === e13 && (e13 = 0), void 0 === i11 && (i11 = o13.length), void 0 === c11 && (c11 = n12);
    for (let n13 = i11 >>> 1; n13 > e13; n13--)
      t16(o13, n13, i11, c11), yield;
    const l10 = e13 + 1;
    for (let n13 = i11 - 1; n13 > e13; n13--) {
      const i12 = o13[e13];
      o13[e13] = o13[n13], o13[n13] = i12, t16(o13, l10, n13, c11), yield;
    }
  }
  o12.sort = e12, o12.iterableSort = i10;
}(o10 || (o10 = {}));
var t11 = o10;

// node_modules/@arcgis/core/core/PooledArray.js
var a7 = 1.5;
var e9 = 1.1;
var l5 = class {
  constructor(h5) {
    this.data = [], this._length = 0, this._allocator = void 0, this._deallocator = () => null, this._shrink = () => {
    }, this._hint = new x2(), h5 && (h5.initialSize && (this.data = new Array(h5.initialSize)), h5.allocator && (this._allocator = h5.allocator), void 0 !== h5.deallocator && (this._deallocator = h5.deallocator), h5.shrink && (this._shrink = () => n9(this)));
  }
  toArray() {
    return this.data.slice(0, this.length);
  }
  filter(t16) {
    const h5 = new Array();
    for (let i10 = 0; i10 < this._length; i10++) {
      const s15 = this.data[i10];
      t16(s15) && h5.push(s15);
    }
    return h5;
  }
  getItemAt(t16) {
    if (!(t16 < 0 || t16 >= this._length))
      return this.data[t16];
  }
  includes(t16, h5) {
    const i10 = this.data.indexOf(t16, h5);
    return -1 !== i10 && i10 < this.length;
  }
  get length() {
    return this._length;
  }
  set length(t16) {
    if (t16 > this._length) {
      if (this._allocator) {
        for (; this._length < t16; )
          this.data[this._length++] = this._allocator(this.data[this._length]);
        return;
      }
      this._length = t16;
    } else {
      if (this._deallocator)
        for (let h5 = t16; h5 < this._length; ++h5)
          this.data[h5] = this._deallocator(this.data[h5]);
      this._length = t16, this._shrink();
    }
  }
  clear() {
    this.length = 0;
  }
  prune() {
    this.clear(), this.data = [];
  }
  push(t16) {
    this.data[this._length++] = t16;
  }
  pushArray(t16, h5 = t16.length) {
    for (let i10 = 0; i10 < h5; i10++)
      this.data[this._length++] = t16[i10];
  }
  fill(t16, h5) {
    for (let i10 = 0; i10 < h5; i10++)
      this.data[this._length++] = t16;
  }
  pushNew() {
    this._allocator && (this.data[this.length] = this._allocator(this.data[this.length]));
    const t16 = this.data[this._length];
    return ++this._length, t16;
  }
  unshift(t16) {
    this.data.unshift(t16), this._length++, n9(this);
  }
  pop() {
    if (0 === this.length)
      return;
    const t16 = this.data[this.length - 1];
    return this.length = this.length - 1, this._shrink(), t16;
  }
  remove(t16) {
    const i10 = b(this.data, t16, this.length, this._hint);
    if (-1 !== i10)
      return this.data.splice(i10, 1), this.length = this.length - 1, t16;
  }
  removeUnordered(t16) {
    return this.removeUnorderedIndex(b(this.data, t16, this.length, this._hint));
  }
  removeUnorderedIndex(t16) {
    if (!(t16 >= this.length || t16 < 0))
      return this.swapElements(t16, this.length - 1), this.pop();
  }
  removeUnorderedMany(t16, h5 = t16.length, s15) {
    this.length = j(this.data, t16, this.length, h5, this._hint, s15), this._shrink();
  }
  front() {
    if (0 !== this.length)
      return this.data[0];
  }
  back() {
    if (0 !== this.length)
      return this.data[this.length - 1];
  }
  swapElements(t16, h5) {
    if (t16 >= this.length || h5 >= this.length || t16 === h5)
      return;
    const i10 = this.data[t16];
    this.data[t16] = this.data[h5], this.data[h5] = i10;
  }
  sort(t16) {
    t11.sort(this.data, 0, this.length, t16);
  }
  iterableSort(t16) {
    return t11.iterableSort(this.data, 0, this.length, t16);
  }
  some(t16, h5) {
    for (let i10 = 0; i10 < this.length; ++i10)
      if (t16.call(h5, this.data[i10], i10, this.data))
        return true;
    return false;
  }
  filterInPlace(t16, h5) {
    let i10 = 0;
    for (let s15 = 0; s15 < this._length; ++s15) {
      const a8 = this.data[s15];
      t16.call(h5, a8, s15, this.data) && (this.data[s15] = this.data[i10], this.data[i10] = a8, i10++);
    }
    if (this._deallocator)
      for (let s15 = i10; s15 < this._length; s15++)
        this.data[s15] = this._deallocator(this.data[s15]);
    return this._length = i10, this._shrink(), this;
  }
  forAll(t16, h5) {
    const i10 = this.length, s15 = this.data;
    for (let a8 = 0; a8 < i10; ++a8)
      t16.call(h5, s15[a8], a8, s15);
  }
  forEach(t16, h5) {
    for (let i10 = 0; i10 < this.length; ++i10)
      t16.call(h5, this.data[i10], i10, this.data);
  }
  map(t16, h5) {
    const i10 = new Array(this.length);
    for (let s15 = 0; s15 < this.length; ++s15)
      i10[s15] = t16.call(h5, this.data[s15], s15, this.data);
    return i10;
  }
  reduce(t16, h5) {
    let i10 = h5;
    for (let s15 = 0; s15 < this.length; ++s15)
      i10 = t16(i10, this.data[s15], s15, this.data);
    return i10;
  }
  has(t16) {
    const h5 = this.length, i10 = this.data;
    for (let s15 = 0; s15 < h5; ++s15)
      if (i10[s15] === t16)
        return true;
    return false;
  }
};
function n9(t16) {
  t16.data.length > a7 * t16.length && (t16.data.length = Math.floor(t16.length * e9));
}

// node_modules/@arcgis/core/core/time.js
function n10(n12) {
  return n12;
}
function t12(n12) {
  return n12;
}
function u6(n12) {
  return t12(1e-3 * n12);
}

// node_modules/@arcgis/core/core/scheduling.js
var c9 = class {
  constructor(e12) {
    this.phases = e12, this.paused = false, this.ticks = -1, this.removed = false;
  }
};
var m4 = class {
  constructor(e12) {
    this.callback = e12, this.isActive = true;
  }
  remove() {
    this.isActive = false;
  }
};
var l6 = 0;
var p7 = 0;
var u7 = { time: n10(0), deltaTime: n10(0), elapsedFrameTime: n10(0), frameDuration: n10(0) };
var f6 = ["prepare", "preRender", "render", "postRender", "update", "finish"];
var h3 = [];
var d5 = new l5();
var w3 = class {
  constructor(e12) {
    this._task = e12;
  }
  remove() {
    this._task.removed = true;
  }
  pause() {
    this._task.paused = true;
  }
  resume() {
    this._task.paused = false;
  }
};
var k3 = { frameTasks: d5, willDispatch: false, clearFrameTasks: j6, dispatch: b3, executeFrameTasks: D2 };
function v2(e12) {
  const r7 = new m4(e12);
  return h3.push(r7), k3.willDispatch || (k3.willDispatch = true, t3(b3)), r7;
}
function A2(e12) {
  const t16 = new c9(e12);
  return d5.push(t16), null == T && (l6 = performance.now(), T = requestAnimationFrame(x3)), new w3(t16);
}
var T = null;
function j6(e12 = false) {
  d5.forAll((e13) => {
    e13.removed = true;
  }), e12 && _3();
}
function x3() {
  const e12 = performance.now();
  T = null, T = d5.length > 0 ? requestAnimationFrame(x3) : null, k3.executeFrameTasks(e12);
}
function D2(e12) {
  const t16 = n10(e12 - l6);
  l6 = e12;
  const r7 = p7 > 0 ? p7 : 1e3 / 60, s15 = Math.max(0, t16 - r7);
  for (let o12 = 0; o12 < f6.length; o12++) {
    const n12 = performance.now(), a8 = f6[o12];
    d5.forAll((n13) => {
      var _a;
      if (n13.paused || n13.removed)
        return;
      0 === o12 && n13.ticks++;
      n13.phases[a8] && (u7.time = e12, u7.deltaTime = 0 === n13.ticks ? n10(0) : t16, u7.elapsedFrameTime = n10(performance.now() - e12), u7.frameDuration = n10(r7 - s15), (_a = n13.phases[a8]) == null ? void 0 : _a.call(n13, u7));
    }), R[o12].record(performance.now() - n12);
  }
  _3(), q.record(performance.now() - e12);
}
var g3 = new l5();
function _3() {
  d5.forAll((e12) => {
    e12.removed && g3.push(e12);
  }), d5.removeUnorderedMany(g3.data, g3.length), g3.clear();
}
function b3() {
  for (; h3.length; ) {
    const t16 = x(h3.shift());
    t16.isActive && t16.callback();
  }
  k3.willDispatch = false;
}
function y8(e12 = 1, r7) {
  const s15 = D(), i10 = () => {
    p(r7) ? s15.reject(a()) : 0 === e12 ? s15() : (--e12, t3(() => i10()));
  };
  return i10(), s15.promise;
}
var R = f6.map((e12) => new e8(e12));
var q = new e8("total");

// node_modules/@arcgis/core/core/accessorSupport/tracking/ObservationHandle.js
var s13 = class {
  constructor(r7, s15) {
    this._observers = r7, this._observer = s15;
  }
  remove() {
    C(this._observers, this._observer);
  }
};

// node_modules/@arcgis/core/core/accessorSupport/Property.js
var l7 = class {
  constructor(s15, t16, e12) {
    this.properties = s15, this.propertyName = t16, this.metadata = e12, this._observers = null, this._accessed = null, this._handles = null, this.flags = i5.Dirty | (e12.nonNullable ? i5.NonNullable : 0) | (e12.hasOwnProperty("value") ? i5.HasDefaultValue : 0) | (void 0 === e12.get ? i5.DepTrackingInitialized : 0) | (void 0 === e12.dependsOn ? i5.AutoTracked : 0);
  }
  destroy() {
    if (this.flags & i5.Dirty && this._observers) {
      const s15 = this._observers.slice();
      for (const t16 of s15)
        t16.onCommitted();
    }
    this._accessed = null, this._observers = null, this._clearObservationHandles();
  }
  getComputed() {
    s9(this);
    const o12 = this.properties.store, l10 = this.propertyName, a8 = this.flags, h5 = o12.get(l10);
    if (a8 & i5.Computing)
      return h5;
    if (~a8 & i5.Dirty && o12.has(l10))
      return h5;
    this.flags |= i5.Computing;
    const d8 = this.properties.host;
    let c11;
    a8 & i5.AutoTracked ? c11 = f3(this, this.metadata.get, d8) : (y5(d8, this), c11 = this.metadata.get.call(d8)), o12.set(l10, c11, r5.COMPUTED);
    const u9 = o12.get(l10);
    return u9 === h5 ? this.flags &= ~i5.Dirty : g2(this.commit, this), this.flags &= ~i5.Computing, u9;
  }
  onObservableAccessed(s15) {
    s15 !== this && (null === this._accessed && (this._accessed = []), this._accessed.includes(s15) || this._accessed.push(s15));
  }
  onTrackingEnd() {
    this._clearObservationHandles(), this.flags |= i5.DepTrackingInitialized;
    const s15 = this._accessed;
    if (null === s15)
      return;
    let t16 = this._handles;
    null === t16 && (t16 = this._handles = []);
    for (let e12 = 0; e12 < s15.length; ++e12)
      t16.push(s15[e12].observe(this));
    s15.length = 0;
  }
  observe(s15) {
    return null === this._observers && (this._observers = []), this._observers.includes(s15) || this._observers.push(s15), new s13(this._observers, s15);
  }
  notifyChange() {
    this.onInvalidated(), this.onCommitted();
  }
  invalidate() {
    this.onInvalidated();
  }
  onInvalidated() {
    ~this.flags & i5.Overriden && (this.flags |= i5.Dirty);
    const s15 = this._observers;
    if (null !== s15)
      for (let t16 = 0; t16 < s15.length; ++t16)
        s15[t16].onInvalidated();
  }
  commit() {
    this.flags &= ~i5.Dirty, this.onCommitted();
  }
  onCommitted() {
    if (null === this._observers)
      return;
    const s15 = this._observers.slice();
    for (let t16 = 0; t16 < s15.length; ++t16)
      s15[t16].onCommitted();
  }
  _clearObservationHandles() {
    const s15 = this._handles;
    if (null !== s15) {
      for (let t16 = 0; t16 < s15.length; ++t16)
        s15[t16].remove();
      s15.length = 0;
    }
  }
};

// node_modules/@arcgis/core/core/accessorSupport/Store.js
var t13 = class {
  constructor() {
    this._values = /* @__PURE__ */ new Map(), this.multipleOriginsSupported = false;
  }
  clone(s15) {
    const r7 = new t13();
    return this._values.forEach((t16, i10) => {
      s15 && s15.has(i10) || r7.set(i10, y(t16));
    }), r7;
  }
  get(e12) {
    return this._values.get(e12);
  }
  originOf() {
    return r5.USER;
  }
  keys() {
    return [...this._values.keys()];
  }
  set(e12, s15) {
    this._values.set(e12, s15);
  }
  delete(e12) {
    this._values.delete(e12);
  }
  has(e12) {
    return this._values.has(e12);
  }
  forEach(e12) {
    this._values.forEach(e12);
  }
};

// node_modules/@arcgis/core/core/accessorSupport/Properties.js
function g4(t16, e12, s15) {
  return void 0 !== t16;
}
function d6(t16, e12, s15, r7) {
  return void 0 !== t16 && (!(null == s15 && t16.flags & i5.NonNullable) || (r7.lifecycle, I.INITIALIZING, false));
}
function m5(t16) {
  return t16 && "function" == typeof t16.destroy;
}
s2.getLogger("esri.core.accessorSupport.Properties");
var v3 = class {
  constructor(t16) {
    this.host = t16, this.properties = /* @__PURE__ */ new Map(), this.ctorArgs = null, this.destroyed = false, this.lifecycle = I.INITIALIZING, this.store = new t13(), this._origin = r5.USER;
    const e12 = this.host.constructor.__accessorMetadata__, s15 = e12.properties;
    for (const i10 in s15) {
      const t17 = new l7(this, i10, s15[i10]);
      this.properties.set(i10, t17);
    }
    this.metadatas = s15, this._autoDestroy = e12.autoDestroy;
  }
  initialize() {
    this.lifecycle = I.CONSTRUCTING;
  }
  constructed() {
    this.lifecycle = I.CONSTRUCTED;
  }
  destroy() {
    if (this.destroyed = true, this._autoDestroy)
      for (const [t16, e12] of this.properties) {
        const s15 = this.internalGet(t16);
        s15 && m5(s15) && (s15.destroy(), ~e12.flags & i5.NonNullable && this._internalSet(e12, null)), e12.destroy();
      }
    else
      for (const [t16, e12] of this.properties)
        e12.destroy();
  }
  get initialized() {
    return this.lifecycle !== I.INITIALIZING;
  }
  get(t16) {
    const e12 = this.properties.get(t16);
    if (e12.metadata.get)
      return e12.getComputed();
    s9(e12);
    const s15 = this.store;
    return s15.has(t16) ? s15.get(t16) : e12.metadata.value;
  }
  originOf(t16) {
    const e12 = this.store.originOf(t16);
    if (void 0 === e12) {
      const e13 = this.properties.get(t16);
      if (void 0 !== e13 && e13.flags & i5.HasDefaultValue)
        return "defaults";
    }
    return n8(e12);
  }
  has(t16) {
    return !!this.properties.has(t16) && this.store.has(t16);
  }
  keys() {
    return [...this.properties.keys()];
  }
  internalGet(t16) {
    const e12 = this.properties.get(t16);
    if (g4(e12))
      return this.store.has(t16) ? this.store.get(t16) : e12.metadata.value;
  }
  internalSet(t16, e12) {
    const s15 = this.properties.get(t16);
    g4(s15) && this._internalSet(s15, e12);
  }
  getDependsInfo(t16, e12, s15) {
    const i10 = this.properties.get(e12);
    if (!g4(i10))
      return "";
    const o12 = /* @__PURE__ */ new Set(), n12 = f3({ onObservableAccessed: (t17) => o12.add(t17), onTrackingEnd: () => {
    } }, () => {
      var _a;
      return (_a = i10.metadata.get) == null ? void 0 : _a.call(t16);
    });
    let a8 = `${s15}${t16.declaredClass.split(".").pop()}.${e12}: ${n12}
`;
    if (0 === o12.size)
      return a8;
    s15 += "  ";
    for (const l10 of o12) {
      if (!(l10 instanceof l7))
        continue;
      const t17 = l10.properties.host, e13 = l10.propertyName, i11 = e3(t17);
      a8 += i11 ? i11.getDependsInfo(t17, e13, s15) : `${s15}${e13}: undefined
`;
    }
    return a8;
  }
  setAtOrigin(t16, e12, s15) {
    const i10 = this.properties.get(t16);
    if (g4(i10))
      return this._setAtOrigin(i10, e12, s15);
  }
  isOverridden(t16) {
    const e12 = this.properties.get(t16);
    return void 0 !== e12 && !!(e12.flags & i5.Overriden);
  }
  clearOverride(t16) {
    const e12 = this.properties.get(t16);
    void 0 !== e12 && e12.flags & i5.Overriden && (e12.flags &= ~i5.Overriden, e12.notifyChange());
  }
  override(t16, e12) {
    const s15 = this.properties.get(t16);
    if (!d6(s15, t16, e12, this))
      return;
    const i10 = s15.metadata.cast;
    if (i10) {
      const t17 = this._cast(i10, e12), { valid: s16, value: r7 } = t17;
      if (I2.release(t17), !s16)
        return;
      e12 = r7;
    }
    s15.flags |= i5.Overriden, this._internalSet(s15, e12);
  }
  set(t16, e12) {
    const s15 = this.properties.get(t16);
    if (!d6(s15, t16, e12, this))
      return;
    const i10 = s15.metadata.cast;
    if (i10) {
      const t17 = this._cast(i10, e12), { valid: s16, value: r8 } = t17;
      if (I2.release(t17), !s16)
        return;
      e12 = r8;
    }
    const r7 = s15.metadata.set;
    r7 ? r7.call(this.host, e12) : this._internalSet(s15, e12);
  }
  setDefaultOrigin(t16) {
    this._origin = t10(t16);
  }
  getDefaultOrigin() {
    return n8(this._origin);
  }
  notifyChange(t16) {
    const e12 = this.properties.get(t16);
    void 0 !== e12 && e12.notifyChange();
  }
  invalidate(t16) {
    const e12 = this.properties.get(t16);
    void 0 !== e12 && e12.invalidate();
  }
  commit(t16) {
    const e12 = this.properties.get(t16);
    void 0 !== e12 && e12.commit();
  }
  _internalSet(t16, e12) {
    const s15 = this.lifecycle !== I.INITIALIZING ? this._origin : r5.DEFAULTS;
    this._setAtOrigin(t16, e12, s15);
  }
  _setAtOrigin(e12, s15, i10) {
    const r7 = this.store, o12 = e12.propertyName;
    r7.has(o12, i10) && w(s15, r7.get(o12)) && ~e12.flags & i5.Overriden && i10 === r7.originOf(o12) || (e12.invalidate(), r7.set(o12, s15, i10), e12.commit(), m3(this.host, e12));
  }
  _cast(t16, e12) {
    const s15 = I2.acquire();
    return s15.valid = true, s15.value = e12, t16 && (s15.value = t16.call(this.host, e12, s15)), s15;
  }
};
var y9 = class {
  constructor() {
    this.value = null, this.valid = true;
  }
  acquire() {
    this.valid = true;
  }
  release() {
    this.value = null;
  }
};
var I2 = new e(y9);

// node_modules/@arcgis/core/core/ReentrantObjectPool.js
var t14 = class extends e {
  constructor() {
    super(...arguments), this._set = /* @__PURE__ */ new Set();
  }
  destroy() {
    super.destroy(), this._set = d(this._set);
  }
  acquire(...e12) {
    const s15 = super.acquire(...e12);
    return this._set.delete(s15), s15;
  }
  release(e12) {
    e12 && !this._set.has(e12) && (super.release(e12), this._set.add(e12));
  }
  _dispose(e12) {
    this._set.delete(e12), super._dispose(e12);
  }
};

// node_modules/@arcgis/core/core/SetUtils.js
function n11(r7, n12) {
  for (const o12 of r7.entries())
    if (n12(o12[0]))
      return true;
  return false;
}

// node_modules/@arcgis/core/core/uid.js
var t15 = 0;
function e10() {
  return ++t15;
}

// node_modules/@arcgis/core/core/accessorSupport/tracking/SimpleTrackingTarget.js
var s14 = class {
  constructor(s15) {
    this._notify = s15, this._accessed = [], this._handles = [], this._invalidCount = 0;
  }
  destroy() {
    this._accessed.length = 0, this.clear();
  }
  onInvalidated() {
    this._invalidCount++;
  }
  onCommitted() {
    const s15 = this._invalidCount;
    if (1 === s15)
      return this._invalidCount = 0, void this._notify();
    this._invalidCount = s15 > 0 ? s15 - 1 : 0;
  }
  onObservableAccessed(s15) {
    this._accessed.includes(s15) || this._accessed.push(s15);
  }
  onTrackingEnd() {
    const s15 = this._handles, t16 = this._accessed;
    for (let e12 = 0; e12 < t16.length; ++e12)
      s15.push(t16[e12].observe(this));
    t16.length = 0;
  }
  clear() {
    const s15 = this._handles;
    for (let t16 = 0; t16 < s15.length; ++t16)
      s15[t16].remove();
    s15.length = 0;
  }
};

// node_modules/@arcgis/core/core/accessorSupport/trackingUtils.js
var r6 = false;
var e11 = [];
function o11(e12, o12) {
  let u9 = new s14(s15), l10 = null, f9 = false;
  function s15() {
    if (!u9 || f9)
      return;
    if (r6)
      return void i9(s15);
    const t16 = l10;
    u9.clear(), r6 = true, f9 = true, l10 = f3(u9, e12), f9 = false, r6 = false, o12(l10, t16), c10();
  }
  function m8() {
    u9 && (u9.destroy(), u9 = null, l10 = null);
  }
  return f9 = true, l10 = f3(u9, e12), f9 = false, { remove: m8 };
}
function u8(r7, e12) {
  let o12 = new s14(l10), u9 = null;
  function l10() {
    e12(u9, c11);
  }
  function i10() {
    o12 && (o12.destroy(), o12 = null), u9 = null;
  }
  function c11() {
    return o12 ? (o12.clear(), u9 = f3(o12, r7), u9) : null;
  }
  return c11(), { remove: i10 };
}
function l8(e12) {
  let o12 = new s14(l10), u9 = false;
  function l10() {
    o12 && !u9 && (r6 ? i9(l10) : (o12.clear(), r6 = true, u9 = true, f3(o12, e12), u9 = false, r6 = false, c10()));
  }
  function f9() {
    o12 && (o12.destroy(), o12 = null);
  }
  return u9 = true, f3(o12, e12), u9 = false, { remove: f9 };
}
function i9(n12) {
  e11.includes(n12) || e11.unshift(n12);
}
function c10() {
  for (; e11.length; )
    e11.pop()();
}

// node_modules/@arcgis/core/core/accessorSupport/watch.js
var h4;
!function(e12) {
  e12[e12.Untracked = 0] = "Untracked", e12[e12.Tracked = 1] = "Tracked";
}(h4 || (h4 = {}));
var f7 = class {
  constructor() {
    this.uid = e10(), this.removed = false, this.type = null, this.oldValue = null, this.callback = null, this.getValue = null, this.target = null, this.path = null, this.equals = null;
  }
  static acquireUntracked(e12, r7, o12, l10, n12) {
    return this.pool.acquire(h4.Untracked, e12, r7, o12, l10, n12, w);
  }
  static acquireTracked(e12, t16, r7, o12) {
    return this.pool.acquire(h4.Tracked, e12, t16, r7, null, null, o12);
  }
  notify(e12, t16) {
    this.type === h4.Untracked ? this.callback.call(this.target, e12, t16, this.path, this.target) : this.callback.call(null, e12, t16);
  }
  acquire(e12, t16, r7, o12, l10, n12, s15) {
    this.uid = e10(), this.removed = false, this.type = e12, this.oldValue = t16, this.callback = r7, this.getValue = o12, this.target = l10, this.path = n12, this.equals = s15;
  }
  release() {
    this.target = this.path = this.oldValue = this.callback = this.getValue = null, this.uid = e10(), this.removed = true;
  }
};
f7.pool = new t14(f7);
var m6 = new t2();
var p8 = /* @__PURE__ */ new Set();
var v4;
function k4(e12) {
  p8.delete(e12), p8.add(e12), v4 || (v4 = v2(q2));
}
function _4(e12) {
  if (e12.removed)
    return;
  const t16 = e12.oldValue, r7 = e12.getValue();
  e12.equals(t16, r7) || (e12.oldValue = r7, e12.notify(r7, t16));
}
function g5(e12) {
  for (const t16 of p8.values())
    t16.target === e12 && (t16.removed = true);
}
function q2() {
  let e12 = 10;
  for (; v4 && e12--; ) {
    v4 = null;
    const e13 = j7(), t16 = m6.acquire();
    for (const r7 of e13) {
      const e14 = r7.uid;
      _4(r7), e14 === r7.uid && r7.removed && t16.push(r7);
    }
    for (const r7 of p8)
      r7.removed && (t16.push(r7), p8.delete(r7));
    for (const r7 of t16)
      f7.pool.release(r7);
    m6.release(t16), m6.release(e13), V.forEach((e14) => e14());
  }
}
function j7() {
  const e12 = m6.acquire();
  e12.length = p8.size;
  let t16 = 0;
  for (const r7 of p8)
    e12[t16] = r7, ++t16;
  return p8.clear(), e12;
}
var V = /* @__PURE__ */ new Set();
function y10(e12) {
  return V.add(e12), { remove() {
    V.delete(e12);
  } };
}
function U(e12, t16, r7) {
  let o12 = y2(e12, t16, r7, (e13, t17, r8) => {
    let l10, n12, i10 = u8(() => u(e13, t17), (i11, s15) => {
      e13.__accessor__.destroyed || l10 && l10.uid !== n12 ? o12.remove() : (l10 || (l10 = f7.acquireUntracked(i11, r8, s15, e13, t17), n12 = l10.uid), k4(l10));
    });
    return { remove: h(() => {
      i10.remove(), l10 && (l10.uid !== n12 || l10.removed || (l10.removed = true, k4(l10)), l10 = null), o12 = i10 = null;
    }) };
  });
  return o12;
}
function b4(e12, r7, o12) {
  const l10 = y2(e12, r7, o12, (e13, r8, o13) => {
    let n12 = false;
    return o11(() => u(e13, r8), (i10, s15) => {
      e13.__accessor__.destroyed ? l10.remove() : n12 || (n12 = true, w(s15, i10) || o13.call(e13, i10, s15, r8, e13), n12 = false);
    });
  });
  return l10;
}
function T2(e12, t16, r7, o12 = false) {
  return !e12.__accessor__ || e12.__accessor__.destroyed ? { remove() {
  } } : o12 ? b4(e12, t16, r7) : U(e12, t16, r7);
}
function w4(e12, t16, r7) {
  let o12, l10, n12 = u8(e12, (e13, i10) => {
    o12 && o12.uid !== l10 ? n12.remove() : (o12 || (o12 = f7.acquireTracked(e13, t16, i10, r7), l10 = o12.uid), k4(o12));
  });
  return { remove: h(() => {
    n12.remove(), o12 && (o12.uid !== l10 || o12.removed || (o12.removed = true, k4(o12)), o12 = null), n12 = null;
  }) };
}
function S2(e12, t16, r7) {
  let o12 = false;
  return o11(e12, (e13, l10) => {
    o12 || (o12 = true, r7(l10, e13) || t16(e13, l10), o12 = false);
  });
}
function P(e12, t16, o12 = false, l10 = N) {
  return o12 ? S2(e12, t16, l10) : w4(e12, t16, l10);
}
function x4(e12) {
  return n11(p8, (t16) => t16.oldValue === e12);
}

// node_modules/@arcgis/core/core/Accessor.js
var l9;
var p9;
function d7(t16) {
  var _a;
  if (null == t16)
    return { value: t16 };
  if (Array.isArray(t16))
    return { type: [t16[0]], value: null };
  switch (typeof t16) {
    case "object":
      return ((_a = t16.constructor) == null ? void 0 : _a.__accessorMetadata__) || t16 instanceof Date ? { type: t16.constructor, value: t16 } : t16;
    case "boolean":
      return { type: Boolean, value: t16 };
    case "string":
      return { type: String, value: t16 };
    case "number":
      return { type: Number, value: t16 };
    case "function":
      return { type: t16, value: null };
    default:
      return;
  }
}
var y11 = Symbol("Accessor-Handles");
var f8 = Symbol("Accessor-Initialized");
var m7 = class {
  constructor(...t16) {
    if (this[l9] = null, this[p9] = false, this.constructor === m7)
      throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
    Object.defineProperty(this, "__accessor__", { enumerable: false, value: new v3(this) }), t16.length > 0 && this.normalizeCtorArgs && (this.__accessor__.ctorArgs = this.normalizeCtorArgs.apply(this, t16));
  }
  static createSubclass(t16 = {}) {
    if (Array.isArray(t16))
      throw new Error("Multi-inheritance unsupported since 4.16");
    const { properties: r7, declaredClass: e12, constructor: s15 } = t16;
    delete t16.declaredClass, delete t16.properties, delete t16.constructor;
    const o12 = this;
    class c11 extends o12 {
      constructor(...t17) {
        super(...t17), this.inherited = null, s15 && s15.apply(this, t17);
      }
    }
    n2(c11.prototype);
    for (const i10 in t16) {
      const r8 = t16[i10];
      c11.prototype[i10] = "function" == typeof r8 ? function(...t17) {
        const e13 = this.inherited;
        let s16;
        this.inherited = function(...t18) {
          if (o12.prototype[i10])
            return o12.prototype[i10].apply(this, t18);
        };
        try {
          s16 = r8.apply(this, t17);
        } catch (c12) {
          throw this.inherited = e13, c12;
        }
        return this.inherited = e13, s16;
      } : t16[i10];
    }
    for (const i10 in r7) {
      const t17 = d7(r7[i10]);
      y3(t17)(c11.prototype, i10);
    }
    return n6(e12)(c11);
  }
  postscript(t16) {
    const r7 = this.__accessor__, e12 = r7.ctorArgs || t16;
    r7.initialize(), e12 && (this.set(e12), r7.ctorArgs = null), r7.constructed(), this.initialize(), this[f8] = true;
  }
  initialize() {
  }
  destroy() {
    this.destroyed || (this[y11] = s(this[y11]), g5(this), this.__accessor__.destroy());
  }
  get constructed() {
    return this.__accessor__ && this.__accessor__.initialized || false;
  }
  get initialized() {
    return this[f8];
  }
  get destroyed() {
    return this.__accessor__ && this.__accessor__.destroyed || false;
  }
  commitProperty(t16) {
    this.get(t16);
  }
  get(t16) {
    return o4(this, t16);
  }
  hasOwnProperty(t16) {
    return this.__accessor__ ? this.__accessor__.has(t16) : Object.prototype.hasOwnProperty.call(this, t16);
  }
  keys() {
    return this.__accessor__ ? this.__accessor__.keys() : [];
  }
  set(t16, r7) {
    return t5(this, t16, r7), this;
  }
  watch(t16, r7, e12) {
    return T2(this, t16, r7, e12);
  }
  own(t16) {
    this.addHandles(t16);
  }
  addHandles(r7, s15) {
    let o12 = this[y11];
    t(o12) && (o12 = this[y11] = new t9()), o12.add(r7, s15);
  }
  removeHandles(t16) {
    const r7 = this[y11];
    t(r7) || r7.remove(t16);
  }
  hasHandles(t16) {
    const r7 = this[y11];
    return !!r(r7) && r7.has(t16);
  }
  _override(t16, r7) {
    void 0 === r7 ? this.__accessor__.clearOverride(t16) : this.__accessor__.override(t16, r7);
  }
  _clearOverride(t16) {
    return this.__accessor__.clearOverride(t16);
  }
  _overrideIfSome(t16, r7) {
    null == r7 ? this.__accessor__.clearOverride(t16) : this.__accessor__.override(t16, r7);
  }
  _isOverridden(t16) {
    return this.__accessor__.isOverridden(t16);
  }
  notifyChange(t16) {
    this.__accessor__.notifyChange(t16);
  }
  _get(t16) {
    return this.__accessor__.internalGet(t16);
  }
  _set(t16, r7) {
    return this.__accessor__.internalSet(t16, r7), this;
  }
};
l9 = y11, p9 = f8;

export {
  e2 as e,
  r3 as r,
  n,
  o2 as o,
  t4 as t,
  e3 as e2,
  o3 as o2,
  h,
  u,
  s5 as s,
  s6 as s2,
  y3 as y,
  d2 as d,
  j3 as j,
  s9 as s3,
  f3 as f,
  t6 as t2,
  s8 as s4,
  y6 as y2,
  t7 as t3,
  s11 as s5,
  a5 as a,
  n6 as n2,
  n7 as n3,
  o9 as o3,
  t8 as t4,
  t9 as t5,
  r5 as r2,
  E,
  t10 as t6,
  n8 as n4,
  c8 as c,
  s13 as s6,
  t14 as t7,
  e8 as e3,
  l5 as l,
  n10 as n5,
  u6 as u2,
  v2 as v,
  A2 as A,
  y8 as y3,
  n11 as n6,
  e10 as e4,
  s14 as s7,
  l8 as l2,
  y10 as y4,
  P,
  x4 as x,
  m7 as m
};
//# sourceMappingURL=chunk-OOLCFNXJ.js.map
