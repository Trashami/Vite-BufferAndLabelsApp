/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
import{_ as e}from"../chunks/tslib.es6.js";import{property as s}from"../core/accessorSupport/decorators/property.js";import"../core/arrayUtils.js";import{cast as t}from"../core/accessorSupport/decorators/cast.js";import{subclass as a}from"../core/accessorSupport/decorators/subclass.js";import i from"./Widget.js";import l from"./BasemapToggle/BasemapToggleViewModel.js";import{accessibleHandler as o}from"./support/decorators/accessibleHandler.js";import{messageBundle as r}from"./support/decorators/messageBundle.js";import{tsx as n}from"./support/jsxFactory.js";import"./support/widgetUtils.js";const m={base:"esri-basemap-toggle esri-widget",secondaryBasemapImage:"esri-basemap-toggle__image--secondary",container:"esri-basemap-thumbnail esri-basemap-toggle__container",image:"esri-basemap-thumbnail__image esri-basemap-toggle__image",imageLoading:"esri-basemap-toggle__image--loading",overlay:"esri-basemap-thumbnail__overlay esri-basemap-toggle__image-overlay",title:"esri-basemap-thumbnail__title esri-basemap-toggle__title",overlayScrim:"esri-basemap-thumbnail__overlay-scrim",disabled:"esri-disabled",loaderAnimation:"esri-widget__loader-animation"};function c(e){const s=l.getThumbnailUrl(e);return s?{backgroundImage:"url("+s+")"}:{backgroundImage:""}}const p={title:!1};let g=class extends i{constructor(e,s){super(e,s),this.messages=null,this.viewModel=new l,this.visibleElements={...p}}loadDependencies(){return Promise.all([import("@esri/calcite-components/dist/components/calcite-icon.js"),import("@esri/calcite-components/dist/components/calcite-scrim.js")])}get activeBasemap(){return this.viewModel.activeBasemap}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get nextBasemap(){return this.viewModel.nextBasemap}set nextBasemap(e){this.viewModel.nextBasemap=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}castVisibleElements(e){return{...p,...e}}toggle(){return this.viewModel.toggle()}render(){const e=this.viewModel,s="disabled"===e.state?null:e.activeBasemap,t="disabled"===e.state?null:e.nextBasemap,a="loading"===e.state,i="incompatible-next-basemap"===e.state,l=t?t.title:"",o=t&&"loaded"!==t.loadStatus;let r;const p=this.visibleElements.title&&l,g=i;return(p||g)&&(r=n("div",{class:m.overlay,key:"overlay"},p?n("span",{class:m.title,title:l},l):null,g?n("calcite-scrim",{class:m.overlayScrim,title:this.messages.incompatibleSpatialReference},n("calcite-icon",{icon:"exclamation-mark-triangle"})):null)),n("div",{class:this.classes(m.base,i?m.disabled:null),role:"button","data-basemap-id":t?t.id:"",bind:this,onclick:this._toggle,onkeydown:this._toggle,tabIndex:i?-1:0,title:this.label},n("div",{class:this.classes(m.container,m.secondaryBasemapImage)},n("div",{class:m.image,styles:c(s)})),n("div",{class:m.container},n("div",{class:this.classes(m.image,o?m.imageLoading:null),styles:c(t)},o||a?n("calcite-scrim",null,n("span",{"aria-hidden":"true",role:"presentation",class:m.loaderAnimation})):null),r))}_toggle(){this.toggle()}};e([s({readOnly:!0})],g.prototype,"activeBasemap",null),e([s()],g.prototype,"label",null),e([s(),r("esri/widgets/BasemapToggle/t9n/BasemapToggle")],g.prototype,"messages",void 0),e([s()],g.prototype,"nextBasemap",null),e([s()],g.prototype,"view",null),e([s({type:l})],g.prototype,"viewModel",void 0),e([s()],g.prototype,"visibleElements",void 0),e([t("visibleElements")],g.prototype,"castVisibleElements",null),e([o()],g.prototype,"_toggle",null),g=e([a("esri.widgets.BasemapToggle")],g);const d=g;export{d as default};
