/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
import{_ as e}from"../../chunks/tslib.es6.js";import t from"../../core/Logger.js";import{isNone as o}from"../../core/maybe.js";import{property as r}from"../../core/accessorSupport/decorators/property.js";import"../../core/arrayUtils.js";import"../../core/accessorSupport/ensureType.js";import{subclass as s}from"../../core/accessorSupport/decorators/subclass.js";import p from"../../geometry/Point.js";import i from"../../geometry/Polygon.js";import{projectOrLoad as n}from"../../geometry/projection.js";import c from"./GeoreferenceBase.js";let l=class extends c{constructor(e){super(e),this.bottomLeft=null,this.bottomRight=null,this.topLeft=null,this.topRight=null,this.type="corners"}get coords(){let{topLeft:e,topRight:t,bottomLeft:r,bottomRight:s}=this;if(o(e)||o(t)||o(r)||o(s))return null;const p=e.spatialReference;return t=this._projectCorner(t,p),r=this._projectCorner(r,p),s=this._projectCorner(s,p),o(t)||o(r)||o(s)?null:new i({rings:[[[r.x,r.y],[e.x,e.y],[t.x,t.y],[s.x,s.y],[r.x,r.y]]],spatialReference:p})}_projectCorner(e,r){if(o(e))return e;const{geometry:s,pending:p}=n(e,r);return p?null:p||s?s:(t.getLogger(this.declaredClass).warn("map point could not be projected to the spatial reference",{georeference:this,point:e,sourceSpatialReference:e.spatialReference,targetSpatialReference:r}),null)}};e([r({readOnly:!0})],l.prototype,"coords",null),e([r({type:p})],l.prototype,"bottomLeft",void 0),e([r({type:p})],l.prototype,"bottomRight",void 0),e([r({type:p})],l.prototype,"topLeft",void 0),e([r({type:p})],l.prototype,"topRight",void 0),l=e([s("esri.layers.support.CornersGeoreference")],l);const a=l;export{a as default};
