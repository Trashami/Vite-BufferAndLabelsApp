/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
import{J as t}from"../../../chunks/Jpg.js";import{Z as e}from"../../../chunks/Zlib.js";class r{static decode(r,n=!1){const s=new Uint8Array(r),o=new t;o.parse(s);const{width:a,height:i,numComponents:h,eof:l}=o,f=o.getData(a,i,!0),c=a*i;let g,p=null,u=0,m=0,w=0;if(!n&&l<s.length-1)try{const t=new e(s.subarray(l)).getBytes();p=new Uint8Array(c);let r=0;for(u=0;u<t.length;u++)for(w=7;w>=0;w--)p[r++]=t[u]>>w&1}catch{}if(1===h&&f.length===a*i)g=[f,f,f];else{for(g=[],u=0;u<3;u++)g.push(new Uint8Array(c));for(w=0,m=0;m<c;m++)for(u=0;u<3;u++)g[u][m]=f[w++]}return{width:a,height:i,pixels:g,mask:p}}}export{r as default};
