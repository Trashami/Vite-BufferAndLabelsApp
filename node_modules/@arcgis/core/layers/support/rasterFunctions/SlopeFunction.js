/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
import{_ as t}from"../../../chunks/tslib.es6.js";import{isNone as e}from"../../../core/maybe.js";import{property as s}from"../../../core/accessorSupport/decorators/property.js";import"../../../core/arrayUtils.js";import"../../../core/accessorSupport/ensureType.js";import{subclass as r}from"../../../core/accessorSupport/decorators/subclass.js";import o from"./BaseRasterFunction.js";import i from"./SlopeFunctionArguments.js";import{slope as n}from"./surfaceUtils.js";let p=class extends o{constructor(){super(...arguments),this.functionName="Slope",this.functionArguments=null,this.rasterArgumentNames=["raster"],this.isGCS=!1}_bindSourceRasters(){this.outputPixelType=this._getOutputPixelType("f32");const t=this.sourceRasterInfos[0].clone();return t.pixelType=this.outputPixelType,t.statistics=null,t.histograms=null,this.rasterInfo=t,this.isGCS=t.spatialReference.isGeographic,{success:!0}}_processPixels(t){const s=t.pixelBlocks?.[0];if(e(s))return null;const{zFactor:r,slopeType:o,pixelSizePower:i,pixelSizeFactor:p}=this.functionArguments,{isGCS:c}=this,{extent:u}=t,a=u?{x:u.width/s.width,y:u.height/s.height}:{x:1,y:1};return n(s,{zFactor:r,slopeType:o,pixelSizePower:i,pixelSizeFactor:p,isGCS:c,resolution:a})}};t([s({json:{write:!0,name:"rasterFunction"}})],p.prototype,"functionName",void 0),t([s({type:i,json:{write:!0,name:"rasterFunctionArguments"}})],p.prototype,"functionArguments",void 0),t([s()],p.prototype,"rasterArgumentNames",void 0),t([s({json:{write:!0}})],p.prototype,"isGCS",void 0),p=t([r("esri.layers.support.rasterFunctions.SlopeFunction")],p);const c=p;export{c as default};
