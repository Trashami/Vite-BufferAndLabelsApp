/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
import"../../../../geometry.js";import e from"../../../../Viewpoint.js";import t from"../../ViewState.js";import r from"../../../../geometry/Point.js";const i=.125;class l{constructor(){this._renderParams={context:null,drawPhase:1,state:new t({viewpoint:new e({targetGeometry:new r(0,0),scale:1,rotation:0}),size:[256,256]}),stationary:!0,pixelRatio:1,displayLevel:-1,requiredLevel:-1,globalOpacity:1,renderPass:"background",styleLayer:null,styleLayerUID:-1,painter:null,glyphMosaic:null,spriteMosaic:null,profiler:null,renderingOptions:null,requestRender:null,allowDelayedRender:!1,deltaTime:-1,timeline:null,time:0,hasClipping:!1,blendMode:null,dataUploadCounter:0,effects:null,inFadeTransition:!1,requireFBO:!1}}dispose(){this._renderParams=null}render(e,t,r,l,a,s,n,o,p,d){const u=s.adjustLevel(t[0]),c=this._renderParams;c.context=e,c.painter=l,c.glyphMosaic=l.glyphMosaic,c.spriteMosaic=l.spriteMosaic,c.pixelRatio=d,c.displayLevel=u,c.requiredLevel=u;const m=s.getScale(t[0]),[y,g]=s.getShift(t,n*m),h=i*n*m/p,w=r.transforms.dvs;w[0]=h,w[4]=-h,w[6]=-1-y-o[0]*n*2,w[7]=1+g+(1-o[1])*n*2-2,c.state.size[0]=p,c.state.size[1]=p,r.stage||r.attachWithContext(e),r.triangleCount=0,l.drawTile(c,r,a)}}export{l as VectorTileRendererHelper3D};
