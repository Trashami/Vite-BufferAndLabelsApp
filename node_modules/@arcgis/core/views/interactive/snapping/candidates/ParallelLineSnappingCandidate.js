/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
import{b as e,a as t}from"../../../../chunks/vec3.js";import{c as i}from"../../../../chunks/vec3f64.js";import{VerticalPlaneConstraint as n}from"../SnappingConstraint.js";import{SnappingDomain as r}from"../SnappingDomain.js";import{LineSegmentHintType as s}from"../snappingUtils.js";import{SnappingCandidate as a}from"./SnappingCandidate.js";import{LineSnappingHint as f}from"../hints/LineSnappingHint.js";import{ParallelSnappingHint as o}from"../hints/ParallelSnappingHint.js";class h extends a{constructor({coordinateHelper:i,referenceLine:s,lineStart:a,targetPoint:f,elevationInfo:o}){const h=i.toXYZ(a,d),c=i.toXYZ(s.left,g),m=i.toXYZ(s.right,p);e(h,t(h,h,m),c),super(i,f,new n(i,a,i.fromXYZ(h)),o,r.SELF),this._referenceLines=[{edge:s,fadeLeft:!0,fadeRight:!0}]}get hints(){const e=this.elevationInfo;return[new f(s.TARGET,this.constraint.start,this.targetPoint,e,this.domain),new o(this.constraint.start,this.targetPoint,e,this.domain),...this._referenceLines.map((t=>new f(s.REFERENCE,t.edge.left,t.edge.right,e,this.domain,t.fadeLeft,t.fadeRight)))]}addReferenceLine(e){const t={edge:e,fadeLeft:!0,fadeRight:!0},{coordinateHelper:i}=this;this._referenceLines.forEach((n=>{i.equals(e.right,n.edge.left)&&(n.fadeLeft=!1,t.fadeRight=!1),i.equals(e.right,n.edge.right)&&(n.fadeRight=!1,t.fadeRight=!1),i.equals(e.left,n.edge.right)&&(n.fadeRight=!1,t.fadeLeft=!1),i.equals(e.left,n.edge.left)&&(n.fadeLeft=!1,t.fadeLeft=!1)})),this._referenceLines.push(t)}}const d=i(),g=i(),p=i();export{h as ParallelLineSnappingCandidate};
