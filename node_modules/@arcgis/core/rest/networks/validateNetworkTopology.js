/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
import t from"../../request.js";import{parseUrl as e,encode as o,asValidOptions as i}from"../utils.js";import r from"./support/ValidateNetworkTopologyResult.js";async function a(a,s,d){const n=e(a),l=s.toJSON();s.validationSet&&(l.validationSet=JSON.stringify(s.validationSet));const p={...l,f:"json"},u=o({...n.query,...p}),m=i(u,{...d,method:"post"}),f=`${n.path}/validateNetworkTopology`,{data:c}=await t(f,m);if(!c)return null;const v=r.fromJSON(c);return v.serviceEdits=v.serviceEdits.map((t=>({layerId:t.id,editedFeatures:t.editedFeatures}))),v}export{a as validateNetworkTopology};
